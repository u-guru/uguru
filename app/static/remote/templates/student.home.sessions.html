
<ion-view class='student-sessions'>
  <ion-header-bar class='header-bar'>
    <h5 class="title">Your Sessions</h5>
    <a class='button button-clear' ng-click="addCourseModal.show()"></a>
  </ion-header-bar>
  <ion-tabs class="tabs-stable tabs-striped tabs-top session-tabs" delegate-handle="student-home-tabs-top">
    <ion-tab title="Current" ng-show="topTabsDelegate.selectedIndex() === 0">
    </ion-tab>
    <ion-tab title="Upcoming" ng-show="topTabsDelegate.selectedIndex() === 1">
    </ion-tab>
    <!-- <ion-tab title="Completed" ng-show="topTabsDelegate.selectedIndex() === 2">
    </ion-tab> -->
  </ion-tabs>

  <ion-content class='has-subheader' ng-show='topTabsDelegate.selectedIndex() === 1' scroll="false">

    <div class='pure-g-c flex-column center full-height' ng-show='!(user.active_requests.length === 0) && !(user.incoming_requests.length === 0)'>
      <div class='container padding-1em'>
        No sessions yet! <br> Try <strong> requesting help </strong> below
      </div>
    </div>

    <div class="list" ng-show='user.active_requests.length > 0'>
      <a class="item item-avatar-right upcoming-session-card" ng-repeat='request in user.active_requests' ng-click='goToRequestStatus(request)'>
        <img ng-src="{{img_base}}./img/guru-profile.svg">
        <h2>Guru {{session.course.short_name}}</h2>
        <h4 class='pending'> PENDING </h4>
      </a>
    </div>

    <div class="list" ng-show='user.incoming_requests.length > 0'>
      <a class="item item-avatar-right upcoming-session-card" ng-repeat='request in user.incoming_requests' ng-click='goToRequestStatus(request)'>
        <img ng-src="{{img_base}}./img/guru-profile.svg">
        <h2>Guru {{session.course.short_name}}</h2>
        <h4 class='pending'> 1 Guru Available </h4>
      </a>
    </div>

  </ion-content>

  <ion-content class='has-subheader pure-g flex-column full-height' ng-show='topTabsDelegate.selectedIndex() === 0' scroll='false'>

    <ion-scroll class='pure-u-1 full-height'>
      <div class="list" ng-show='user.active_student_sessions.length > 0'>
        <a class="item item-avatar-right upcoming-session-card" ng-repeat='session in user.active_student_sessions' ng-click='goToActiveSession(session)'>
          <img ng-src="{{session.request.student.profile_url}}">
          <h2>{{session.request.student.name}} <strong>{{session.request.course.short_name}}</strong></h2>
          <h4 class='pending'> Starting Soon! </h4>
        </a>
      </div>
    </ion-scroll>

  </ion-content>

</ion-view>