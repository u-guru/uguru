<ion-view class='request-status' hide-nav-bar='true'>

  <ion-header-bar class="header-bar">
        <a class="button button-clear button-back"  nav-direction='back' href='#/home'>Back</a>
        <h5 class="title">My Sessions</h5>
  </ion-header-bar>

  <ion-content scroll="false">
    <div class='pure-g-c flex-column flex-space-between'>
      <div class='padding-1em flex-item-c j-start'>
        <a class='item pure-g row-details' ng-click='goToGuruProfile({{request.guru}})' ng-show='request.guru.name'>
          <div class='pure-u-1-5 grey-subject-text'>Guru</div>
          <div class='pure-u-4-5 item-avatar-right'>{{request.guru.name}}
              <img ng-src="{{request.guru.profile_url}}">
          </div>
        </a>

        <div class='pure-g row-details'>
          <div class='pure-u-1-5 grey-subject-text'>Class</div>
          <div class='pure-u-4-5'>{{course.short_name}}</div>
        </div>
        <div class='pure-g row-details'>
          <div class='pure-u-1-5 grey-subject-text'>Date</div>
          <div class='pure-u-4-5'>{{formatted_time_created}}</div>
        </div>
        <div class='pure-g row-details'>
          <div class='pure-u-1-5 grey-subject-text'>Time Length</div>
          <div class='pure-u-4-5'>{{formatted_time_estimated_hours}} hours, {{request.time_estimate % 60}} minutes</div>
        </div>
        <div class='pure-g row-details'>
          <div class='pure-u-1-5 grey-subject-text'>Type</div>
          <div class='pure-u-4-5'>{{formatted_request_type}}</div>
        </div>
        <div class='pure-g row-details' ng-show='request.status === 1'>
          <div class='pure-u-1-5 grey-subject-text'>Card Info</div>
          <div class='pure-u-4-5'>{{user.cards[0].card_last4}}, {{user.cards[0].card_type}}</div>
        </div>
        <div class='pure-g row-details'>
          <div class='pure-u-1-5 grey-subject-text'>Location</div>
          <div class='pure-u-4-5'>{{request.address.split(', ').slice(0,3).join(', ')}}</div>
          <!-- <div class='pure-u-1 padding-1em'>
            <div class='map-container'>
            </div>
          </div> -->
        </div>
        <div class='pure-g row-details'>
          <div class='pure-u-1-5 grey-subject-text'>Details</div>
          <div class='pure-u-4-5'>{{request.description}}</div>
        </div>
      </div>
      <div class='cancel-session-container padding-1em' ng-click="cancelRequest()" ng-show='request.status === 0'>
        <button class='button button-full button-light'> Cancel Session </button>
      </div>
      <div class='incoming-request-container pure-g' ng-show='request.status === 1'>
          <div class='pure-u-1-2'>
              <button class='button button-full button-light' ng-click='rejectGuru()'> Reject </button>
          </div>
          <div class='pure-u-1-2'>
              <button class='button button-full button-light' ng-click='acceptGuru()'> Accept
              </button>
          </div>
      </div>
    </div>
    <!-- <div class="session-progress">
      <li class="item padding-0 no-border">
        <div class="course padding-10-15" style="border-radius:0px; border-bottom:0px;">
          <div class="box-1">
            <span class="name">{{course.short_name}}</span>
            <span class="session">Request</span>
          </div>
          <div class="message">Searching for gurus</div>
          <div class="message" style="font-size:10px; color:rgba(0,0,0,0.4); text-transform:none; padding:0px; margin:-3px 0px !important;">We'll get back to you by midnight</div>
        </div>
      </li>
      <li class="item padding-10-15" style="border-radius:0px; border-bottom:0px; border-right: 1px solid rgba(0, 0, 0, 0.4);border-bottom: 1px solid rgba(0, 0, 0, 0.4);" ng-show="course.active_request.time_estimate">
        <div class="location"><span class="icon ion-ios7-clock"></span><span class="bold">Estimated Time:</span> {{convertTimeEstimate(course.active_request.time_estimate)}}</div>
      </li>
      <li class="item padding-10-15" style="border-radius:0px; border-bottom:0px; border-right: 1px solid rgba(0, 0, 0, 0.4);border-bottom: 1px solid rgba(0, 0, 0, 0.4);" ng-show="course.active_request.location">
        <div class="location"><span class="icon ion-navigate"></span><span class="bold">Location:</span> {{course.active_request.location}}</div>
      </li>
      <li class="item padding-10-15" style="border-radius:0px; border-bottom:0px; border-right: 1px solid rgba(0, 0, 0, 0.4);border-bottom: 1px solid rgba(0, 0, 0, 0.4); white-space:normal;" ng-show="course.active_request.note">
        <div class="location"><span class="icon ion-document"></span><span class="bold">Note:</span> {{course.active_request.note}}</div>
      </li>
      <button class="button button-full button-outline button-positive" ng-click="cancelRequest()">
        Cancel Request
      </button>
    </div> -->
  </ion-content>
</ion-view>