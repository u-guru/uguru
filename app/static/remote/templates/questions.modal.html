<ion-modal-view class='question-modal'>

  <ion-header-bar align-title="center" class='dark-bg-header no-background-image'>
    <div class="buttons">
      <button class="button button-clear button-header-link" ng-click='closeQuestionsModal()'>Cancel</button>
    </div>
    <h1 class="title">Got An Answer?</h1>
    <div class="buttons">
      <button class="button button-clear button-header-link submit-button" id='done-button' ng-click='postQuestionResponse()'>
        <span class='ng-class:{"grey-text":proposal.response.length === 0}'>Post</span>
      </button>
    </div>
  </ion-header-bar>

  <ion-content class='has-header' scroll='false'>

        <ion-list>

          <ion-item class='dark-bg'>

            <div class='pure-g'>
              <div class='pure-u-1-8'>
                <img class='pure-img verb-img stack_circle white-bg' style='margin-left:-0.5em' ng-src='{{img_base}}./img/icons/stacks_circled.svg' ng-show='proposal.request.student_price > 0'/>
              </div>
              <div class='pure-u-7-8'>
                <h5 class='white-text bold'>
                  {{proposal.request.course.short_name}} <span ng-show='proposal.request.student_price > 0' class='white-text opacity-1-2'> ${{proposal.request.student_price}}</span>
                </h5>
                <div class='nano-text white-text white-space-normal' style='line-height:1.5em;'>
                  {{proposal.request.description}} <span class='blue' ng-repeat="tag in proposal.request.tags">#{{tag.name}} </span>
                </div>
              </div>
            </div>
          </ion-item>

          <ion-item class='pure-u-1 item-icon-right relative description-wrapper-item nano-text' style='padding:12px;'ng-hide='progress'>
            <div class='pure-g'>
              <div class='pure-u-1'>
                <a ng-click='showAttachActionSheet()'>
                  <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon request-icon' style='top:16px; right:12px; margin:0;' src='{{img_base}}./img/icons/paperclip.svg'>
                </a>
                <textarea id='description-input'  style='padding-right:3em; font-size:1.25em;' rows="10" class='full-width' ng-model='proposal.response' placeholder='Reply as clearly & concisely as possible.'></textarea>
                <span class='character-count opacity-1-2 ng-class:{"red-text":proposal.response.length > 500}'>{{500 - proposal.response.length}}</span>
              </div>
            </div>

            <div class='pure-g full-width'>
              <div class='pure-u-1' ng-show='proposal.files && proposal.files.length > 0'>
                <div class='pure-u-1-4' ng-repeat='file in proposal.files track by $index' ng-show='true || proposal && proposal.files && proposal.files.length > 0'>
                  <div class='attach-img-wrapper padding-1em relative'>
                    <a on-hold='deleteFile($index)'>
                      <div class="attach-img" style='background-image:url("{{file.url}}")'>
                      </div>
                    </a>
                  </div>
                </div>
              </div>
            </div>


          </ion-item>

          <div class='item item-divider'>
          </div>
          <ion-item>
             <p class='white-space-normal nano-text uppercase opacity-1-2' style='font-size:0.66em !important;'><strong>{{proposal.request.files.length}} files attached</strong> (Tap to View)</p>
             <div class='pure-u-1'>
                <div class='pure-u-1-3 session-details-img-wrapper padding-right-half padding-top-half' ng-repeat='file in proposal.request.files'>
                  <img class='attach-img pure-img' src='{{file.url}}'/>
                </div>
              </div>
          </ion-item>


          </ionic-scroll>

      </ion-list>
  </ion-content>
  <input type='file' id='file-input-web' onchange="angular.element(this).scope().file_changed(this)">
</ion-modal-view>