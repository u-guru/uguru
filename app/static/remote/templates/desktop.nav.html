<nav id="top-bar" ng-controller="DesktopSettingsController"><div id="top-menu-background-overlay" class='absolute full-xy bg-charcoal ng-class:{"active":root.vars.showDesktopSettings}' ng-click="toggleDesktopSettings()"></div><!-- <div class="top-request-button"> --><div><div class='ng-class:{"active":root.vars.showDesktopSettings}'><a id="top-logo" href="#/guru-home" ng-if="root.vars.guru_mode"><svg viewBox="0 0 372 104" ng-include="img_base + BASE + 'templates/svg.icon.logo.html'"></svg> </a><a id="top-logo" class="full" ng-click="flipToEssayHome()" ng-if="!root.vars.guru_mode || root.vars.essay"><svg viewBox="0 0 372 104" ng-include="img_base + BASE + 'templates/svg.icon.logo.html'"></svg> </a><a id="top-menu-discover" class="top-tooltip ng-class:{'active': user.guru_discoverability, 'hide-tooltip':root.vars.showDesktopSettings}" ng-click="toggleDiscoverability()" ng-if="root.vars.guru_mode"><svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="36"></circle><path d="M31,52.6470588 L42.1764706,63.8235294 L69,37"></path></svg> </a><a id="cta-box-balance" ng-if="root.vars.guru_mode" class="top-tooltip cta-box ng-class:{'hide-tooltip':root.vars.showDesktopSettings}"><svg viewBox="0 0 100 100"><path d="M18,35.9241161 C18,33.7138926 19.789271,31.9221524 21.992559,31.9221524 L79.007441,31.9221524 C81.2124705,31.9221524 83,33.7135616 83,35.9241161 L83,43.9432546 C83,46.1534782 81.210729,47.9452184 79.007441,47.9452184 L21.992559,47.9452184 C19.7875295,47.9452184 18,46.1538092 18,43.9432546 L18,35.9241161 Z M74.0353197,47.9726092 C74.0353197,47.9726092 74.0353197,49.75446 74.0353197,51.967453 L74.0353197,81.9777654 C74.0353197,84.1840567 72.2453037,85.9726092 70.0404691,85.9726092 L28.9595309,85.9726092 C26.7532358,85.9726092 24.9646803,84.1907584 24.9646803,81.9777654 L24.9646803,47.9726092 M50,32.5 L50,85.5 M50.0036528,30.5727978 C49.8937891,22.9747016 52.2826875,18.9104187 54.4018461,16.1704732 C56.0986237,13.9766413 59.9416412,13.1502563 62.5358793,15.0912829 C65.1301174,17.0323095 64.6365984,20.7630907 62.5358793,23.1724961 C60.1581937,25.8995664 56.3625396,28.1647902 50.0036528,30.5727978 Z M50,30.5727978 C50.1098637,22.9747016 47.7209653,18.9104187 45.6018066,16.1704732 C43.9050291,13.9766413 40.0620115,13.1502563 37.4677734,15.0912829 C34.8735353,17.0323095 35.3670543,20.7630907 37.4677734,23.1724961 C39.8454591,25.8995664 43.6411131,28.1647902 50,30.5727978 Z M46.5,30 C46.5,30 43.9668578,27.6098322 35.4798086,25.2249928 C26.9927594,22.8401534 22.7515469,23.0023244 20.5,23.0023244 M53.5,30 C53.5,30 56.0331422,27.6098322 64.5201914,25.2249928 C73.0072406,22.8401534 77.2484531,23.0023244 79.5,23.0023244"></path></svg> </a><a ng-if="!root.vars.guru_mode && user.credits && user.credits > 0" class="mright20 weight-400" style="min-width:auto"><h1 style="font-size:30px"><span name="user-credits" class="weight-900">${{user.credits}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;</h1></a><span class="toggle" ng-if="user.id" ng-click="signupModal.show()"><input type="checkbox" checked="checked"><label><svg class="square" viewBox="0 0 100 100"><rect x="0" y="0" width="100" height="100"></rect></svg> <svg class="square" viewBox="0 0 100 100"><rect x="0" y="0" width="100" height="100"></rect></svg> <span>Demo</span></label></span><a id="top-settings" class="relative" ng-click="toggleDesktopSettings()"><!-- <span class="user-icon" style="background-image: url('{{user.profile_url}}')"></span> --><user-icon size="36" url="user.profile_url"></user-icon><svg viewBox="0 0 100 100"><path d="M14,32 L50,68 L86,32"></path></svg> </a><!-- <a id="top-request">
				<svg viewBox="0 0 100 100">
				    <path d="M50,50 L50,14 L50,50 L14,50 L50,50 Z M50,50 L50,86 L50,50 L86,50 L50,50 Z"></path>
				</svg>
			</a> --></div><nav id="top-menu-links" class="ng-class:{'active':root.vars.showDesktopSettings}"><ul><li hidden><a href="#"><span>Profile</span> <svg viewBox="0 0 100 100"><path d="M50.0000186,14 C30.1802821,14 14.030417,30.1419103 14.0000373,49.9835145 C13.9861494,59.7785062 17.8513192,69.2750235 24.6069034,76.038418 C31.0239706,82.4616905 39.5485232,86 48.6120989,86 C49.0955707,86 49.5825143,85.9904558 50.072062,85.969632 C70.2181637,85.1444892 86,69.3383625 86,49.9861175 C86,30.142778 69.8510029,14 50.0000186,14 L50.0000186,14 Z M24.18272,74.5721092 C25.26272,65.2447492 30.77792,57.3967492 38.83328,53.6988292 C35.65568,50.7151492 33.65696,46.4911492 33.65696,41.7986692 C33.65696,32.7871492 40.98848,25.4556292 50,25.4556292 C59.01152,25.4556292 66.34304,32.7871492 66.34304,41.7986692 C66.34304,46.4911492 64.34432,50.7151492 61.16672,53.6988292 C69.22208,57.3967492 74.73728,65.2447492 75.81728,74.5721092"></path></svg></a></li><li ng-if="user.id"><a name="setting" ng-click="goToDesktopSettings()"><span>Settings</span> <svg viewBox="0 0 100 100"><path d="M77.7071855,34.003249 C72.1666671,24.4442603 61.8219498,18.0006703 50,18.0000001 L50,8 L50,18 L49.9981554,18 C38.1779324,18 27.8332606,24.4437373 22.2927152,34.0031916 L22.2927152,34.0031916 L13.626933,29 L22.2927152,34.0031916 C19.5635175,38.7120495 17.9999998,44.1769094 17.9999998,50 C17.9999998,55.8230906 19.5635175,61.2879505 22.2927152,65.9968084 L13.626933,71 L22.2927152,65.9968084 C27.8332606,75.5562627 38.1779324,82 49.9981554,82 L50,92 L50,82 C61.8219498,81.9993298 72.1666671,75.5557397 77.7071855,65.996751 L86.373067,71 L77.7071855,65.996751 C80.4364952,61.2879061 82.0000002,55.823067 82.0000002,50 C82.0000002,44.176933 80.4364952,38.7120939 77.7071855,34.003249 L86.373067,29 L77.7071855,34.003249 Z M49.9989624,68 C40.0749409,68 31.9999999,59.925059 31.9999999,50 C31.9999999,40.074941 40.0749409,32 49.9989624,32 C59.9250591,32 68.0000001,40.074941 68.0000001,50 C68.0000001,59.925059 59.9250591,68 49.9989624,68 L49.9989624,68 L49.9989624,68 Z"></path></svg></a></li><li><a name="privacy" ng-click='openModal("privacy")'><span>Terms</span> <svg viewBox="0 0 100 100"><path d="M26.5585171,14 C23.7977205,14 21.5596527,16.2337694 21.5596527,19.0057363 L21.5596527,80.9942637 C21.5596527,83.7588555 23.7894161,86 26.5575218,86 L73.4417836,86 C76.2020305,86 78.4396823,83.7643283 78.4397188,81.0001225 L78.4403462,33.5605722 C78.4403609,32.4548035 77.7876011,30.9334881 77.0011727,30.1806226 L61.5384132,15.3777783 C60.7435649,14.6168523 59.2032934,14 58.1083137,14 L26.5585171,14 Z M60.0992131,14.96 C60.0992131,14.96 60.0992131,15.4039671 60.0992131,15.9609247 L60.0992131,26.5558242 C60.0992131,29.318671 62.3364841,31.5584009 65.1045233,31.5584009 L77.4848101,31.5584009"></path></svg><label class="toggle"><input type="checkbox"><div class="track"><div class="handle"></div></div></label></a></li><li><a name="faq" ng-click='openModalWithLoader("faq")'><span>FAQ</span> <svg viewBox="0 0 100 100"><path d="M23.2244571,18.0571429 L23.2244571,18.0571429 L78.7755429,18.0571429 C83.3177143,18.0571429 87,21.7445714 87,26.2826286 L87,65.3745143 C87,69.9177143 83.3177143,73.6 78.7755429,73.6 L57.1714286,73.6 L51,85.9428571 L44.8285714,73.6 L23.2244571,73.6 C18.6822857,73.6 15,69.9125714 15,65.3745143 L15,26.2826286 C15,21.7394286 18.6822857,18.0571429 23.2244571,18.0571429 L23.2244571,18.0571429 Z M41.5297982,34.6824321 C42.4218589,32.8711794 43.6406596,31.8521327 45.206031,30.9350464 C46.7714025,30.0179601 48.4869606,29.5594238 50.3527569,29.5594238 C53.1672632,29.5594238 55.5785315,30.5634602 57.5866343,32.5715629 C59.5947371,34.5796657 60.5987734,36.9434993 60.5987734,39.6631345 C60.5987734,42.3827698 59.7212298,44.7149802 57.9661164,46.6598356 C56.2110029,48.6046911 53.0527201,49.7194086 50.4912032,50.0040216 L50.4912032,55.0795946 C50.4912032,55.3958312 50.4934611,56.2811505 50.4934611,56.2811505"></path><path d="M50.5,62 L50.5,62.5"></path></svg></a></li><li ng-if="user.id"><a name="logout" ng-click="logoutPopup.visible = true;"><span>Logout</span> <svg viewBox="0 0 100 100"><path d="M38.9873686,23.7410842 C26.7973138,28.2645884 18.081899,40.0689661 18.081899,53.8841841 C18.081899,71.5925239 32.3998272,86 50,86 C67.6001728,86 81.918101,71.5925239 81.918101,53.8841841 C81.918101,40.0689661 73.2026862,28.2645884 61.0152913,23.7410842 M50,14 L50,54.4983197"></path></svg> </a><!-- TODO GABRIELLE --><div class="guru-popup hide ng-class:{'show':logoutPopup.visible}"><div><div><h2>Are you sure you want to logout?</h2><div class="button-group"><button class="button-group-cancel" ng-click="logoutPopup.visible = false;">No</button> <button ng-click="logoutUser(true)">Yes</button></div></div></div></div></li><li ng-if="user.is_admin"><a name="admin" ng-click="goToAdmin()"><span>Go To Admin</span></a></li><li ng-show="user.id && user.is_a_guru && !root.vars.guru_mode"><a ng-click="goToGuru()" class="mode-links"><span>Guru Mode</span> <svg viewBox="0 0 100 100"><path d="M29.4845956,42.273876 L17.4830158,50.6684299 L9.5,38.3892642"></path><path d="M21.4439147,64.2244662 C26.6881822,74.7544952 37.5187724,82 50,82 C67.6001728,82 81.918101,67.5925239 81.918101,49.8841841"></path><path d="M78.5541862,35.7755338 C73.3099187,25.2455048 62.4793285,18 49.9981009,18 C32.397928,18 18.0799999,32.4074761 18.0799999,50.1158159"></path><path d="M70.5199966,57.726124 L82.5215765,49.3315701 L90.5045923,61.6107358"></path></svg></a></li><li ng-show="user.id && user.is_a_guru && root.vars.guru_mode"><a name="student-btn" ng-click="goToStudent()" class="mode-links"><span>Student Mode</span> <svg viewBox="0 0 100 100"><path d="M29.4845956,42.273876 L17.4830158,50.6684299 L9.5,38.3892642"></path><path d="M21.4439147,64.2244662 C26.6881822,74.7544952 37.5187724,82 50,82 C67.6001728,82 81.918101,67.5925239 81.918101,49.8841841"></path><path d="M78.5541862,35.7755338 C73.3099187,25.2455048 62.4793285,18 49.9981009,18 C32.397928,18 18.0799999,32.4074761 18.0799999,50.1158159"></path><path d="M70.5199966,57.726124 L82.5215765,49.3315701 L90.5045923,61.6107358"></path></svg></a></li><li ng-if="!user.id"><a href="#/desktop-login" ng-click="root.vars.loginMode = true" nav-direction="enter"><span>Login</span> <svg viewBox="0 0 100 100"><path d="M38.9873686,23.7410842 C26.7973138,28.2645884 18.081899,40.0689661 18.081899,53.8841841 C18.081899,71.5925239 32.3998272,86 50,86 C67.6001728,86 81.918101,71.5925239 81.918101,53.8841841 C81.918101,40.0689661 73.2026862,28.2645884 61.0152913,23.7410842 M50,14 L50,54.4983197"></path></svg></a></li><li ng-if="!user.id"><a ng-click="goToLoginMode()" nav-direction="enter"><span>Signup</span> <svg viewBox="0 0 100 100"><path d="M30.5307935,20.4928007 C26.3063917,20.4928007 22.0809823,22.1374151 18.849194,25.3409869 C12.383602,31.8055712 12.383602,42.2385939 18.849194,48.6749618 L27.2425724,57.0663247 L49.4146352,79.2948203 C49.7270313,79.5779923 50.2661665,79.5779923 50.5493385,79.2948203 L72.7788419,57.065317 L81.1712125,48.673954 C87.6095958,42.2375862 87.6095958,31.8045635 81.1712125,25.3399792 C74.707636,18.9046191 64.301822,18.9046191 57.83623,25.3399792 L50.0102033,33.1932146 L42.1841765,25.3399792 C38.9523883,22.1374151 34.756203,20.4928007 30.5307935,20.4928007 L30.5307935,20.4928007 L30.5307935,20.4928007 Z"></path></svg></a></li><li ng-if="LOCAL" ng-click="resetCache()"><a ng-click="resetCache()"><span>Reset Cache</span> <svg viewBox="0 0 100 100"><path d="M29.4845956,42.273876 L17.4830158,50.6684299 L9.5,38.3892642"></path><path d="M21.4439147,64.2244662 C26.6881822,74.7544952 37.5187724,82 50,82 C67.6001728,82 81.918101,67.5925239 81.918101,49.8841841"></path><path d="M78.5541862,35.7755338 C73.3099187,25.2455048 62.4793285,18 49.9981009,18 C32.397928,18 18.0799999,32.4074761 18.0799999,50.1158159"></path><path d="M70.5199966,57.726124 L82.5215765,49.3315701 L90.5045923,61.6107358"></path></svg></a></li></ul></nav></div></nav><!-- BIND --> <a id="cta-box-content" class="cta-box"><svg viewBox="0 0 100 100"><path d="M30,24.8677175 C31.8923771,21.0254081 34.4778855,18.8636487 37.7985936,16.9181834 C41.1193017,14.9727181 44.7586089,14 48.7166246,14 C54.6871906,14 59.802346,16.1299172 64.0622442,20.3898154 C68.3221425,24.6497136 70.4520596,29.664243 70.4520596,35.433554 C70.4520596,41.202865 68.5904785,46.1503104 64.8672604,50.2760386 C61.1440422,54.4017668 54.4442042,56.7664779 49.0103183,57.370243 L49.0103183,68.1373335 C49.0103183,68.8081837 49.015108,70.6862599 49.015108,70.6862599 M49.0289795,82.817968 L49.0289795,83.8786453"></path></svg></a>