@import '../../../../../shared/css/scss/partials/mixin';

#powerups {
	@include prefix(animation-duration, 250ms!important, webkit moz ms o);
	overflow: auto;
	header {
		span {
			svg {
				circle {
					fill: $gold;
					stroke: $gold;
				}
				path {
					fill: white;
					stroke: white;
				}
			}
		}
		h1 {
			margin-top: -15px;
		}
	}
	ul {
		width: 100%;
		margin-top: -40px;
		li {
			width: 300px;
			padding-bottom: 35px;
			a {
				position: relative;
				&.fadeOut {
					@include prefix(animation-duration, 500ms!important, webkit moz ms o);
				}
				&:before {
					@include round;
					content: "";
					display: block;
					position: absolute;
					z-index: 1;
					top: 50%;
					left: 50%;
					margin-top: -26px;
					margin-left: -50px;
					width: 100px;
					height: 100px;
				}
				> div {
					z-index: 2;
					width: 100%;
					&:first-child {
						position: relative;
						height: 100%;
						max-width: 300px;
						max-height: 300px;
					}
					&.powerup-icon-tag {
						@include prefix(transition, all 150ms ease-in-out, webkit moz ms o);
						position: absolute;
						bottom: -35px;
					}
					[class*="container-outline-track"] {
						@include prefix(transform-origin, center, webkit moz ms o);
						@include prefix(transform, rotateY(180deg), webkit moz ms o);
						&.active {
							@include prefix(animation, powerup-loader 2000ms ease-in-out forwards, webkit moz ms o);
							stroke-dasharray: 378;
							stroke-dashoffset: 378;
						}
					}
				}
				&#powerup-gpa-container {
					&:before {
						background: mix(white, $gpa, 30%);
					}
				}
				&#powerup-munchies-container {
					&:before {
						background: mix(white, mix($auburn, $orange), 30%);
					}
				}
				&#powerup-sound-container {
					&:before {
						background: mix(white, mix($eggplant, $cobalt), 30%);
					}
				}
				&#powerup-transit-container {
					&:before {
						background: mix(white, mix($moxie, $moola), 30%);
					}
				}
				&.active {
					// svg {
					// 	@include prefix(animation, powerup-scaleUp-subtle 250ms cubic-bezier(.77,0,.05,1) 3500ms forwards, webkit moz ms o);
					// 	@include prefix(animation, powerup-scaleUp-subtle 250ms cubic-bezier(.77,-0.22,.05,1) 3500ms forwards, webkit moz ms o);
					// }
					&:before {
						@include prefix(animation, powerup-before-scaleUp 1000ms ease-in-out 3500ms forwards, webkit moz ms o);
					}
				}
			}
		}
	}
	@media screen and (max-width: 768px) {
		header {
			h1 {
				font-size: 36px!important;
			}
		}
	}
	@media screen and (min-width: 768px) {
		ul {
			margin-top: 0;
		}
	}
	.hanger {
		opacity: 0;
	}
}

// GENERAL
.landing-container {
	overflow-x: hidden!important;
	.powerup-icon {
		width: 100%;
		height: 100%;
		max-width: 300px;
		max-height: 300px;
		.hanger {
			display: none!important;
		}
	}
	.landing-demo {
		position: relative;
		width: 318px;
		> svg:not(.coach) {
			width: 318px;
			stroke-width: 3px;
			stroke-linecap: round;
			stroke-linejoin: round;
		}
		> div {
			position: absolute;
			top: 50%;
			left: 50%;
			margin-left: -136px;
			margin-top: -245.5px;
			width: 273.5px;
			height: 490px;
		}
	}
	@media screen and (max-width:768px) {
		.powerup-icon {
			margin-top: -50px;
		}
		h1.powerup-header {
			margin-top: 0;
			font-size: 28px!important;
		}
		h2.powerup-header {
			margin-top: 0;
			font-size: 20px!important;
		}
		.landing-demo {
			width: 200px;
			> svg:not(.coach) {
				width: 200px;
			}
			> div {
				margin-left: -86px;
				margin-top: -155px;
				width: 172px;
				height: 310px;
			}
			.coach {
				display: none;
			}
		}
	}
	.landing-content {
		margin-top: -120px;
		padding-top: 135px;
		@media screen and (max-width:768px) {
			h1 {
				font-size: 28px!important;
			}
		}
	}
	.landing-action {
		@media screen and (max-width:768px) {
			.ugrid-3 {
				li {
					width: 100%;
					.svg-128 {
						svg {
							width: 64px;
							height: 64px;
						}
						+ h2 {
							width: calc(100% - 64px)!important;
							margin-top: 0;
							padding-top: 0;
							text-align: left;
							font-size: 20px!important;
						}
					}
				}
			}
		}
	}
	&.landing-gpa {
		background: mix(white, $gpa, 30%);
		.landing-demo {
			> svg:not(.coach) {
				* {
					stroke: lighten($slate, 15%);
				}
				circle {
					fill: mix(mix(white, $gpa, 30%), lighten($slate, 15%), 40%);
				}
				rect {
					&:first-child {
						fill: mix(mix(white, $gpa, 30%), lighten($slate, 15%), 70%);
					}
					&:last-child {
						fill: white;
					}
				}
			}
		}
		.gpa-landing-hands {
			width: 2px;
    		margin-left: -1px;
    		left: 50%;
			svg {
				&:first-child {
					left: 80px;
				}
				&:last-child {
					right: 80px;
					@include prefix(backface-visibility, visible, webkit moz ms o);
					@include prefix(transform, rotateY(180deg), webkit moz ms o);
					@include prefix(transform-origin, center, webkit moz ms o);
				}
				@media screen and (max-width:768px) {
					&:first-child {
						max-height: 200px;
    					left: -200px;
					}
					&:last-child {
						max-height: 200px;
    					right: -200px;
					}
				}
				@media screen and (max-width:414px) {
					&:first-child, &:last-child {
						max-height: 100px;
						top: -250px;
						bottom: auto!important;
					}
					&:first-child {
						left: -360px;
					}
					&:last-child {
						right: -360px;
					}
				}
			}
		}
		.gpa-landing-preview {
			li {
				&:first-child, &:last-child {
					@include opacity(0.75);
					@include prefix(transition, all 600ms cubic-bezier(.77,0,.05,1)!important, webkit moz ms o);
					@include prefix(transition, all 600ms cubic-bezier(.77,-0.22,.05,1.27)!important, webkit moz ms o);
				}
				&:first-child {
					transform: translateX(100%);
				}
				&:last-child {
					transform: translateX(-100%);
				}
			}
			svg {
				width: calc(318px * 0.75);
				height: calc(651px * 0.75);
				@media screen and (max-width:768px) {
					width: calc(318px * 0.5);
					height: calc(651px * 0.5);
				}
				* {
					stroke: lighten($slate, 15%);
					stroke-width: 3px;
				}
				circle {
					fill: mix(mix(white, $gpa, 30%), lighten($slate, 15%), 40%);
				}
				rect {
					&:first-child {
						fill: mix(mix(white, $gpa, 30%), lighten($slate, 15%), 70%);
					}
					&:last-child {
						fill: white;
					}
				}
			}
		}
		.landing-action {
			background: mix(mix(white, $gpa, 30%), lighten($slate, 15%), 40%);
		}
	}
	&.landing-transit {
		background: mix(white, mix($moola, $moxie), 30%);
		.landing-demo {
			> svg:not(.coach) {
				* {
					stroke: lighten($slate, 15%);
				}
				circle {
					fill: mix(mix(white, mix($moola, $moxie), 30%), lighten($slate, 15%), 40%);
				}
				rect {
					&:first-child {
						fill: mix(mix(white, mix($moola, $moxie), 30%), lighten($slate, 15%), 70%);
					}
					&:last-child {
						fill: white;
					}
				}
			}
		}
	}
	&.landing-munchies {
		background: mix(white, mix($auburn, $orange), 30%);
		.landing-demo {
			> svg:not(.coach) {
				* {
					stroke: white;
				}
				circle {
					fill: mix(white, mix($auburn, $orange), 80%);
				}
				rect {
					&:first-child {
						fill: mix(white, mix($auburn, $orange), 50%);
					}
					&:last-child {
						fill: white;
					}
				}
			}
		}
		.landing-content {
			background: #a68787;
			.landing-color {
				background: #a68787;
			}
		}
	}
	&.landing-sound {
		background: mix(white, mix($cobalt, $eggplant), 30%);
		.landing-demo {
			> svg:not(.coach) {
				* {
					stroke: lighten($slate, 15%);
				}
				circle {
					fill: mix(mix(white, mix($cobalt, $eggplant), 30%), lighten($slate, 15%), 40%);
				}
				rect {
					&:first-child {
						fill: mix(mix(white, mix($cobalt, $eggplant), 30%), lighten($slate, 15%), 70%);
					}
					&:last-child {
						fill: white;
					}
				}
			}
		}
	}
}

// .powerup-icons {
// 	li {
// 		.loader-powerup-gpa {
// 			.gpa-guru, .multiply, .plus, .minus, .equal, .divide {
// 				opacity: 0;
// 			}
// 		}
// 	}
// 	li.active {
// 		.loader-powerup-gpa {
// 			.gpa-guru, .multiply, .plus, .minus, .equal, .divide {
// 				opacity: 0;
// 			}
// 			* {
// 				transform-origin: center center;
// 			}
// 			.gpa-guru {
// 				animation: u-bounceIn-subtle 1000ms linear 0ms forwards;
// 			}
// 			.multiply {
// 				animation: u-bounceIn-subtle 865ms linear 500ms forwards;
// 			}
// 			.plus {
// 				 animation: u-bounceIn-subtle 865ms linear 950ms forwards;
// 			}
// 			.minus {
// 				animation: u-bounceIn-subtle 865ms linear 650ms forward;
// 			}
// 			.equal {
// 				animation: u-bounceIn-subtle 1000ms linear 1000ms forwards;
// 			}
// 			.divide {
// 				animation: u-bounceIn-subtle 500ms linear 1150ms forwards;
// 			}
// 			// .gpa-sign-divide {
// 			// 	animation: sign-divide-hover 3000ms ease-in-out 2 reverse forwards;
// 			// 	transform-origin: center center;
// 			// }
// 			// .gpa-btn-equal,
// 			// .gpa-btn-plus {
// 			// 	animation: btn-divide-hover 7500ms linear 2 reverse forwards;
// 			// 	transform-origin: center center!important;
// 			// }
// 			// .gpa-sign-equal,
// 			// .gpa-sign-plus {
// 			// 	animation: sign-equal-hover 2000ms ease-in-out 2 forwards;
// 			// 	transform-origin: center center!important;
// 			// }
// 		}
// 	}
// }
// #powerup-gpa-container.active, #powerup-landing-icon.active {
// 	.loader-powerup-gpa {
// 		* {
// 			transform-origin: center center;
// 		}
// 		.multiply, .minus, .gpa-sign-divide, .gpa-btn-divide, .divide, .equal, .plus, .gpa-btn-equal, .gpa-btn-plus, .gpa-sign-equal, .gpa-sign-plus {
// 			opacity: 1!important;
// 		}
// 		.multiply {
// 			animation: bob-hover 1100ms ease-in-out 4 alternate forwards!important;
// 		}
// 		.minus {
// 			animation: bob-hover 1100ms ease-in-out 4 alternate forwards!important;
// 		}
// 		.gpa-sign-divide {
// 			animation: sign-divide-hover 2200ms ease-in-out 2 reverse forwards!important;
// 		}
// 		.gpa-btn-divide {
// 			animation: btn-divide-hover 2200ms linear 2 reverse forwards!important;
// 		}
// 		.divide {
// 			animation: bob-hover 1100ms ease-in-out 4 alternate forwards!important;
// 		}
// 		.equal, .plus {
// 			animation: equal-pulse 1100ms ease-in-out 4 alternate forwards!important;
// 		}
// 		.gpa-btn-equal,
// 		.gpa-btn-plus {
// 			animation: btn-divide-hover 2200ms linear 2 reverse forwards!important;
// 		}
// 		.gpa-sign-equal,
// 		.gpa-sign-plus {
// 			animation: sign-equal-hover 2200ms ease-in-out 2 forwards!important;
// 		}
// 	}
// }
//
// #powerup-landing-icon {
// 	.gpa-guru-eyebrow-right {
// 		transform-origin: right top;
// 		&.wiggle {
// 			animation: wiggle-right 100ms ease alternate 6 forwards;
// 		}
// 	}
// 	.gpa-guru-eyebrow-left {
// 		transform-origin: left top;
// 		&.wiggle {
// 			animation: wiggle-left 100ms ease alternate 6 forwards;
// 		}
// 	}
// }

.powerup-title {
	overflow: hidden!important;
	.powerup-house {
		&.active {
			* {
				transition: all 1000ms ease-in-out;
				opacity: 0;
			}
		}
		.powerup-house-svg {
			display: block;
			width: 100%;
			max-width: 500px;
			height: auto;
			&.active {
				@include prefix(transform-origin, 50% 300px, webkit moz ms o);
				@include prefix(animation, powerup-house-scaleUp 3000ms ease-out forwards, webkit moz ms o);
			}
		}
	}
}

.powerup-back {
	span {
		svg {
			display: block;
			width: 28px;
			height: 28px;
			margin-right: 5px;
			* {
				stroke-width: 9px;
			}
		}
	}
}

[class*="powerup"] {
	.tour-guru {
		@include prefix(transform-origin, center center, webkit moz ms o);
		.translate {
			svg {
				@include prefix(transform-origin, left top, webkit moz ms o);
				@include prefix(transition, all 600ms cubic-bezier(.77,0,.05,1)!important, webkit moz ms o);
				@include prefix(transition, all 600ms cubic-bezier(.77,-0.22,.05,1.27)!important, webkit moz ms o);
				@include prefix(transform, scale(2), webkit moz ms o);
			}
		}
		svg:first-child {
			> g > ellipse {
				@include prefix(transform-origin, center center, webkit moz ms o);
			}
		}
		svg.absolute {
			transform-origin: bottom left;
		}
		&.on-enter {
			svg:first-child {
				> g > ellipse {
					animation: tour-shadow 500ms cubic-bezier(0,1.6,1,1.6) forwards;
				}
			}
			svg.absolute {
				animation: u-rotateScaleUpLeft 2000ms ease-in-out 2000ms forwards;
				opacity: 0;
			}
		}
		&.active {
			svg:first-child {
				display: block;
				> g > ellipse {
					@include prefix(animation, tour-guru-shadow-hover 1000ms linear infinite alternate, webkit moz ms o);
				}
				.guru-body {
					@include prefix(animation, tour-guru-hover 1000ms linear infinite alternate, webkit moz ms o);
				}
			}
		}
	}
}

.powerup-demographic {
	@include flex;
	@include flex-wrap;
	background: $smoke;
	.tour-guru {
		svg:first-child {
			height: 200px;
		}
		svg.absolute {
			@include prefix(animation, tour-guru-hover 1000ms linear infinite alternate, webkit moz ms o);
			top: 0;
			margin-left: -5px;
		}
	}
	.demo-grid {
		.demographic-z-index-1000 {
			z-index: 1000!important;
		}
		ul {
			@include flex;
			@include flex-center;
			@include flex-wrap;
			width: 100%;
			padding: 1px;
			li {
				transform-origin: center top;
				position: relative;
				height: 50%;
				width: 50%;
				font-weight: 600;
				padding: 1px;
				a {
					position: relative;
					width: 100%;
					height: 100%;
					border-radius: 2px;
					font-size: 28px;
					text-transform: lowercase;
					> svg {
						width: 100%;
					}
					> span {
						@include flex;
						@include flex-wrap;
						@include flex-center;
						position: absolute;
						top: 0;
						left: 0;
						width: 100%;
						height: 100%;
						text-align: center;
						svg {
							width: 100px;
							height: 100px;
							* {
								@include svg-stroke(white, 3);
							}
						}
						span {
							display: block;
							margin-bottom: 15px;
							&:last-child {
								width: 100%;
							}
						}
					}
				}
			}
		}
	}
	@media screen and (max-width:768px) {
		@include prefix(justify-content, center, webkit);
		@include prefix(align-items, space-between, webkit);
		@include prefix(align-content, space-between, webkit);
	}
	@media screen and (max-width:768px) {
		.demo-header {
			height: 40%;
		}
		.demo-grid {
			height: 60%;
		}
		.tour-guru {
			margin-top: 15px;
			@include prefix(transform, scale(0.8), webkit moz ms o);
		}
		h1 {
			margin-top: -45px;
			margin-bottom: 30px;
		}
	}
	@media screen and (min-width:768px) {
		@include flex-center;
	}
	@media screen and (min-width:768px) {
		h1 {
			font-size: 48px;
		}
		.demo-grid {
			height: auto;
			margin: 0 auto;
			max-width: 1060px;
			ul {
				padding: 15px;
				li {
					padding: 15px;
					width: 25%;
					a {
						font-size: 36px;
					}
				}
			}
		}
	}
}

.powerup-welcome {
	.tour-guru {
		svg {
			height: 400px;
		}
	}
	button {
		width: auto;
		padding: 0 50px;
		background: none;
		border-radius: 2px;
		border: 3px solid white;
		&:hover, &:focus {
			background: white;
		}
		&:active {
			background: lighten($slate, 15%);
			border: lighten($slate, 15%);
		}
	}
}
