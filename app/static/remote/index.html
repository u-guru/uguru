<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>

    <!-- compiled css output
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/ionic.app.css" rel="stylesheet">
    <link href="css/lib/ionic.contrib.frost.css" rel="stylesheet">
    <link href="css/app.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/angular-strap.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet"> -->

    <link href="css/app_version.css" rel="stylesheet">
    <!-- ionic/angularjs js
    <script src="lib/ionic/js/ionic.bundle.js"></script>
    <script src="lib/angular-ui-custom/ui-bootstrap-custom-tpls-0.12.0.min.js"></script>
    <script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>
    <script src="lib/lodash/dist/lodash.js"></script>
    <script src="lib/angular-google-maps/angular-google-maps.min.js"></script>
    <script src="lib/restangular/dist/restangular.js"></script>
    <script src="lib/angular-local-storage/angular-local-storage.js"></script>
    <script src="lib/angular-loading-bar/angular-loading-bar.js"></script>
    <script src="lib/angular-animate/angular-animate.js"></script>
    <script src="lib/angular-strap/angular-strap.min.js"></script>
    <script src="lib/angular-strap/angular-strap.tpl.min.js"></script>
    <script src="lib/angular-payments/angular-payments.js"></script>
    <script src="lib/ngAutocomplete/ngAutocomplete.js"></script>
    <script src="lib/ionic/contrib/ionic.contrib.frost.js"></script>
    -->


    <!-- cordova script (this will be a 404 during development) -->

    <!-- uguru app main js

    <script src="lib/ngCordova/dist/ng-cordova.js"></script>
    <script src="js/main.js"></script>
    -->

    <!-- uguru app directives
    <script type="text/javascript" src="js/directives/angularFastMatcher.js"></script>
    <script type="text/javascript" src="js/directives/customDirectives.js"></script>
    -->

    <!-- uguru app factories
    <script type="text/javascript" src="js/factories/Session.js"></script>
    <script type="text/javascript" src="js/factories/User.js"></script>
    <script type="text/javascript" src="js/factories/Device.js"></script>
    <script type="text/javascript" src="js/factories/University.js"></script>
    <script type="text/javascript" src="js/factories/Major.js"></script>
    <script type="text/javascript" src="js/factories/Phone.js"></script>
    <script type="text/javascript" src="js/factories/Version.js"></script>
    <script type="text/javascript" src="js/factories/Support.js"></script>
    <script type="text/javascript" src="js/factories/Course.js"></script>
    <script type="text/javascript" src="js/factories/Static.js"></script>
    <script type="text/javascript" src="js/factories/LocalStorage.js"></script>
    -->

    <!-- student controllers
    <script type="text/javascript" src="js/controllers/facebook.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/courses.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/bio.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/majors.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/student.home.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/student.request.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/student.guru-profile.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/student.guru-available.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/student.active-session.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/student.request-status.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/student.previous-session-details.ctrl.js"></script> -->

    <!-- guru controllers
    <script type="text/javascript" src="js/controllers/guru/guru.onboarding.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/guru/guru.home.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/guru/guru.opportunities.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/guru/guru.student-request.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/guru/guru.active-session.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/guru/guru.session-start.ctrl.js"></script>

    <script type="text/javascript" src="js/controllers/util/util.university.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.add-course.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.add-guru-bio.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.add-major.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.add-note.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.request-location.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.signup.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.add-payment.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.contact-guru.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.messages.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.ratings.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.gurubook.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/util/util.studentbook.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/settings/settings.cards.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/settings/settings.notifications.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/settings/settings.transfers.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/settings/settings.profile.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/settings/settings.edit-courses.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/settings/settings.edit-university.ctrl.js"></script>
    <script type="text/javascript" src="js/controllers/student/settings/settings.transactions.ctrl.js"></script>
    -->
    <!-- uguru app services
    <script type="text/javascript" src="js/services/AuthService.js"></script>
    <script type="text/javascript" src="js/services/RootService.js"></script>
    <script type="text/javascript" src="js/services/Popup.js"></script>
    <script type="text/javascript" src="js/services/Popover.js"></script>
    <script type="text/javascript" src="js/services/hardware/camera.js"></script>
    <script type="text/javascript" src="js/services/hardware/push.js"></script>
    <script type="text/javascript" src="js/services/hardware/location.js"></script>
    -->


    <!-- Facebook Plugin for web-development -->
    <div id="fb-root"></div>
    <!--<script>
      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));

      window.fbAsyncInit = function() {
        FB.init({
          appId      : '1416375518604557',
          cookie     : true,
          xfbml      : true,
          version    : 'v2.2'
        });
      }
    </script> -->

     <script type="text/javascript">
            (function (f, b) {
            if (!b.__SV) {
            var a, e, i, g; window.mixpanel = b; b._i = []; b.init = function (a, e, d) {
            function f(b, h) { var a = h.split("."); 2 == a.length && (b = b[a[0]], h = a[1]); b[h] = function () { b.push([h].concat(Array.prototype.slice.call(arguments, 0))) } } var c = b; "undefined" !== typeof d ? c = b[d] = [] : d = "mixpanel"; c.people = c.people || []; c.toString = function (b) { var a = "mixpanel"; "mixpanel" !== d && (a += "." + d); b || (a += " (stub)"); return a }; c.people.toString = function () { return c.toString(1) + ".people (stub)" }; i = "disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
                for (g = 0; g < i.length; g++) f(c, i[g]); b._i.push([a, e, d])
            }; b.__SV = 1.2; a = f.createElement("script"); a.type = "text/javascript"; a.async = !0; a.src = "undefined" !== typeof MIXPANEL_CUSTOM_LIB_URL ? MIXPANEL_CUSTOM_LIB_URL : "//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js"; e = f.getElementsByTagName("script")[0]; e.parentNode.insertBefore(a, e)
            }
            })(document, window.mixpanel || []);
        mixpanel.init("e64d1b8ce3beb846af8dc9afc8b9d888");
    </script><!-- end Mixpanel -->



    <script>

      function getMobileOperatingSystem() {
          var userAgent = navigator.userAgent || navigator.vendor || window.opera;
          if( userAgent.match( /iPad/i ) || userAgent.match( /iPhone/i ) || userAgent.match( /iPod/i ) )
          {

            injectJs('ios.cordova_plugins.js');
            injectJs('ios.cordova.js');
            injectCss('ios.css');
            // injectJs('/static/remote/cordova.js');
            return 'iOS';

          }
          else if( userAgent.match( /Android/i ) )
          {

            console.log('injecting android specific css & js');
            injectJs('android.cordova.js');
            injectCss('android.css');

            return 'Android';
          }
          else if (navigator.userAgent.match(/iemobile/i) || navigator.userAgent.match(/Windows Phone/i)  || navigator.userAgent.match(/IEMobile/i)) {
            console.log('injecting android specific css & js');
            injectJs('windows.cordova.js');
          }
          else
          {
            console.log('hard to determine identifies')
            // injectCss('web.css')
            return 'unknown';
          }
        }

      function injectJs(link) {
          var scr = document.createElement('script');
          scr.type="text/javascript";
          scr.src=link;
          document.getElementsByTagName('head')[0].appendChild(scr)
      }

      function injectCss(file) {
        var link = document.createElement("link");
        link.href = file;
        link.type = "text/css";
        link.rel = "stylesheet";
        document.getElementsByTagName("head")[0].appendChild(link);
      }

      console.log(getMobileOperatingSystem());

    </script>

    <!-- <script type="text/javascript" src="lib/facebook/facebookConnectPlugin.js"></script>-->

    <!--<script src="cordova_plugins.js"></script>
    <script src="cordova.js"></script>-->
    <script src="js/app.js"></script>
    <script src="http://maps.googleapis.com/maps/api/js?libraries=places&sensor=false"></script>

  </head>
  <body ng-app="uguru" animation="slide-left-right-ios7">
    <!--
      The nav bar that will be updated as we navigate between views.
    -->

    <ion-side-menus>

        <ion-nav-view animation="slide-left-right-ios7">
        </ion-nav-view>

    </ion-side-menus>
    <ion-nav-bar class="bar-dark nav-bar-text bold-font">
      <ion-nav-back-button class="button-clear" style="width:140px;">
          <img src="./img/left-chevron.png" class='uguru-back-button'/>
      </ion-nav-back-button>
    </ion-nav-bar>
      <script type="text/javascript">
      mixpanel.track_links("#nav a", "click nav link", {
          "referrer": document.referrer
      });
      </script>

    <script id="templates/root.html" type="text/ng-template">
      <ion-side-menu-content>
      <ion-nav-view animation="slide-left-right">

      </ion-nav-view>
      </ion-side-menu-content>
      <ion-nav-back-button class="button-clear" style="width:75px;">
          <img src="./img/left-chevron.png" class='uguru-back-button'/>
      </ion-nav-back-button>
      <ion-side-menu side="right" width='window.width * 0.8' drag-content="false">
          <div ng-include="'templates/components.side-menu.html'"></div>
      </ion-side-menu>
    </script>
    <script id="templates/student-root.html" type="text/ng-template">
      <ion-nav-view animation="slide-left-right">
      </ion-nav-view>
    </script>

    <script id="templates/wizard-root.html" type="text/ng-template">
      <ion-nav-view animation="slide-left-right">
      </ion-nav-view>
    </script>

    <script id="templates/guru-root.html" type="text/ng-template">
      <ion-nav-view animation="slide-left-right">
      </ion-nav-view>
    </script>

    <script id="templates/gettingStartedPopover.html" type="text/ng-template">
      <ion-popover-view id='student-web-popover' class='uguru-popover platform-ios platform web platform-arrow'>
        <ion-header-bar>
          <h1 class="title">Tap to get started.</h1>
        </ion-header-bar>
        <ion-content scroll='false' class='pure-white'>
          <div class="pure-g-c flex-column">
            <div class="flex-item-c">
              <p>Just enter a course code. Uguru uses
              your university course catalogs to help
              keep things simple</p>
            </div>
            <div class="flex-item-c">
              <button ng-click="closePopover();"class='button button-full button-positive button-popover'>Got it.</button>
            </div>
          </div>
        </ion-content>
      </ion-popover-view>
    </script>

    <script id="templates/generalPopup.html" type="text/ng-template">
      <ion-popover-view id='general-popup' class='uguru-popover platform-ios platform web platform-arrow'>
        <ion-header-bar>
          <h1 class="title">{{genPopup.options.header}}</h1>
        </ion-header-bar>
        <ion-content scroll='false' class='pure-white {{genPopup.options.targetName}}'>
          <div class="pure-g-c flex-column">
            <div class="flex-item-c">
              <p>{{genPopup.options.body}}</p>
            </div>
            <div class="flex-item-c">
              <button ng-click="closeGenPopup();"class='button button-full button-positive button-popover'>{{genPopup.options.closeButtonText}}</button>
            </div>
          </div>
        </ion-content>
      </ion-popover-view>
    </script>

    <script id="templates/gettingStartedRequestHelpPopover.html" type="text/ng-template">
      <ion-popover-view id='student-request-help-popover' class='uguru-popover platform-ios platform web platform-arrow'>
        <ion-header-bar>
          <h1 class="title">Tap to request help.</h1>
        </ion-header-bar>
        <ion-content scroll='false' class='pure-white'>
          <div class="pure-g-c flex-column">
            <div class="flex-item-c">
              <p>Any time you need help in <strong>{{user.student_courses[0].short_name}}</strong>,<br> we got your back!</p>
            </div>
            <div class="flex-item-c">
              <button ng-click="closePopoverTwo();"class='button button-full button-positive button-popover'>Got it.</button>
            </div>
          </div>
        </ion-content>
      </ion-popover-view>
    </script>
    <!--<script id="templates/signup.html" type="text/ng-template">
      <ion-view hide-nav-bar="true">
        <ion-content class="padding" scroll="false">

        <div class='row absolute absolute-center bottom-30-percent'>
          <div class="col col-offset-25 col-50 padding" style="padding:1.5em">
            <img src='./img/uguru_home.png' class='inherit-width'>
          </div>
        </div>

        <div class='row fixed fixed-center bottom-0'>
          <div class="col">
            <button onlogin="beginFbConnect()" ng-click="fbConnect()" class="button button-block reg-font icon-left ion-social-facebook fb-button">
                Connect with Facebook
            </button>
            <p class="reg-font center grey-uguru font-14"> Uguru will NEVER post to your Facebook.</p>
          </div>
        </div>
        <span style="font-size:8px;position:absolute; auto;bottom:0px; right:46.5%; color:rgba(0,0,0,0.4)">{{currentVersion}}</span>
        </ion-content>
      </ion-view>
    </script> -->

    <script type="text/javascript" src="https://js.stripe.com/v2/"></script>


    <script>
      Stripe.setPublishableKey('pk_test_OHHalLRCnwixc5YXc9O29h3j');
    </script>
  </body>

    <!--
      The views will be rendered in the <ion-nav-view> directive below
      Templates are in the /templates folder (but you could also
      have templates inline in this html file if you'd like).-->

</html>
