function getDistanceFromLatLonInKm(e,t,n,i){var o=6371,r=deg2rad(n-e),s=deg2rad(i-t),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(deg2rad(e))*Math.cos(deg2rad(n))*Math.sin(s/2)*Math.sin(s/2),l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),u=o*l;return u}function deg2rad(e){return e*(Math.PI/180)}function getNearestUniversity(e,t,n,i,o,r,s,a){var l=function(e){var t=e.length;if(2>t)return e;var n=Math.ceil(t/2),i=u(l(e.slice(0,n)),l(e.slice(n)));return i},u=function(n,i){for(var o=[];n.length>0&&i.length>0;)uni_1_lat=n[0].location.latitude,uni_1_long=n[0].location.longitude,uni_2_lat=i[0].location.latitude,uni_2_long=i[0].location.longitude,d1=getDistanceFromLatLonInKm(e,t,uni_1_lat,uni_1_long),d2=getDistanceFromLatLonInKm(e,t,uni_2_lat,uni_2_long),n[0].miles=parseInt(d1/.62*10)/10,i[0].miles=parseInt(d2/.62*10)/10,o.push(d1<d2?n.shift():i.shift());return o=o.concat(n,i)},c=l(n);return r["static"].nearest_universities=c,s&&s(r,a),c.slice(0,10)}!function(){function e(e,t,n){t!==!1?j.addEventListener(e,Y[e],n):j.removeEventListener(e,Y[e])}function t(e){var t=y(e.target),i=_(t);if(ionic.tap.requiresNativeClick(i)||R)return!1;var o=ionic.tap.pointerCoord(e);n("click",i,o.x,o.y),h(i)}function n(e,t,n,i){var o=document.createEvent("MouseEvents");o.initMouseEvent(e,!0,!0,window,1,0,0,n,i,!1,!1,!1,!1,0,null),o.isIonicTap=!0,t.dispatchEvent(o)}function i(e){return"submit"==e.target.type&&0===e.detail||!(ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(e.target)||!e.isIonicTap&&!ionic.tap.requiresNativeClick(e.target))?void 0:(e.stopPropagation(),ionic.tap.isLabelWithTextInput(e.target)||e.preventDefault(),!1)}function o(t){if(!t.isIonicTap&&!p(t)){if(G)return t.stopPropagation(),ionic.tap.isTextInput(t.target)&&H===t.target||/^(select|option)$/i.test(t.target.tagName)||t.preventDefault(),!1;R=!1,V=ionic.tap.pointerCoord(t),e("mousemove"),ionic.activator.start(t)}}function r(n){return G?(n.stopPropagation(),n.preventDefault(),!1):p(n)||/^(select|option)$/i.test(n.target.tagName)?!1:(b(n)||t(n),e("mousemove",!1),ionic.activator.end(),void(R=!1))}function s(t){return b(t)?(e("mousemove",!1),ionic.activator.end(),R=!0,!1):void 0}function a(t){if(!p(t)&&(R=!1,d(),V=ionic.tap.pointerCoord(t),e(z),ionic.activator.start(t),ionic.Platform.isIOS()&&ionic.tap.isLabelWithTextInput(t.target))){var n=_(y(t.target));n!==N&&t.preventDefault()}}function l(e){p(e)||(d(),b(e)||(t(e),/^(select|option)$/i.test(e.target.tagName)&&e.preventDefault()),H=e.target,c())}function u(t){return b(t)?(R=!0,e(z,!1),ionic.activator.end(),!1):void 0}function c(){e(z,!1),ionic.activator.end(),R=!1}function d(){G=!0,clearTimeout(F),F=setTimeout(function(){G=!1},2e3)}function p(e){return e.isTapHandled?!0:(e.isTapHandled=!0,ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(e.target)?(e.preventDefault(),!0):void 0)}function h(e){U=null;var t=!1;"SELECT"==e.tagName?(n("mousedown",e,0,0),e.focus&&e.focus(),t=!0):v()===e?t=!0:/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable?(t=!0,e.focus&&e.focus(),e.value=e.value,G&&(U=e)):f(),t&&(v(e),ionic.trigger("ionic.focusin",{target:e},!0))}function f(){var e=v();e&&(/^(input|textarea|select)$/i.test(e.tagName)||e.isContentEditable)&&e.blur(),v(null)}function g(e){G&&ionic.tap.isTextInput(v())&&ionic.tap.isTextInput(U)&&U!==e.target&&(U.focus(),U=null),ionic.scroll.isScrolling=!1}function m(){v(null)}function v(e){return arguments.length&&(N=e),N||document.activeElement}function b(e){if(!e||1!==e.target.nodeType||!V||0===V.x&&0===V.y)return!1;var t=ionic.tap.pointerCoord(e),n=!(!e.target.classList||!e.target.classList.contains||"function"!=typeof e.target.classList.contains),i=n&&e.target.classList.contains("button")?K:W;return Math.abs(V.x-t.x)>i||Math.abs(V.y-t.y)>i}function y(e,t){for(var n=e,i=0;6>i&&n;i++){if("LABEL"===n.tagName)return n;n=n.parentElement}return t!==!1?e:void 0}function _(e){if(e&&"LABEL"===e.tagName){if(e.control)return e.control;if(e.querySelector){var t=e.querySelector("input,textarea,select");if(t)return t}}return e}function w(){I()?(window.addEventListener("native.keyboardshow",$),window.addEventListener("native.keyboardhide",C),window.addEventListener("native.showkeyboard",$),window.addEventListener("native.hidekeyboard",C)):document.body.addEventListener("focusout",C),document.body.addEventListener("ionic.focusin",k),document.body.addEventListener("focusin",k),document.body.addEventListener("orientationchange",D),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerDown",w):document.removeEventListener("touchstart",w)}function $(e){clearTimeout(J),ionic.keyboard.height=e.keyboardHeight}function k(e){e.target&&!e.target.readOnly&&ionic.tap.isTextInput(e.target)&&!ionic.tap.isDateInput(e.target)&&P(e.target)&&(document.addEventListener("keydown",M,!1),document.body.scrollTop=0,document.body.querySelector(".scroll-content").scrollTop=0,X=e.target,S(e))}function S(e){clearTimeout(Z),clearTimeout(J),Z=setTimeout(function(){if(!(tt+350>Date.now())){tt=Date.now();var t,n=X.getBoundingClientRect(),i=0;Q=setInterval(function(){t=O(),i>10&&(clearInterval(Q),t=275),t&&(clearInterval(Q),x(e.target,n.top,n.bottom,et,t)),i++},100)}},32)}function x(e,t,n,i,o){var r={target:e,elementTop:Math.round(t),elementBottom:Math.round(n),keyboardHeight:o,viewportHeight:i};return r.hasPlugin=I(),r.contentHeight=i-o,r.isElementUnderKeyboard=r.elementBottom>r.contentHeight,ionic.keyboard.isOpen=!0,X=e,ionic.trigger("scrollChildIntoView",r,!0),ionic.requestAnimationFrame(function(){document.body.classList.add(nt)}),window.navigator.msPointerEnabled?document.addEventListener("MSPointerMove",E,!1):document.addEventListener("touchmove",E,!1),r}function C(){clearTimeout(J),J=setTimeout(ionic.keyboard.hide,350)}function T(){A()>et&&(et=A())}function M(e){ionic.scroll.isScrolling&&E(e)}function E(e){"TEXTAREA"!==e.target.tagName&&e.preventDefault()}function D(){var e=A();if(e===et)var t=0,n=setInterval(function(){t>10&&clearInterval(n),e=A(),e!==et&&(ionic.keyboard.landscape=et>e?!0:!1,et=e,clearInterval(n)),t++},50);else et=e}function O(){return ionic.keyboard.height?ionic.keyboard.height:ionic.Platform.isAndroid()?ionic.Platform.isFullScreen?275:A()<et?et-A():0:ionic.Platform.isIOS()?ionic.keyboard.landscape?206:ionic.Platform.isWebView()?260:216:275}function A(){return window.innerHeight||screen.height}function P(e){for(;e;){if(e.classList.contains(it))return!0;e=e.parentElement}return!1}function I(){return!!(window.cordova&&cordova.plugins&&cordova.plugins.Keyboard)}function L(){var e;for(e=0;e<document.head.children.length;e++)if("viewport"==document.head.children[e].name){ot=document.head.children[e];break}if(ot){var t,n=ot.content.toLowerCase().replace(/\s+/g,"").split(",");for(e=0;e<n.length;e++)n[e]&&(t=n[e].split("="),rt[t[0]]=t.length>1?t[1]:"_");B()}}function B(){var e=rt.width,t=rt.height,n=ionic.Platform,i=n.version(),o="device-width",r="device-height",s=ionic.viewport.orientation();delete rt.height,rt.width=o,n.isIPad()?i>7?delete rt.width:n.isWebView()?90==s?rt.height="0":7==i&&(rt.height=r):7>i&&(rt.height="0"):n.isIOS()&&(n.isWebView()?i>7?delete rt.width:7>i?t&&(rt.height="0"):7==i&&(rt.height=r):7>i&&t&&(rt.height="0")),(e!==rt.width||t!==rt.height)&&q()}function q(){var e,t=[];for(e in rt)rt[e]&&t.push(e+("_"==rt[e]?"":"="+rt[e]));ot.content=t.join(", ")}window.ionic=window.ionic||{},window.ionic.views={},window.ionic.version="1.0.0-rc.0",function(e){e.DelegateService=function(e){function t(){return!0}if(e.indexOf("$getByHandle")>-1)throw new Error("Method '$getByHandle' is implicitly added to each delegate service. Do not list it as a method.");return["$log",function(n){function i(e,t){this._instances=e,this.handle=t}function o(){this._instances=[]}function r(e){return function(){var t,i=this.handle,o=arguments,r=0;return this._instances.forEach(function(n){if((!i||i==n.$$delegateHandle)&&n.$$filterFn(n)){r++;var s=n[e].apply(n,o);1===r&&(t=s)}}),!r&&i?n.warn('Delegate for handle "'+i+'" could not find a corresponding element with delegate-handle="'+i+'"! '+e+"() was not called!\nPossible cause: If you are calling "+e+'() immediately, and your element with delegate-handle="'+i+'" is a child of your controller, then your element may not be compiled yet. Put a $timeout around your call to '+e+"() and try again."):t}}return e.forEach(function(e){i.prototype[e]=r(e)}),o.prototype=i.prototype,o.prototype._registerInstance=function(e,n,i){var o=this._instances;return e.$$delegateHandle=n,e.$$filterFn=i||t,o.push(e),function(){var t=o.indexOf(e);-1!==t&&o.splice(t,1)}},o.prototype.$getByHandle=function(e){return new i(this._instances,e)},new o}]}}(window.ionic),function(e,t,n){function i(){r=!0;for(var e=0;e<o.length;e++)n.requestAnimationFrame(o[e]);o=[],t.removeEventListener("DOMContentLoaded",i)}var o=[],r="complete"===t.readyState||"interactive"===t.readyState;r||t.addEventListener("DOMContentLoaded",i),e._rAF=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,16)}}();var s=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame;n.DomUtil={requestAnimationFrame:function(t){return e._rAF(t)},cancelAnimationFrame:function(e){s(e)},animationFrameThrottle:function(e){var t,i,o;return function(){t=arguments,o=this,i||(i=!0,n.requestAnimationFrame(function(){e.apply(o,t),i=!1}))}},contains:function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}},getPositionInParent:function(e){return{left:e.offsetLeft,top:e.offsetTop}},ready:function(e){r?n.requestAnimationFrame(e):o.push(e)},getTextBounds:function(n){if(t.createRange){var i=t.createRange();if(i.selectNodeContents(n),i.getBoundingClientRect){var o=i.getBoundingClientRect();if(o){var r=e.scrollX,s=e.scrollY;return{top:o.top+s,left:o.left+r,right:o.left+r+o.width,bottom:o.top+s+o.height,width:o.width,height:o.height}}}}return null},getChildIndex:function(e,t){if(t)for(var n,i=e.parentNode.children,o=0,r=0,s=i.length;s>o;o++)if(n=i[o],n.nodeName&&n.nodeName.toLowerCase()==t){if(n==e)return r;r++}return Array.prototype.slice.call(e.parentNode.children).indexOf(e)},swapNodes:function(e,t){t.parentNode.insertBefore(e,t)},elementIsDescendant:function(e,t,n){var i=e;do{if(i===t)return!0;i=i.parentNode}while(i&&i!==n);return!1},getParentWithClass:function(e,t,n){for(n=n||10;e.parentNode&&n--;){if(e.parentNode.classList&&e.parentNode.classList.contains(t))return e.parentNode;e=e.parentNode}return null},getParentOrSelfWithClass:function(e,t,n){for(n=n||10;e&&n--;){if(e.classList&&e.classList.contains(t))return e;e=e.parentNode}return null},rectContains:function(e,t,n,i,o,r){return n>e||e>o?!1:i>t||t>r?!1:!0},blurAll:function(){return t.activeElement&&t.activeElement!=t.body?(t.activeElement.blur(),t.activeElement):null},cachedAttr:function(e,t,n){if(e=e&&e.length&&e[0]||e,e&&e.setAttribute){var i="$attr-"+t;return arguments.length>2?e[i]!==n&&(e.setAttribute(t,n),e[i]=n):"undefined"==typeof e[i]&&(e[i]=e.getAttribute(t)),e[i]}},cachedStyles:function(e,t){if(e=e&&e.length&&e[0]||e,e&&e.style)for(var n in t)e["$style-"+n]!==t[n]&&(e.style[n]=e["$style-"+n]=t[n])}},n.requestAnimationFrame=n.DomUtil.requestAnimationFrame,n.cancelAnimationFrame=n.DomUtil.cancelAnimationFrame,n.animationFrameThrottle=n.DomUtil.animationFrameThrottle}(window,document,ionic),function(e){e.CustomEvent=function(){if("function"==typeof window.CustomEvent)return CustomEvent;var e=function(e,t){var n;t=t||{bubbles:!1,cancelable:!1,detail:void 0};try{n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(i){n=document.createEvent("Event");for(var o in t)n[o]=t[o];n.initEvent(e,t.bubbles,t.cancelable)}return n};return e.prototype=window.Event.prototype,e}(),e.EventController={VIRTUALIZED_EVENTS:["tap","swipe","swiperight","swipeleft","drag","hold","release"],trigger:function(t,n,i,o){var r=new e.CustomEvent(t,{detail:n,bubbles:!!i,cancelable:!!o});n&&n.target&&n.target.dispatchEvent&&n.target.dispatchEvent(r)||window.dispatchEvent(r)},on:function(t,n,i){for(var o=i||window,r=0,s=this.VIRTUALIZED_EVENTS.length;s>r;r++)if(t==this.VIRTUALIZED_EVENTS[r]){var a=new e.Gesture(i);return a.on(t,n),a}o.addEventListener(t,n)},off:function(e,t,n){n.removeEventListener(e,t)},onGesture:function(t,n,i,o){var r=new e.Gesture(i,o);return r.on(t,n),r},offGesture:function(e,t,n){e&&e.off(t,n)},handlePopState:function(){}},e.on=function(){e.EventController.on.apply(e.EventController,arguments)},e.off=function(){e.EventController.off.apply(e.EventController,arguments)},e.trigger=e.EventController.trigger,e.onGesture=function(){return e.EventController.onGesture.apply(e.EventController.onGesture,arguments)},e.offGesture=function(){return e.EventController.offGesture.apply(e.EventController.offGesture,arguments)}}(window.ionic),function(e){function t(){if(!e.Gestures.READY){e.Gestures.event.determineEventTypes();for(var t in e.Gestures.gestures)e.Gestures.gestures.hasOwnProperty(t)&&e.Gestures.detection.register(e.Gestures.gestures[t]);e.Gestures.event.onTouch(e.Gestures.DOCUMENT,e.Gestures.EVENT_MOVE,e.Gestures.detection.detect),e.Gestures.event.onTouch(e.Gestures.DOCUMENT,e.Gestures.EVENT_END,e.Gestures.detection.detect),e.Gestures.READY=!0}}e.Gesture=function(t,n){return new e.Gestures.Instance(t,n||{})},e.Gestures={},e.Gestures.defaults={stop_browser_behavior:"disable-user-behavior"},e.Gestures.HAS_POINTEREVENTS=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,e.Gestures.HAS_TOUCHEVENTS="ontouchstart"in window,e.Gestures.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,e.Gestures.NO_MOUSEEVENTS=e.Gestures.HAS_TOUCHEVENTS&&window.navigator.userAgent.match(e.Gestures.MOBILE_REGEX),e.Gestures.EVENT_TYPES={},e.Gestures.DIRECTION_DOWN="down",e.Gestures.DIRECTION_LEFT="left",e.Gestures.DIRECTION_UP="up",e.Gestures.DIRECTION_RIGHT="right",e.Gestures.POINTER_MOUSE="mouse",e.Gestures.POINTER_TOUCH="touch",e.Gestures.POINTER_PEN="pen",e.Gestures.EVENT_START="start",e.Gestures.EVENT_MOVE="move",e.Gestures.EVENT_END="end",e.Gestures.DOCUMENT=window.document,e.Gestures.plugins={},e.Gestures.READY=!1,e.Gestures.Instance=function(n,i){var o=this;return null!==n?(t(),this.element=n,this.enabled=!0,this.options=e.Gestures.utils.extend(e.Gestures.utils.extend({},e.Gestures.defaults),i||{}),this.options.stop_browser_behavior&&e.Gestures.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),e.Gestures.event.onTouch(n,e.Gestures.EVENT_START,function(t){o.enabled&&e.Gestures.detection.startDetect(o,t)}),this):void 0},e.Gestures.Instance.prototype={on:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.addEventListener(n[i],t,!1);return this},off:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.removeEventListener(n[i],t,!1);return this},trigger:function(t,n){var i=e.Gestures.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n;var o=this.element;return e.Gestures.utils.hasParent(n.target,o)&&(o=n.target),o.dispatchEvent(i),this},enable:function(e){return this.enabled=e,this}};var n=null,i=!1,o=!1;e.Gestures.event={bindDom:function(e,t,n){for(var i=t.split(" "),o=0;o<i.length;o++)e.addEventListener(i[o],n,!1)},onTouch:function(t,r,s){var a=this;this.bindDom(t,e.Gestures.EVENT_TYPES[r],function(l){var u=l.type.toLowerCase();if(!u.match(/mouse/)||!o){u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===l.which?i=!0:u.match(/mouse/)&&1!==l.which&&(i=!1),u.match(/touch|pointer/)&&(o=!0);var c=0;i&&(e.Gestures.HAS_POINTEREVENTS&&r!=e.Gestures.EVENT_END?c=e.Gestures.PointerEvent.updatePointer(r,l):u.match(/touch/)?c=l.touches.length:o||(c=u.match(/up/)?0:1),c>0&&r==e.Gestures.EVENT_END?r=e.Gestures.EVENT_MOVE:c||(r=e.Gestures.EVENT_END),(c||null===n)&&(n=l),s.call(e.Gestures.detection,a.collectEventData(t,r,a.getTouchList(n,r),l)),e.Gestures.HAS_POINTEREVENTS&&r==e.Gestures.EVENT_END&&(c=e.Gestures.PointerEvent.updatePointer(r,l))),c||(n=null,i=!1,o=!1,e.Gestures.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=e.Gestures.HAS_POINTEREVENTS?e.Gestures.PointerEvent.getEvents():e.Gestures.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_START]=t[0],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_MOVE]=t[1],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_END]=t[2]},getTouchList:function(t){return e.Gestures.HAS_POINTEREVENTS?e.Gestures.PointerEvent.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,n,i,o){var r=e.Gestures.POINTER_TOUCH;return(o.type.match(/mouse/)||e.Gestures.PointerEvent.matchType(e.Gestures.POINTER_MOUSE,o))&&(r=e.Gestures.POINTER_MOUSE),{center:e.Gestures.utils.getCenter(i),timeStamp:(new Date).getTime(),target:o.target,touches:i,eventType:n,pointerType:r,srcEvent:o,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return e.Gestures.detection.stopDetect()}}}},e.Gestures.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(t,n){return t==e.Gestures.EVENT_END?this.pointers={}:(n.identifier=n.pointerId,this.pointers[n.pointerId]=n),Object.keys(this.pointers).length},matchType:function(t,n){if(!n.pointerType)return!1;var i={};return i[e.Gestures.POINTER_MOUSE]=n.pointerType==n.MSPOINTER_TYPE_MOUSE||n.pointerType==e.Gestures.POINTER_MOUSE,i[e.Gestures.POINTER_TOUCH]=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType==e.Gestures.POINTER_TOUCH,i[e.Gestures.POINTER_PEN]=n.pointerType==n.MSPOINTER_TYPE_PEN||n.pointerType==e.Gestures.POINTER_PEN,i[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},e.Gestures.utils={extend:function(e,t,n){for(var i in t)void 0!==e[i]&&n||(e[i]=t[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],i=0,o=e.length;o>i;i++)t.push(e[i].pageX),n.push(e[i].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,n){var i=Math.abs(t.pageX-n.pageX),o=Math.abs(t.pageY-n.pageY);return i>=o?t.pageX-n.pageX>0?e.Gestures.DIRECTION_LEFT:e.Gestures.DIRECTION_RIGHT:t.pageY-n.pageY>0?e.Gestures.DIRECTION_UP:e.Gestures.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(t){return t==e.Gestures.DIRECTION_UP||t==e.Gestures.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){e&&e.classList&&(e.classList.add(t),e.onselectstart=function(){return!1})}},e.Gestures.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,n){this.current||(this.stopped=!1,this.current={inst:t,startEvent:e.Gestures.utils.extend({},n),lastEvent:!1,name:""},this.detect(n))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);for(var n=this.current.inst.options,i=0,o=this.gestures.length;o>i;i++){var r=this.gestures[i];if(!this.stopped&&n[r.name]!==!1&&r.handler.call(r,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==e.Gestures.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=e.Gestures.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var n=this.current.startEvent;if(n&&(t.touches.length!=n.touches.length||t.touches===n.touches)){n.touches=[];for(var i=0,o=t.touches.length;o>i;i++)n.touches.push(e.Gestures.utils.extend({},t.touches[i]))}var r=t.timeStamp-n.timeStamp,s=t.center.pageX-n.center.pageX,a=t.center.pageY-n.center.pageY,l=e.Gestures.utils.getVelocity(r,s,a);return e.Gestures.utils.extend(t,{deltaTime:r,deltaX:s,deltaY:a,velocityX:l.x,velocityY:l.y,distance:e.Gestures.utils.getDistance(n.center,t.center),angle:e.Gestures.utils.getAngle(n.center,t.center),direction:e.Gestures.utils.getDirection(n.center,t.center),scale:e.Gestures.utils.getScale(n.touches,t.touches),rotation:e.Gestures.utils.getRotation(n.touches,t.touches),startEvent:n}),t},register:function(t){var n=t.defaults||{};return void 0===n[t.name]&&(n[t.name]=!0),e.Gestures.utils.extend(e.Gestures.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},e.Gestures.gestures=e.Gestures.gestures||{},e.Gestures.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,n){switch(t.eventType){case e.Gestures.EVENT_START:clearTimeout(this.timer),e.Gestures.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==e.Gestures.detection.current.name&&(e.tap.cancelClick(),n.trigger("hold",t))},n.options.hold_timeout);break;case e.Gestures.EVENT_MOVE:t.distance>n.options.hold_threshold&&clearTimeout(this.timer);break;case e.Gestures.EVENT_END:clearTimeout(this.timer)}}},e.Gestures.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,n){if(t.eventType==e.Gestures.EVENT_END&&"touchcancel"!=t.srcEvent.type){var i=e.Gestures.detection.previous,o=!1;if(t.deltaTime>n.options.tap_max_touchtime||t.distance>n.options.tap_max_distance)return;i&&"tap"==i.name&&t.timeStamp-i.lastEvent.timeStamp<n.options.doubletap_interval&&t.distance<n.options.doubletap_distance&&(n.trigger("doubletap",t),o=!0),(!o||n.options.tap_always)&&(e.Gestures.detection.current.name="tap",n.trigger("tap",t))}}},e.Gestures.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.4},handler:function(t,n){if(t.eventType==e.Gestures.EVENT_END){if(n.options.swipe_max_touches>0&&t.touches.length>n.options.swipe_max_touches)return;(t.velocityX>n.options.swipe_velocity||t.velocityY>n.options.swipe_velocity)&&(n.trigger(this.name,t),n.trigger(this.name+t.direction,t))}}},e.Gestures.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!0,drag_block_vertical:!0,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,n){if("touchstart"==t.srcEvent.type||"touchend"==t.srcEvent.type?this.preventedFirstMove=!1:this.preventedFirstMove||"touchmove"!=t.srcEvent.type||(t.srcEvent.preventDefault(),this.preventedFirstMove=!0),e.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),void(this.triggered=!1);if(!(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches))switch(t.eventType){case e.Gestures.EVENT_START:this.triggered=!1;break;case e.Gestures.EVENT_MOVE:if(t.distance<n.options.drag_min_distance&&e.Gestures.detection.current.name!=this.name)return;if(e.Gestures.detection.current.name!=this.name&&(e.Gestures.detection.current.name=this.name,n.options.correct_for_drag_min_distance)){var i=Math.abs(n.options.drag_min_distance/t.distance);e.Gestures.detection.current.startEvent.center.pageX+=t.deltaX*i,e.Gestures.detection.current.startEvent.center.pageY+=t.deltaY*i,t=e.Gestures.detection.extendEventData(t)}(e.Gestures.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var o=e.Gestures.detection.current.lastEvent.direction;t.drag_locked_to_axis&&o!==t.direction&&(t.direction=e.Gestures.utils.isVertical(o)?t.deltaY<0?e.Gestures.DIRECTION_UP:e.Gestures.DIRECTION_DOWN:t.deltaX<0?e.Gestures.DIRECTION_LEFT:e.Gestures.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t),(n.options.drag_block_vertical&&e.Gestures.utils.isVertical(t.direction)||n.options.drag_block_horizontal&&!e.Gestures.utils.isVertical(t.direction))&&t.preventDefault();break;case e.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},e.Gestures.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,n){if(e.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2))switch(n.options.transform_always_block&&t.preventDefault(),t.eventType){case e.Gestures.EVENT_START:this.triggered=!1;break;case e.Gestures.EVENT_MOVE:var i=Math.abs(1-t.scale),o=Math.abs(t.rotation);if(i<n.options.transform_min_scale&&o<n.options.transform_min_rotation)return;e.Gestures.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),o>n.options.transform_min_rotation&&n.trigger("rotate",t),i>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case e.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},e.Gestures.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){return n.options.prevent_mouseevents&&t.pointerType==e.Gestures.POINTER_MOUSE?void t.stopDetect():(n.options.prevent_default&&t.preventDefault(),void(t.eventType==e.Gestures.EVENT_START&&n.trigger(this.name,t)))}},e.Gestures.gestures.Release={name:"release",index:1/0,handler:function(t,n){t.eventType==e.Gestures.EVENT_END&&n.trigger(this.name,t)}}}(window.ionic),function(e,t,n){function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function o(){d.isWebView()?t.addEventListener("deviceready",r,!1):r(),s&&e.removeEventListener("load",o,!1)}function r(){d.isReady=!0,d.detect();for(var e=0;e<f.length;e++)f[e]();f=[],n.trigger("platformready",{target:t}),c(function(){t.body.classList.add("platform-ready")})}var s,a="ios",l="android",u="windowsphone",c=n.requestAnimationFrame,d=n.Platform={navigator:e.navigator,isReady:!1,isFullScreen:!1,platforms:null,grade:null,ua:navigator.userAgent,ready:function(e){d.isReady?e():f.push(e)},detect:function(){d._checkPlatforms(),c(function(){for(var e=0;e<d.platforms.length;e++)t.body.classList.add("platform-"+d.platforms[e])})},setGrade:function(e){var n=d.grade;d.grade=e,c(function(){n&&t.body.classList.remove("grade-"+n),t.body.classList.add("grade-"+e)})},device:function(){return e.device||{}},_checkPlatforms:function(){d.platforms=[];var e="a";d.isWebView()?(d.platforms.push("webview"),d.platforms.push("cordova")):d.platforms.push("browser"),d.isIPad()&&d.platforms.push("ipad");var t=d.platform();if(t){d.platforms.push(t);var n=d.version();if(n){var i=n.toString();i.indexOf(".")>0?i=i.replace(".","_"):i+="_0",d.platforms.push(t+i.split("_")[0]),d.platforms.push(t+i),d.isAndroid()&&4.4>n?e=4>n?"c":"b":d.isWindowsPhone()&&(e="b")}}d.setGrade(e)},isWebView:function(){return!(!e.cordova&&!e.PhoneGap&&!e.phonegap)},isIPad:function(){return/iPad/i.test(d.navigator.platform)?!0:/iPad/i.test(d.ua)},isIOS:function(){return d.is(a)},isAndroid:function(){return d.is(l)},isWindowsPhone:function(){return d.is(u)},platform:function(){return null===p&&d.setPlatform(d.device().platform),p},setPlatform:function(e){p="undefined"!=typeof e&&null!==e&&e.length?e.toLowerCase():i("ionicplatform")?i("ionicplatform"):d.ua.indexOf("Android")>0?l:/iPhone|iPad|iPod/.test(d.ua)?a:d.ua.indexOf("Windows Phone")>-1?u:d.navigator.platform&&navigator.platform.toLowerCase().split(" ")[0]||""},version:function(){return null===h&&d.setVersion(d.device().version),h},setVersion:function(e){if("undefined"!=typeof e&&null!==e&&(e=e.split("."),e=parseFloat(e[0]+"."+(e.length>1?e[1]:0)),!isNaN(e)))return void(h=e);h=0;var t=d.platform(),n={android:/Android (\d+).(\d+)?/,ios:/OS (\d+)_(\d+)?/,windowsphone:/Windows Phone (\d+).(\d+)?/};n[t]&&(e=d.ua.match(n[t]),e&&e.length>2&&(h=parseFloat(e[1]+"."+e[2])))},is:function(e){if(e=e.toLowerCase(),d.platforms)for(var t=0;t<d.platforms.length;t++)if(d.platforms[t]===e)return!0;var n=d.platform();return n?n===e.toLowerCase():d.ua.toLowerCase().indexOf(e)>=0},exitApp:function(){d.ready(function(){navigator.app&&navigator.app.exitApp&&navigator.app.exitApp()})},showStatusBar:function(n){d._showStatusBar=n,d.ready(function(){c(function(){d._showStatusBar?(e.StatusBar&&e.StatusBar.show(),t.body.classList.remove("status-bar-hide")):(e.StatusBar&&e.StatusBar.hide(),t.body.classList.add("status-bar-hide"))})})},fullScreen:function(e,i){d.isFullScreen=e!==!1,n.DomUtil.ready(function(){c(function(){for(var e=t.getElementsByClassName("pane"),n=0;n<e.length;n++)e[n].style.height=e[n].offsetHeight+"px";d.isFullScreen?t.body.classList.add("fullscreen"):t.body.classList.remove("fullscreen")}),d.showStatusBar(i===!0)})}},p=null,h=null,f=[];"complete"===t.readyState?o():(s=!0,e.addEventListener("load",o,!1))}(this,document,ionic),function(e,t){"use strict";t.CSS={},function(){var n,i=["webkitTransform","transform","-webkit-transform","webkit-transform","-moz-transform","moz-transform","MozTransform","mozTransform","msTransform"];for(n=0;n<i.length;n++)if(void 0!==e.documentElement.style[i[n]]){t.CSS.TRANSFORM=i[n];break}for(i=["webkitTransition","mozTransition","msTransition","transition"],n=0;n<i.length;n++)if(void 0!==e.documentElement.style[i[n]]){t.CSS.TRANSITION=i[n];break}var o=t.CSS.TRANSITION.indexOf("webkit")>-1;t.CSS.TRANSITION_DURATION=(o?"-webkit-":"")+"transition-duration",t.CSS.TRANSITIONEND=(o?"webkitTransitionEnd ":"")+"transitionend"}(),"classList"in e.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function e(e){return function(){var n,i=t.className.split(/\s+/);for(n=0;n<arguments.length;n++)e(i,i.indexOf(arguments[n]),arguments[n]);t.className=i.join(" ")}}var t=this;return{add:e(function(e,t,n){~t||e.push(n)}),remove:e(function(e,t){~t&&e.splice(t,1)}),toggle:e(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}}}})}(document,ionic);var j,N,G,F,R,V,U,H,z="touchmove",W=12,K=50,Y={click:i,mousedown:o,mouseup:r,mousemove:s,touchstart:a,touchend:l,touchcancel:c,touchmove:u,pointerdown:a,pointerup:l,pointercancel:c,pointermove:u,MSPointerDown:a,MSPointerUp:l,MSPointerCancel:c,MSPointerMove:u,focusin:g,focusout:m};ionic.tap={register:function(t){return j=t,e("click",!0,!0),e("mouseup"),e("mousedown"),window.navigator.pointerEnabled?(e("pointerdown"),e("pointerup"),e("pointcancel"),z="pointermove"):window.navigator.msPointerEnabled?(e("MSPointerDown"),e("MSPointerUp"),e("MSPointerCancel"),z="MSPointerMove"):(e("touchstart"),e("touchend"),e("touchcancel")),e("focusin"),e("focusout"),function(){for(var t in Y)e(t,!1);j=null,N=null,G=!1,R=!1,V=null}},ignoreScrollStart:function(e){return e.defaultPrevented||/^(file|range)$/i.test(e.target.type)||"true"==(e.target.dataset?e.target.dataset.preventScroll:e.target.getAttribute("data-prevent-scroll"))||!!/^(object|embed)$/i.test(e.target.tagName)||ionic.tap.isElementTapDisabled(e.target)
},isTextInput:function(e){return!!e&&("TEXTAREA"==e.tagName||"true"===e.contentEditable||"INPUT"==e.tagName&&!/^(radio|checkbox|range|file|submit|reset)$/i.test(e.type))},isDateInput:function(e){return!!e&&"INPUT"==e.tagName&&/^(date|time|datetime-local|month|week)$/i.test(e.type)},isLabelWithTextInput:function(e){var t=y(e,!1);return!!t&&ionic.tap.isTextInput(_(t))},containsOrIsTextInput:function(e){return ionic.tap.isTextInput(e)||ionic.tap.isLabelWithTextInput(e)},cloneFocusedInput:function(e){ionic.tap.hasCheckedClone||(ionic.tap.hasCheckedClone=!0,ionic.requestAnimationFrame(function(){var t=e.querySelector(":focus");if(ionic.tap.isTextInput(t)){var n=t.cloneNode(!0);n.value=t.value,n.classList.add("cloned-text-input"),n.readOnly=!0,t.isContentEditable&&(n.contentEditable=t.contentEditable,n.innerHTML=t.innerHTML),t.parentElement.insertBefore(n,t),t.classList.add("previous-input-focus"),n.scrollTop=t.scrollTop}}))},hasCheckedClone:!1,removeClonedInputs:function(e){ionic.tap.hasCheckedClone=!1,ionic.requestAnimationFrame(function(){var t,n=e.querySelectorAll(".cloned-text-input"),i=e.querySelectorAll(".previous-input-focus");for(t=0;t<n.length;t++)n[t].parentElement.removeChild(n[t]);for(t=0;t<i.length;t++)i[t].classList.remove("previous-input-focus"),i[t].style.top="",i[t].focus()})},requiresNativeClick:function(e){return!e||e.disabled||/^(file|range)$/i.test(e.type)||/^(object|video)$/i.test(e.tagName)||ionic.tap.isLabelContainingFileInput(e)?!0:ionic.tap.isElementTapDisabled(e)},isLabelContainingFileInput:function(e){var t=y(e);if("LABEL"!==t.tagName)return!1;var n=t.querySelector("input[type=file]");return n&&n.disabled===!1?!0:!1},isElementTapDisabled:function(e){if(e&&1===e.nodeType)for(var t=e;t;){if("true"==(t.dataset?t.dataset.tapDisabled:t.getAttribute("data-tap-disabled")))return!0;t=t.parentElement}return!1},setTolerance:function(e,t){W=e,K=t},cancelClick:function(){R=!0},pointerCoord:function(e){var t={x:0,y:0};if(e){var n=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||n[0];i&&(t.x=i.clientX||i.pageX||0,t.y=i.clientY||i.pageY||0)}return t}},ionic.DomUtil.ready(function(){var e="undefined"!=typeof angular?angular:null;(!e||e&&!e.scenario)&&ionic.tap.register(document)}),function(e,t){"use strict";function n(){r={},t.requestAnimationFrame(o)}function i(){for(var e in r)r[e]&&(r[e].classList.add(l),s[e]=r[e]);r={}}function o(){if(t.transition&&t.transition.isActive)return void setTimeout(o,400);for(var e in s)s[e]&&(s[e].classList.remove(l),delete s[e])}var r={},s={},a=0,l="activated";t.activator={start:function(e){var n=t.tap.pointerCoord(e).x;n>0&&45>n||t.requestAnimationFrame(function(){if(!(t.scroll&&t.scroll.isScrolling||t.tap.requiresNativeClick(e.target))){for(var n,o=e.target,s=0;6>s&&o&&1===o.nodeType;s++){if(n&&o.classList.contains("item")){n=o;break}if("A"==o.tagName||"BUTTON"==o.tagName||o.hasAttribute("ng-click")){n=o;break}if(o.classList.contains("button")){n=o;break}if("ION-CONTENT"==o.tagName||o.classList.contains("pane")||"BODY"==o.tagName)break;o=o.parentElement}n&&(r[a]=n,t.requestAnimationFrame(i),a=a>29?0:a+1)}})},end:function(){setTimeout(n,200)}}}(document,ionic),function(e){var t=["0","0","0"];e.Utils={arrayMove:function(e,t,n){if(n>=e.length)for(var i=n-e.length;i--+1;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e},proxy:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}},debounce:function(e,t,n){var i,o,r,s,a;return function(){r=this,o=arguments,s=new Date;var l=function(){var u=new Date-s;t>u?i=setTimeout(l,t-u):(i=null,n||(a=e.apply(r,o)))},u=n&&!i;return i||(i=setTimeout(l,t)),u&&(a=e.apply(r,o)),a}},throttle:function(e,t,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:Date.now(),s=null,r=e.apply(i,o)};return function(){var u=Date.now();a||n.leading!==!1||(a=u);var c=t-(u-a);return i=this,o=arguments,0>=c?(clearTimeout(s),s=null,a=u,r=e.apply(i,o)):s||n.trailing===!1||(s=setTimeout(l,c)),r}},inherit:function(t,n){var i,o=this;i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return o.apply(this,arguments)},e.extend(i,o,n);var r=function(){this.constructor=i};return r.prototype=o.prototype,i.prototype=new r,t&&e.extend(i.prototype,t),i.__super__=o.prototype,i},extend:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n++){var i=t[n];if(i)for(var o in i)e[o]=i[o]}return e},nextUid:function(){for(var e,n=t.length;n;){if(n--,e=t[n].charCodeAt(0),57==e)return t[n]="A",t.join("");if(90!=e)return t[n]=String.fromCharCode(e+1),t.join("");t[n]="0"}return t.unshift("0"),t.join("")},disconnectScope:function(e){if(e&&e.$root!==e){var t=e.$parent;e.$$disconnected=!0,e.$broadcast("$ionic.disconnectScope"),t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e.$parent;e.$$disconnected=!1,e.$broadcast("$ionic.reconnectScope"),e.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=e,t.$$childTail=e):t.$$childHead=t.$$childTail=e}},isScopeDisconnected:function(e){for(var t=e;t;){if(t.$$disconnected)return!0;t=t.$parent}return!1}},e.inherit=e.Utils.inherit,e.extend=e.Utils.extend,e.throttle=e.Utils.throttle,e.proxy=e.Utils.proxy,e.debounce=e.Utils.debounce}(window.ionic);var X,J,Z,Q,et=A(),tt=0,nt="keyboard-open",it="scroll";ionic.keyboard={isOpen:!1,height:null,landscape:!1,hide:function(){clearTimeout(Z),clearTimeout(J),clearTimeout(Q),ionic.keyboard.isOpen=!1,ionic.trigger("resetScrollView",{target:X},!0),ionic.requestAnimationFrame(function(){document.body.classList.remove(nt)}),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerMove",E):document.removeEventListener("touchmove",E),document.removeEventListener("keydown",M),I()&&cordova.plugins.Keyboard.close()},show:function(){I()&&cordova.plugins.Keyboard.show()}},ionic.Platform.ready(function(){T(),setTimeout(T,999),window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",w,!1):document.addEventListener("touchstart",w,!1)});var ot,rt={};ionic.viewport={orientation:function(){return window.innerWidth>window.innerHeight?90:0}},ionic.Platform.ready(function(){L(),window.addEventListener("orientationchange",function(){setTimeout(B,1e3)},!1)}),function(e){"use strict";e.views.View=function(){this.initialize.apply(this,arguments)},e.views.View.inherit=e.inherit,e.extend(e.views.View.prototype,{initialize:function(){}})}(window.ionic);var st={effect:{}};!function(e){var t=Date.now||function(){return+new Date},n=60,i=1e3,o={},r=1;st.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,n=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(n=!1),n)return function(e,n){t(e,n)};var i=60,o={},r=0,s=1,a=null,l=+new Date;return function(e){var t=s++;return o[t]=e,r++,null===a&&(a=setInterval(function(){var e=+new Date,t=o;o={},r=0;for(var n in t)t.hasOwnProperty(n)&&(t[n](e),l=e);e-l>2500&&(clearInterval(a),a=null)},1e3/i)),t}}(),stop:function(e){var t=null!=o[e];return t&&(o[e]=null),t},isRunning:function(e){return null!=o[e]},start:function(e,s,a,l,u,c){var d=t(),p=d,h=0,f=0,g=r++;if(c||(c=document.body),g%20===0){var m={};for(var v in o)m[v]=!0;o=m}var b=function(r){var m=r!==!0,v=t();if(!o[g]||s&&!s(g))return o[g]=null,void(a&&a(n-f/((v-d)/i),g,!1));if(m)for(var y=Math.round((v-p)/(i/n))-1,_=0;_<Math.min(y,4);_++)b(!0),f++;l&&(h=(v-d)/l,h>1&&(h=1));var w=u?u(h):h;e(w,v,m)!==!1&&1!==h||!m?m&&(p=v,st.effect.Animate.requestAnimationFrame(b,c)):(o[g]=null,a&&a(n-f/((v-d)/i),g,1===h||null==l))};return o[g]=!0,st.effect.Animate.requestAnimationFrame(b,c),g}}}(this),!function(e){var t=function(){},n=function(e){return Math.pow(e-1,3)+1},i=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};e.views.Scroll=e.views.View.inherit({initialize:function(n){var i=this;i.__container=n.el,i.__content=n.el.firstElementChild,setTimeout(function(){i.__container&&i.__content&&(i.__container.scrollTop=0,i.__content.scrollTop=0)}),i.options={scrollingX:!1,scrollbarX:!0,scrollingY:!0,scrollbarY:!0,startX:0,startY:0,wheelDampen:6,minScrollbarSizeX:5,minScrollbarSizeY:5,scrollbarsFade:!0,scrollbarFadeDelay:300,scrollbarResizeFadeDelay:1e3,animating:!0,animationDuration:250,decelVelocityThreshold:4,decelVelocityThresholdPaging:4,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,deceleration:.97,preventDefault:!1,scrollingComplete:t,penetrationDeceleration:.03,penetrationAcceleration:.08,scrollEventInterval:10,freeze:!1,getContentWidth:function(){return Math.max(i.__content.scrollWidth,i.__content.offsetWidth)},getContentHeight:function(){return Math.max(i.__content.scrollHeight,i.__content.offsetHeight+2*i.__content.offsetTop)}};for(var o in n)i.options[o]=n[o];i.hintResize=e.debounce(function(){i.resize()},1e3,!0),i.onScroll=function(){e.scroll.isScrolling?(clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(i.setScrollStop,80)):setTimeout(i.setScrollStart,50)},i.freeze=function(e){return arguments.length&&(i.options.freeze=e),i.options.freeze},i.setScrollStart=function(){e.scroll.isScrolling=Math.abs(e.scroll.lastTop-i.__scrollTop)>1,clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(i.setScrollStop,80)},i.setScrollStop=function(){e.scroll.isScrolling=!1,e.scroll.lastTop=i.__scrollTop},i.triggerScrollEvent=e.throttle(function(){i.onScroll(),e.trigger("scroll",{scrollTop:i.__scrollTop,scrollLeft:i.__scrollLeft,target:i.__container})},i.options.scrollEventInterval),i.triggerScrollEndEvent=function(){e.trigger("scrollend",{scrollTop:i.__scrollTop,scrollLeft:i.__scrollLeft,target:i.__container})},i.__scrollLeft=i.options.startX,i.__scrollTop=i.options.startY,i.__callback=i.getRenderFn(),i.__initEventHandlers(),i.__createScrollbars()},run:function(){this.resize(),this.__fadeScrollbars("out",this.options.scrollbarResizeFadeDelay)},__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,__transformProperty:null,__perspectiveProperty:null,__indicatorX:null,__indicatorY:null,__scrollbarFadeTimeout:null,__didWaitForSize:null,__sizerTimeout:null,__initEventHandlers:function(){function t(e){return e.touches&&e.touches.length?e.touches:[{pageX:e.pageX,pageY:e.pageY}]}var n=this,i=n.__container;if(n.scrollChildIntoView=function(t){var o;if(!n.isScrolledIntoView){if(e.Platform.isIOS()||e.Platform.isFullScreen){o=i.getBoundingClientRect().bottom;var r=t.detail.viewportHeight-o,s=Math.max(0,t.detail.keyboardHeight-r);i.style.height=i.clientHeight-s+"px",i.style.overflow="visible",n.resize()}n.isScrolledIntoView=!0}if(t.detail.isElementUnderKeyboard){var a;a=e.Platform.isAndroid()&&!e.Platform.isFullScreen?e.Platform.version()<4.4?500:350:80,e.scroll.isScrolling=!0,setTimeout(function(){var r=.5*i.clientHeight;o=i.getBoundingClientRect().bottom;var s=t.detail.elementTop-o,a=s+r;a>0&&(e.tap.cloneFocusedInput(i,n),n.scrollBy(0,a,!0),n.onScroll())},a)}t.stopPropagation()},n.resetScrollView=function(){n.isScrolledIntoView&&(n.isScrolledIntoView=!1,i.style.height="",i.style.overflow="",n.resize(),e.scroll.isScrolling=!1)},i.addEventListener("scrollChildIntoView",n.scrollChildIntoView),i.addEventListener("resetScrollView",n.resetScrollView),n.touchStart=function(i){if(n.startCoordinates=e.tap.pointerCoord(i),!e.tap.ignoreScrollStart(i)){if(n.__isDown=!0,e.tap.containsOrIsTextInput(i.target)||"SELECT"===i.target.tagName)return void(n.__hasStarted=!1);n.__isSelectable=!0,n.__enableScrollY=!0,n.__hasStarted=!0,n.doTouchStart(t(i),i.timeStamp),i.preventDefault()}},n.touchMove=function(o){if(!(n.options.freeze||!n.__isDown||!n.__isDown&&o.defaultPrevented||"TEXTAREA"===o.target.tagName&&o.target.parentElement.querySelector(":focus"))){if(!n.__hasStarted&&(e.tap.containsOrIsTextInput(o.target)||"SELECT"===o.target.tagName))return n.__hasStarted=!0,n.doTouchStart(t(o),o.timeStamp),void o.preventDefault();if(n.startCoordinates){var r=e.tap.pointerCoord(o);n.__isSelectable&&e.tap.isTextInput(o.target)&&Math.abs(n.startCoordinates.x-r.x)>20&&(n.__enableScrollY=!1,n.__isSelectable=!0),n.__enableScrollY&&Math.abs(n.startCoordinates.y-r.y)>10&&(n.__isSelectable=!1,e.tap.cloneFocusedInput(i,n))}n.doTouchMove(t(o),o.timeStamp,o.scale),n.__isDown=!0}},n.touchMoveBubble=function(e){n.__isDown&&n.options.preventDefault&&e.preventDefault()},n.touchEnd=function(t){n.__isDown&&(n.doTouchEnd(t,t.timeStamp),n.__isDown=!1,n.__hasStarted=!1,n.__isSelectable=!0,n.__enableScrollY=!0,n.__isDragging||n.__isDecelerating||n.__isAnimating||e.tap.removeClonedInputs(i,n))},n.mouseWheel=e.animationFrameThrottle(function(t){var i=e.DomUtil.getParentOrSelfWithClass(t.target,"ionic-scroll");n.options.freeze||i!==n.__container||(n.hintResize(),n.scrollBy((t.wheelDeltaX||t.deltaX||0)/n.options.wheelDampen,(-t.wheelDeltaY||t.deltaY||0)/n.options.wheelDampen),n.__fadeScrollbars("in"),clearTimeout(n.__wheelHideBarTimeout),n.__wheelHideBarTimeout=setTimeout(function(){n.__fadeScrollbars("out")},100))}),"ontouchstart"in window)i.addEventListener("touchstart",n.touchStart,!1),n.options.preventDefault&&i.addEventListener("touchmove",n.touchMoveBubble,!1),document.addEventListener("touchmove",n.touchMove,!1),document.addEventListener("touchend",n.touchEnd,!1),document.addEventListener("touchcancel",n.touchEnd,!1);else if(window.navigator.pointerEnabled)i.addEventListener("pointerdown",n.touchStart,!1),n.options.preventDefault&&i.addEventListener("pointermove",n.touchMoveBubble,!1),document.addEventListener("pointermove",n.touchMove,!1),document.addEventListener("pointerup",n.touchEnd,!1),document.addEventListener("pointercancel",n.touchEnd,!1),document.addEventListener("wheel",n.mouseWheel,!1);else if(window.navigator.msPointerEnabled)i.addEventListener("MSPointerDown",n.touchStart,!1),n.options.preventDefault&&i.addEventListener("MSPointerMove",n.touchMoveBubble,!1),document.addEventListener("MSPointerMove",n.touchMove,!1),document.addEventListener("MSPointerUp",n.touchEnd,!1),document.addEventListener("MSPointerCancel",n.touchEnd,!1),document.addEventListener("wheel",n.mouseWheel,!1);else{var o=!1;n.mouseDown=function(i){e.tap.ignoreScrollStart(i)||"SELECT"===i.target.tagName||(n.doTouchStart(t(i),i.timeStamp),e.tap.isTextInput(i.target)||i.preventDefault(),o=!0)},n.mouseMove=function(e){n.options.freeze||!o||!o&&e.defaultPrevented||(n.doTouchMove(t(e),e.timeStamp),o=!0)},n.mouseMoveBubble=function(e){o&&n.options.preventDefault&&e.preventDefault()},n.mouseUp=function(e){o&&(n.doTouchEnd(e,e.timeStamp),o=!1)},i.addEventListener("mousedown",n.mouseDown,!1),n.options.preventDefault&&i.addEventListener("mousemove",n.mouseMoveBubble,!1),document.addEventListener("mousemove",n.mouseMove,!1),document.addEventListener("mouseup",n.mouseUp,!1),document.addEventListener("mousewheel",n.mouseWheel,!1),document.addEventListener("wheel",n.mouseWheel,!1)}},__cleanup:function(){var n=this,i=n.__container;i.removeEventListener("touchstart",n.touchStart),i.removeEventListener("touchmove",n.touchMoveBubble),document.removeEventListener("touchmove",n.touchMove),document.removeEventListener("touchend",n.touchEnd),document.removeEventListener("touchcancel",n.touchCancel),i.removeEventListener("pointerdown",n.touchStart),i.removeEventListener("pointermove",n.touchMoveBubble),document.removeEventListener("pointermove",n.touchMove),document.removeEventListener("pointerup",n.touchEnd),document.removeEventListener("pointercancel",n.touchEnd),i.removeEventListener("MSPointerDown",n.touchStart),i.removeEventListener("MSPointerMove",n.touchMoveBubble),document.removeEventListener("MSPointerMove",n.touchMove),document.removeEventListener("MSPointerUp",n.touchEnd),document.removeEventListener("MSPointerCancel",n.touchEnd),i.removeEventListener("mousedown",n.mouseDown),i.removeEventListener("mousemove",n.mouseMoveBubble),document.removeEventListener("mousemove",n.mouseMove),document.removeEventListener("mouseup",n.mouseUp),document.removeEventListener("mousewheel",n.mouseWheel),document.removeEventListener("wheel",n.mouseWheel),i.removeEventListener("scrollChildIntoView",n.scrollChildIntoView),i.removeEventListener("resetScrollView",n.resetScrollView),e.tap.removeClonedInputs(i,n),delete n.__container,delete n.__content,delete n.__indicatorX,delete n.__indicatorY,delete n.options.el,n.__callback=n.scrollChildIntoView=n.resetScrollView=t,n.mouseMove=n.mouseDown=n.mouseUp=n.mouseWheel=n.touchStart=n.touchMove=n.touchEnd=n.touchCancel=t,n.resize=n.scrollTo=n.zoomTo=n.__scrollingComplete=t,i=null},__createScrollbar:function(e){var t=document.createElement("div"),n=document.createElement("div");return n.className="scroll-bar-indicator scroll-bar-fade-out",t.className="h"==e?"scroll-bar scroll-bar-h":"scroll-bar scroll-bar-v",t.appendChild(n),t},__createScrollbars:function(){var e,t,n=this;n.options.scrollingX&&(e={el:n.__createScrollbar("h"),sizeRatio:1},e.indicator=e.el.children[0],n.options.scrollbarX&&n.__container.appendChild(e.el),n.__indicatorX=e),n.options.scrollingY&&(t={el:n.__createScrollbar("v"),sizeRatio:1},t.indicator=t.el.children[0],n.options.scrollbarY&&n.__container.appendChild(t.el),n.__indicatorY=t)},__resizeScrollbars:function(){var t=this;if(t.__indicatorX){var n=Math.max(Math.round(t.__clientWidth*t.__clientWidth/t.__contentWidth),20);n>t.__contentWidth&&(n=0),n!==t.__indicatorX.size&&e.requestAnimationFrame(function(){t.__indicatorX.indicator.style.width=n+"px"}),t.__indicatorX.size=n,t.__indicatorX.minScale=t.options.minScrollbarSizeX/n,t.__indicatorX.maxPos=t.__clientWidth-n,t.__indicatorX.sizeRatio=t.__maxScrollLeft?t.__indicatorX.maxPos/t.__maxScrollLeft:1}if(t.__indicatorY){var i=Math.max(Math.round(t.__clientHeight*t.__clientHeight/t.__contentHeight),20);i>t.__contentHeight&&(i=0),i!==t.__indicatorY.size&&e.requestAnimationFrame(function(){t.__indicatorY&&(t.__indicatorY.indicator.style.height=i+"px")}),t.__indicatorY.size=i,t.__indicatorY.minScale=t.options.minScrollbarSizeY/i,t.__indicatorY.maxPos=t.__clientHeight-i,t.__indicatorY.sizeRatio=t.__maxScrollTop?t.__indicatorY.maxPos/t.__maxScrollTop:1}},__repositionScrollbars:function(){var e,t,n,i,o,r=this,s=0,a=0;if(r.__indicatorX){r.__indicatorY&&(s=10),i=Math.round(r.__indicatorX.sizeRatio*r.__scrollLeft)||0,t=r.__scrollLeft-(r.__maxScrollLeft-s),r.__scrollLeft<0?(widthScale=Math.max(r.__indicatorX.minScale,(r.__indicatorX.size-Math.abs(r.__scrollLeft))/r.__indicatorX.size),i=0,r.__indicatorX.indicator.style[r.__transformOriginProperty]="left center"):t>0?(widthScale=Math.max(r.__indicatorX.minScale,(r.__indicatorX.size-t)/r.__indicatorX.size),i=r.__indicatorX.maxPos-s,r.__indicatorX.indicator.style[r.__transformOriginProperty]="right center"):(i=Math.min(r.__maxScrollLeft,Math.max(0,i)),widthScale=1);var l="translate3d("+i+"px, 0, 0) scaleX("+widthScale+")";r.__indicatorX.transformProp!==l&&(r.__indicatorX.indicator.style[r.__transformProperty]=l,r.__indicatorX.transformProp=l)}if(r.__indicatorY){o=Math.round(r.__indicatorY.sizeRatio*r.__scrollTop)||0,r.__indicatorX&&(a=10),n=r.__scrollTop-(r.__maxScrollTop-a),r.__scrollTop<0?(e=Math.max(r.__indicatorY.minScale,(r.__indicatorY.size-Math.abs(r.__scrollTop))/r.__indicatorY.size),o=0,"center top"!==r.__indicatorY.originProp&&(r.__indicatorY.indicator.style[r.__transformOriginProperty]="center top",r.__indicatorY.originProp="center top")):n>0?(e=Math.max(r.__indicatorY.minScale,(r.__indicatorY.size-n)/r.__indicatorY.size),o=r.__indicatorY.maxPos-a,"center bottom"!==r.__indicatorY.originProp&&(r.__indicatorY.indicator.style[r.__transformOriginProperty]="center bottom",r.__indicatorY.originProp="center bottom")):(o=Math.min(r.__maxScrollTop,Math.max(0,o)),e=1);var u="translate3d(0,"+o+"px, 0) scaleY("+e+")";r.__indicatorY.transformProp!==u&&(r.__indicatorY.indicator.style[r.__transformProperty]=u,r.__indicatorY.transformProp=u)}},__fadeScrollbars:function(e,t){var n=this;if(n.options.scrollbarsFade){var i="scroll-bar-fade-out";n.options.scrollbarsFade===!0&&(clearTimeout(n.__scrollbarFadeTimeout),"in"==e?(n.__indicatorX&&n.__indicatorX.indicator.classList.remove(i),n.__indicatorY&&n.__indicatorY.indicator.classList.remove(i)):n.__scrollbarFadeTimeout=setTimeout(function(){n.__indicatorX&&n.__indicatorX.indicator.classList.add(i),n.__indicatorY&&n.__indicatorY.indicator.classList.add(i)},t||n.options.scrollbarFadeDelay))}},__scrollingComplete:function(){this.options.scrollingComplete(),e.tap.removeClonedInputs(this.__container,this),this.__fadeScrollbars("out")},resize:function(e){var t=this;t.__container&&t.options&&t.setDimensions(t.__container.clientWidth,t.__container.clientHeight,t.options.getContentWidth(),t.options.getContentHeight(),e)},getRenderFn:function(){var e,t=this,n=t.__content,i=document.documentElement.style;"MozAppearance"in i?e="gecko":"WebkitAppearance"in i?e="webkit":"string"==typeof navigator.cpuClass&&(e="trident");var o,r={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[e],s=document.createElement("div"),a=r+"Perspective",l=r+"Transform",u=r+"TransformOrigin";return t.__perspectiveProperty=l,t.__transformProperty=l,t.__transformOriginProperty=u,s.style[a]!==o?function(e,i,o,r){var s="translate3d("+-e+"px,"+-i+"px,0) scale("+o+")";s!==t.contentTransform&&(n.style[l]=s,t.contentTransform=s),t.__repositionScrollbars(),r||t.triggerScrollEvent()}:s.style[l]!==o?function(e,i,o,r){n.style[l]="translate("+-e+"px,"+-i+"px) scale("+o+")",t.__repositionScrollbars(),r||t.triggerScrollEvent()}:function(e,i,o,r){n.style.marginLeft=e?-e/o+"px":"",n.style.marginTop=i?-i/o+"px":"",n.style.zoom=o||"",t.__repositionScrollbars(),r||t.triggerScrollEvent()}},setDimensions:function(e,t,n,i,o){var r=this;(e||t||n||i)&&(e===+e&&(r.__clientWidth=e),t===+t&&(r.__clientHeight=t),n===+n&&(r.__contentWidth=n),i===+i&&(r.__contentHeight=i),r.__computeScrollMax(),r.__resizeScrollbars(),o||r.scrollTo(r.__scrollLeft,r.__scrollTop,!0,null,!0))},setPosition:function(e,t){this.__clientLeft=e||0,this.__clientTop=t||0},setSnapSize:function(e,t){this.__snapWidth=e,this.__snapHeight=t},activatePullToRefresh:function(t,n){var i=this;i.__refreshHeight=t,i.__refreshActivate=function(){e.requestAnimationFrame(n.activate)},i.__refreshDeactivate=function(){e.requestAnimationFrame(n.deactivate)},i.__refreshStart=function(){e.requestAnimationFrame(n.start)},i.__refreshShow=function(){e.requestAnimationFrame(n.show)},i.__refreshHide=function(){e.requestAnimationFrame(n.hide)},i.__refreshTail=function(){e.requestAnimationFrame(n.tail)},i.__refreshTailTime=100,i.__minSpinTime=600},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0);var e=new Date;this.refreshStartTime=e.getTime(),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this,t=new Date,n=0;e.refreshStartTime+e.__minSpinTime>t.getTime()&&(n=e.refreshStartTime+e.__minSpinTime-t.getTime()),setTimeout(function(){e.__refreshTail&&e.__refreshTail(),setTimeout(function(){e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.__refreshHide&&e.__refreshHide(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},e.__refreshTailTime)},n)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(e,t,n,i){var o=this;if(!o.options.zooming)throw new Error("Zooming is not enabled!");o.__isDecelerating&&(st.effect.Animate.stop(o.__isDecelerating),o.__isDecelerating=!1);var r=o.__zoomLevel;null==n&&(n=o.__clientWidth/2),null==i&&(i=o.__clientHeight/2),e=Math.max(Math.min(e,o.options.maxZoom),o.options.minZoom),o.__computeScrollMax(e);var s=(n+o.__scrollLeft)*e/r-n,a=(i+o.__scrollTop)*e/r-i;s>o.__maxScrollLeft?s=o.__maxScrollLeft:0>s&&(s=0),a>o.__maxScrollTop?a=o.__maxScrollTop:0>a&&(a=0),o.__publish(s,a,e,t)},zoomBy:function(e,t,n,i){this.zoomTo(this.__zoomLevel*e,t,n,i)},scrollTo:function(e,t,n,i,o){var r=this;if(r.__isDecelerating&&(st.effect.Animate.stop(r.__isDecelerating),r.__isDecelerating=!1),null!=i&&i!==r.__zoomLevel){if(!r.options.zooming)throw new Error("Zooming is not enabled!");e*=i,t*=i,r.__computeScrollMax(i)}else i=r.__zoomLevel;r.options.scrollingX?r.options.paging?e=Math.round(e/r.__clientWidth)*r.__clientWidth:r.options.snapping&&(e=Math.round(e/r.__snapWidth)*r.__snapWidth):e=r.__scrollLeft,r.options.scrollingY?r.options.paging?t=Math.round(t/r.__clientHeight)*r.__clientHeight:r.options.snapping&&(t=Math.round(t/r.__snapHeight)*r.__snapHeight):t=r.__scrollTop,e=Math.max(Math.min(r.__maxScrollLeft,e),0),t=Math.max(Math.min(r.__maxScrollTop,t),0),e===r.__scrollLeft&&t===r.__scrollTop&&(n=!1),r.__publish(e,t,i,n,o)},scrollBy:function(e,t,n){var i=this,o=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft,r=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(o+(e||0),r+(t||0),n)},doMouseZoom:function(e,t,n,i){var o=e>0?.97:1.03;return this.zoomTo(this.__zoomLevel*o,!1,n-this.__clientLeft,i-this.__clientTop)},doTouchStart:function(e,t){var n=this;n.__decStopped=!(!n.__isDecelerating&&!n.__isAnimating),n.hintResize(),t instanceof Date&&(t=t.valueOf()),"number"!=typeof t&&(t=Date.now()),n.__interruptedAnimation=!0,n.__isDecelerating&&(st.effect.Animate.stop(n.__isDecelerating),n.__isDecelerating=!1,n.__interruptedAnimation=!0),n.__isAnimating&&(st.effect.Animate.stop(n.__isAnimating),n.__isAnimating=!1,n.__interruptedAnimation=!0);var i,o,r=1===e.length;r?(i=e[0].pageX,o=e[0].pageY):(i=Math.abs(e[0].pageX+e[1].pageX)/2,o=Math.abs(e[0].pageY+e[1].pageY)/2),n.__initialTouchLeft=i,n.__initialTouchTop=o,n.__initialTouches=e,n.__zoomLevelStart=n.__zoomLevel,n.__lastTouchLeft=i,n.__lastTouchTop=o,n.__lastTouchMove=t,n.__lastScale=1,n.__enableScrollX=!r&&n.options.scrollingX,n.__enableScrollY=!r&&n.options.scrollingY,n.__isTracking=!0,n.__didDecelerationComplete=!1,n.__isDragging=!r,n.__isSingleTouch=r,n.__positions=[]},doTouchMove:function(e,t,n){t instanceof Date&&(t=t.valueOf()),"number"!=typeof t&&(t=Date.now());var i=this;if(i.__isTracking){var o,r;2===e.length?(o=Math.abs(e[0].pageX+e[1].pageX)/2,r=Math.abs(e[0].pageY+e[1].pageY)/2,!n&&i.options.zooming&&(n=i.__getScale(i.__initialTouches,e))):(o=e[0].pageX,r=e[0].pageY);var s=i.__positions;if(i.__isDragging){i.__decStopped=!1;var a=o-i.__lastTouchLeft,l=r-i.__lastTouchTop,u=i.__scrollLeft,c=i.__scrollTop,d=i.__zoomLevel;if(null!=n&&i.options.zooming){var p=d;if(d=d/i.__lastScale*n,d=Math.max(Math.min(d,i.options.maxZoom),i.options.minZoom),p!==d){var h=o-i.__clientLeft,f=r-i.__clientTop;u=(h+u)*d/p-h,c=(f+c)*d/p-f,i.__computeScrollMax(d)}}if(i.__enableScrollX){u-=a*i.options.speedMultiplier;var g=i.__maxScrollLeft;(u>g||0>u)&&(i.options.bouncing?u+=a/2*i.options.speedMultiplier:u=u>g?g:0)}if(i.__enableScrollY){c-=l*i.options.speedMultiplier;var m=i.__maxScrollTop;c>m||0>c?i.options.bouncing||i.__refreshHeight&&0>c?(c+=l/2*i.options.speedMultiplier,i.__enableScrollX||null==i.__refreshHeight||(0>c?(i.__refreshHidden=!1,i.__refreshShow()):(i.__refreshHide(),i.__refreshHidden=!0),!i.__refreshActive&&c<=-i.__refreshHeight?(i.__refreshActive=!0,i.__refreshActivate&&i.__refreshActivate()):i.__refreshActive&&c>-i.__refreshHeight&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate()))):c=c>m?m:0:i.__refreshHeight&&!i.__refreshHidden&&(i.__refreshHide(),i.__refreshHidden=!0)}s.length>60&&s.splice(0,30),s.push(u,c,t),i.__publish(u,c,d)}else{var v=i.options.locking?3:0,b=5,y=Math.abs(o-i.__initialTouchLeft),_=Math.abs(r-i.__initialTouchTop);i.__enableScrollX=i.options.scrollingX&&y>=v,i.__enableScrollY=i.options.scrollingY&&_>=v,s.push(i.__scrollLeft,i.__scrollTop,t),i.__isDragging=(i.__enableScrollX||i.__enableScrollY)&&(y>=b||_>=b),i.__isDragging&&(i.__interruptedAnimation=!1,i.__fadeScrollbars("in"))}i.__lastTouchLeft=o,i.__lastTouchTop=r,i.__lastTouchMove=t,i.__lastScale=n}},doTouchEnd:function(t,n){n instanceof Date&&(n=n.valueOf()),"number"!=typeof n&&(n=Date.now());var i=this;if(i.__isTracking){if(i.__isTracking=!1,i.__isDragging)if(i.__isDragging=!1,i.__isSingleTouch&&i.options.animating&&n-i.__lastTouchMove<=100){for(var o=i.__positions,r=o.length-1,s=r,a=r;a>0&&o[a]>i.__lastTouchMove-100;a-=3)s=a;if(s!==r){var l=o[r]-o[s],u=i.__scrollLeft-o[s-2],c=i.__scrollTop-o[s-1];i.__decelerationVelocityX=u/l*(1e3/60),i.__decelerationVelocityY=c/l*(1e3/60);var d=i.options.paging||i.options.snapping?i.options.decelVelocityThresholdPaging:i.options.decelVelocityThreshold;(Math.abs(i.__decelerationVelocityX)>d||Math.abs(i.__decelerationVelocityY)>d)&&(i.__refreshActive||i.__startDeceleration(n))}else i.__scrollingComplete()}else n-i.__lastTouchMove>100&&i.__scrollingComplete();else i.__decStopped&&(t.isTapHandled=!0,i.__decStopped=!1);if(!i.__isDecelerating)if(i.__refreshActive&&i.__refreshStart){i.__publish(i.__scrollLeft,-i.__refreshHeight,i.__zoomLevel,!0);var p=new Date;i.refreshStartTime=p.getTime(),i.__refreshStart&&i.__refreshStart(),e.Platform.isAndroid()||i.__startDeceleration()}else(i.__interruptedAnimation||i.__isDragging)&&i.__scrollingComplete(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0,i.__zoomLevel),i.__refreshActive&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate());i.__positions.length=0}},__publish:function(e,t,o,r,s){var a=this,l=a.__isAnimating;if(l&&(st.effect.Animate.stop(l),a.__isAnimating=!1),r&&a.options.animating){a.__scheduledLeft=e,a.__scheduledTop=t,a.__scheduledZoom=o;var u=a.__scrollLeft,c=a.__scrollTop,d=a.__zoomLevel,p=e-u,h=t-c,f=o-d,g=function(e,t,n){n&&(a.__scrollLeft=u+p*e,a.__scrollTop=c+h*e,a.__zoomLevel=d+f*e,a.__callback&&a.__callback(a.__scrollLeft,a.__scrollTop,a.__zoomLevel,s))},m=function(e){return a.__isAnimating===e},v=function(e,t,n){t===a.__isAnimating&&(a.__isAnimating=!1),(a.__didDecelerationComplete||n)&&a.__scrollingComplete(),a.options.zooming&&a.__computeScrollMax()};a.__isAnimating=st.effect.Animate.start(g,m,v,a.options.animationDuration,l?n:i)}else a.__scheduledLeft=a.__scrollLeft=e,a.__scheduledTop=a.__scrollTop=t,a.__scheduledZoom=a.__zoomLevel=o,a.__callback&&a.__callback(e,t,o,s),a.options.zooming&&a.__computeScrollMax()},__computeScrollMax:function(e){var t=this;null==e&&(e=t.__zoomLevel),t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0),t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0),t.__didWaitForSize||t.__maxScrollLeft||t.__maxScrollTop||(t.__didWaitForSize=!0,t.__waitForSize())},__waitForSize:function(){var e=this;clearTimeout(e.__sizerTimeout);var t=function(){e.resize(!0)};t(),e.__sizerTimeout=setTimeout(t,500)},__startDeceleration:function(){var e=this;if(e.options.paging){var t=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),n=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),i=e.__clientWidth,o=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(t/i)*i,e.__minDecelerationScrollTop=Math.floor(n/o)*o,e.__maxDecelerationScrollLeft=Math.ceil(t/i)*i,e.__maxDecelerationScrollTop=Math.ceil(n/o)*o
}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop,e.__refreshActive&&(e.__minDecelerationScrollTop=-1*e.__refreshHeight);var r=function(t,n,i){e.__stepThroughDeceleration(i)};e.__minVelocityToKeepDecelerating=e.options.snapping?4:.1;var s=function(){var t=Math.abs(e.__decelerationVelocityX)>=e.__minVelocityToKeepDecelerating||Math.abs(e.__decelerationVelocityY)>=e.__minVelocityToKeepDecelerating;return t||(e.__didDecelerationComplete=!0,e.options.bouncing&&!e.__refreshActive&&e.scrollTo(Math.min(Math.max(e.__scrollLeft,0),e.__maxScrollLeft),Math.min(Math.max(e.__scrollTop,0),e.__maxScrollTop),e.__refreshActive)),t},a=function(){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.__scrollingComplete(),e.options.paging&&e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)};e.__isDecelerating=st.effect.Animate.start(r,s,a)},__stepThroughDeceleration:function(e){var t=this,n=t.__scrollLeft+t.__decelerationVelocityX,i=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var o=Math.max(Math.min(t.__maxDecelerationScrollLeft,n),t.__minDecelerationScrollLeft);o!==n&&(n=o,t.__decelerationVelocityX=0);var r=Math.max(Math.min(t.__maxDecelerationScrollTop,i),t.__minDecelerationScrollTop);r!==i&&(i=r,t.__decelerationVelocityY=0)}if(e?t.__publish(n,i,t.__zoomLevel):(t.__scrollLeft=n,t.__scrollTop=i),!t.options.paging){var s=t.options.deceleration;t.__decelerationVelocityX*=s,t.__decelerationVelocityY*=s}if(t.options.bouncing){var a=0,l=0,u=t.options.penetrationDeceleration,c=t.options.penetrationAcceleration;if(n<t.__minDecelerationScrollLeft?a=t.__minDecelerationScrollLeft-n:n>t.__maxDecelerationScrollLeft&&(a=t.__maxDecelerationScrollLeft-n),i<t.__minDecelerationScrollTop?l=t.__minDecelerationScrollTop-i:i>t.__maxDecelerationScrollTop&&(l=t.__maxDecelerationScrollTop-i),0!==a){var d=a*t.__decelerationVelocityX<=t.__minDecelerationScrollLeft;d&&(t.__decelerationVelocityX+=a*u);var p=Math.abs(t.__decelerationVelocityX)<=t.__minVelocityToKeepDecelerating;(!d||p)&&(t.__decelerationVelocityX=a*c)}if(0!==l){var h=l*t.__decelerationVelocityY<=t.__minDecelerationScrollTop;h&&(t.__decelerationVelocityY+=l*u);var f=Math.abs(t.__decelerationVelocityY)<=t.__minVelocityToKeepDecelerating;(!h||f)&&(t.__decelerationVelocityY=l*c)}}},__getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},__getScale:function(e,t){return e.length>=2&&t.length>=2?this.__getDistance(t[0],t[1])/this.__getDistance(e[0],e[1]):1}}),e.scroll={isScrolling:!1,lastTop:0}}(ionic),function(e){"use strict";var t="item",n="item-content",i="item-sliding",o="item-options",r="item-placeholder",s="item-reordering",a="item-reorder",l=function(){};l.prototype={start:function(){},drag:function(){},end:function(){},isSameItem:function(){return!1}};var u=function(e){this.dragThresholdX=e.dragThresholdX||10,this.el=e.el,this.item=e.item,this.canSwipe=e.canSwipe};u.prototype=new l,u.prototype.start=function(r){var s,a,l,u;this.canSwipe()&&(s=r.target.classList.contains(n)?r.target:r.target.classList.contains(t)?r.target.querySelector("."+n):e.DomUtil.getParentWithClass(r.target,n),s&&(s.classList.remove(i),l=parseFloat(s.style[e.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])||0,a=s.parentNode.querySelector("."+o),a&&(a.classList.remove("invisible"),u=a.offsetWidth,this._currentDrag={buttons:a,buttonsWidth:u,content:s,startOffsetX:l})))},u.prototype.isSameItem=function(e){return e._lastDrag&&this._currentDrag?this._currentDrag.content==e._lastDrag.content:!1},u.prototype.clean=function(t){function n(){i.buttons&&i.buttons.classList.add("invisible")}var i=this._lastDrag;i&&i.content&&(i.content.style[e.CSS.TRANSITION]="",i.content.style[e.CSS.TRANSFORM]="",t?(i.content.style[e.CSS.TRANSITION]="none",n(),e.requestAnimationFrame(function(){i.content.style[e.CSS.TRANSITION]=""})):e.requestAnimationFrame(function(){setTimeout(n,250)}))},u.prototype.drag=e.animationFrameThrottle(function(t){var n;if(this._currentDrag&&(!this._isDragging&&(Math.abs(t.gesture.deltaX)>this.dragThresholdX||Math.abs(this._currentDrag.startOffsetX)>0)&&(this._isDragging=!0),this._isDragging)){n=this._currentDrag.buttonsWidth;var i=Math.min(0,this._currentDrag.startOffsetX+t.gesture.deltaX);-n>i&&(i=Math.min(-n,-n+.4*(t.gesture.deltaX+n))),this._currentDrag.content.style[e.CSS.TRANSFORM]="translate3d("+i+"px, 0, 0)",this._currentDrag.content.style[e.CSS.TRANSITION]="none"}}),u.prototype.end=function(t,n){var i=this;if(!i._currentDrag)return void(n&&n());var o=-i._currentDrag.buttonsWidth;t.gesture.deltaX>-(i._currentDrag.buttonsWidth/2)&&("left"==t.gesture.direction&&Math.abs(t.gesture.velocityX)<.3?o=0:"right"==t.gesture.direction&&(o=0)),e.requestAnimationFrame(function(){if(0===o){i._currentDrag.content.style[e.CSS.TRANSFORM]="";var t=i._currentDrag.buttons;setTimeout(function(){t&&t.classList.add("invisible")},250)}else i._currentDrag.content.style[e.CSS.TRANSFORM]="translate3d("+o+"px,0,0)";i._currentDrag.content.style[e.CSS.TRANSITION]="",i._lastDrag||(i._lastDrag={}),e.extend(i._lastDrag,i._currentDrag),i._currentDrag&&(i._currentDrag.buttons=null,i._currentDrag.content=null),i._currentDrag=null,n&&n()})};var c=function(e){var t=this;if(t.dragThresholdY=e.dragThresholdY||0,t.onReorder=e.onReorder,t.listEl=e.listEl,t.el=t.item=e.el,t.scrollEl=e.scrollEl,t.scrollView=e.scrollView,t.listElTrueTop=0,t.listEl.offsetParent){var n=t.listEl;do t.listElTrueTop+=n.offsetTop,n=n.offsetParent;while(n)}};c.prototype=new l,c.prototype._moveElement=function(t){var n=t.gesture.center.pageY+this.scrollView.getValues().top-this._currentDrag.elementHeight/2-this.listElTrueTop;this.el.style[e.CSS.TRANSFORM]="translate3d(0, "+n+"px, 0)"},c.prototype.deregister=function(){this.listEl=this.el=this.scrollEl=this.scrollView=null},c.prototype.start=function(t){var n=e.DomUtil.getChildIndex(this.el,this.el.nodeName.toLowerCase()),i=this.el.scrollHeight,o=this.el.cloneNode(!0);o.classList.add(r),this.el.parentNode.insertBefore(o,this.el),this.el.classList.add(s),this._currentDrag={elementHeight:i,startIndex:n,placeholder:o,scrollHeight:scroll,list:o.parentNode},this._moveElement(t)},c.prototype.drag=e.animationFrameThrottle(function(t){var n=this;if(this._currentDrag){var i=0,o=t.gesture.center.pageY,r=this.listElTrueTop;if(this.scrollView){var s=this.scrollView.__container;i=this.scrollView.getValues().top;var a=s.offsetTop,l=a-o+this._currentDrag.elementHeight/2,u=o+this._currentDrag.elementHeight/2-a-s.offsetHeight;t.gesture.deltaY<0&&l>0&&i>0&&(this.scrollView.scrollBy(null,-l),e.requestAnimationFrame(function(){n.drag(t)})),t.gesture.deltaY>0&&u>0&&i<this.scrollView.getScrollMax().top&&(this.scrollView.scrollBy(null,u),e.requestAnimationFrame(function(){n.drag(t)}))}!this._isDragging&&Math.abs(t.gesture.deltaY)>this.dragThresholdY&&(this._isDragging=!0),this._isDragging&&(this._moveElement(t),this._currentDrag.currentY=i+o-r)}}),c.prototype._getReorderIndex=function(){for(var e,t=this,n=(t._currentDrag.placeholder,Array.prototype.slice.call(t._currentDrag.placeholder.parentNode.children).filter(function(e){return e.nodeName===t.el.nodeName&&e!==t.el})),i=t._currentDrag.currentY,o=0,r=n.length;r>o;o++)if(e=n[o],o===r-1){if(i>e.offsetTop)return o}else if(0===o){if(i<e.offsetTop+e.offsetHeight)return o}else if(i>e.offsetTop-e.offsetHeight/2&&i<e.offsetTop+e.offsetHeight)return o;return t._currentDrag.startIndex},c.prototype.end=function(t,n){if(!this._currentDrag)return void(n&&n());var i=this._currentDrag.placeholder,o=this._getReorderIndex();this.el.classList.remove(s),this.el.style[e.CSS.TRANSFORM]="",i.parentNode.insertBefore(this.el,i),i.parentNode.removeChild(i),this.onReorder&&this.onReorder(this.el,this._currentDrag.startIndex,o),this._currentDrag={placeholder:null,content:null},this._currentDrag=null,n&&n()},e.views.ListView=e.views.View.inherit({initialize:function(t){var n=this;t=e.extend({onReorder:function(){},virtualRemoveThreshold:-200,virtualAddThreshold:200,canSwipe:function(){return!0}},t),e.extend(n,t),!n.itemHeight&&n.listEl&&(n.itemHeight=n.listEl.children[0]&&parseInt(n.listEl.children[0].style.height,10)),n.onRefresh=t.onRefresh||function(){},n.onRefreshOpening=t.onRefreshOpening||function(){},n.onRefreshHolding=t.onRefreshHolding||function(){},window.ionic.onGesture("release",function(e){n._handleEndDrag(e)},n.el),window.ionic.onGesture("drag",function(e){n._handleDrag(e)},n.el),n._initDrag()},deregister:function(){this.el=this.listEl=this.scrollEl=this.scrollView=null,this.isScrollFreeze&&self.scrollView.freeze(!1)},stopRefreshing:function(){var e=this.el.querySelector(".list-refresher");e.style.height="0"},didScroll:function(e){var t=this;if(t.isVirtual){var n=t.itemHeight,i=(t.listEl.children.length,e.target.scrollHeight),o=t.el.parentNode.offsetHeight,r=(e.scrollTop,Math.max(0,e.scrollTop+t.virtualRemoveThreshold)),s=Math.min(i,Math.abs(e.scrollTop)+o+t.virtualAddThreshold),a=Math.floor((s-r)/n),l=parseInt(Math.abs(r/n),10),u=parseInt(Math.abs(s/n),10);t._virtualItemsToRemove=Array.prototype.slice.call(t.listEl.children,0,l),Array.prototype.slice.call(t.listEl.children,l,l+a),t.renderViewport&&t.renderViewport(r,s,l,u)}},didStopScrolling:function(){if(this.isVirtual)for(var e=0;e<this._virtualItemsToRemove.length;e++)this._virtualItemsToRemove[e],this.didHideItem&&this.didHideItem(e)},clearDragEffects:function(e){this._lastDragOp&&(this._lastDragOp.clean&&this._lastDragOp.clean(e),this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=null)},_initDrag:function(){this._lastDragOp&&this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=this._dragOp,this._dragOp=null},_getItem:function(e){for(;e;){if(e.classList&&e.classList.contains(t))return e;e=e.parentNode}return null},_startDrag:function(t){var n=this;n._isDragging=!1;var i,o=n._lastDragOp;n._didDragUpOrDown&&o instanceof u&&o.clean&&o.clean(),!e.DomUtil.getParentOrSelfWithClass(t.target,a)||"up"!=t.gesture.direction&&"down"!=t.gesture.direction?!n._didDragUpOrDown&&("left"==t.gesture.direction||"right"==t.gesture.direction)&&Math.abs(t.gesture.deltaX)>5&&(i=n._getItem(t.target),i&&i.querySelector(".item-options")&&(n._dragOp=new u({el:n.el,item:i,canSwipe:n.canSwipe}),n._dragOp.start(t),t.preventDefault(),n.isScrollFreeze=n.scrollView.freeze(!0))):(i=n._getItem(t.target),i&&(n._dragOp=new c({listEl:n.el,el:i,scrollEl:n.scrollEl,scrollView:n.scrollView,onReorder:function(e,t,i){n.onReorder&&n.onReorder(e,t,i)}}),n._dragOp.start(t),t.preventDefault())),o&&n._dragOp&&!n._dragOp.isSameItem(o)&&t.defaultPrevented&&o.clean&&o.clean()},_handleEndDrag:function(e){var t=this;t.scrollView&&(t.isScrollFreeze=t.scrollView.freeze(!1)),t._didDragUpOrDown=!1,t._dragOp&&t._dragOp.end(e,function(){t._initDrag()})},_handleDrag:function(e){var t=this;Math.abs(e.gesture.deltaY)>5&&(t._didDragUpOrDown=!0),t.isDragging||t._dragOp||t._startDrag(e),t._dragOp&&(e.gesture.srcEvent.preventDefault(),t._dragOp.drag(e))}})}(ionic),function(e){"use strict";e.views.Modal=e.views.View.inherit({initialize:function(t){t=e.extend({focusFirstInput:!1,unfocusOnHide:!0,focusFirstDelay:600,backdropClickToClose:!0,hardwareBackButtonClose:!0},t),e.extend(this,t),this.el=t.el},show:function(){var e=this;e.focusFirstInput&&window.setTimeout(function(){var t=e.el.querySelector("input, textarea");t&&t.focus&&t.focus()},e.focusFirstDelay)},hide:function(){if(this.unfocusOnHide){var e=this.el.querySelectorAll("input, textarea");window.setTimeout(function(){for(var t=0;t<e.length;t++)e[t].blur&&e[t].blur()})}}})}(ionic),function(e){"use strict";e.views.SideMenu=e.views.View.inherit({initialize:function(e){this.el=e.el,this.isEnabled="undefined"==typeof e.isEnabled?!0:e.isEnabled,this.setWidth(e.width)},getFullWidth:function(){return this.width},setWidth:function(e){this.width=e,this.el.style.width=e+"px"},setIsEnabled:function(e){this.isEnabled=e},bringUp:function(){"0"!==this.el.style.zIndex&&(this.el.style.zIndex="0")},pushDown:function(){"-1"!==this.el.style.zIndex&&(this.el.style.zIndex="-1")}}),e.views.SideMenuContent=e.views.View.inherit({initialize:function(t){e.extend(this,{animationClass:"menu-animated",onDrag:function(){},onEndDrag:function(){}},t),e.onGesture("drag",e.proxy(this._onDrag,this),this.el),e.onGesture("release",e.proxy(this._onEndDrag,this),this.el)},_onDrag:function(e){this.onDrag&&this.onDrag(e)},_onEndDrag:function(e){this.onEndDrag&&this.onEndDrag(e)},disableAnimation:function(){this.el.classList.remove(this.animationClass)},enableAnimation:function(){this.el.classList.add(this.animationClass)},getTranslateX:function(){return parseFloat(this.el.style[e.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])},setTranslateX:e.animationFrameThrottle(function(t){this.el.style[e.CSS.TRANSFORM]="translate3d("+t+"px, 0, 0)"})})}(ionic),function(e){"use strict";e.views.Slider=e.views.View.inherit({initialize:function(e){function t(){m=_.children,y=m.length,m.length<2&&(e.continuous=!1),f.transitions&&e.continuous&&m.length<3&&(_.appendChild(m[0].cloneNode(!0)),_.appendChild(_.children[1].cloneNode(!0)),m=_.children),v=new Array(m.length),b=g.offsetWidth||g.getBoundingClientRect().width,_.style.width=m.length*b+"px";for(var t=m.length;t--;){var n=m[t];n.style.width=b+"px",n.setAttribute("data-index",t),f.transitions&&(n.style.left=t*-b+"px",s(t,w>t?-b:t>w?b:0,0))}e.continuous&&f.transitions&&(s(o(w-1),-b,0),s(o(w+1),b,0)),f.transitions||(_.style.left=w*-b+"px"),g.style.visibility="visible",e.slidesChanged&&e.slidesChanged()}function n(){e.continuous?r(w-1):w&&r(w-1)}function i(){e.continuous?r(w+1):w<m.length-1&&r(w+1)}function o(e){return(m.length+e%m.length)%m.length}function r(t,n){if(w!=t){if(f.transitions){var i=Math.abs(w-t)/(w-t);if(e.continuous){var r=i;i=-v[o(t)]/b,i!==r&&(t=-i*m.length+t)}for(var a=Math.abs(w-t)-1;a--;)s(o((t>w?t:w)-a-1),b*i,0);t=o(t),s(w,b*i,n||$),s(t,0,n||$),e.continuous&&s(o(t-i),-(b*i),0)}else t=o(t),l(w*-b,t*-b,n||$);w=t,h(e.callback&&e.callback(w,m[w]))}}function s(e,t,n){a(e,t,n),v[e]=t}function a(e,t,n){var i=m[e],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function l(t,n,i){if(!i)return void(_.style.left=n+"px");var o=+new Date,r=setInterval(function(){var s=+new Date-o;return s>i?(_.style.left=n+"px",x&&u(),e.transitionEnd&&e.transitionEnd.call(event,w,m[w]),void clearInterval(r)):void(_.style.left=(n-t)*(Math.floor(s/i*100)/100)+t+"px")},4)}function u(){k=setTimeout(i,x)}function c(){x=e.auto||0,clearTimeout(k)}var d=this,p=function(){},h=function(e){setTimeout(e||p,0)},f={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(document.createElement("swipe"))},g=e.el;if(g){var m,v,b,y,_=g.children[0];e=e||{};var w=parseInt(e.startSlide,10)||0,$=e.speed||300;e.continuous=void 0!==e.continuous?e.continuous:!0;var k,S,x=e.auto||0,C={},T={},M={handleEvent:function(n){switch(("mousedown"==n.type||"mouseup"==n.type||"mousemove"==n.type)&&(n.touches=[{pageX:n.pageX,pageY:n.pageY}]),n.type){case"mousedown":this.start(n);break;case"touchstart":this.start(n);break;case"touchmove":this.touchmove(n);break;case"mousemove":this.touchmove(n);break;case"touchend":h(this.end(n));break;case"mouseup":h(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":h(this.transitionEnd(n));break;case"resize":h(t)}e.stopPropagation&&n.stopPropagation()},start:function(e){var t=e.touches[0];C={x:t.pageX,y:t.pageY,time:+new Date},S=void 0,T={},f.touch?(_.addEventListener("touchmove",this,!1),_.addEventListener("touchend",this,!1)):(_.addEventListener("mousemove",this,!1),_.addEventListener("mouseup",this,!1),document.addEventListener("mouseup",this,!1))},touchmove:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale||d.slideIsDisabled)){e.disableScroll&&t.preventDefault();var n=t.touches[0];T={x:n.pageX-C.x,y:n.pageY-C.y},"undefined"==typeof S&&(S=!!(S||Math.abs(T.x)<Math.abs(T.y))),S||(t.preventDefault(),c(),e.continuous?(a(o(w-1),T.x+v[o(w-1)],0),a(w,T.x+v[w],0),a(o(w+1),T.x+v[o(w+1)],0)):(T.x=T.x/(!w&&T.x>0||w==m.length-1&&T.x<0?Math.abs(T.x)/b+1:1),a(w-1,T.x+v[w-1],0),a(w,T.x+v[w],0),a(w+1,T.x+v[w+1],0)))}},end:function(){var t=+new Date-C.time,n=Number(t)<250&&Math.abs(T.x)>20||Math.abs(T.x)>b/2,i=!w&&T.x>0||w==m.length-1&&T.x<0;e.continuous&&(i=!1);var r=T.x<0;S||(n&&!i?(r?(e.continuous?(s(o(w-1),-b,0),s(o(w+2),b,0)):s(w-1,-b,0),s(w,v[w]-b,$),s(o(w+1),v[o(w+1)]-b,$),w=o(w+1)):(e.continuous?(s(o(w+1),b,0),s(o(w-2),-b,0)):s(w+1,b,0),s(w,v[w]+b,$),s(o(w-1),v[o(w-1)]+b,$),w=o(w-1)),e.callback&&e.callback(w,m[w])):e.continuous?(s(o(w-1),-b,$),s(w,0,$),s(o(w+1),b,$)):(s(w-1,-b,$),s(w,0,$),s(w+1,b,$))),f.touch?(_.removeEventListener("touchmove",M,!1),_.removeEventListener("touchend",M,!1)):(_.removeEventListener("mousemove",M,!1),_.removeEventListener("mouseup",M,!1),document.removeEventListener("mouseup",M,!1))},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==w&&(x&&u(),e.transitionEnd&&e.transitionEnd.call(t,w,m[w]))}};this.update=function(){setTimeout(t)},this.setup=function(){t()},this.loop=function(t){return arguments.length&&(e.continuous=!!t),e.continuous},this.enableSlide=function(e){return arguments.length&&(this.slideIsDisabled=!e),!this.slideIsDisabled},this.slide=this.select=function(e,t){c(),r(e,t)},this.prev=this.previous=function(){c(),n()},this.next=function(){c(),i()},this.stop=function(){c()},this.start=function(){u()},this.autoPlay=function(e){!x||0>x?c():(x=e,u())},this.currentIndex=this.selected=function(){return w},this.slidesCount=this.count=function(){return y},this.kill=function(){c(),_.style.width="",_.style.left="";for(var e=m.length;e--;){var t=m[e];t.style.width="",t.style.left="",f.transitions&&a(e,0,0)}f.addEventListener?(_.removeEventListener("touchstart",M,!1),_.removeEventListener("webkitTransitionEnd",M,!1),_.removeEventListener("msTransitionEnd",M,!1),_.removeEventListener("oTransitionEnd",M,!1),_.removeEventListener("otransitionend",M,!1),_.removeEventListener("transitionend",M,!1),window.removeEventListener("resize",M,!1)):window.onresize=null},this.load=function(){t(),x&&u(),f.addEventListener?(f.touch?_.addEventListener("touchstart",M,!1):_.addEventListener("mousedown",M,!1),f.transitions&&(_.addEventListener("webkitTransitionEnd",M,!1),_.addEventListener("msTransitionEnd",M,!1),_.addEventListener("oTransitionEnd",M,!1),_.addEventListener("otransitionend",M,!1),_.addEventListener("transitionend",M,!1)),window.addEventListener("resize",M,!1)):window.onresize=function(){t()}}}}})}(ionic),function(e){"use strict";e.views.Toggle=e.views.View.inherit({initialize:function(t){var n=this;this.el=t.el,this.checkbox=t.checkbox,this.track=t.track,this.handle=t.handle,this.openPercent=-1,this.onChange=t.onChange||function(){},this.triggerThreshold=t.triggerThreshold||20,this.dragStartHandler=function(e){n.dragStart(e)},this.dragHandler=function(e){n.drag(e)},this.holdHandler=function(e){n.hold(e)},this.releaseHandler=function(e){n.release(e)},this.dragStartGesture=e.onGesture("dragstart",this.dragStartHandler,this.el),this.dragGesture=e.onGesture("drag",this.dragHandler,this.el),this.dragHoldGesture=e.onGesture("hold",this.holdHandler,this.el),this.dragReleaseGesture=e.onGesture("release",this.releaseHandler,this.el)},destroy:function(){e.offGesture(this.dragStartGesture,"dragstart",this.dragStartGesture),e.offGesture(this.dragGesture,"drag",this.dragGesture),e.offGesture(this.dragHoldGesture,"hold",this.holdHandler),e.offGesture(this.dragReleaseGesture,"release",this.releaseHandler)},tap:function(){"disabled"!==this.el.getAttribute("disabled")&&this.val(!this.checkbox.checked)},dragStart:function(e){this.checkbox.disabled||(this._dragInfo={width:this.el.offsetWidth,left:this.el.offsetLeft,right:this.el.offsetLeft+this.el.offsetWidth,triggerX:this.el.offsetWidth/2,initialState:this.checkbox.checked},e.gesture.srcEvent.preventDefault(),this.hold(e))},drag:function(t){var n=this;this._dragInfo&&(t.gesture.srcEvent.preventDefault(),e.requestAnimationFrame(function(){if(n._dragInfo){var e=(n.track.offsetLeft+n.handle.offsetWidth/2,n.track.offsetLeft+n.track.offsetWidth-n.handle.offsetWidth/2,t.gesture.deltaX,t.gesture.touches[0].pageX-n._dragInfo.left),i=n._dragInfo.width-n.triggerThreshold;n._dragInfo.initialState?e<n.triggerThreshold?n.setOpenPercent(0):e>n._dragInfo.triggerX&&n.setOpenPercent(100):e<n._dragInfo.triggerX?n.setOpenPercent(0):e>i&&n.setOpenPercent(100)}}))},endDrag:function(){this._dragInfo=null},hold:function(){this.el.classList.add("dragging")},release:function(e){this.el.classList.remove("dragging"),this.endDrag(e)},setOpenPercent:function(t){if(this.openPercent<0||t<this.openPercent-3||t>this.openPercent+3)if(this.openPercent=t,0===t)this.val(!1);else if(100===t)this.val(!0);else{var n=Math.round(t/100*this.track.offsetWidth-this.handle.offsetWidth);n=1>n?0:n,this.handle.style[e.CSS.TRANSFORM]="translate3d("+n+"px,0,0)"}},val:function(t){return(t===!0||t===!1)&&(""!==this.handle.style[e.CSS.TRANSFORM]&&(this.handle.style[e.CSS.TRANSFORM]=""),this.checkbox.checked=t,this.openPercent=t?100:0,this.onChange&&this.onChange()),this.checkbox.checked}})}(ionic)}(),function(e,t,n){"use strict";function i(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.3.13/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var i,o=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,t+=o(i)}return Error(t)}}function o(e){if(null==e||S(e))return!1;var t=e.length;return e.nodeType===Fi&&t?!0:y(e)||Ii(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){var i,s;if(e)if($(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(Ii(e)||o(e)){var a="object"!=typeof e;for(i=0,s=e.length;s>i;i++)(a||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,n,e);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);return e}function s(e,t,n){for(var i=Object.keys(e).sort(),o=0;o<i.length;o++)t.call(n,e[i[o]],i[o]);return i}function a(e){return function(t,n){e(n,t)}}function l(){return++Ai}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e){for(var t=e.$$hashKey,n=1,i=arguments.length;i>n;n++){var o=arguments[n];if(o)for(var r=Object.keys(o),s=0,a=r.length;a>s;s++){var l=r[s];e[l]=o[l]}}return u(e,t),e}function d(e){return parseInt(e,10)}function p(e,t){return c(Object.create(e),t)}function h(){}function f(e){return e}function g(e){return function(){return e}}function m(e){return"undefined"==typeof e}function v(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function y(e){return"string"==typeof e}function _(e){return"number"==typeof e}function w(e){return"[object Date]"===Ei.call(e)}function $(e){return"function"==typeof e}function k(e){return"[object RegExp]"===Ei.call(e)}function S(e){return e&&e.window===e}function x(e){return e&&e.$evalAsync&&e.$watch}function C(e){return"boolean"==typeof e}function T(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function M(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function E(e){return ki(e.nodeName||e[0]&&e[0].nodeName)}function D(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function O(e,t,n,i){if(S(e)||x(e))throw Di("cpws");if(t){if(e===t)throw Di("cpi");if(n=n||[],i=i||[],b(e)){var o=n.indexOf(e);if(-1!==o)return i[o];n.push(e),i.push(t)}if(Ii(e))for(var s=t.length=0;s<e.length;s++)o=O(e[s],null,n,i),b(e[s])&&(n.push(e[s]),i.push(o)),t.push(o);else{var a=t.$$hashKey;Ii(t)?t.length=0:r(t,function(e,n){delete t[n]});for(s in e)e.hasOwnProperty(s)&&(o=O(e[s],null,n,i),b(e[s])&&(n.push(e[s]),i.push(o)),t[s]=o);u(t,a)}}else(t=e)&&(Ii(e)?t=O(e,[],n,i):w(e)?t=new Date(e.getTime()):k(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):b(e)&&(o=Object.create(Object.getPrototypeOf(e)),t=O(e,o,n,i)));return t}function A(e,t){if(Ii(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(b(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function P(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,o=typeof e;if(o==typeof t&&"object"==o){if(!Ii(e)){if(w(e))return w(t)?P(e.getTime(),t.getTime()):!1;if(k(e)&&k(t))return e.toString()==t.toString();if(x(e)||x(t)||S(e)||S(t)||Ii(t))return!1;o={};for(i in e)if("$"!==i.charAt(0)&&!$(e[i])){if(!P(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!$(t[i]))return!1;return!0}if(!Ii(t))return!1;if((o=e.length)==t.length){for(i=0;o>i;i++)if(!P(e[i],t[i]))return!1;return!0}}return!1}function I(e,t,n){return e.concat(Ci.call(t,n))}function L(e,t){var n=2<arguments.length?Ci.call(arguments,2):[];return!$(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,I(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(e,i){var o=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?o=n:S(i)?o="$WINDOW":i&&t===i?o="$DOCUMENT":x(i)&&(o="$SCOPE"),o}function q(e,t){return"undefined"==typeof e?n:(_(t)||(t=t?2:null),JSON.stringify(e,B,t))}function j(e){return y(e)?JSON.parse(e):e}function N(e){e=yi(e).clone();try{e.empty()}catch(t){}var n=yi("<div>").append(e).html();try{return e[0].nodeType===Ri?ki(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+ki(t)})}catch(i){return ki(n)}}function G(e){try{return decodeURIComponent(e)}catch(t){}}function F(e){var t,n,i={};return r((e||"").split("&"),function(e){e&&(t=e.replace(/\+/g,"%20").split("="),n=G(t[0]),v(n)&&(e=v(t[1])?G(t[1]):!0,Si.call(i,n)?Ii(i[n])?i[n].push(e):i[n]=[i[n],e]:i[n]=e))}),i}function R(e){var t=[];return r(e,function(e,n){Ii(e)?r(e,function(e){t.push(U(n,!0)+(!0===e?"":"="+U(e,!0)))}):t.push(U(n,!0)+(!0===e?"":"="+U(e,!0)))}),t.length?t.join("&"):""}function V(e){return U(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function U(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function H(e,t){var n,i,o=ji.length;for(e=yi(e),i=0;o>i;++i)if(n=ji[i]+t,y(n=e.attr(n)))return n;return null}function z(e,t){var n,i,o={};r(ji,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,i=e.getAttribute(t))}),r(ji,function(t){t+="app";var o;!n&&(o=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=o,i=o.getAttribute(t))}),n&&(o.strictDi=null!==H(n,"strict-di"),t(n,i?[i]:[],o))}function W(n,i,o){b(o)||(o={}),o=c({strictDi:!1},o);var s=function(){if(n=yi(n),n.injector()){var e=n[0]===t?"document":N(n);throw Di("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),o.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng"),e=At(i,o.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e},a=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(o.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),Oi.resumeBootstrap=function(e){return r(e,function(e){i.push(e)}),s()},void($(Oi.resumeDeferredBootstrap)&&Oi.resumeDeferredBootstrap()))}function K(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Y(e){if(e=Oi.element(e).injector(),!e)throw Di("test");return e.get("$$testability")}function X(e,t){return t=t||"_",e.replace(Ni,function(e,n){return(n?t:"")+e.toLowerCase()})}function J(){var t;Gi||((_i=e.jQuery)&&_i.fn.on?(yi=_i,c(_i.fn,{scope:to.scope,isolateScope:to.isolateScope,controller:to.controller,injector:to.injector,inheritedData:to.inheritedData}),t=_i.cleanData,_i.cleanData=function(e){var n;if(Pi)Pi=!1;else for(var i,o=0;null!=(i=e[o]);o++)(n=_i._data(i,"events"))&&n.$destroy&&_i(i).triggerHandler("$destroy");t(e)}):yi=ut,Oi.element=yi,Gi=!0)}function Z(e,t,n){if(!e)throw Di("areq",t||"?",n||"required");return e}function Q(e,t,n){return n&&Ii(e)&&(e=e[e.length-1]),Z($(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function et(e,t){if("hasOwnProperty"===e)throw Di("badname",t)}function tt(e,t,n){if(!t)return e;t=t.split(".");for(var i,o=e,r=t.length,s=0;r>s;s++)i=t[s],e&&(e=(o=e)[i]);return!n&&$(e)?L(o,e):e}function nt(e){var t=e[0];e=e[e.length-1];var n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e);return yi(n)}function it(){return Object.create(null)}function ot(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),o=i("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||i,t(e,"module",function(){var e={};return function(i,r,s){if("hasOwnProperty"===i)throw o("badname","module");return r&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,n,i,o){return o||(o=t),function(){return o[i||"push"]([e,n,arguments]),u}}if(!r)throw n("nomod",i);var t=[],o=[],a=[],l=e("$injector","invoke","push",o),u={_invokeQueue:t,_configBlocks:o,_runBlocks:a,requires:r,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(e){return a.push(e),this}};return s&&l(s),u})}})}function rt(t){c(t,{bootstrap:W,copy:O,extend:c,equals:P,element:yi,forEach:r,injector:At,noop:h,bind:L,toJson:q,fromJson:j,identity:f,isUndefined:m,isDefined:v,isString:y,isFunction:$,isObject:b,isNumber:_,isElement:T,isArray:Ii,version:Vi,isDate:w,lowercase:ki,uppercase:xi,callbacks:{counter:0},getTestability:Y,$$minErr:i,$$csp:qi,reloadWithDebugInfo:K}),wi=ot(e);try{wi("ngLocale")}catch(n){wi("ngLocale",[]).provider("$locale",nn)}wi("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Pn}),e.provider("$compile",Nt).directive({a:Ko,input:cr,textarea:cr,form:Zo,script:Yr,select:Zr,style:es,option:Qr,ngBind:hr,ngBindHtml:gr,ngBindTemplate:fr,ngClass:vr,ngClassEven:yr,ngClassOdd:br,ngCloak:_r,ngController:wr,ngForm:Qo,ngHide:Vr,ngIf:Sr,ngInclude:xr,ngInit:Tr,ngNonBindable:Nr,ngPluralize:Gr,ngRepeat:Fr,ngShow:Rr,ngStyle:Ur,ngSwitch:Hr,ngSwitchWhen:zr,ngSwitchDefault:Wr,ngOptions:Jr,ngTransclude:Kr,ngModel:Br,ngList:Mr,ngChange:mr,pattern:ns,ngPattern:ns,required:ts,ngRequired:ts,minlength:os,ngMinlength:os,maxlength:is,ngMaxlength:is,ngValue:pr,ngModelOptions:jr}).directive({ngInclude:Cr}).directive(Yo).directive($r),e.provider({$anchorScroll:Pt,$animate:po,$browser:Bt,$cacheFactory:qt,$controller:Vt,$document:Ut,$exceptionHandler:Ht,$filter:Hn,$interpolate:en,$interval:tn,$http:Xt,$httpBackend:Zt,$location:mn,$log:vn,$parse:Tn,$rootScope:An,$q:Mn,$$q:En,$sce:qn,$sceDelegate:Bn,$sniffer:jn,$templateCache:jt,$templateRequest:Nn,$$testability:Gn,$timeout:Fn,$window:Un,$$rAF:On,$$asyncCallback:It,$$jqLite:Mt})}])}function st(e){return e.replace(zi,function(e,t,n,i){return i?n.toUpperCase():n}).replace(Wi,"Moz$1")}function at(e){return e=e.nodeType,e===Fi||!e||9===e
}function lt(e,t){var n,i,o=t.createDocumentFragment(),s=[];if(Ji.test(e)){for(n=n||o.appendChild(t.createElement("div")),i=(Zi.exec(e)||["",""])[1].toLowerCase(),i=eo[i]||eo._default,n.innerHTML=i[1]+e.replace(Qi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;s=I(s,n.childNodes),n=o.firstChild,n.textContent=""}else s.push(t.createTextNode(e));return o.textContent="",o.innerHTML="",r(s,function(e){o.appendChild(e)}),o}function ut(e){if(e instanceof ut)return e;var n;if(y(e)&&(e=Li(e),n=!0),!(this instanceof ut)){if(n&&"<"!=e.charAt(0))throw Yi("nosel");return new ut(e)}if(n){n=t;var i;e=(i=Xi.exec(e))?[n.createElement(i[1])]:(i=lt(e,n))?i.childNodes:[]}yt(this,e)}function ct(e){return e.cloneNode(!0)}function dt(e,t){if(t||ht(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,o=n.length;o>i;i++)ht(n[i])}function pt(e,t,n,i){if(v(i))throw Yi("offargs");var o=(i=ft(e))&&i.events,s=i&&i.handle;if(s)if(t)r(t.split(" "),function(t){if(v(n)){var i=o[t];if(D(i||[],n),i&&0<i.length)return}e.removeEventListener(t,s,!1),delete o[t]});else for(t in o)"$destroy"!==t&&e.removeEventListener(t,s,!1),delete o[t]}function ht(e,t){var i=e.ng339,o=i&&Ui[i];o&&(t?delete o.data[t]:(o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),pt(e)),delete Ui[i],e.ng339=n))}function ft(e,t){var i=e.ng339,i=i&&Ui[i];return t&&!i&&(e.ng339=i=++Hi,i=Ui[i]={events:{},data:{},handle:n}),i}function gt(e,t,n){if(at(e)){var i=v(n),o=!i&&t&&!b(t),r=!t;if(e=(e=ft(e,!o))&&e.data,i)e[t]=n;else{if(r)return e;if(o)return e&&e[t];c(e,t)}}}function mt(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function vt(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Li((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Li(t)+" "," ")))})}function bt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Li(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Li(n))}}function yt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function _t(e,t){return wt(e,"$"+(t||"ngController")+"Controller")}function wt(e,t,i){for(9==e.nodeType&&(e=e.documentElement),t=Ii(t)?t:[t];e;){for(var o=0,r=t.length;r>o;o++)if((i=yi.data(e,t[o]))!==n)return i;e=e.parentNode||11===e.nodeType&&e.host}}function $t(e){for(dt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function kt(e,t){t||dt(e);var n=e.parentNode;n&&n.removeChild(e)}function St(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):yi(n).on("load",t)}function xt(e,t){var n=no[t.toLowerCase()];return n&&io[E(e)]&&n}function Ct(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&oo[t]}function Tt(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var o=t[i||n.type],r=o?o.length:0;if(r){if(m(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},r>1&&(o=A(o));for(var a=0;r>a;a++)n.isImmediatePropagationStopped()||o[a].call(e,n)}};return n.elem=e,n}function Mt(){this.$get=function(){return c(ut,{hasClass:function(e,t){return e.attr&&(e=e[0]),mt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),bt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),vt(e,t)}})}}function Et(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function Dt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Ot(e){return(e=e.toString().replace(lo,"").match(ro))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function At(e,t){function i(e){return function(t,n){return b(t)?void r(t,a(e)):e(t,n)}}function o(e,t){if(et(e,"service"),($(t)||Ii(t))&&(t=_.instantiate(t)),!t.$get)throw uo("pget",e);return v[e+"Provider"]=t}function s(e,t){return function(){var n=k.invoke(t,this);if(m(n))throw uo("undef",e);return n}}function l(e,t,n){return o(e,{$get:!1!==n?s(e,t):t})}function u(e){var t,n=[];return r(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],o=_.get(i[0]);o[i[1]].apply(o,i[2])}}if(!f.get(e)){f.put(e,!0);try{y(e)?(t=wi(e),n=n.concat(u(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):$(e)?n.push(_.invoke(e)):Ii(e)?n.push(_.invoke(e)):Q(e,"module")}catch(o){throw Ii(e)&&(e=e[e.length-1]),o.message&&o.stack&&-1==o.stack.indexOf(o.message)&&(o=o.message+"\n"+o.stack),uo("modulerr",e,o.stack||o.message||o)}}}),n}function c(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===d)throw uo("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=d,e[t]=n(t,i)}catch(o){throw e[t]===d&&delete e[t],o}finally{p.shift()}}function o(e,n,o,r){"string"==typeof o&&(r=o,o=null);var s,a,l,u=[],c=At.$$annotate(e,t,r);for(a=0,s=c.length;s>a;a++){if(l=c[a],"string"!=typeof l)throw uo("itkn",l);u.push(o&&o.hasOwnProperty(l)?o[l]:i(l,r))}return Ii(e)&&(e=e[s]),e.apply(n,u)}return{invoke:o,instantiate:function(e,t,n){var i=Object.create((Ii(e)?e[e.length-1]:e).prototype||null);return e=o(e,i,t,n),b(e)||$(e)?e:i},get:i,annotate:At.$$annotate,has:function(t){return v.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},p=[],f=new Dt([],!0),v={$provide:{provider:i(o),factory:i(l),service:i(function(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}),value:i(function(e,t){return l(e,g(t),!1)}),constant:i(function(e,t){et(e,"constant"),v[e]=t,w[e]=t}),decorator:function(e,t){var n=_.get(e+"Provider"),i=n.$get;n.$get=function(){var e=k.invoke(i,n);return k.invoke(t,null,{$delegate:e})}}}},_=v.$injector=c(v,function(e,t){throw Oi.isString(t)&&p.push(t),uo("unpr",p.join(" <- "))}),w={},k=w.$injector=c(w,function(e,t){var i=_.get(e+"Provider",t);return k.invoke(i.$get,i,n,e)});return r(u(e),function(e){k.invoke(e||h)}),k}function Pt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function o(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===E(e)?(t=e,!0):void 0}),t}function r(e){if(e){e.scrollIntoView();var n;n=s.yOffset,$(n)?n=n():T(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):_(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function s(){var e,t=n.hash();t?(e=a.getElementById(t))?r(e):(e=o(a.getElementsByName(t)))?r(e):"top"===t&&r(null):r(null)}var a=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||St(function(){i.$evalAsync(s)})}),s}]}function It(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Lt(e,t,i,o){function s(e){try{e.apply(null,Ci.call(arguments,1))}finally{if($--,0===$)for(;k.length;)try{k.pop()()}catch(t){i.error(t)}}}function a(e,t){!function n(){r(x,function(e){e()}),S=t(n,e)}()}function l(){u(),c()}function u(){C=e.history.state,C=m(C)?null:C,P(C,I)&&(C=I),I=C}function c(){(M!==p.url()||T!==C)&&(M=p.url(),T=C,r(O,function(e){e(p.url(),C)}))}function d(e){try{return decodeURIComponent(e)}catch(t){return e}}var p=this,f=t[0],g=e.location,v=e.history,b=e.setTimeout,_=e.clearTimeout,w={};p.isMock=!1;var $=0,k=[];p.$$completeOutstandingRequest=s,p.$$incOutstandingRequestCount=function(){$++},p.notifyWhenNoOutstandingRequests=function(e){r(x,function(e){e()}),0===$?e():k.push(e)};var S,x=[];p.addPollFn=function(e){return m(S)&&a(100,b),x.push(e),e};var C,T,M=g.href,E=t.find("base"),D=null;u(),T=C,p.url=function(t,n,i){if(m(i)&&(i=null),g!==e.location&&(g=e.location),v!==e.history&&(v=e.history),t){var r=T===i;if(M===t&&(!o.history||r))return p;var s=M&&ln(M)===ln(t);return M=t,T=i,!o.history||s&&r?(s||(D=t),n?g.replace(t):s?(n=g,i=t.indexOf("#"),t=-1===i?"":t.substr(i+1),n.hash=t):g.href=t):(v[n?"replaceState":"pushState"](i,"",t),u(),T=C),p}return D||g.href.replace(/%27/g,"'")},p.state=function(){return C};var O=[],A=!1,I=null;p.onUrlChange=function(t){return A||(o.history&&yi(e).on("popstate",l),yi(e).on("hashchange",l),A=!0),O.push(t),t},p.$$checkUrlChange=c,p.baseHref=function(){var e=E.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var L={},B="",q=p.baseHref();p.cookies=function(e,t){var o,r,s,a;if(!e){if(f.cookie!==B)for(B=f.cookie,o=B.split("; "),L={},s=0;s<o.length;s++)r=o[s],a=r.indexOf("="),a>0&&(e=d(r.substring(0,a)),L[e]===n&&(L[e]=d(r.substring(a+1))));return L}t===n?f.cookie=encodeURIComponent(e)+"=;path="+q+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(t)&&(o=(f.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+q).length+1,o>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"))},p.defer=function(e,t){var n;return $++,n=b(function(){delete w[n],s(e)},t||0),w[n]=!0,n},p.defer.cancel=function(e){return w[e]?(delete w[e],_(e),s(h),!0):!1}}function Bt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Lt(e,i,t,n)}]}function qt(){this.$get=function(){function e(e,n){function o(e){e!=p&&(h?h==e&&(h=e.n):h=e,r(e.n,e.p),r(e,p),p=e,p.n=null)}function r(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid",e);var s=0,a=c({},n,{id:e}),l={},u=n&&n.capacity||Number.MAX_VALUE,d={},p=null,h=null;return t[e]={put:function(e,t){if(u<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});o(n)}return m(t)?void 0:(e in l||s++,l[e]=t,s>u&&this.remove(h.key),t)},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;o(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t==p&&(p=t.p),t==h&&(h=t.n),r(t.n,t.p),delete d[e]}delete l[e],s--},removeAll:function(){l={},s=0,d={},p=h=null},destroy:function(){d=a=l=null,delete t[e]},info:function(){return c({},a,{size:s})}}}var t={};return e.info=function(){var e={};return r(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function jt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Nt(e,i){function o(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return r(e,function(e,o){var r=e.match(n);if(!r)throw ho("iscp",t,o,e);i[o]={mode:r[1][0],collection:"*"===r[2],optional:"?"===r[3],attrName:r[4]||o}}),i}var s={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,d=M("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,_=/^(on[a-z]+|formaction)$/;this.directive=function k(t,n){return et(t,"directive"),y(t)?(Z(n,"directiveFactory"),s.hasOwnProperty(t)||(s[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var i=[];return r(s[t],function(r,s){try{var a=e.invoke(r);$(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",b(a.scope)&&(a.$$isolateBindings=o(a.scope,a.name)),i.push(a)}catch(l){n(l)}}),i}])),s[t].push(n)):r(t,a(k)),this},this.aHrefSanitizationWhitelist=function(e){return v(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var w=!0;this.debugInfoEnabled=function(e){return v(e)?(w=e,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,o,a,g,v,k,S,C,T,M){function O(e,t){try{e.addClass(t)}catch(n){}}function A(e,t,n,i,o){e instanceof yi||(e=yi(e)),r(e,function(t,n){t.nodeType==Ri&&t.nodeValue.match(/\S+/)&&(e[n]=yi(t).wrap("<span></span>").parent()[0])});var s=I(e,t,e,n,i,o);A.$$addScopeClass(e);var a=null;return function(t,n,i){Z(t,"scope"),i=i||{};var o=i.parentBoundTranscludeFn,r=i.transcludeControllers;if(i=i.futureParentElement,o&&o.$$boundTransclude&&(o=o.$$boundTransclude),a||(a=(i=i&&i[0])&&"foreignobject"!==E(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==a?yi(Y(a,yi("<div>").append(e).html())):n?to.clone.call(e):e,r)for(var l in r)i.data("$"+l+"Controller",r[l].instance);return A.$$addScopeInfo(i,t),n&&n(i,t),s&&s(t,i,i,o),i}}function I(e,t,i,o,r,s){function a(e,i,o,r){var s,a,l,u,c,d,f;if(p)for(f=Array(i.length),u=0;u<h.length;u+=3)s=h[u],f[s]=i[s];else f=i;for(u=0,c=h.length;c>u;)a=f[h[u++]],i=h[u++],s=h[u++],i?(i.scope?(l=e.$new(),A.$$addScopeInfo(yi(a),l)):l=e,d=i.transcludeOnThisElement?L(e,i.transclude,r,i.elementTranscludeOnThisElement):!i.templateOnThisElement&&r?r:!r&&t?L(e,t):null,i(s,l,a,o,d)):s&&s(e,a.childNodes,n,r)}for(var l,u,c,d,p,h=[],f=0;f<e.length;f++)l=new ot,u=B(e[f],[],l,0===f?o:n,r),(s=u.length?G(u,e[f],l,t,i,null,[],[],s):null)&&s.scope&&A.$$addScopeClass(l.$$element),l=s&&s.terminal||!(c=e[f].childNodes)||!c.length?null:I(c,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:t),(s||l)&&(h.push(f,s,l),d=!0,p=p||s),s=null;return d?a:null}function L(e,t,n){return function(i,o,r,s,a){return i||(i=e.$new(!1,a),i.$$transcluded=!0),t(i,o,{parentBoundTranscludeFn:n,transcludeControllers:r,futureParentElement:s})}}function B(e,t,n,i,o){var r,s=n.$attr;switch(e.nodeType){case Fi:R(t,Gt(E(e)),"E",i,o);for(var a,c,d,p=e.attributes,h=0,f=p&&p.length;f>h;h++){var g=!1,m=!1;a=p[h],r=a.name,c=Li(a.value),a=Gt(r),(d=lt.test(a))&&(r=r.replace(fo,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var v=a.replace(/(Start|End)$/,"");V(v)&&a===v+"Start"&&(g=r,m=r.substr(0,r.length-5)+"end",r=r.substr(0,r.length-6)),a=Gt(r.toLowerCase()),s[a]=r,(d||!n.hasOwnProperty(a))&&(n[a]=c,xt(e,a)&&(n[a]=!0)),Q(e,t,c,a,d),R(t,a,"A",i,o,g,m)}if(e=e.className,b(e)&&(e=e.animVal),y(e)&&""!==e)for(;r=u.exec(e);)a=Gt(r[2]),R(t,a,"C",i,o)&&(n[a]=Li(r[3])),e=e.substr(r.index+r[0].length);break;case Ri:K(t,e.nodeValue);break;case 8:try{(r=l.exec(e.nodeValue))&&(a=Gt(r[1]),R(t,a,"M",i,o)&&(n[a]=Li(r[2])))}catch(_){}}return t.sort(z),t}function q(e,t,n){var i=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw ho("uterdir",t,n);e.nodeType==Fi&&(e.hasAttribute(t)&&o++,e.hasAttribute(n)&&o--),i.push(e),e=e.nextSibling}while(o>0)}else i.push(e);return yi(i)}function j(e,t,n){return function(i,o,r,s,a){return o=q(o[0],t,n),e(i,o,r,s,a)}}function G(e,s,a,l,u,c,d,p,h){function f(e,t,n,i){e&&(n&&(e=j(e,n,i)),e.require=C.require,e.directiveName=T,(I===C||C.$$isolateScope)&&(e=tt(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=j(t,n,i)),t.require=C.require,t.directiveName=T,(I===C||C.$$isolateScope)&&(t=tt(t,{isolateScope:!0})),p.push(t))}function _(e,t,n,i){var o,s,a="data",l=!1,u=n;if(y(t)){if(s=t.match(m),t=t.substring(s[0].length),s[3]&&(s[1]?s[3]=null:s[1]=s[3]),"^"===s[1]?a="inheritedData":"^^"===s[1]&&(a="inheritedData",u=n.parent()),"?"===s[2]&&(l=!0),o=null,i&&"data"===a&&(o=i[t])&&(o=o.instance),o=o||u[a]("$"+t+"Controller"),!o&&!l)throw ho("ctreq",t,e);return o||null}return Ii(t)&&(o=[],r(t,function(t){o.push(_(e,t,n,i))})),o}function w(e,t,o,l,u){function c(e,t,i){var o;return x(e)||(i=t,t=e,e=n),z&&(o=y),i||(i=z?$.parent():$),u(e,t,o,i,T)}var h,f,m,b,y,w,$,k;if(s===o?(k=a,$=a.$$element):($=yi(o),k=new ot($,a)),I&&(b=t.$new(!0)),u&&(w=c,w.$$boundTransclude=u),O&&(S={},y={},r(O,function(e){var n={$scope:e===I||e.$$isolateScope?b:t,$element:$,$attrs:k,$transclude:w};m=e.controller,"@"==m&&(m=k[e.name]),n=v(m,n,!0,e.controllerAs),y[e.name]=n,z||$.data("$"+e.name+"Controller",n.instance),S[e.name]=n})),I){A.$$addScopeInfo($,b,!0,!(L&&(L===I||L===I.$$originalDirective))),A.$$addScopeClass($,!0),l=S&&S[I.name];var C=b;l&&l.identifier&&!0===I.bindToController&&(C=l.instance),r(b.$$isolateBindings=I.$$isolateBindings,function(e,n){var o,r,s,a,l=e.attrName,u=e.optional;switch(e.mode){case"@":k.$observe(l,function(e){C[n]=e}),k.$$observers[l].$$scope=t,k[l]&&(C[n]=i(k[l])(t));break;case"=":if(u&&!k[l])break;r=g(k[l]),a=r.literal?P:function(e,t){return e===t||e!==e&&t!==t},s=r.assign||function(){throw o=C[n]=r(t),ho("nonassign",k[l],I.name)},o=C[n]=r(t),u=function(e){return a(e,C[n])||(a(e,o)?s(t,e=C[n]):C[n]=e),o=e},u.$stateful=!0,u=e.collection?t.$watchCollection(k[l],u):t.$watch(g(k[l],u),null,r.literal),b.$on("$destroy",u);break;case"&":r=g(k[l]),C[n]=function(e){return r(t,e)}}})}for(S&&(r(S,function(e){e()}),S=null),l=0,h=d.length;h>l;l++)f=d[l],nt(f,f.isolateScope?b:t,$,k,f.require&&_(f.directiveName,f.require,$,y),w);var T=t;for(I&&(I.template||null===I.templateUrl)&&(T=b),e&&e(T,o.childNodes,n,u),l=p.length-1;l>=0;l--)f=p[l],nt(f,f.isolateScope?b:t,$,k,f.require&&_(f.directiveName,f.require,$,y),w)}h=h||{};for(var k,S,C,T,M,E,D=-Number.MAX_VALUE,O=h.controllerDirectives,I=h.newIsolateScopeDirective,L=h.templateDirective,G=h.nonTlbTranscludeDirective,R=!1,V=!1,z=h.hasElementTranscludeDirective,K=a.$$element=yi(s),X=l,J=0,Z=e.length;Z>J;J++){C=e[J];var Q=C.$$start,it=C.$$end;if(Q&&(K=q(s,Q,it)),M=n,D>C.priority)break;if((M=C.scope)&&(C.templateUrl||(b(M)?(W("new/isolated scope",I||k,C,K),I=C):W("new/isolated scope",I,C,K)),k=k||C),T=C.name,!C.templateUrl&&C.controller&&(M=C.controller,O=O||{},W("'"+T+"' controller",O[T],C,K),O[T]=C),(M=C.transclude)&&(R=!0,C.$$tlb||(W("transclusion",G,C,K),G=C),"element"==M?(z=!0,D=C.priority,M=K,K=a.$$element=yi(t.createComment(" "+T+": "+a[T]+" ")),s=K[0],et(u,Ci.call(M,0),s),X=A(M,l,D,c&&c.name,{nonTlbTranscludeDirective:G})):(M=yi(ct(s)).contents(),K.empty(),X=A(M,l))),C.template)if(V=!0,W("template",L,C,K),L=C,M=$(C.template)?C.template(K,a):C.template,M=at(M),C.replace){if(c=C,M=Ji.test(M)?Rt(Y(C.templateNamespace,Li(M))):[],s=M[0],1!=M.length||s.nodeType!==Fi)throw ho("tplrt",T,"");et(u,K,s),Z={$attr:{}},M=B(s,[],Z);var rt=e.splice(J+1,e.length-(J+1));I&&F(M),e=e.concat(M).concat(rt),U(a,Z),Z=e.length}else K.html(M);if(C.templateUrl)V=!0,W("template",L,C,K),L=C,C.replace&&(c=C),w=H(e.splice(J,e.length-J),K,a,u,R&&X,d,p,{controllerDirectives:O,newIsolateScopeDirective:I,templateDirective:L,nonTlbTranscludeDirective:G}),Z=e.length;else if(C.compile)try{E=C.compile(K,a,X),$(E)?f(null,E,Q,it):E&&f(E.pre,E.post,Q,it)}catch(st){o(st,N(K))}C.terminal&&(w.terminal=!0,D=Math.max(D,C.priority))}return w.scope=k&&!0===k.scope,w.transcludeOnThisElement=R,w.elementTranscludeOnThisElement=z,w.templateOnThisElement=V,w.transclude=X,h.hasElementTranscludeDirective=z,w}function F(e){for(var t=0,n=e.length;n>t;t++)e[t]=p(e[t],{$$isolateScope:!0})}function R(t,i,r,a,l,u,c){if(i===l)return null;if(l=null,s.hasOwnProperty(i)){var d;i=e.get(i+"Directive");for(var h=0,f=i.length;f>h;h++)try{d=i[h],(a===n||a>d.priority)&&-1!=d.restrict.indexOf(r)&&(u&&(d=p(d,{$$start:u,$$end:c})),t.push(d),l=d)}catch(g){o(g)}}return l}function V(t){if(s.hasOwnProperty(t))for(var n=e.get(t+"Directive"),i=0,o=n.length;o>i;i++)if(t=n[i],t.multiElement)return!0;return!1}function U(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;r(e,function(i,o){"$"!=o.charAt(0)&&(t[o]&&t[o]!==i&&(i+=("style"===o?";":" ")+t[o]),e.$set(o,i,!0,n[o]))}),r(t,function(t,r){"class"==r?(O(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,i[r]=n[r])})}function H(e,t,n,i,o,s,l,u){var c,d,h=[],f=t[0],g=e.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=$(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),a(C.getTrustedResourceUrl(v)).then(function(a){var p,_;if(a=at(a),g.replace){if(a=Ji.test(a)?Rt(Y(y,Li(a))):[],p=a[0],1!=a.length||p.nodeType!==Fi)throw ho("tplrt",g.name,v);a={$attr:{}},et(i,t,p);var w=B(p,[],a);b(g.scope)&&F(w),e=w.concat(e),U(n,a)}else p=f,t.html(a);for(e.unshift(m),c=G(e,p,n,o,t,g,s,l,u),r(i,function(e,n){e==p&&(i[n]=t[0])}),d=I(t[0].childNodes,o);h.length;){a=h.shift(),_=h.shift();var $=h.shift(),k=h.shift(),w=t[0];if(!a.$$destroyed){if(_!==f){var S=_.className;u.hasElementTranscludeDirective&&g.replace||(w=ct(p)),et($,yi(_),w),O(yi(w),S)}_=c.transcludeOnThisElement?L(a,c.transclude,k):k,c(d,a,w,i,_)}}h=null}),function(e,t,n,i,o){e=o,t.$$destroyed||(h?h.push(t,n,i,e):(c.transcludeOnThisElement&&(e=L(t,c.transclude,o)),c(d,t,n,i,e)))}}function z(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function W(e,t,n,i){if(t)throw ho("multidir",t.name,n.name,e,N(i))}function K(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&A.$$addBindingClass(e),function(e,i){var o=i.parent();t||A.$$addBindingClass(o),A.$$addBindingInfo(o,n.expressions),e.$watch(n,function(e){i[0].nodeValue=e})}}})}function Y(e,n){switch(e=ki(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function J(e,t){if("srcdoc"==t)return C.HTML;var n=E(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function Q(e,t,n,o,r){var s=J(e,o);r=d[o]||r;var a=i(n,!0,s,r);if(a){if("multiple"===o&&"select"===E(e))throw ho("selmulti",N(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers={}),_.test(o))throw ho("nodomevents");var u=l[o];u!==n&&(a=u&&i(u,!0,s,r),n=u),a&&(l[o]=a(e),(t[o]||(t[o]=[])).$$inter=!0,(l.$$observers&&l.$$observers[o].$$scope||e).$watch(a,function(e,t){"class"===o&&e!=t?l.$updateClass(e,t):l.$set(o,e)}))}}}})}}function et(e,n,i){var o,r,s=n[0],a=n.length,l=s.parentNode;if(e)for(o=0,r=e.length;r>o;o++)if(e[o]==s){e[o++]=i,r=o+a-1;for(var u=e.length;u>o;o++,r++)u>r?e[o]=e[r]:delete e[o];e.length-=a-1,e.context===s&&(e.context=i);break}for(l&&l.replaceChild(i,s),e=t.createDocumentFragment(),e.appendChild(s),yi(i).data(yi(s).data()),_i?(Pi=!0,_i.cleanData([s])):delete yi.cache[s[yi.expando]],s=1,a=n.length;a>s;s++)l=n[s],yi(l).remove(),e.appendChild(l),delete n[s];n[0]=i,n.length=1}function tt(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function nt(e,t,n,i,r,s){try{e(t,n,i,r,s)}catch(a){o(a,N(n))}}var ot=function(e,t){if(t){var n,i,o,r=Object.keys(t);for(n=0,i=r.length;i>n;n++)o=r[n],this[o]=t[o]}else this.$attr={};this.$$element=e};ot.prototype={$normalize:Gt,$addClass:function(e){e&&0<e.length&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ft(e,t);n&&n.length&&T.addClass(this.$$element,n),(n=Ft(t,e))&&n.length&&T.removeClass(this.$$element,n)},$set:function(e,t,i,s){var a=this.$$element[0],l=xt(a,e),u=Ct(a,e),a=e;if(l?(this.$$element.prop(e,t),s=l):u&&(this[u]=t,a=u),this[e]=t,s?this.$attr[e]=s:(s=this.$attr[e])||(this.$attr[e]=s=X(e,"-")),l=E(this.$$element),"a"===l&&"href"===e||"img"===l&&"src"===e)this[e]=t=M(t,"src"===e);else if("img"===l&&"srcset"===e){for(var l="",u=Li(t),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(u)?c:/(,)/,u=u.split(c),c=Math.floor(u.length/2),d=0;c>d;d++)var p=2*d,l=l+M(Li(u[p]),!0),l=l+(" "+Li(u[p+1]));u=Li(u[2*d]).split(/\s/),l+=M(Li(u[0]),!0),2===u.length&&(l+=" "+Li(u[1])),this[e]=t=l}!1!==i&&(null===t||t===n?this.$$element.removeAttr(s):this.$$element.attr(s,t)),(e=this.$$observers)&&r(e[a],function(e){try{e(t)}catch(n){o(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=it()),o=i[e]||(i[e]=[]);return o.push(t),k.$evalAsync(function(){!o.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){D(o,t)}}};var rt=i.startSymbol(),st=i.endSymbol(),at="{{"==rt||"}}"==st?f:function(e){return e.replace(/\{\{/g,rt).replace(/}}/g,st)},lt=/^ngAttr[A-Z]/;return A.$$addBindingInfo=w?function(e,t){var n=e.data("$binding")||[];Ii(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,A.$$addBindingClass=w?function(e){O(e,"ng-binding")}:h,A.$$addScopeInfo=w?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:h,A.$$addScopeClass=w?function(e,t){O(e,t?"ng-isolate-scope":"ng-scope")}:h,A}]}function Gt(e){return st(e.replace(fo,""))}function Ft(e,t){var n="",i=e.split(/\s+/),o=t.split(/\s+/),r=0;e:for(;r<i.length;r++){for(var s=i[r],a=0;a<o.length;a++)if(s==o[a])continue e;n+=(0<n.length?" ":"")+s}return n}function Rt(e){e=yi(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Ti.call(e,t,1);return e}function Vt(){var e={},t=!1,o=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){et(t,"controller"),b(t)?c(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(r,s){function a(e,t,n,o){if(!e||!b(e.$scope))throw i("$controller")("noscp",o,t);e.$scope[t]=n}return function(i,l,u,d){var p,h,f;if(u=!0===u,d&&y(d)&&(f=d),y(i)){if(d=i.match(o),!d)throw go("ctrlfmt",i);h=d[1],f=f||d[3],i=e.hasOwnProperty(h)?e[h]:tt(l.$scope,h,!0)||(t?tt(s,h,!0):n),Q(i,h,!0)}return u?(u=(Ii(i)?i[i.length-1]:i).prototype,p=Object.create(u||null),f&&a(l,f,p,h||i.name),c(function(){return r.invoke(i,p,l,h),p},{instance:p,identifier:f})):(p=r.instantiate(i,l,h),f&&a(l,f,p,h||i.name),p)}}]}function Ut(){this.$get=["$window",function(e){return yi(e.document)}]}function Ht(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function zt(e,t){if(y(e)){var n=e.replace(_o,"").trim();if(n){var i=t("Content-Type");(i=i&&0===i.indexOf(mo))||(i=(i=n.match(bo))&&yo[i[0]].test(n)),i&&(e=j(n))}}return e}function Wt(e){var t,n,i,o=it();return e?(r(e.split("\n"),function(e){i=e.indexOf(":"),t=ki(Li(e.substr(0,i))),n=Li(e.substr(i+1)),t&&(o[t]=o[t]?o[t]+", "+n:n)}),o):o}function Kt(e){var t=b(e)?e:n;return function(n){return t||(t=Wt(e)),n?(n=t[ki(n)],void 0===n&&(n=null),n):t}}function Yt(e,t,n,i){return $(i)?i(e,t,n):(r(i,function(i){e=i(e,t,n)}),e)}function Xt(){var e=this.defaults={transformResponse:[zt],transformRequest:[function(e){return b(e)&&"[object File]"!==Ei.call(e)&&"[object Blob]"!==Ei.call(e)&&"[object FormData]"!==Ei.call(e)?q(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:A(vo),put:A(vo),patch:A(vo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return v(e)?(t=!!e,this):t};var o=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,l,u,d,p,h){function f(t){function o(e){var t=c({},e);return t.data=e.data?Yt(e.data,e.headers,e.status,a.transformResponse):e.data,e=e.status,e>=200&&300>e?t:p.reject(t)}function s(e){var t,n={};return r(e,function(e,i){$(e)?(t=e(),null!=t&&(n[i]=t)):n[i]=e}),n}if(!Oi.isObject(t))throw i("$http")("badreq",t);var a=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);a.headers=function(t){var n,i,o=e.headers,r=c({},t.headers),o=c({},o.common,o[ki(t.method)]);e:for(n in o){t=ki(n);for(i in r)if(ki(i)===t)continue e;r[n]=o[n]}return s(r)}(t),a.method=xi(a.method);var l=[function(t){var i=t.headers,s=Yt(t.data,Kt(i),n,t.transformRequest);return m(s)&&r(i,function(e,t){"content-type"===ki(t)&&delete i[t]}),m(t.withCredentials)&&!m(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,s).then(o,o)},n],u=p.when(a);for(r(S,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){t=l.shift();var d=l.shift(),u=u.then(t,d)}return u.success=function(e){return u.then(function(t){e(t.data,t.status,t.headers,a)}),u},u.error=function(e){return u.then(null,function(t){e(t.data,t.status,t.headers,a)}),u},u}function g(i,o){function r(e,n,i,o){function r(){s(n,e,i,o)}h&&(e>=200&&300>e?h.put(x,[e,n,Wt(i),o]):h.remove(x)),t?d.$applyAsync(r):(r(),d.$$phase||d.$apply())}function s(e,t,n,o){t=Math.max(t,0),(t>=200&&300>t?y.resolve:y.reject)({data:e,status:t,headers:Kt(n),config:i,statusText:o})}function u(e){s(e.data,e.status,A(e.headers()),e.statusText)}function c(){var e=f.pendingRequests.indexOf(i);-1!==e&&f.pendingRequests.splice(e,1)}var h,g,y=p.defer(),w=y.promise,S=i.headers,x=_(i.url,i.params);return f.pendingRequests.push(i),w.then(c,c),!i.cache&&!e.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(h=b(i.cache)?i.cache:b(e.cache)?e.cache:k),h&&(g=h.get(x),v(g)?g&&$(g.then)?g.then(u,u):Ii(g)?s(g[1],g[0],A(g[2]),g[3]):s(g,200,{},"OK"):h.put(x,w)),m(g)&&((g=Vn(i.url)?l.cookies()[i.xsrfCookieName||e.xsrfCookieName]:n)&&(S[i.xsrfHeaderName||e.xsrfHeaderName]=g),a(i.method,x,o,r,S,i.timeout,i.withCredentials,i.responseType)),w}function _(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||m(e)||(Ii(e)||(e=[e]),r(e,function(e){b(e)&&(e=w(e)?e.toISOString():q(e)),n.push(U(t)+"="+U(e))}))}),0<n.length&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var k=u("$http"),S=[];return r(o,function(e){S.unshift(y(e)?h.get(e):h.invoke(e))}),f.pendingRequests=[],function(){r(arguments,function(e){f[e]=function(t,n){return f(c(n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(){r(arguments,function(e){f[e]=function(t,n,i){return f(c(i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),f.defaults=e,f}]}function Jt(){return new e.XMLHttpRequest}function Zt(){this.$get=["$browser","$window","$document",function(e,t,n){return Qt(e,Jt,e.defer,t.angular.callbacks,n[0])}]}function Qt(e,t,i,o,s){function a(e,t,n){var i=s.createElement("script"),r=null;return i.type="text/javascript",i.src=e,i.async=!0,r=function(e){i.removeEventListener("load",r,!1),i.removeEventListener("error",r,!1),s.body.removeChild(i),i=null;var a=-1,l="unknown";e&&("load"!==e.type||o[t].called||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),n&&n(a,l)},i.addEventListener("load",r,!1),i.addEventListener("error",r,!1),s.body.appendChild(i),r}return function(s,l,u,c,d,p,f,g){function m(){_&&_(),w&&w.abort()}function b(t,o,r,s,a){S!==n&&i.cancel(S),_=w=null,t(o,r,s,a),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==ki(s)){var y="_"+(o.counter++).toString(36);o[y]=function(e){o[y].data=e,o[y].called=!0};var _=a(l.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(e,t){b(c,e,o[y].data,"",t),o[y]=h})}else{var w=t();if(w.open(s,l,!0),r(d,function(e,t){v(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"==Rn(l).protocol?404:0),b(c,n,t,w.getAllResponseHeaders(),e)},s=function(){b(c,-1,null,null,"")},w.onerror=s,w.onabort=s,f&&(w.withCredentials=!0),g)try{w.responseType=g}catch(k){if("json"!==g)throw k}w.send(u||null)}if(p>0)var S=i(m,p);else p&&$(p.then)&&p.then(m)}}function en(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,o){function r(e){return"\\\\\\"+e}function s(r,s,p,h){function f(n){return n.replace(u,e).replace(d,t)}function g(e){try{var t=e;e=p?o.getTrusted(p,t):o.valueOf(t);var n;if(h&&!v(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=q(e)}n=e}return n}catch(s){n=wo("interr",r,s.toString()),i(n)}}h=!!h;for(var b,y,_=0,w=[],k=[],S=r.length,x=[],C=[];S>_;){if(-1==(b=r.indexOf(e,_))||-1==(y=r.indexOf(t,b+a))){_!==S&&x.push(f(r.substring(_)));break}_!==b&&x.push(f(r.substring(_,b))),_=r.substring(b+a,y),w.push(_),k.push(n(_,g)),_=y+l,C.push(x.length),x.push("")}if(p&&1<x.length)throw wo("noconcat",r);if(!s||w.length){var T=function(e){for(var t=0,n=w.length;n>t;t++){if(h&&m(e[t]))return;x[C[t]]=e[t]}return x.join("")};return c(function(e){var t=0,n=w.length,o=Array(n);try{for(;n>t;t++)o[t]=k[t](e);return T(o)}catch(s){e=wo("interr",r,s.toString()),i(e)}},{exp:r,expressions:w,$$watchDelegate:function(e,t,n){var i;
return e.$watchGroup(k,function(n,o){var r=T(n);$(t)&&t.call(this,r,n!==o?i:r,e),i=r},n)}})}}var a=e.length,l=t.length,u=new RegExp(e.replace(/./g,r),"g"),d=new RegExp(t.replace(/./g,r),"g");return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function tn(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){function o(o,s,a,l){var u=t.setInterval,c=t.clearInterval,d=0,p=v(l)&&!l,h=(p?i:n).defer(),f=h.promise;return a=v(a)?a:0,f.then(null,null,o),f.$$intervalId=u(function(){h.notify(d++),a>0&&d>=a&&(h.resolve(d),c(f.$$intervalId),delete r[f.$$intervalId]),p||e.$apply()},s),r[f.$$intervalId]=h,f}var r={};return o.cancel=function(e){return e&&e.$$intervalId in r?(r[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0):!1},o}]}function nn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"1 2 3 4 5 6 7 August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function on(e){e=e.split("/");for(var t=e.length;t--;)e[t]=V(e[t]);return e.join("/")}function rn(e,t){var n=Rn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||ko[n.protocol]||null}function sn(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Rn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=F(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function an(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function ln(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function un(e){return e.replace(/(#.+)|#$/,"$1")}function cn(e){return e.substr(0,ln(e).lastIndexOf("/")+1)}function dn(e,t){this.$$html5=!0,t=t||"";var i=cn(e);rn(e,this),this.$$parse=function(e){var t=an(i,e);if(!y(t))throw So("ipthprfx",e,i);sn(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=R(this.$$search),t=this.$$hash?"#"+V(this.$$hash):"";this.$$url=on(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(o,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var s,a;return(s=an(e,o))!==n?(a=s,a=(s=an(t,s))!==n?i+(an("/",s)||s):e+a):(s=an(i,o))!==n?a=i+s:i==o+"/"&&(a=i),a&&this.$$parse(a),!!a}}function pn(e,t){var n=cn(e);rn(e,this),this.$$parse=function(i){i=an(e,i)||an(n,i);var o;"#"===i.charAt(0)?(o=an(t,i),m(o)&&(o=i)):o=this.$$html5?i:"",sn(o,this),i=this.$$path;var r=/^\/[A-Z]:(\/.*)/;0===o.indexOf(e)&&(o=o.replace(e,"")),r.exec(o)||(i=(o=r.exec(i))?o[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var n=R(this.$$search),i=this.$$hash?"#"+V(this.$$hash):"";this.$$url=on(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t){return ln(e)==ln(t)?(this.$$parse(t),!0):!1}}function hn(e,t){this.$$html5=!0,pn.apply(this,arguments);var n=cn(e);this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var r,s;return e==ln(i)?r=i:(s=an(n,i))?r=e+t+s:n===i+"/"&&(r=n),r&&this.$$parse(r),!!r},this.$$compose=function(){var n=R(this.$$search),i=this.$$hash?"#"+V(this.$$hash):"";this.$$url=on(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+t+this.$$url}}function fn(e){return function(){return this[e]}}function gn(e,t){return function(n){return m(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function mn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return v(t)?(e=t,this):e},this.html5Mode=function(e){return C(e)?(t.enabled=e,this):b(e)?(C(e.enabled)&&(t.enabled=e.enabled),C(e.requireBase)&&(t.requireBase=e.requireBase),C(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,o,r,s){function a(e,t,n){var o=u.url(),r=u.$$state;try{i.url(e,t,n),u.$$state=i.state()}catch(s){throw u.url(o),u.$$state=r,s}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c;c=i.baseHref();var d,p=i.url();if(t.enabled){if(!c&&t.requireBase)throw So("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(c||"/"),c=o.history?dn:hn}else d=ln(p),c=pn;u=new c(d,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=i.state();var h=/^\s*(javascript|mailto):/i;r.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var o=yi(e.target);"a"!==E(o[0]);)if(o[0]===r[0]||!(o=o.parent())[0])return;var a=o.prop("href"),l=o.attr("href")||o.attr("xlink:href");b(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Rn(a.animVal).href),h.test(a)||!a||o.attr("target")||e.isDefaultPrevented()||!u.$$parseLinkUrl(a,l)||(e.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),un(u.absUrl())!=un(p)&&i.url(u.absUrl(),!0);var f=!0;return i.onUrlChange(function(e,t){n.$evalAsync(function(){var i,o=u.absUrl(),r=u.$$state;u.$$parse(e),u.$$state=t,i=n.$broadcast("$locationChangeStart",e,o,t,r).defaultPrevented,u.absUrl()===e&&(i?(u.$$parse(o),u.$$state=r,a(o,!1,r)):(f=!1,l(o,r)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=un(i.url()),t=un(u.absUrl()),r=i.state(),s=u.$$replace,c=e!==t||u.$$html5&&o.history&&r!==u.$$state;(f||c)&&(f=!1,n.$evalAsync(function(){var t=u.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,u.$$state,r).defaultPrevented;u.absUrl()===t&&(i?(u.$$parse(e),u.$$state=r):(c&&a(t,s,r===u.$$state?null:u.$$state),l(e,r)))})),u.$$replace=!1}),u}]}function vn(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||h;e=!1;try{e=!!o.apply}catch(s){}return e?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function bn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Co("isecfld",t);return e}function yn(e,t){if(e){if(e.constructor===e)throw Co("isecfn",t);if(e.window===e)throw Co("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Co("isecdom",t);if(e===Object)throw Co("isecobj",t)}return e}function _n(e){return e.constant}function wn(e,t,n,i,o){yn(e,o),yn(t,o),n=n.split(".");for(var r,s=0;1<n.length;s++){r=bn(n.shift(),o);var a=0===s&&t&&t[r]||e[r];a||(a={},e[r]=a),e=yn(a,o)}return r=bn(n.shift(),o),yn(e[r],o),e[r]=i}function $n(e){return"constructor"==e}function kn(e,t,i,o,r,s,a){bn(e,s),bn(t,s),bn(i,s),bn(o,s),bn(r,s);var l=function(e){return yn(e,s)},u=a||$n(e)?l:f,c=a||$n(t)?l:f,d=a||$n(i)?l:f,p=a||$n(o)?l:f,h=a||$n(r)?l:f;return function(s,a){var l=a&&a.hasOwnProperty(e)?a:s;return null==l?l:(l=u(l[e]),t?null==l?n:(l=c(l[t]),i?null==l?n:(l=d(l[i]),o?null==l?n:(l=p(l[o]),r?null==l?n:l=h(l[r]):l):l):l):l)}}function Sn(e,t){return function(n,i){return e(n,i,yn,t)}}function xn(e,t,i){var o=t.expensiveChecks,s=o?Bo:Lo,a=s[e];if(a)return a;var l=e.split("."),u=l.length;if(t.csp)a=6>u?kn(l[0],l[1],l[2],l[3],l[4],i,o):function(e,t){var r,s=0;do r=kn(l[s++],l[s++],l[s++],l[s++],l[s++],i,o)(e,t),t=n,e=r;while(u>s);return r};else{var c="";o&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=o;r(l,function(e,t){bn(e,i);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(o||$n(e))&&(n="eso("+n+", fe)",d=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;",t=new Function("s","l","eso","fe",c),t.toString=g(c),d&&(t=Sn(t,i)),a=t}return a.sharedGetter=!0,a.assign=function(t,n,i){return wn(t,i,e,n,e)},s[e]=a}function Cn(e){return $(e.valueOf)?e.valueOf():qo.call(e)}function Tn(){var e=it(),t=it();this.$get=["$filter","$sniffer",function(n,i){function o(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function s(e,t){for(var n=0,i=e.length;i>n;n++){var o=e[n];o.constant||(o.inputs?s(o.inputs,t):-1===t.indexOf(o)&&t.push(o))}return t}function a(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Cn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,n,i){var o,r=i.$$inputs||(i.$$inputs=s(i.inputs,[]));if(1===r.length){var l=a,r=r[0];return e.$watch(function(e){var t=r(e);return a(t,l)||(o=i(e),l=t&&Cn(t)),o},t,n)}for(var u=[],c=0,d=r.length;d>c;c++)u[c]=a;return e.$watch(function(e){for(var t=!1,n=0,s=r.length;s>n;n++){var l=r[n](e);(t||(t=!a(l,u[n])))&&(u[n]=l&&Cn(l))}return t&&(o=i(e)),o},t,n)}function u(e,t,n,i){var o,r;return o=e.$watch(function(e){return i(e)},function(e,n,i){r=e,$(t)&&t.apply(this,arguments),v(e)&&i.$$postDigest(function(){v(r)&&o()})},n)}function c(e,t,n,i){function o(e){var t=!0;return r(e,function(e){v(e)||(t=!1)}),t}var s,a;return s=e.$watch(function(e){return i(e)},function(e,n,i){a=e,$(t)&&t.call(this,e,n,i),o(e)&&i.$$postDigest(function(){o(a)&&s()})},n)}function d(e,t,n,i){var o;return o=e.$watch(function(e){return i(e)},function(){$(t)&&t.apply(this,arguments),o()},n)}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,n=n!==c&&n!==u?function(n,i){var o=e(n,i);return t(o,n,i)}:function(n,i){var o=e(n,i),r=t(o,n,i);return v(o)?r:o};return e.$$watchDelegate&&e.$$watchDelegate!==l?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=l,n.inputs=[e]),n}var f={csp:i.csp,expensiveChecks:!1},g={csp:i.csp,expensiveChecks:!0};return function(i,r,s){var a,m,v;switch(typeof i){case"string":v=i=i.trim();var b=s?t:e;return a=b[v],a||(":"===i.charAt(0)&&":"===i.charAt(1)&&(m=!0,i=i.substring(2)),s=s?g:f,a=new Po(s),a=new Io(a,n,s).parse(i),a.constant?a.$$watchDelegate=d:m?(a=o(a),a.$$watchDelegate=a.literal?c:u):a.inputs&&(a.$$watchDelegate=l),b[v]=a),p(a,r);case"function":return p(i,r);default:return p(h,r)}}}]}function Mn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Dn(function(t){e.$evalAsync(t)},t)}]}function En(){this.$get=["$browser","$exceptionHandler",function(e,t){return Dn(function(t){e.defer(t)},t)}]}function Dn(e,t){function o(e,t,n){function i(t){return function(n){o||(o=!0,t.call(e,n))}}var o=!1;return[i(t),i(n)]}function s(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function l(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,e(function(){var e,o,r;r=i.pending,i.processScheduled=!1,i.pending=n;for(var s=0,a=r.length;a>s;++s){o=r[s][0],e=r[s][i.status];try{$(e)?o.resolve(e(i.value)):1===i.status?o.resolve(i.value):o.reject(i.value)}catch(l){o.reject(l),t(l)}}}))}function u(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}var c=i("$q",TypeError);s.prototype={then:function(e,t,n){var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&l(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return p(t,!0,e)},function(t){return p(t,!1,e)},t)}},u.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(c("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=o(this,this.$$resolve,this.$$reject);try{(b(e)||$(e))&&(n=e&&e.then),$(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(r){i[1](r),t(r)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&e(function(){for(var e,o,r=0,s=i.length;s>r;r++){o=i[r][0],e=i[r][3];try{o.notify($(e)?e(n):n)}catch(a){t(a)}}})}};var d=function(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},p=function(e,t,n){var i=null;try{$(n)&&(i=n())}catch(o){return d(o,!1)}return i&&$(i.then)?i.then(function(){return d(e,t)},function(e){return d(e,!1)}):d(e,t)},h=function(e,t,n,i){var o=new u;return o.resolve(e),o.promise.then(t,n,i)},f=function g(e){if(!$(e))throw c("norslvr",e);if(!(this instanceof g))return new g(e);var t=new u;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return f.defer=function(){return new u},f.reject=function(e){var t=new u;return t.reject(e),t.promise},f.when=h,f.all=function(e){var t=new u,n=0,i=Ii(e)?[]:{};return r(e,function(e,o){n++,h(e).then(function(e){i.hasOwnProperty(o)||(i[o]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(o)||t.reject(e)})}),0===n&&t.resolve(i),t.promise},f}function On(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!n,r=o?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return r.supported=o,r}]}function An(){var e=10,t=i("$rootScope"),n=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,a,l,u){function c(){this.$id=++Ai,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function d(e){if(y.$$phase)throw t("inprog",y.$$phase);y.$$phase=e}function p(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function f(){}function g(){for(;k.length;)try{k.shift()()}catch(e){a(e)}s=null}function v(){null===s&&(s=u.defer(function(){y.$apply(g)}))}c.prototype={constructor:c,$new:function(e,t){function n(){i.$$destroyed=!0}var i;return t=t||this,e?(i=new c,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=++Ai,this.$$ChildScope=null},this.$$ChildScope.prototype=this),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(e||t!=this)&&i.$on("$destroy",n),i},$watch:function(e,t,i){var o=l(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,i,o);var r=this.$$watchers,s={fn:t,last:f,get:o,exp:e,eq:!!i};return n=null,$(t)||(s.fn=h),r||(r=this.$$watchers=[]),r.unshift(s),function(){D(r,s),n=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(o,o,a)):t(o,i,a)}var i=Array(e.length),o=Array(e.length),s=[],a=this,l=!1,u=!0;if(!e.length){var c=!0;return a.$evalAsync(function(){c&&t(o,o,a)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=a.$watch(e,function(e,r){o[t]=e,i[t]=r,l||(l=!0,a.$evalAsync(n))});s.push(r)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,s,a;if(!m(i)){if(b(i))if(o(i))for(r!==p&&(r=p,g=r.length=0,c++),e=i.length,g!==e&&(c++,r.length=g=e),t=0;e>t;t++)a=r[t],s=i[t],n=a!==a&&s!==s,n||a===s||(c++,r[t]=s);else{r!==h&&(r=h={},g=0,c++),e=0;for(t in i)i.hasOwnProperty(t)&&(e++,s=i[t],a=r[t],t in r?(n=a!==a&&s!==s,n||a===s||(c++,r[t]=s)):(g++,r[t]=s,c++));if(g>e)for(t in c++,r)i.hasOwnProperty(t)||(g--,delete r[t])}else r!==i&&(r=i,c++);return c}}n.$stateful=!0;var i,r,s,a=this,u=1<t.length,c=0,d=l(e,n),p=[],h={},f=!0,g=0;return this.$watch(d,function(){if(f?(f=!1,t(i,i,a)):t(i,s,a),u)if(b(i))if(o(i)){s=Array(i.length);for(var e=0;e<i.length;e++)s[e]=i[e]}else for(e in s={},i)Si.call(i,e)&&(s[e]=i[e]);else s=i})},$digest:function(){var i,o,r,l,c,p,h,m,v,b=e,k=[];d("$digest"),u.$$checkUrlChange(),this===y&&null!==s&&(u.defer.cancel(s),g()),n=null;do{for(p=!1,h=this;_.length;){try{v=_.shift(),v.scope.$eval(v.expression,v.locals)}catch(S){a(S)}n=null}e:do{if(l=h.$$watchers)for(c=l.length;c--;)try{if(i=l[c])if((o=i.get(h))===(r=i.last)||(i.eq?P(o,r):"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))){if(i===n){p=!1;break e}}else p=!0,n=i,i.last=i.eq?O(o,null):o,i.fn(o,r===f?o:r,h),5>b&&(m=4-b,k[m]||(k[m]=[]),k[m].push({msg:$(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:o,oldVal:r}))}catch(x){a(x)}if(!(l=h.$$childHead||h!==this&&h.$$nextSibling))for(;h!==this&&!(l=h.$$nextSibling);)h=h.$parent}while(h=l);if((p||_.length)&&!b--)throw y.$$phase=null,t("infdig",e,k)}while(p||_.length);for(y.$$phase=null;w.length;)try{w.shift()()}catch(C){a(C)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y){for(var t in this.$$listenerCount)p(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){y.$$phase||_.length||u.defer(function(){_.length&&y.$digest()}),_.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){w.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(t){a(t)}finally{y.$$phase=null;try{y.$digest()}catch(n){throw a(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&k.push(t),v()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var o=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,p(o,1,e))}},$emit:function(e){var t,n,i,o=[],r=this,s=!1,l={name:e,targetScope:r,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=I([l],arguments,1);do{for(t=r.$$listeners[e]||o,l.currentScope=r,n=0,i=t.length;i>n;n++)if(t[n])try{t[n].apply(null,u)}catch(c){a(c)}else t.splice(n,1),n--,i--;if(s)return l.currentScope=null,l;r=r.$parent}while(r);return l.currentScope=null,l},$broadcast:function(e){var t=this,n=this,i={name:e,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return i;for(var o,r,s=I([i],arguments,1);t=n;){for(i.currentScope=t,n=t.$$listeners[e]||[],o=0,r=n.length;r>o;o++)if(n[o])try{n[o].apply(null,s)}catch(l){a(l)}else n.splice(o,1),o--,r--;if(!(n=t.$$listenerCount[e]&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(n=t.$$nextSibling);)t=t.$parent}return i.currentScope=null,i}};var y=new c,_=y.$$asyncQueue=[],w=y.$$postDigestQueue=[],k=y.$$applyAsyncQueue=[];return y}]}function Pn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.$get=function(){return function(n,i){var o,r=i?t:e;return o=Rn(n).href,""===o||o.match(r)?n:"unsafe:"+o}}}function In(e){if("self"===e)return e;if(y(e)){if(-1<e.indexOf("***"))throw jo("iwcard",e);return e=Bi(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(k(e))return new RegExp("^"+e.source+"$");throw jo("imatcher")}function Ln(e){var t=[];return v(e)&&r(e,function(e){t.push(In(e))}),t}function Bn(){this.SCE_CONTEXTS=No;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Ln(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Ln(e)),t},this.$get=["$injector",function(i){function o(e,t){return"self"===e?Vn(t):!!e.exec(t.href)}function r(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(){throw jo("unsafe")};i.has("$sanitize")&&(s=i.get("$sanitize"));var a=r(),l={};return l[No.HTML]=r(a),l[No.CSS]=r(a),l[No.URL]=r(a),l[No.JS]=r(a),l[No.RESOURCE_URL]=r(l[No.URL]),{trustAs:function(e,t){var i=l.hasOwnProperty(e)?l[e]:null;if(!i)throw jo("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw jo("itype",e);return new i(t)},getTrusted:function(i,r){if(null===r||r===n||""===r)return r;var a=l.hasOwnProperty(i)?l[i]:null;if(a&&r instanceof a)return r.$$unwrapTrustedValue();if(i===No.RESOURCE_URL){var u,c,a=Rn(r.toString()),d=!1;for(u=0,c=e.length;c>u;u++)if(o(e[u],a)){d=!0;break}if(d)for(u=0,c=t.length;c>u;u++)if(o(t[u],a)){d=!1;break}if(d)return r;throw jo("insecurl",r.toString())}if(i===No.HTML)return s(r);throw jo("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function qn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>bi)throw jo("iequirks");var i=A(No);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=f),i.parseAs=function(e,n){var o=t(n);return o.literal&&o.constant?o:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,s=i.getTrusted,a=i.trustAs;return r(No,function(e,t){var n=ki(t);i[st("parse_as_"+n)]=function(t){return o(e,t)},i[st("get_trusted_"+n)]=function(t){return s(e,t)},i[st("trust_as_"+n)]=function(t){return a(e,t)}}),i}]}function jn(){this.$get=["$window","$document",function(e,t){var n,i={},o=d((/android (\d+)/.exec(ki((e.navigator||{}).userAgent))||[])[1]),r=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,u=!1,c=!1;if(l){for(var p in l)if(u=a.exec(p)){n=u[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),u=!!("transition"in l||n+"Transition"in l),c=!!("animation"in l||n+"Animation"in l),!o||u&&c||(u=y(s.body.style.webkitTransition),c=y(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||r),hasEvent:function(e){if("input"===e&&11>=bi)return!1;if(m(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:qi(),vendorPrefix:n,transitions:u,animations:c,android:o}}]}function Nn(){this.$get=["$templateCache","$http","$q",function(e,t,n){function i(o,r){i.totalPendingRequests++;var s=t.defaults&&t.defaults.transformResponse;return Ii(s)?s=s.filter(function(e){return e!==zt}):s===zt&&(s=null),t.get(o,{cache:e,transformResponse:s})["finally"](function(){i.totalPendingRequests--}).then(function(e){return e.data},function(e){if(!r)throw ho("tpload",o);return n.reject(e)})}return i.totalPendingRequests=0,i}]}function Gn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return r(e,function(e){var o=Oi.element(e).data("$binding");o&&r(o,function(o){n?new RegExp("(^|\\s)"+Bi(t)+"(\\s|\\||$)").test(o)&&i.push(e):-1!=o.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],o=0;o<i.length;++o){var r=e.querySelectorAll("["+i[o]+"model"+(n?"=":"*=")+'"'+t+'"]');if(r.length)return r}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function Fn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,o){function r(r,a,l){var u=v(l)&&!l,c=(u?i:n).defer(),d=c.promise;return a=t.defer(function(){try{c.resolve(r())}catch(t){c.reject(t),o(t)}finally{delete s[d.$$timeoutId]}u||e.$apply()},a),d.$$timeoutId=a,s[a]=c,d}var s={};return r.cancel=function(e){return e&&e.$$timeoutId in s?(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},r}]}function Rn(e){return bi&&(Go.setAttribute("href",e),e=Go.href),Go.setAttribute("href",e),{href:Go.href,protocol:Go.protocol?Go.protocol.replace(/:$/,""):"",host:Go.host,search:Go.search?Go.search.replace(/^\?/,""):"",hash:Go.hash?Go.hash.replace(/^#/,""):"",hostname:Go.hostname,port:Go.port,pathname:"/"===Go.pathname.charAt(0)?Go.pathname:"/"+Go.pathname}}function Vn(e){return e=y(e)?Rn(e):e,e.protocol===Fo.protocol&&e.host===Fo.host}function Un(){this.$get=g(e)}function Hn(e){function t(n,i){if(b(n)){var o={};return r(n,function(e,n){o[n]=t(n,e)}),o}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",Yn),t("date",ii),t("filter",zn),t("json",oi),t("limitTo",ri),t("lowercase",zo),t("number",Xn),t("orderBy",si),t("uppercase",Wo)}function zn(){return function(e,t,n){if(!Ii(e))return e;var i;switch(typeof t){case"function":break;case"boolean":case"number":case"string":i=!0;case"object":t=Wn(t,n,i);break;default:return e}return e.filter(t)}}function Wn(e,t,n){var i=b(e)&&"$"in e;return!0===t?t=P:$(t)||(t=function(e,t){return b(e)||b(t)?!1:(e=ki(""+e),t=ki(""+t),-1!==e.indexOf(t))}),function(o){return i&&!b(o)?Kn(o,e.$,t,!1):Kn(o,e,t,n)}}function Kn(e,t,n,i,o){var r=typeof e,s=typeof t;if("string"===s&&"!"===t.charAt(0))return!Kn(e,t.substring(1),n,i);if(Ii(e))return e.some(function(e){return Kn(e,t,n,i)});switch(r){case"object":var a;if(i){for(a in e)if("$"!==a.charAt(0)&&Kn(e[a],t,n,!0))return!0;return o?!1:Kn(e,t,n,!1)}if("object"===s){for(a in t)if(o=t[a],!$(o)&&(r="$"===a,!Kn(r?e:e[a],o,n,r,r)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Yn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return m(n)&&(n=t.CURRENCY_SYM),m(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:Jn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Xn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Jn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Jn(e,t,n,i,o){if(!isFinite(e)||b(e))return"";var r=0>e;e=Math.abs(e);var s=e+"",a="",l=[],u=!1;if(-1!==s.indexOf("e")){var c=s.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>o+1?e=0:(a=s,u=!0)}if(u)o>0&&1>e&&(a=e.toFixed(o),e=parseFloat(a));else{s=(s.split(Ro)[1]||"").length,m(o)&&(o=Math.min(Math.max(t.minFrac,s),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+o)).toString()+"e"+-o);var s=(""+e).split(Ro),u=s[0],s=s[1]||"",d=0,p=t.lgSize,h=t.gSize;if(u.length>=p+h)for(d=u.length-p,c=0;d>c;c++)0===(d-c)%h&&0!==c&&(a+=n),a+=u.charAt(c);for(c=d;c<u.length;c++)0===(u.length-c)%p&&0!==c&&(a+=n),a+=u.charAt(c);for(;s.length<o;)s+="0";o&&"0"!==o&&(a+=i+s.substr(0,o))}return 0===e&&(r=!1),l.push(r?t.negPre:t.posPre,a,r?t.negSuf:t.posSuf),l.join("")}function Zn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function Qn(e,t,n,i){return n=n||0,function(o){return o=o["get"+e](),(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Zn(o,t,i)}}function ei(e,t){return function(n,i){var o=n["get"+e](),r=xi(t?"SHORT"+e:e);return i[r][o]}}function ti(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function ni(e){return function(t){var n=ti(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),Zn(t,e)}}function ii(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,o=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=d(t[9]+t[10]),o=d(t[9]+t[11])),r.call(e,d(t[1]),d(t[2])-1,d(t[3])),i=d(t[4]||0)-i,o=d(t[5]||0)-o,r=d(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),s.call(e,i,o,r,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var s,a,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,y(n)&&(n=Ho.test(n)?d(n):t(n)),_(n)&&(n=new Date(n)),!w(n))return n;for(;i;)(a=Uo.exec(i))?(u=I(u,a,1),i=u.pop()):(u.push(i),i=null);return o&&"UTC"===o&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),r(u,function(t){s=Vo[t],l+=s?s(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function oi(){return function(e,t){return m(t)&&(t=2),q(e,t)}}function ri(){return function(e,t){return _(e)&&(e=e.toString()),Ii(e)||y(e)?(t=1/0===Math.abs(Number(t))?Number(t):d(t))?t>0?e.slice(0,t):e.slice(t):y(e)?"":[]:e}}function si(e){return function(t,n,i){function r(e,t){return t?function(t,n){return e(n,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function a(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))||"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function l(e,t){var n=typeof e,i=typeof t;return n===i&&"object"===n&&(e=a(e),t=a(t)),n===i?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}return o(t)?(n=Ii(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,i=t||f;if(y(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return r(l,n);if(i=e(t),i.constant){var o=i();return r(function(e,t){return l(e[o],t[o])},n)}}return r(function(e,t){return l(i(e),i(t))},n)}),Ci.call(t).sort(r(function(e,t){for(var i=0;i<n.length;i++){var o=n[i](e,t);if(0!==o)return o}return 0},i))):t}}function ai(e){return $(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function li(e,t,i,o,s){var a=this,l=[],u=a.$$parentForm=e.parent().controller("form")||Xo;a.$error={},a.$$success={},a.$pending=n,a.$name=s(t.name||t.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,u.$addControl(a),a.$rollbackViewValue=function(){r(l,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){r(l,function(e){e.$commitViewValue()})},a.$addControl=function(e){et(e.$name,"input"),l.push(e),e.$name&&(a[e.$name]=e)},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],r(a.$pending,function(t,n){a.$setValidity(n,null,e)}),r(a.$error,function(t,n){a.$setValidity(n,null,e)}),r(a.$$success,function(t,n){a.$setValidity(n,null,e)}),D(l,e)},mi({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(D(i,n),0===i.length&&delete e[t])},parentForm:u,$animate:o}),a.$setDirty=function(){o.removeClass(e,Or),o.addClass(e,Ar),a.$dirty=!0,a.$pristine=!1,u.$setDirty()},a.$setPristine=function(){o.setClass(e,Or,Ar+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(l,function(e){e.$setPristine()})},a.$setUntouched=function(){r(l,function(e){e.$setUntouched()})},a.$setSubmitted=function(){o.addClass(e,"ng-submitted"),a.$submitted=!0,u.$setSubmitted()
}}function ui(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function ci(e,t,n,i,o,r){var s=ki(t[0].type);if(!o.android){var a=!1;t.on("compositionstart",function(){a=!0}),t.on("compositionend",function(){a=!1,l()})}var l=function(e){if(u&&(r.defer.cancel(u),u=null),!a){var o=t.val();e=e&&e.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(o=Li(o)),(i.$viewValue!==o||""===o&&i.$$hasNativeValidators)&&i.$setViewValue(o,e)}};if(o.hasEvent("input"))t.on("input",l);else{var u,c=function(e,t,n){u||(u=r.defer(function(){u=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),o.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",l),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function di(e,t){return function(n,i){var o,s;if(w(n))return n;if(y(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),er.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(s[t[n]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return 0/0}}function pi(e,t,i,o){return function(r,s,a,l,u,c,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return v(e)?w(e)?e:i(e):n}hi(r,s,a,l),ci(r,s,a,l,u,c);var f,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){return l.$isEmpty(e)?null:t.test(e)?(e=i(e,f),"UTC"===g&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e):n}),l.$formatters.push(function(e){if(e&&!w(e))throw Ir("datefmt",e);if(p(e)){if((f=e)&&"UTC"===g){var t=6e4*f.getTimezoneOffset();f=new Date(f.getTime()+t)}return d("date")(e,o,g)}return f=null,""}),v(a.min)||a.ngMin){var b;l.$validators.min=function(e){return!p(e)||m(b)||i(e)>=b},a.$observe("min",function(e){b=h(e),l.$validate()})}if(v(a.max)||a.ngMax){var y;l.$validators.max=function(e){return!p(e)||m(y)||i(e)<=y},a.$observe("max",function(e){y=h(e),l.$validate()})}}}function hi(e,t,i,o){(o.$$hasNativeValidators=b(t[0].validity))&&o.$parsers.push(function(e){var i=t.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:e})}function fi(e,t,n,o,r){if(v(o)){if(e=e(o),!e.constant)throw i("ngModel")("constexpr",n,o);return e(t)}return r}function gi(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[],i=0;e:for(;i<e.length;i++){for(var o=e[i],r=0;r<t.length;r++)if(o==t[r])continue e;n.push(o)}return n}function o(e){if(!Ii(e)){if(y(e))return e.split(" ");if(b(e)){var t=[];return r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}}return e}return{restrict:"AC",link:function(s,a,l){function u(e,t){var n=a.data("$classCounts")||{},i=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),a.data("$classCounts",n),i.join(" ")}function c(e){if(!0===t||s.$index%2===t){var r=o(e||[]);if(d){if(!P(e,d)){var c=o(d),p=i(r,c),r=i(c,r),p=u(p,1),r=u(r,-1);p&&p.length&&n.addClass(a,p),r&&r.length&&n.removeClass(a,r)}}else{var p=u(r,1);l.$addClass(p)}}d=A(e)}var d;s.$watch(l[e],c,!0),l.$observe("class",function(){c(s.$eval(l[e]))}),"ngClass"!==e&&s.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var a=o(s.$eval(l[e]));r===t?(r=u(a,1),l.$addClass(r)):(r=u(a,-1),l.$removeClass(r))}})}}}]}function mi(e){function t(e,t){t&&!s[e]?(c.addClass(r,e),s[e]=!0):!t&&s[e]&&(c.removeClass(r,e),s[e]=!1)}function i(e,n){e=e?"-"+X(e,"-"):"",t(Er+e,!0===n),t(Dr+e,!1===n)}var o=e.ctrl,r=e.$element,s={},a=e.set,l=e.unset,u=e.parentForm,c=e.$animate;s[Dr]=!(s[Er]=r.hasClass(Er)),o.$setValidity=function(e,r,s){r===n?(o.$pending||(o.$pending={}),a(o.$pending,e,s)):(o.$pending&&l(o.$pending,e,s),vi(o.$pending)&&(o.$pending=n)),C(r)?r?(l(o.$error,e,s),a(o.$$success,e,s)):(a(o.$error,e,s),l(o.$$success,e,s)):(l(o.$error,e,s),l(o.$$success,e,s)),o.$pending?(t(Pr,!0),o.$valid=o.$invalid=n,i("",null)):(t(Pr,!1),o.$valid=vi(o.$error),o.$invalid=!o.$valid,i("",o.$valid)),r=o.$pending&&o.$pending[e]?n:o.$error[e]?!1:o.$$success[e]?!0:null,i(e,r),u.$setValidity(e,r,o)}}function vi(e){if(e)for(var t in e)return!1;return!0}var bi,yi,_i,wi,$i=/^\/(.+)\/([a-z]*)$/,ki=function(e){return y(e)?e.toLowerCase():e},Si=Object.prototype.hasOwnProperty,xi=function(e){return y(e)?e.toUpperCase():e},Ci=[].slice,Ti=[].splice,Mi=[].push,Ei=Object.prototype.toString,Di=i("ng"),Oi=e.angular||(e.angular={}),Ai=0;bi=t.documentMode,h.$inject=[],f.$inject=[];var Pi,Ii=Array.isArray,Li=function(e){return y(e)?e.trim():e},Bi=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},qi=function(){if(v(qi.isActive_))return qi.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return qi.isActive_=e},ji=["ng-","data-ng-","ng:","x-ng-"],Ni=/[A-Z]/g,Gi=!1,Fi=1,Ri=3,Vi={full:"1.3.13",major:1,minor:3,dot:13,codeName:"meticulous-riffleshuffle"};ut.expando="ng339";var Ui=ut.cache={},Hi=1;ut._data=function(e){return this.cache[e[this.expando]]||{}};var zi=/([\:\-\_]+(.))/g,Wi=/^moz([A-Z])/,Ki={mouseleave:"mouseout",mouseenter:"mouseover"},Yi=i("jqLite"),Xi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ji=/<|&#?\w+;/,Zi=/<([\w:]+)/,Qi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,eo={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};eo.optgroup=eo.option,eo.tbody=eo.tfoot=eo.colgroup=eo.caption=eo.thead,eo.th=eo.td;var to=ut.prototype={ready:function(n){function i(){o||(o=!0,n())}var o=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ut(e).on("load",i))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return yi(e>=0?this[e]:this[this.length+e])},length:0,push:Mi,sort:[].sort,splice:[].splice},no={};r("multiple selected checked disabled readOnly required open".split(" "),function(e){no[ki(e)]=e});var io={};r("input select option textarea button form details".split(" "),function(e){io[e]=!0});var oo={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:gt,removeData:ht},function(e,t){ut[t]=e}),r({data:gt,inheritedData:wt,scope:function(e){return yi.data(e,"$scope")||wt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return yi.data(e,"$isolateScope")||yi.data(e,"$isolateScopeNoTemplate")},controller:_t,injector:function(e){return wt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:mt,css:function(e,t,n){return t=st(t),v(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,i){var o=ki(t);if(no[o]){if(!v(i))return e[t]||(e.attributes.getNamedItem(t)||h).specified?o:n;i?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(v(i))e.setAttribute(t,i);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return v(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(m(t)){var n=e.nodeType;return n===Fi||n===Ri?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(m(t)){if(e.multiple&&"select"===E(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return m(t)?e.innerHTML:(dt(e,!0),void(e.innerHTML=t))},empty:$t},function(e,t){ut.prototype[t]=function(t,i){var o,r,s=this.length;if(e!==$t&&(2==e.length&&e!==mt&&e!==_t?t:i)===n){if(b(t)){for(o=0;s>o;o++)if(e===gt)e(this[o],t);else for(r in t)e(this[o],r,t[r]);return this}for(o=e.$dv,s=o===n?Math.min(s,1):s,r=0;s>r;r++){var a=e(this[r],t,i);o=o?o+a:a}return o}for(o=0;s>o;o++)e(this[o],t,i);return this}}),r({removeData:ht,on:function rs(e,t,n,i){if(v(i))throw Yi("onargs");if(at(e)){var o=ft(e,!0);i=o.events;var r=o.handle;r||(r=o.handle=Tt(e,i));for(var o=0<=t.indexOf(" ")?t.split(" "):[t],s=o.length;s--;){t=o[s];var a=i[t];a||(i[t]=[],"mouseenter"===t||"mouseleave"===t?rs(e,Ki[t],function(e){var n=e.relatedTarget;n&&(n===this||this.contains(n))||r(e,t)}):"$destroy"!==t&&e.addEventListener(t,r,!1),a=i[t]),a.push(n)}}},off:pt,one:function(e,t,n){e=yi(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;dt(e),r(new ut(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===Fi&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Fi||11===n){t=new ut(t);for(var n=0,i=t.length;i>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(e.nodeType===Fi){var n=e.firstChild;r(new ut(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=yi(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:kt,detach:function(e){kt(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new ut(t);for(var o=0,r=t.length;r>o;o++){var s=t[o];i.insertBefore(s,n.nextSibling),n=s}},addClass:bt,removeClass:vt,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var i=n;m(i)&&(i=!mt(e,t)),(i?bt:vt)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ct,triggerHandler:function(e,t,n){var i,o,s=t.type||t,a=ft(e);(a=(a=a&&a.events)&&a[s])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:h,type:s,target:e},t.type&&(i=c(i,t)),t=A(a),o=n?[i].concat(n):[i],r(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){ut.prototype[t]=function(t,n,i){for(var o,r=0,s=this.length;s>r;r++)m(o)?(o=e(this[r],t,n,i),v(o)&&(o=yi(o))):yt(o,e(this[r],t,n,i));return v(o)?o:this},ut.prototype.bind=ut.prototype.on,ut.prototype.unbind=ut.prototype.off}),Dt.prototype={put:function(e,t){this[Et(e,this.nextUid)]=t},get:function(e){return this[Et(e,this.nextUid)]},remove:function(e){var t=this[e=Et(e,this.nextUid)];return delete this[e],t}};var ro=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,so=/,/,ao=/^\s*(_?)(\S+?)\1\s*$/,lo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,uo=i("$injector");At.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw y(n)&&n||(n=e.name||Ot(e)),uo("strictdi",n);t=e.toString().replace(lo,""),t=t.match(ro),r(t[1].split(so),function(e){e.replace(ao,function(e,t,n){i.push(n)})})}e.$inject=i}}else Ii(e)?(t=e.length-1,Q(e[t],"fn"),i=e.slice(0,t)):Q(e,"fn",!0);return i};var co=i("$animate"),po=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var i=t+"-animation";if(t&&"."!=t.charAt(0))throw co("notcsel",t);this.$$selectors[t.substr(1)]=i,e.factory(i,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function i(t){var i,o=e.defer();return o.promise.$$cancelFn=function(){i&&i()},n.$$postDigest(function(){i=t(function(){o.resolve()})}),o.promise}function o(e,t){var n=[],i=[],o=it();return r((e.attr("class")||"").split(/\s+/),function(e){o[e]=!0}),r(t,function(e,t){var r=o[t];!1===e&&r?i.push(t):!0!==e||r||n.push(t)}),0<n.length+i.length&&[n.length?n:null,i.length?i:null]}function s(e,t,n){for(var i=0,o=t.length;o>i;++i)e[t[i]]=n}function a(){return u||(u=e.defer(),t(function(){u.resolve(),u=null})),u.promise}function l(e,t){if(Oi.isObject(t)){var n=c(t.from||{},t.to||{});e.css(n)}}var u;return{animate:function(e,t,n){return l(e,{from:t,to:n}),a()},enter:function(e,t,n,i){return l(e,i),n?n.after(e):t.prepend(e),a()},leave:function(e){return e.remove(),a()},move:function(e,t,n,i){return this.enter(e,t,n,i)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=yi(e),t=y(t)?t:Ii(t)?t.join(" "):"",r(e,function(e){bt(e,t)}),l(e,n),a()},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){return e=yi(e),t=y(t)?t:Ii(t)?t.join(" "):"",r(e,function(e){vt(e,t)}),l(e,n),a()},setClass:function(e,t,n,r){var a=this,l=!1;e=yi(e);var u=e.data("$$animateClasses");return u?r&&u.options&&(u.options=Oi.extend(u.options||{},r)):(u={classes:{},options:r},l=!0),r=u.classes,t=Ii(t)?t:t.split(" "),n=Ii(n)?n:n.split(" "),s(r,t,!0),s(r,n,!1),l&&(u.promise=i(function(t){var n=e.data("$$animateClasses");if(e.removeData("$$animateClasses"),n){var i=o(e,n.classes);i&&a.$$setClassImmediately(e,i[0],i[1],n.options)}t()}),e.data("$$animateClasses",u)),u.promise},$$setClassImmediately:function(e,t,n,i){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),l(e,i),a()},enabled:h,cancel:h}}]}],ho=i("$compile");Nt.$inject=["$provide","$$sanitizeUriProvider"];var fo=/^((?:x|data)[\:\-_])/i,go=i("$controller"),mo="application/json",vo={"Content-Type":mo+";charset=utf-8"},bo=/^\[|^\{(?!\{)/,yo={"[":/]$/,"{":/}$/},_o=/^\)\]\}',?\n/,wo=i("$interpolate"),$o=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ko={http:80,https:443,ftp:21},So=i("$location"),xo={$$html5:!1,$$replace:!1,absUrl:fn("$$absUrl"),url:function(e){if(m(e))return this.$$url;var t=$o.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:fn("$$protocol"),host:fn("$$host"),port:fn("$$port"),path:gn("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(y(e)||_(e))e=e.toString(),this.$$search=F(e);else{if(!b(e))throw So("isrcharg");e=O(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:m(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:gn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([hn,pn,dn],function(e){e.prototype=Object.create(xo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==dn||!this.$$html5)throw So("nostate");return this.$$state=m(t)?null:t,this}});var Co=i("$parse"),To=Function.prototype.call,Mo=Function.prototype.apply,Eo=Function.prototype.bind,Do=it();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,Do[t]=e}),Do["this"]=function(e){return e},Do["this"].sharedGetter=!0;var Oo=c(it(),{"+":function(e,t,i,o){return i=i(e,t),o=o(e,t),v(i)?v(o)?i+o:i:v(o)?o:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(v(n)?n:0)-(v(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"===":function(e,t,n,i){return n(e,t)===i(e,t)},"!==":function(e,t,n,i){return n(e,t)!==i(e,t)},"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),Ao={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Po=function(e){this.options=e};Po.prototype={constructor:Po,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=Oo[t],o=Oo[n];Oo[e]||i||o?(e=o?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||""===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=v(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,Co("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=ki(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,o=!1;this.index<this.text.length;){var r=this.text.charAt(this.index),i=i+r;if(o)"u"===r?(o=this.text.substring(this.index+1,this.index+5),o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))):n+=Ao[r]||r,o=!1;else if("\\"===r)o=!0;else{if(r===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=r}this.index++}this.throwError("Unterminated quote",t)}};var Io=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};Io.ZERO=c(function(){return 0},{sharedGetter:!0,constant:!0}),Io.prototype={constructor:Io,parse:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in Do?e=Do[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw Co("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw Co("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,o){if(this.tokens.length>e){e=this.tokens[e];var r=e.text;if(r===t||r===n||r===i||r===o||!(t||n||i||o))return e}return!1},expect:function(e,t,n,i){return(e=this.peek(e,t,n,i))?(this.tokens.shift(),e):!1},consume:function(e){if(0===this.tokens.length)throw Co("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=Oo[e];return c(function(e,i){return n(e,i,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,i){var o=Oo[t];return c(function(t,i){return o(t,i,e,n)},{constant:e.constant&&n.constant,inputs:!i&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return xn(e,this.options,this.text)},constant:function(){var e=this.consume().value;return c(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var i,o=0,r=e.length;r>o;o++)i=e[o](t,n);return i}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},filter:function(e){var t,i,o=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],i=[];this.expect(":");)t.push(this.expression());var r=[e].concat(t||[]);return c(function(r,s){var a=e(r,s);if(i){for(i[0]=a,a=t.length;a--;)i[a+1]=t[a](r,s);return o.apply(n,i)}return o(a)},{constant:!o.$stateful&&r.every(_n),inputs:!o.$stateful&&r})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),c(function(t,i){return n.assign(t,e(t,i),i)},{inputs:[n,e]})):n},ternary:function(){var e,t=this.logicalOR();if(this.expect("?")&&(e=this.assignment(),this.consume(":"))){var n=this.assignment();return c(function(i,o){return t(i,o)?e(i,o):n(i,o)},{constant:t.constant&&e.constant&&n.constant})}return t},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(Io.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return c(function(i,o,r){return i=r||e(i,o),null==i?n:t(i)},{assign:function(n,i,o){var r=e(n,o);return r||e.assign(n,r={},o),t.assign(r,i)}})},objectIndex:function(e){var t=this.text,i=this.expression();return this.consume("]"),c(function(o,r){var s=e(o,r),a=i(o,r);return bn(a,t),s?yn(s[a],t):n},{assign:function(n,o,r){var s=bn(i(n,r),t),a=yn(e(n,r),t);return a||e.assign(n,a={},r),a[s]=o}})},functionCall:function(e,t){var i=[];if(")"!==this.peekToken().text)do i.push(this.expression());while(this.expect(","));this.consume(")");var o=this.text,r=i.length?[]:null;return function(s,a){var l=t?t(s,a):v(t)?n:s,u=e(s,a,l)||h;if(r)for(var c=i.length;c--;)r[c]=yn(i[c](s,a),o);if(yn(l,o),u){if(u.constructor===u)throw Co("isecfn",o);if(u===To||u===Mo||u===Eo)throw Co("isecff",o)}return l=u.apply?u.apply(l,r):u(r[0],r[1],r[2],r[3],r[4]),r&&(r.length=0),yn(l,o)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),c(function(t,n){for(var i=[],o=0,r=e.length;r>o;o++)i.push(e[o](t,n));return i},{literal:!0,constant:e.every(_n),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),c(function(n,i){for(var o={},r=0,s=t.length;s>r;r++)o[e[r]]=t[r](n,i);return o},{literal:!0,constant:t.every(_n),inputs:t})}};var Lo=it(),Bo=it(),qo=Object.prototype.valueOf,jo=i("$sce"),No={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ho=i("$compile"),Go=t.createElement("a"),Fo=Rn(e.location.href);Hn.$inject=["$provide"],Yn.$inject=["$locale"],Xn.$inject=["$locale"];var Ro=".",Vo={yyyy:Qn("FullYear",4),yy:Qn("FullYear",2,0,!0),y:Qn("FullYear",1),MMMM:ei("Month"),MMM:ei("Month",!0),MM:Qn("Month",2,1),M:Qn("Month",1,1),dd:Qn("Date",2),d:Qn("Date",1),HH:Qn("Hours",2),H:Qn("Hours",1),hh:Qn("Hours",2,-12),h:Qn("Hours",1,-12),mm:Qn("Minutes",2),m:Qn("Minutes",1),ss:Qn("Seconds",2),s:Qn("Seconds",1),sss:Qn("Milliseconds",3),EEEE:ei("Day"),EEE:ei("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){return e=-1*e.getTimezoneOffset(),e=(e>=0?"+":"")+(Zn(Math[e>0?"floor":"ceil"](e/60),2)+Zn(Math.abs(e%60),2))},ww:ni(2),w:ni(1)},Uo=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Ho=/^\-?\d+$/;ii.$inject=["$locale"];var zo=g(ki),Wo=g(xi);si.$inject=["$parse"];var Ko=g({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ei.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Yo={};r(no,function(e,t){if("multiple"!=e){var n=Gt("ng-"+t);Yo[n]=function(){return{restrict:"A",priority:100,link:function(e,i,o){e.$watch(o[n],function(e){o.$set(t,!!e)})}}}}}),r(oo,function(e,t){Yo[t]=function(){return{priority:100,link:function(e,n,i){return"ngPattern"===t&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match($i))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(i[t],function(e){i.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=Gt("ng-"+e);Yo[t]=function(){return{priority:99,link:function(n,i,o){var r=e,s=e;"href"===e&&"[object SVGAnimatedString]"===Ei.call(i.prop("href"))&&(s="xlinkHref",o.$attr[s]="xlink:href",r=null),o.$observe(t,function(t){t?(o.$set(s,t),bi&&r&&i.prop(r,o[s])):"href"===e&&o.$set(s,null)})}}}});var Xo={$addControl:h,$$renameControl:function(e,t){e.$name=t},$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h};li.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Jo=function(e){return["$timeout",function(t){return{name:"form",restrict:e?"EAC":"E",controller:li,compile:function(e){return e.addClass(Or).addClass(Er),{pre:function(e,i,o,r){if(!("action"in o)){var s=function(t){e.$apply(function(){r.$commitViewValue(),r.$setSubmitted()}),t.preventDefault()};i[0].addEventListener("submit",s,!1),i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",s,!1)},0,!1)})}var a=r.$$parentForm,l=r.$name;l&&(wn(e,null,l,r,l),o.$observe(o.name?"name":"ngForm",function(t){l!==t&&(wn(e,null,l,n,l),l=t,wn(e,null,l,r,l),a.$$renameControl(r,l))})),i.on("$destroy",function(){a.$removeControl(r),l&&wn(e,null,l,n,l),c(r,Xo)})}}}}}]},Zo=Jo(),Qo=Jo(!0),er=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,tr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,nr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ir=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,or=/^(\d{4})-(\d{2})-(\d{2})$/,rr=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,sr=/^(\d{4})-W(\d\d)$/,ar=/^(\d{4})-(\d\d)$/,lr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ur={text:function(e,t,n,i,o,r){ci(e,t,n,i,o,r),ui(i)},date:pi("date",or,di(or,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":pi("datetimelocal",rr,di(rr,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:pi("time",lr,di(lr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:pi("week",sr,function(e,t){if(w(e))return e;if(y(e)){sr.lastIndex=0;var n=sr.exec(e);if(n){var i=+n[1],o=+n[2],r=n=0,s=0,a=0,l=ti(i),o=7*(o-1);return t&&(n=t.getHours(),r=t.getMinutes(),s=t.getSeconds(),a=t.getMilliseconds()),new Date(i,0,l.getDate()+o,n,r,s,a)}}return 0/0},"yyyy-Www"),month:pi("month",ar,di(ar,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,o,r,s){if(hi(e,t,i,o),ci(e,t,i,o,r,s),o.$$parserName="number",o.$parsers.push(function(e){return o.$isEmpty(e)?null:ir.test(e)?parseFloat(e):n}),o.$formatters.push(function(e){if(!o.$isEmpty(e)){if(!_(e))throw Ir("numfmt",e);e=e.toString()}return e}),i.min||i.ngMin){var a;o.$validators.min=function(e){return o.$isEmpty(e)||m(a)||e>=a},i.$observe("min",function(e){v(e)&&!_(e)&&(e=parseFloat(e,10)),a=_(e)&&!isNaN(e)?e:n,o.$validate()})}if(i.max||i.ngMax){var l;o.$validators.max=function(e){return o.$isEmpty(e)||m(l)||l>=e},i.$observe("max",function(e){v(e)&&!_(e)&&(e=parseFloat(e,10)),l=_(e)&&!isNaN(e)?e:n,o.$validate()})}},url:function(e,t,n,i,o,r){ci(e,t,n,i,o,r),ui(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||tr.test(n)}},email:function(e,t,n,i,o,r){ci(e,t,n,i,o,r),ui(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||nr.test(n)}},radio:function(e,t,n,i){m(n.name)&&t.attr("name",++Ai),t.on("click",function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)}),i.$render=function(){t[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(e,t,n,i,o,r,s,a){var l=fi(a,e,"ngTrueValue",n.ngTrueValue,!0),u=fi(a,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return P(e,l)}),i.$parsers.push(function(e){return e?l:u})},hidden:h,button:h,submit:h,reset:h,file:h},cr=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,r,s,a){a[0]&&(ur[ki(s.type)]||ur.text)(o,r,s,a[0],t,e,n,i)}}}}],dr=/^(true|false|\d+)$/,pr=function(){return{restrict:"A",priority:100,compile:function(e,t){return dr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},hr=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,o){e.$$addBindingInfo(i,o.ngBind),i=i[0],t.$watch(o.ngBind,function(e){i.textContent=e===n?"":e})}}}}],fr=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,o,r){i=e(o.attr(r.$attr.ngBindTemplate)),t.$$addBindingInfo(o,i.expressions),o=o[0],r.$observe("ngBindTemplate",function(e){o.textContent=e===n?"":e})}}}}],gr=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,o){var r=t(o.ngBindHtml),s=t(o.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,o){n.$$addBindingInfo(i,o.ngBindHtml),t.$watch(s,function(){i.html(e.getTrustedHtml(r(t))||"")})}}}}],mr=g({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),vr=gi("",!0),br=gi("Odd",0),yr=gi("Even",1),_r=ai({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),wr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],$r={},kr={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Gt("ng-"+e);$r[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(o,r){var s=n(r[t],null,!0);
return function(t,n){n.on(e,function(n){var o=function(){s(t,{$event:n})};kr[e]&&i.$$phase?t.$evalAsync(o):t.$apply(o)})}}}}]});var Sr=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,o,r,s){var a,l,u;n.$watch(o.ngIf,function(n){n?l||s(function(n,r){l=r,n[n.length++]=t.createComment(" end ngIf: "+o.ngIf+" "),a={clone:n},e.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),a&&(u=nt(a.clone),e.leave(u).then(function(){u=null}),a=null))})}}}],xr=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Oi.noop,compile:function(o,r){var s=r.ngInclude||r.src,a=r.onload||"",l=r.autoscroll;return function(o,r,u,c,d){var p,h,f,g=0,m=function(){h&&(h.remove(),h=null),p&&(p.$destroy(),p=null),f&&(n.leave(f).then(function(){h=null}),h=f,f=null)};o.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!v(l)||l&&!o.$eval(l)||t()},u=++g;i?(e(i,!0).then(function(e){if(u===g){var t=o.$new();c.template=e,e=d(t,function(e){m(),n.enter(e,null,r).then(s)}),p=t,f=e,p.$emit("$includeContentLoaded",i),o.$eval(a)}},function(){u===g&&(m(),o.$emit("$includeContentError",i))}),o.$emit("$includeContentRequested",i)):(m(),c.template=null)})}}}}],Cr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,o,r){/SVG/.test(i[0].toString())?(i.empty(),e(lt(r.template,t).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(r.template),e(i.contents())(n))}}}],Tr=ai({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Mr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,o){var s=t.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,l=a?Li(s):s;o.$parsers.push(function(e){if(!m(e)){var t=[];return e&&r(e.split(l),function(e){e&&t.push(a?Li(e):e)}),t}}),o.$formatters.push(function(e){return Ii(e)?e.join(s):n}),o.$isEmpty=function(e){return!e||!e.length}}}},Er="ng-valid",Dr="ng-invalid",Or="ng-pristine",Ar="ng-dirty",Pr="ng-pending",Ir=new i("ngModel"),Lr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,o,s,a,l,u,c,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(i.name||"",!1)(e);var p=s(i.ngModel),f=p.assign,g=p,b=f,y=null,w=this;this.$$setOptions=function(e){if((w.$options=e)&&e.getterSetter){var t=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");g=function(e){var n=p(e);return $(n)&&(n=t(e)),n},b=function(e){$(p(e))?n(e,{$$$p:w.$modelValue}):f(e,w.$modelValue)}}else if(!p.assign)throw Ir("nonassign",i.ngModel,N(o))},this.$render=h,this.$isEmpty=function(e){return m(e)||""===e||null===e||e!==e};var k=o.inheritedData("$formController")||Xo,S=0;mi({ctrl:this,$element:o,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:k,$animate:a}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,a.removeClass(o,Ar),a.addClass(o,Or)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,a.removeClass(o,Or),a.addClass(o,Ar),k.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,a.setClass(o,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,a.setClass(o,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(y),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!_(w.$modelValue)||!isNaN(w.$modelValue)){var e=w.$$rawModelValue,t=w.$valid,i=w.$modelValue,o=w.$options&&w.$options.allowInvalid;w.$$runValidators(w.$error[w.$$parserName||"parse"]?!1:n,e,w.$$lastCommittedViewValue,function(r){o||t===r||(w.$modelValue=r?e:n,w.$modelValue!==i&&w.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i,o){function s(){var e=!0;return r(w.$validators,function(n,o){var r=n(t,i);e=e&&r,l(o,r)}),e?!0:(r(w.$asyncValidators,function(e,t){l(t,null)}),!1)}function a(){var e=[],o=!0;r(w.$asyncValidators,function(r,s){var a=r(t,i);if(!a||!$(a.then))throw Ir("$asyncValidators",a);l(s,n),e.push(a.then(function(){l(s,!0)},function(){o=!1,l(s,!1)}))}),e.length?c.all(e).then(function(){u(o)},h):u(!0)}function l(e,t){d===S&&w.$setValidity(e,t)}function u(e){d===S&&o(e)}S++;var d=S;(function(e){var t=w.$$parserName||"parse";if(e===n)l(t,null);else if(l(t,e),!e)return r(w.$validators,function(e,t){l(t,null)}),r(w.$asyncValidators,function(e,t){l(t,null)}),!1;return!0})(e)&&s()?a():u(!1)},this.$commitViewValue=function(){var e=w.$viewValue;l.cancel(y),(w.$$lastCommittedViewValue!==e||""===e&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=e,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=w.$$lastCommittedViewValue,i=m(t)?n:!0;if(i)for(var o=0;o<w.$parsers.length;o++)if(t=w.$parsers[o](t),m(t)){i=!1;break}_(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=g(e));var r=w.$modelValue,s=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t,s&&(w.$modelValue=t,w.$modelValue!==r&&w.$$writeModelToScope()),w.$$runValidators(i,t,w.$$lastCommittedViewValue,function(e){s||(w.$modelValue=e?t:n,w.$modelValue!==r&&w.$$writeModelToScope())})},this.$$writeModelToScope=function(){b(e,w.$modelValue),r(w.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){w.$viewValue=e,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,i=w.$options;i&&v(i.debounce)&&(i=i.debounce,_(i)?n=i:_(i[t])?n=i[t]:_(i["default"])&&(n=i["default"])),l.cancel(y),n?y=l(function(){w.$commitViewValue()},n):u.$$phase?w.$commitViewValue():e.$apply(function(){w.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==w.$modelValue){w.$modelValue=w.$$rawModelValue=t;for(var i=w.$formatters,o=i.length,r=t;o--;)r=i[o](r);w.$viewValue!==r&&(w.$viewValue=w.$$lastCommittedViewValue=r,w.$render(),w.$$runValidators(n,t,r,h))}return t})}],Br=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Lr,priority:1,compile:function(t){return t.addClass(Or).addClass("ng-untouched").addClass(Er),{pre:function(e,t,n,i){var o=i[0],r=i[1]||Xo;o.$$setOptions(i[2]&&i[2].$options),r.$addControl(o),n.$observe("name",function(e){o.$name!==e&&r.$$renameControl(o,e)}),e.$on("$destroy",function(){r.$removeControl(o)})},post:function(t,n,i,o){var r=o[0];r.$options&&r.$options.updateOn&&n.on(r.$options.updateOn,function(e){r.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){r.$touched||(e.$$phase?t.$evalAsync(r.$setTouched):t.$apply(r.$setTouched))})}}}}}],qr=/(\s+|^)default(\s+|$)/,jr=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var i=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Li(this.$options.updateOn.replace(qr,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Nr=ai({terminal:!0,priority:1e3}),Gr=["$locale","$interpolate",function(e,t){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(o,s,a){function l(e){s.text(e||"")}var u,c=a.count,d=a.$attr.when&&s.attr(a.$attr.when),p=a.offset||0,h=o.$eval(d)||{},f={},d=t.startSymbol(),g=t.endSymbol(),m=d+c+"-"+p+g,v=Oi.noop;r(a,function(e,t){var n=i.exec(t);n&&(n=(n[1]?"-":"")+ki(n[2]),h[n]=s.attr(a.$attr[t]))}),r(h,function(e,i){f[i]=t(e.replace(n,m))}),o.$watch(c,function(t){t=parseFloat(t);var n=isNaN(t);n||t in h||(t=e.pluralCat(t-p)),t===u||n&&isNaN(u)||(v(),v=o.$watch(f[t],l),u=t)})}}}],Fr=["$parse","$animate",function(e,s){var a=i("ngRepeat"),l=function(e,t,n,i,o,r,s){e[n]=i,o&&(e[o]=r),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,u){var c=u.ngRepeat,d=t.createComment(" end ngRepeat: "+c+" "),p=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw a("iexp",c);var h=p[1],f=p[2],g=p[3],m=p[4],p=h.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!p)throw a("iidexp",h);var v=p[3]||p[1],b=p[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw a("badident",g);var y,_,w,$,k={$id:Et};return m?y=e(m):(w=function(e,t){return Et(t)},$=function(e){return e}),function(e,t,i,u,p){y&&(_=function(t,n,i){return b&&(k[b]=t),k[v]=n,k.$index=i,y(e,k)});var h=it();e.$watchCollection(f,function(i){var u,f,m,y,k,S,x,C,T,M,E=t[0],D=it();if(g&&(e[g]=i),o(i))C=i,f=_||w;else{f=_||$,C=[];for(M in i)i.hasOwnProperty(M)&&"$"!=M.charAt(0)&&C.push(M);C.sort()}for(y=C.length,M=Array(y),u=0;y>u;u++)if(k=i===C?u:C[u],S=i[k],x=f(k,S,u),h[x])T=h[x],delete h[x],D[x]=T,M[u]=T;else{if(D[x])throw r(M,function(e){e&&e.scope&&(h[e.id]=e)}),a("dupes",c,x,S);M[u]={id:x,scope:n,clone:n},D[x]=!0}for(m in h){if(T=h[m],x=nt(T.clone),s.leave(x),x[0].parentNode)for(u=0,f=x.length;f>u;u++)x[u].$$NG_REMOVED=!0;T.scope.$destroy()}for(u=0;y>u;u++)if(k=i===C?u:C[u],S=i[k],T=M[u],T.scope){m=E;do m=m.nextSibling;while(m&&m.$$NG_REMOVED);T.clone[0]!=m&&s.move(nt(T.clone),null,yi(E)),E=T.clone[T.clone.length-1],l(T.scope,u,v,S,b,k,y)}else p(function(e,t){T.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,s.enter(e,null,yi(E)),E=n,T.clone=e,D[T.id]=T,l(T.scope,u,v,S,b,k,y)});h=D})}}}}],Rr=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Vr=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ur=ai(function(e,t,n){e.$watchCollection(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)})}),Hr=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,s){var a=[],l=[],u=[],c=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(o.ngSwitch||o.on,function(n){var i,o;for(i=0,o=u.length;o>i;++i)e.cancel(u[i]);for(i=u.length=0,o=c.length;o>i;++i){var p=nt(l[i].clone);c[i].$destroy(),(u[i]=e.leave(p)).then(d(u,i))}l.length=0,c.length=0,(a=s.cases["!"+n]||s.cases["?"])&&r(a,function(n){n.transclude(function(i,o){c.push(o);var r=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: "),l.push({clone:i}),e.enter(i,r.parent(),r)})})})}}}],zr=ai({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:o,element:t})}}),Wr=ai({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:t})}}),Kr=ai({restrict:"EAC",link:function(e,t,n,o,r){if(!r)throw i("ngTransclude")("orphan",N(t));r(function(e){t.empty(),t.append(e)})}}),Yr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Xr=i("ngOptions"),Jr=g({restrict:"A",terminal:!0}),Zr=["$compile","$parse",function(e,i){var o=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,o=this,r={},a=s;o.databound=n.ngModel,o.init=function(e,t,n){a=e,i=n},o.addOption=function(t,n){et(t,'"option value"'),r[t]=!0,a.$viewValue==t&&(e.val(t),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(e){this.hasOption(e)&&(delete r[e],a.$viewValue===e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){t="? "+Et(t)+" ?",i.val(t),e.prepend(i),e.val(t),i.prop("selected",!0)},o.hasOption=function(e){return r.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=h})}],link:function(s,a,l,u){function c(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(k.parent()&&k.remove(),t.val(e),""===e&&f.prop("selected",!0)):m(e)&&f?t.val(""):i.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){k.parent()&&k.remove(),n.$setViewValue(t.val())})})}function d(e,t,n){var i;n.$render=function(){var e=new Dt(n.$viewValue);r(t.find("option"),function(t){t.selected=v(e.get(t.value))})},e.$watch(function(){P(i,n.$viewValue)||(i=A(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];r(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,s,a){function l(e,n,i){return P[k]=i,C&&(P[C]=n),e(t,P)}function u(e){var t;if(g)if(D&&Ii(e)){t=new Dt([]);for(var n=0;n<e.length;n++)t.put(l(D,null,e[n]),!0)}else t=new Dt(e);else D&&(e=l(D,null,e));return function(n,i){var o;return o=D?D:x?x:M,g?v(t.remove(l(o,n,i))):e===l(o,n,i)}}function c(){_||(t.$$postDigest(p),_=!0)}function d(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function p(){_=!1;var e,n,i,o,c,p={"":[]},f=[""];i=a.$viewValue,o=E(t)||[];var b,k,S,x,M=C?Object.keys(o).sort():o,I={};c=u(i);var L,B,q=!1;for(O={},x=0;S=M.length,S>x;x++)b=x,C&&(b=M[x],"$"===b.charAt(0))||(k=o[b],e=l(T,b,k)||"",(n=p[e])||(n=p[e]=[],f.push(e)),e=c(b,k),q=q||e,k=l(m,b,k),k=v(k)?k:"",B=D?D(t,P):C?M[x]:x,D&&(O[B]=b),n.push({id:B,label:k,selected:e}));for(g||(y||null===i?p[""].unshift({id:"",label:"",selected:!q}):q||p[""].unshift({id:"?",label:"",selected:!0})),b=0,M=f.length;M>b;b++){for(e=f[b],n=p[e],A.length<=b?(i={element:$.clone().attr("label",e),label:n.label},o=[i],A.push(o),s.append(i.element)):(o=A[b],i=o[0],i.label!=e&&i.element.attr("label",i.label=e)),q=null,x=0,S=n.length;S>x;x++)e=n[x],(c=o[x+1])?(q=c.element,c.label!==e.label&&(d(I,c.label,!1),d(I,e.label,!0),q.text(c.label=e.label),q.prop("label",c.label)),c.id!==e.id&&q.val(c.id=e.id),q[0].selected!==e.selected&&(q.prop("selected",c.selected=e.selected),bi&&q.prop("selected",c.selected))):(""===e.id&&y?L=y:(L=w.clone()).val(e.id).prop("selected",e.selected).attr("selected",e.selected).prop("label",e.label).text(e.label),o.push(c={element:L,label:e.label,id:e.id,selected:e.selected}),d(I,e.label,!0),q?q.after(L):i.element.append(L),q=L);for(x++;o.length>x;)e=o.pop(),d(I,e.label,!1),e.element.remove()}for(;A.length>b;){for(n=A.pop(),x=1;x<n.length;++x)d(I,n[x].label,!1);n[0].element.remove()}r(I,function(e,t){e>0?h.addOption(t):0>e&&h.removeOption(t)})}var f;if(!(f=b.match(o)))throw Xr("iexp",b,N(s));var m=i(f[2]||f[1]),k=f[4]||f[6],S=/ as /.test(f[0])&&f[1],x=S?i(S):null,C=f[5],T=i(f[3]||""),M=i(f[2]?f[1]:k),E=i(f[7]),D=f[8]?i(f[8]):null,O={},A=[[{element:s,label:""}]],P={};y&&(e(y)(t),y.removeClass("ng-scope"),y.remove()),s.empty(),s.on("change",function(){t.$apply(function(){var e,i=E(t)||[];if(g)e=[],r(s.val(),function(t){t=D?O[t]:t,e.push("?"===t?n:""===t?null:l(x?x:M,t,i[t]))});else{var o=D?O[s.val()]:s.val();e="?"===o?n:""===o?null:l(x?x:M,o,i[o])}a.$setViewValue(e),p()})}),a.$render=p,t.$watchCollection(E,c),t.$watchCollection(function(){var e,n=E(t);if(n&&Ii(n)){e=Array(n.length);for(var i=0,o=n.length;o>i;i++)e[i]=l(m,i,n[i])}else if(n)for(i in e={},n)n.hasOwnProperty(i)&&(e[i]=l(m,i,n[i]));return e},c),g&&t.$watchCollection(function(){return a.$modelValue},c)}if(u[1]){var h=u[0];u=u[1];var f,g=l.multiple,b=l.ngOptions,y=!1,_=!1,w=yi(t.createElement("option")),$=yi(t.createElement("optgroup")),k=w.clone();l=0;for(var S=a.children(),x=S.length;x>l;l++)if(""===S[l].value){f=y=S.eq(l);break}h.init(u,y,k),g&&(u.$isEmpty=function(e){return!e||0===e.length}),b?p(s,a,u):g?d(s,a,u):c(s,a,u,h)}}}}],Qr=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,i){if(m(i.value)){var o=e(n.text(),!0);o||i.$set("value",n.text())}return function(e,n,i){var r=n.parent(),s=r.data("$selectController")||r.parent().data("$selectController");s&&s.databound||(s=t),o?e.$watch(o,function(e,t){i.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,n)}):s.addOption(i.value,n),n.on("$destroy",function(){s.removeOption(i.value)})}}}}],es=g({restrict:"E",terminal:!1}),ts=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},ns=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,r){if(r){var s,a=o.ngPattern||o.pattern;o.$observe("pattern",function(e){if(y(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp",a,e,N(t));s=e||n,r.$validate()}),r.$validators.pattern=function(e){return r.$isEmpty(e)||m(s)||s.test(e)}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o=-1;n.$observe("maxlength",function(e){e=d(e),o=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>o||i.$isEmpty(t)||t.length<=o}}}}},os=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o=0;n.$observe("minlength",function(e){o=d(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=o}}}}};e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(J(),rt(Oi),yi(t).ready(function(){z(t,W)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(e,n,i){i=i.ngAnimateChildren,t.isString(i)&&0===i.length?n.data("$$ngAnimateChildren",!0):e.$watch(i,function(e){n.data("$$ngAnimateChildren",!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(e){return function(t){return e(function(){t()})}}]).config(["$provide","$animateProvider",function(i,o){function r(e){for(var t=0;t<e.length;t++){var n=e[t];if(1==n.nodeType)return n}}function s(e,t){return r(e)==r(t)}var a,l=t.noop,u=t.forEach,c=o.$$selectors,d=t.isArray,p=t.isString,h=t.isObject,f={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,i,g,m,v,b,y,_,w){function $(e,t){var n=e.data("$$ngAnimateState")||{};return t&&(n.running=!0,n.structural=!0,e.data("$$ngAnimateState",n)),n.disabled||n.running&&n.structural}function k(e){var t,i=n.defer();return i.promise.$$cancelFn=function(){t&&t()},b.$$postDigest(function(){t=e(function(){i.resolve()})}),i.promise}function S(e){return h(e)?(e.tempClasses&&p(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function x(e,t,n){n=n||{};var i={};u(n,function(e,t){u(t.split(" "),function(t){i[t]=e})});var o=Object.create(null);u((e.attr("class")||"").split(/\s+/),function(e){o[e]=!0});var r=[],s=[];return u(t&&t.classes||[],function(e,t){var n=o[t],a=i[t]||{};!1===e?(n||"addClass"==a.event)&&s.push(t):!0===e&&(n&&"removeClass"!=a.event||r.push(t))}),0<r.length+s.length&&[r.join(" "),s.join(" ")]}function C(e){if(e){var t=[],n={};e=e.substr(1).split("."),(g.transitions||g.animations)&&t.push(i.get(c[""]));for(var o=0;o<e.length;o++){var r=e[o],s=c[r];s&&!n[r]&&(t.push(i.get(s)),n[r]=!0)}return t}}function T(e,n,i,o){function r(e,t){var n=e[t],i=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||i?("leave"==t&&(i=n,n=null),w.push({event:t,fn:n}),b.push({event:t,fn:i}),!0):void 0}function s(t,n,r){var s=[];u(t,function(e){e.fn&&s.push(e)});var a=0;u(s,function(t,u){var d=function(){e:{if(n){if((n[u]||l)(),++a<s.length)break e;n=null}r()}};switch(t.event){case"setClass":n.push(t.fn(e,c,p,d,o));break;case"animate":n.push(t.fn(e,i,o.from,o.to,d));break;case"addClass":n.push(t.fn(e,c||i,d,o));break;case"removeClass":n.push(t.fn(e,p||i,d,o));break;default:n.push(t.fn(e,d,o))}}),n&&0===n.length&&r()}var a=e[0];if(a){o&&(o.to=o.to||{},o.from=o.from||{});var c,p;d(i)&&(c=i[0],p=i[1],c?p?i=c+" "+p:(i=c,n="addClass"):(i=p,n="removeClass"));var h="setClass"==n,f=h||"addClass"==n||"removeClass"==n||"animate"==n,g=e.attr("class")+" "+i;if(L(g)){var m=l,v=[],b=[],y=l,_=[],w=[],g=(" "+g).replace(/\s+/g,".");return u(C(g),function(e){!r(e,n)&&h&&(r(e,"addClass"),r(e,"removeClass"))}),{node:a,event:n,className:i,isClassBased:f,isSetClassOperation:h,applyStyles:function(){o&&e.css(t.extend(o.from||{},o.to||{}))},before:function(e){m=e,s(b,v,function(){m=l,e()})},after:function(e){y=e,s(w,_,function(){y=l,e()})},cancel:function(){v&&(u(v,function(e){(e||l)(!0)}),m(!0)),_&&(u(_,function(e){(e||l)(!0)}),y(!0))}}}}}function M(e,n,i,o,r,s,c,d){function p(t){var o="$animate:"+t;y&&y[o]&&0<y[o].length&&v(function(){i.triggerHandler(o,{event:e,className:n})})}function h(){p("before")}function f(){p("after")}function g(){g.hasBeenRun||(g.hasBeenRun=!0,s())}function m(){if(!m.hasBeenRun){b&&b.applyStyles(),m.hasBeenRun=!0,c&&c.tempClasses&&u(c.tempClasses,function(e){a.removeClass(i,e)});var t=i.data("$$ngAnimateState");t&&(b&&b.isClassBased?D(i,n):(v(function(){var t=i.data("$$ngAnimateState")||{};S==t.index&&D(i,n,e)}),i.data("$$ngAnimateState",t))),p("close"),d()}}var b=T(i,e,n,c);if(!b)return g(),h(),f(),m(),l;e=b.event,n=b.className;var y=t.element._data(b.node),y=y&&y.events;if(o||(o=r?r.parent():i.parent()),O(i,o))return g(),h(),f(),m(),l;o=i.data("$$ngAnimateState")||{};var _=o.active||{},w=o.totalActive||0,$=o.last;if(r=!1,w>0){if(w=[],b.isClassBased)"setClass"==$.event?(w.push($),D(i,n)):_[n]&&(k=_[n],k.event==e?r=!0:(w.push(k),D(i,n)));else if("leave"==e&&_["ng-leave"])r=!0;else{for(var k in _)w.push(_[k]);o={},D(i,!0)}0<w.length&&u(w,function(e){e.cancel()})}if(!b.isClassBased||b.isSetClassOperation||"animate"==e||r||(r="addClass"==e==i.hasClass(n)),r)return g(),h(),f(),p("close"),d(),l;_=o.active||{},w=o.totalActive||0,"leave"==e&&i.one("$destroy",function(e){e=t.element(this);var n=e.data("$$ngAnimateState");n&&(n=n.active["ng-leave"])&&(n.cancel(),D(e,"ng-leave"))}),a.addClass(i,"ng-animate"),c&&c.tempClasses&&u(c.tempClasses,function(e){a.addClass(i,e)});var S=P++;return w++,_[n]=b,i.data("$$ngAnimateState",{last:b,active:_,index:S,totalActive:w}),h(),b.before(function(t){var o=i.data("$$ngAnimateState");t=t||!o||!o.active[n]||b.isClassBased&&o.active[n].event!=e,g(),!0===t?m():(f(),b.after(m))}),b.cancel}function E(e){(e=r(e))&&(e=t.isFunction(e.getElementsByClassName)?e.getElementsByClassName("ng-animate"):e.querySelectorAll(".ng-animate"),u(e,function(e){e=t.element(e),(e=e.data("$$ngAnimateState"))&&e.active&&u(e.active,function(e){e.cancel()})}))}function D(e,t){if(s(e,m))f.disabled||(f.running=!1,f.structural=!1);else if(t){var n=e.data("$$ngAnimateState")||{},i=!0===t;!i&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(i||!n.totalActive)&&(a.removeClass(e,"ng-animate"),e.removeData("$$ngAnimateState"))}}function O(e,n){if(f.disabled)return!0;if(s(e,m))return f.running;var i,o,r;do{if(0===n.length)break;var a=s(n,m),l=a?f:n.data("$$ngAnimateState")||{};if(l.disabled)return!0;a&&(r=!0),!1!==i&&(a=n.data("$$ngAnimateChildren"),t.isDefined(a)&&(i=a)),o=o||l.running||l.last&&!l.last.isClassBased}while(n=n.parent());return!r||!i&&o}a=w,m.data("$$ngAnimateState",f);var A=b.$watch(function(){return _.totalPendingRequests},function(e){0===e&&(A(),b.$$postDigest(function(){b.$$postDigest(function(){f.running=!1})}))}),P=0,I=o.classNameFilter(),L=I?function(e){return I.test(e)}:function(){return!0};return{animate:function(e,n,i,o,s){return o=o||"ng-inline-animate",s=S(s)||{},s.from=i?n:null,s.to=i?i:n,k(function(n){return M("animate",o,t.element(r(e)),null,null,l,s,n)})},enter:function(n,i,o,s){return s=S(s),n=t.element(n),i=i&&t.element(i),o=o&&t.element(o),$(n,!0),e.enter(n,i,o),k(function(e){return M("enter","ng-enter",t.element(r(n)),i,o,l,s,e)})},leave:function(n,i){return i=S(i),n=t.element(n),E(n),$(n,!0),k(function(o){return M("leave","ng-leave",t.element(r(n)),null,null,function(){e.leave(n)},i,o)})},move:function(n,i,o,s){return s=S(s),n=t.element(n),i=i&&t.element(i),o=o&&t.element(o),E(n),$(n,!0),e.move(n,i,o),k(function(e){return M("move","ng-move",t.element(r(n)),i,o,l,s,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,i,o,s){if(s=S(s),n=t.element(n),n=t.element(r(n)),$(n))return e.$$setClassImmediately(n,i,o,s);var a,l=n.data("$$animateClasses"),c=!!l;return l||(l={classes:{}}),a=l.classes,i=d(i)?i:i.split(" "),u(i,function(e){e&&e.length&&(a[e]=!0)}),o=d(o)?o:o.split(" "),u(o,function(e){e&&e.length&&(a[e]=!1)}),c?(s&&l.options&&(l.options=t.extend(l.options||{},s)),l.promise):(n.data("$$animateClasses",l={classes:a,options:s}),l.promise=k(function(t){var i=n.parent(),o=r(n),s=o.parentNode;if(s&&!s.$$NG_REMOVED&&!o.$$NG_REMOVED){o=n.data("$$animateClasses"),n.removeData("$$animateClasses");var s=n.data("$$ngAnimateState")||{},a=x(n,o,s.active);return a?M("setClass",a,n,i,null,function(){a[0]&&e.$$addClassImmediately(n,a[0]),a[1]&&e.$$removeClassImmediately(n,a[1])},o.options,t):t()}t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)D(t);else{var n=t.data("$$ngAnimateState")||{};n.disabled=!0,t.data("$$ngAnimateState",n)}break;case 1:f.disabled=!e;break;default:e=!f.disabled}return!!e}}}]),o.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,o,s,c){function h(){A||(A=c(function(){L=[],A=null,P={}}))}function f(e,t){A&&A(),L.push(t),A=c(function(){u(L,function(e){e()}),L=[],A=null,P={}})}function g(e,n){var i=r(e);e=t.element(i),j.push(e),i=Date.now()+n,q>=i||(s.cancel(B),q=i,B=s(function(){m(j),j=[]},n,!1))}function m(e){u(e,function(e){(e=e.data("$$ngAnimateCSS3Data"))&&u(e.closeAnimationFns,function(e){e()})})}function v(e,t){var n=t?P[t]:null;if(!n){var o=0,r=0,s=0,a=0;u(e,function(e){if(1==e.nodeType){e=i.getComputedStyle(e)||{},o=Math.max(b(e[T+"Duration"]),o),r=Math.max(b(e[T+"Delay"]),r),a=Math.max(b(e[E+"Delay"]),a);var t=b(e[E+"Duration"]);t>0&&(t*=parseInt(e[E+"IterationCount"],10)||1),s=Math.max(t,s)}}),n={total:0,transitionDelay:r,transitionDuration:o,animationDelay:a,animationDuration:s},t&&(P[t]=n)}return n}function b(e){var t=0;return e=p(e)?e.split(/\s*,\s*/):[],u(e,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function y(e,t,n,i){e=0<=["ng-enter","ng-leave","ng-move"].indexOf(n);var o,s=t.parent(),l=s.data("$$ngAnimateKey");l||(s.data("$$ngAnimateKey",++I),l=I),o=l+"-"+r(t).getAttribute("class");var s=o+" "+n,l=P[s]?++P[s].total:0,u={};if(l>0){var c=n+"-stagger",u=o+" "+c;(o=!P[u])&&a.addClass(t,c),u=v(t,u),o&&a.removeClass(t,c)}a.addClass(t,n);var c=t.data("$$ngAnimateCSS3Data")||{},d=v(t,s);return o=d.transitionDuration,d=d.animationDuration,e&&0===o&&0===d?(a.removeClass(t,n),!1):(n=i||e&&o>0,e=d>0&&0<u.animationDelay&&0===u.animationDuration,t.data("$$ngAnimateCSS3Data",{stagger:u,cacheKey:s,running:c.running||0,itemIndex:l,blockTransition:n,closeAnimationFns:c.closeAnimationFns||[]}),s=r(t),n&&(w(s,!0),i&&t.css(i)),e&&(s.style[E+"PlayState"]="paused"),!0)}function _(e,t,n,i,o){function l(){t.off(A,c),a.removeClass(t,p),a.removeClass(t,h),C&&s.cancel(C),x(t,n);var e,i=r(t);for(e in f)i.style.removeProperty(f[e])}function c(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||t.timeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-T,0)>=S&&t>=k&&i()}var d=r(t);if(e=t.data("$$ngAnimateCSS3Data"),-1!=d.getAttribute("class").indexOf(n)&&e){var p="",h="";u(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;p+=n+"-active",h+=n+"-pending"});var f=[],m=e.itemIndex,b=e.stagger,y=0;if(m>0){y=0,0<b.transitionDelay&&0===b.transitionDuration&&(y=b.transitionDelay*m);var _=0;0<b.animationDelay&&0===b.animationDuration&&(_=b.animationDelay*m,f.push(O+"animation-play-state")),y=Math.round(100*Math.max(y,_))/100}y||(a.addClass(t,p),e.blockTransition&&w(d,!1));var $=v(t,e.cacheKey+" "+p),k=Math.max($.transitionDuration,$.animationDuration);if(0!==k){!y&&o&&0<Object.keys(o).length&&($.transitionDuration||(t.css("transition",$.animationDuration+"s linear all"),f.push("transition")),t.css(o));var m=Math.max($.transitionDelay,$.animationDelay),S=1e3*m;0<f.length&&(b=d.getAttribute("style")||"",";"!==b.charAt(b.length-1)&&(b+=";"),d.setAttribute("style",b+" "));var C,T=Date.now(),A=D+" "+M,m=1e3*(y+1.5*(m+k));return y>0&&(a.addClass(t,h),C=s(function(){C=null,0<$.transitionDuration&&w(d,!1),0<$.animationDuration&&(d.style[E+"PlayState"]=""),a.addClass(t,p),a.removeClass(t,h),o&&(0===$.transitionDuration&&t.css("transition",$.animationDuration+"s linear all"),t.css(o),f.push("transition"))},1e3*y,!1)),t.on(A,c),e.closeAnimationFns.push(function(){l(),i()}),e.running++,g(t,m),l}a.removeClass(t,p),x(t,n),i()}else i()}function w(e,t){e.style[T+"Property"]=t?"none":""}function $(e,t,n,i){return y(e,t,n,i)?function(e){e&&x(t,n)}:void 0}function k(e,t,n,i,o){return t.data("$$ngAnimateCSS3Data")?_(e,t,n,i,o):(x(t,n),void i())}function S(e,t,n,i,o){var r=$(e,t,n,o.from);if(r){var s=r;return f(t,function(){s=k(e,t,n,i,o.to)}),function(e){(s||l)(e)}}h(),i()}function x(e,t){a.removeClass(e,t);var n=e.data("$$ngAnimateCSS3Data");n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData("$$ngAnimateCSS3Data"))}function C(e,t){var n="";return e=d(e)?e:e.split(/\s+/),u(e,function(e,i){e&&0<e.length&&(n+=(i>0?" ":"")+e+t)}),n}var T,M,E,D,O="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(O="-webkit-",T="WebkitTransition",M="webkitTransitionEnd transitionend"):(T="transition",M="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(O="-webkit-",E="WebkitAnimation",D="webkitAnimationEnd animationend"):(E="animation",D="animationend");var A,P={},I=0,L=[],B=null,q=0,j=[];return{animate:function(e,t,n,i,o,r){return r=r||{},r.from=n,r.to=i,S("animate",e,t,o,r)},enter:function(e,t,n){return n=n||{},S("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},S("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},S("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,i,o){return o=o||{},t=C(n,"-remove")+" "+C(t,"-add"),(o=$("setClass",e,t,o.from))?(f(e,i),o):(h(),void i())},beforeAddClass:function(e,t,n,i){return i=i||{},(t=$("addClass",e,C(t,"-add"),i.from))?(f(e,n),t):(h(),void n())},beforeRemoveClass:function(e,t,n,i){return i=i||{},(t=$("removeClass",e,C(t,"-remove"),i.from))?(f(e,n),t):(h(),void n())},setClass:function(e,t,n,i,o){return o=o||{},n=C(n,"-remove"),t=C(t,"-add"),k("setClass",e,n+" "+t,i,o.to)},addClass:function(e,t,n,i){return i=i||{},k("addClass",e,C(t,"-add"),n,i.to)},removeClass:function(e,t,n,i){return i=i||{},k("removeClass",e,C(t,"-remove"),n,i.to)}}}])}])}(window,window.angular),function(e,t,n){"use strict";function i(e){var n=[];return l(n,t.noop).chars(e),n.join("")}function o(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function r(e,n){function i(e,i,r,a){if(i=t.lowercase(i),$[i])for(;b.last()&&k[b.last()];)o("",b.last());w[i]&&b.last()==i&&o("",i),(a=_[i]||!!a)||b.push(i);var l={};r.replace(p,function(e,t,n,i,o){l[t]=s(n||i||o||"")
}),n.start&&n.start(i,l,a)}function o(e,i){var o,r=0;if(i=t.lowercase(i))for(r=b.length-1;r>=0&&b[r]!=i;r--);if(r>=0){for(o=b.length-1;o>=r;o--)n.end&&n.end(b[o]);b.length=r}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var r,a,l,b=[],y=e;for(b.last=function(){return b[b.length-1]};e;){if(l="",a=!0,b.last()&&S[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(v,"$1"),n.chars&&n.chars(s(t)),""}),o("",b.last())):(0===e.indexOf("<!--")?(r=e.indexOf("--",4),r>=0&&e.lastIndexOf("-->",r)===r&&(n.comment&&n.comment(e.substring(4,r)),e=e.substring(r+3),a=!1)):m.test(e)?(r=e.match(m))&&(e=e.replace(r[0],""),a=!1):f.test(e)?(r=e.match(d))&&(e=e.substring(r[0].length),r[0].replace(d,o),a=!1):h.test(e)&&((r=e.match(c))?(r[4]&&(e=e.substring(r[0].length),r[0].replace(c,i)),a=!1):(l+="<",e=e.substring(1))),a&&(r=e.indexOf("<"),l+=0>r?e:e.substring(0,r),e=0>r?"":e.substring(r),n.chars&&n.chars(s(l)))),e==y)throw u("badparse",e);y=e}o()}function s(e){if(!e)return"";var t=E.exec(e);e=t[1];var n=t[3];return(t=t[2])&&(M.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in M?M.textContent:M.innerText),e+t+n}function a(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var i=!1,o=t.bind(e,e.push);return{start:function(e,r,s){e=t.lowercase(e),!i&&S[e]&&(i=e),i||!0!==x[e]||(o("<"),o(e),t.forEach(r,function(i,r){var s=t.lowercase(r),l="img"===e&&"src"===s||"background"===s;!0!==T[s]||!0===C[s]&&!n(i,l)||(o(" "),o(r),o('="'),o(a(i)),o('"'))}),o(s?"/>":">"))},end:function(e){e=t.lowercase(e),i||!0!==x[e]||(o("</"),o(e),o(">")),e==i&&(i=!1)},chars:function(e){i||o(a(e))}}}var u=t.$$minErr("$sanitize"),c=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,f=/^<\//,g=/\x3c!--(.*?)--\x3e/g,m=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]\x3e/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~| |!])/g,_=o("area,br,col,hr,img,wbr");e=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=o("rp,rt");var w=t.extend({},n,e),$=t.extend({},e,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=t.extend({},n,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));e=o("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var S=o("script,style"),x=t.extend({},_,$,k,w,e),C=o("background,cite,href,longdesc,src,usemap,xlink:href");e=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),n=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var T=t.extend({},C,n,e),M=document.createElement("pre"),E=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return r(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,o=/^mailto:/;return function(r,s){function a(e){e&&h.push(i(e))}function l(e,n){h.push("<a "),t.isDefined(s)&&h.push('target="',s,'" '),h.push('href="',e.replace(/"/g,"&quot;"),'">'),a(n),h.push("</a>")}if(!r)return r;for(var u,c,d,p=r,h=[];u=p.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),d=u.index,a(p.substr(0,d)),l(c,u[0].replace(o,"")),p=p.substring(d+u[0].length);return a(p),e(h.join(""))}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return j(new(j(function(){},{prototype:e})),t)}function o(e){return q(arguments,function(t){t!==e&&q(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function r(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function s(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function a(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var o,l=r(n,i),u={},c=[];for(var d in l)if(l[d].params&&(o=s(l[d].params),o.length))for(var p in o)a(c,o[p])>=0||(c.push(o[p]),u[o[p]]=e[o[p]]);return j({},u,t)}function u(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var o=0;o<n.length;o++){var r=n[o];if(e[r]!=t[r])return!1}return!0}function c(e,t){var n={};return q(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==a(n,i)&&(t[i]=e[i]);return t}function p(e,t){var n=B(e),i=n?[]:{};return q(e,function(e,o){t(e,o)&&(i[n?i.length:o]=e)}),i}function h(e,t){var n=B(e)?[]:{};return q(e,function(e,i){n[i]=t(e,i)}),n}function f(e,t){var i=1,r=2,l={},u=[],c=l,p=j(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function h(e,n){if(b[n]!==r){if(v.push(n),b[n]===i)throw v.splice(0,a(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=i,I(e))m.push(n,[function(){return t.get(e)}],u);else{var o=t.annotate(e);q(o,function(e){e!==n&&l.hasOwnProperty(e)&&h(l[e],e)}),m.push(n,e,o)}v.pop(),b[n]=r}}function f(e){return L(e)&&e.then&&e.$$promises}if(!L(l))throw new Error("'invocables' must be an object");var g=s(l||{}),m=[],v=[],b={};return q(l,h),l=v=b=null,function(i,r,s){function a(){--_||(w||o(y,r.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,h.resolve(y))}function l(e){v.$$failure=e,h.reject(e)}function u(n,o,r){function u(e){d.reject(e),l(e)}function c(){if(!A(v.$$failure))try{d.resolve(t.invoke(o,s,y)),d.promise.then(function(e){y[n]=e,a()},u)}catch(e){u(e)}}var d=e.defer(),p=0;q(r,function(e){b.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(p++,b[e].then(function(t){y[e]=t,--p||c()},u))}),p||c(),b[n]=d.promise}if(f(i)&&s===n&&(s=r,r=i,i=null),i){if(!L(i))throw new Error("'locals' must be an object")}else i=c;if(r){if(!f(r))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else r=p;var h=e.defer(),v=h.promise,b=v.$$promises={},y=j({},i),_=1+m.length/3,w=!1;if(A(r.$$failure))return l(r.$$failure),v;r.$$inheritedValues&&o(y,d(r.$$inheritedValues,g)),j(b,r.$$promises),r.$$values?(w=o(y,d(r.$$values,g)),v.$$inheritedValues=d(r.$$values,g),a()):(r.$$inheritedValues&&(v.$$inheritedValues=d(r.$$inheritedValues,g)),r.then(a,l));for(var $=0,k=m.length;k>$;$+=3)i.hasOwnProperty(m[$])?a():u(m[$],m[$+1],m[$+2]);return v}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function g(e,t,n){this.fromConfig=function(e,t,n){return A(e.template)?this.fromString(e.template,t):A(e.templateUrl)?this.fromUrl(e.templateUrl,t):A(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return P(e)?e(t):e},this.fromUrl=function(n,i){return P(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function m(e,t,o){function r(t,n,i,o){if(m.push(t),f[t])return f[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new G.Param(t,n,i,o),g[t]}function s(e,t,n){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function a(n,o){var r,s,a,l,u;return r=n[2]||n[3],u=t.params[r],a=e.substring(p,n.index),s=o?n[4]:n[4]||("*"==n[1]?".*":null),l=G.type(s||"string")||i(G.type("string"),{pattern:new RegExp(s)}),{id:r,regexp:s,segment:a,type:l,cfg:u}}t=j({params:{}},L(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,h=this.segments=[],f=o?o.params:{},g=this.params=o?o.params.$$new():new G.ParamSet,m=[];this.source=e;for(var v,b,y;(l=u.exec(e))&&(v=a(l,!1),!(v.segment.indexOf("?")>=0));)b=r(v.id,v.type,v.cfg,"path"),d+=s(v.segment,b.type.pattern.source,b.squash),h.push(v.segment),p=u.lastIndex;y=e.substring(p);var _=y.indexOf("?");if(_>=0){var w=this.sourceSearch=y.substring(_);if(y=y.substring(0,_),this.sourcePath=e.substring(0,p+_),w.length>0)for(p=0;l=c.exec(w);)v=a(l,!0),b=r(v.id,v.type,v.cfg,"search"),p=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=s(y)+(t.strict===!1?"/?":"")+"$",h.push(y),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=m}function v(e){j(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function o(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function r(e){return this.pattern.test(e)}function l(){return{strict:y,caseInsensitive:g}}function u(e){return P(e)||B(e)&&P(e[e.length-1])}function c(){for(;k.length;){var e=k.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],f.invoke(e.def))}}function d(e){j(this,e||{})}G=this;var f,g=!1,y=!0,_=!1,w={},$=!0,k=[],S={string:{encode:e,decode:o,is:r,pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return A(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!u(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return A(e)&&(g=e),g},this.strictMode=function(e){return A(e)&&(y=e),y},this.defaultSquashPolicy=function(e){if(!A(e))return _;if(e!==!0&&e!==!1&&!I(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return _=e,e},this.compile=function(e,t){return new m(e,j(l(),t))},this.isMatcher=function(e){if(!L(e))return!1;var t=!0;return q(m.prototype,function(n,i){P(n)&&(t=t&&A(e[i])&&P(e[i]))}),t},this.type=function(e,t,n){if(!A(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new v(j({name:e},t)),n&&(k.push({name:e,def:n}),$||c()),this},q(S,function(e,t){w[t]=new v(j({name:t},e))}),w=i(w,{}),this.$get=["$injector",function(e){return f=e,$=!1,c(),q(S,function(e,t){w[t]||(w[t]=new v(e))}),this}],this.Param=function(e,t,i,o){function r(e){var t=L(e)?s(e):[],n=-1===a(t,"value")&&-1===a(t,"type")&&-1===a(t,"squash")&&-1===a(t,"array");return n&&(e={value:e}),e.$$fn=u(e.value)?e.value:function(){return e.value},e}function l(t,n,i){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof v?t.type:new v(t.type):"config"===i?w.any:w.string}function c(){var t={array:"search"===o?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return j(t,n,i).array}function d(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!A(n)||null==n)return _;if(n===!0||I(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,i,o){var r,s,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return r=B(e.replace)?e.replace:[],I(o)&&r.push({from:o,to:n}),s=h(r,function(e){return e.from}),p(l,function(e){return-1===a(s,e.from)}).concat(r)}function m(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(i.$$fn)}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(p($.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),A(e)?$.type.decode(e):m()}function y(){return"{Param:"+e+" "+t+" squash: '"+x+"' optional: "+S+"}"}var $=this;i=r(i),t=l(i,t,o);var k=c();t=k?t.$asArray(k,"search"===o):t,"string"!==t.name||k||"path"!==o||i.value!==n||(i.value="");var S=i.value!==n,x=d(i,S),C=g(i,k,S,x);j(this,{id:e,type:t,location:o,array:k,squash:x,replace:C,isOptional:S,value:b,dynamic:n,config:i,toString:y})},d.prototype={$$new:function(){return i(this,j(new d,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=s(d.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),q(t,function(t){q(s(t),function(t){-1===a(e,t)&&-1===a(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return q(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return q(i.$$keys(),function(o){var r=e&&e[o],s=t&&t[o];i[o].type.equals(r,s)||(n=!1)}),n},$$validates:function(e){var t,n,i,o=!0,r=this;return q(this.$$keys(),function(s){i=r[s],n=e[s],t=!n&&i.isOptional,o=o&&(t||!!i.type.is(n))}),o},$$parent:n},this.ParamSet=d}function y(e,i){function o(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function r(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function s(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return A(i)?i:!0}function a(i,o,r,s){function a(e,t,n){return"/"===g?e:t?g.slice(0,-1)+e:n?g.slice(1)+e:e}function p(e){function t(e){var t=e(r,i);return t?(I(t)&&i.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var o=f&&i.url()===f;if(f=n,o)return!0;var s,a=u.length;for(s=0;a>s;s++)if(t(u[s]))return;c&&t(c)}}function h(){return l=l||o.$on("$locationChangeSuccess",p)}var f,g=s.baseHref(),m=i.url();return d||h(),{sync:function(){p()},listen:function(){return h()},update:function(e){return e?void(m=i.url()):void(i.url()!==m&&(i.url(m),i.replace()))},push:function(e,t,o){i.url(e.format(t||{})),f=o&&o.$$avoidResync?i.url():n,o&&o.replace&&i.replace()},href:function(n,o,r){if(!n.validates(o))return null;var s=e.html5Mode();t.isObject(s)&&(s=s.enabled);var l=n.format(o);if(r=r||{},s||null===l||(l="#"+e.hashPrefix()+l),l=a(l,s,r.absolute),!r.absolute||!l)return l;var u=!s&&l?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(e){if(!P(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(I(e)){var t=e;e=function(){return t}}else if(!P(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,a=I(t);if(I(e)&&(e=i.compile(e)),!a&&!P(t)&&!B(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return a&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),j(function(n,i){return s(n,t,e.exec(i.path(),i.search()))},{prefix:I(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(n=t,t=["$match",function(e){return r(n,e)}]),j(function(n,i){return s(n,t,e.exec(i.path()))},{prefix:o(e)})}},u={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser"]}function _(e,o){function r(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var i=I(e),o=i?e:e.name,s=r(o);if(s){if(!t)throw new Error("No reference point given for path '"+o+"'");t=d(t);for(var a=o.split("."),l=0,u=a.length,c=t;u>l;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!c.parent)throw new Error("Path '"+o+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;a=a.slice(l).join("."),o=c.name+(c.name&&a?".":"")+a}var p=S[o];return!p||!i&&(i||p!==e&&p.self!==e)?n:p}function p(e,t){x[e]||(x[e]=[]),x[e].push(t)}function f(e){for(var t=x[e]||[];t.length;)g(t.shift())}function g(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!I(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var o=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):I(t.parent)?t.parent:L(t.parent)&&I(t.parent.name)?t.parent.name:"";if(o&&!S[o])return p(o,t.self);for(var r in T)P(T[r])&&(t[r]=T[r](t,T.$delegates[r]));return S[n]=t,!t[C]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){k.$current.navigable==t&&u(e,n)||k.transitionTo(t,e,{inherit:!0,location:!1})}]),f(n),t}function m(e){return e.indexOf("*")>-1}function v(e){var t=e.split("."),n=k.$current.name.split(".");if("**"===t[0]&&(n=n.slice(a(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(a(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var i=0,o=t.length;o>i;i++)"*"===t[i]&&(n[i]="*");return n.join("")===t.join("")}function b(e,t){return I(e)&&!A(t)?T[e]:P(t)&&I(e)?(T[e]&&!T.$delegates[e]&&(T.$delegates[e]=T[e]),T[e]=t,this):this}function y(e,t){return L(e)?t=e:t.name=e,g(t),this}function _(e,o,r,a,p,f,g){function b(t,n,i,r){var s=e.$broadcast("$stateNotFound",t,n,i);if(s.defaultPrevented)return g.update(),T;if(!s.retry)return null;if(r.$retry)return g.update(),M;var a=k.transition=o.when(s.retry);return a.then(function(){return a!==k.transition?_:(t.options.$retry=!0,k.transitionTo(t.to,t.toParams,t.options))},function(){return T}),g.update(),a}function y(e,n,i,s,l,u){var d=i?n:c(e.params.$$keys(),n),h={$stateParams:d};l.resolve=p.resolve(e.resolve,h,l.resolve,e);var f=[l.resolve.then(function(e){l.globals=e})];return s&&f.push(s),q(e.views,function(n,i){var o=n.resolve&&n.resolve!==e.resolve?n.resolve:{};o.$template=[function(){return r.load(i,{view:n,locals:h,params:d,notify:u.notify})||""}],f.push(p.resolve(o,h,l.resolve,e).then(function(r){if(P(n.controllerProvider)||B(n.controllerProvider)){var s=t.extend({},o,h);r.$$controller=a.invoke(n.controllerProvider,null,s)}else r.$$controller=n.controller;r.$$state=e,r.$$controllerAs=n.controllerAs,l[i]=r}))}),o.all(f).then(function(){return l})}var _=o.reject(new Error("transition superseded")),x=o.reject(new Error("transition prevented")),T=o.reject(new Error("transition aborted")),M=o.reject(new Error("transition failed"));return $.locals={resolve:null,globals:{$stateParams:{}}},k={params:{},current:$.self,$current:$,transition:null},k.reload=function(){return k.transitionTo(k.current,f,{reload:!0,inherit:!1,notify:!0})},k.go=function(e,t,n){return k.transitionTo(e,t,j({inherit:!0,relative:k.$current},n))},k.transitionTo=function(t,n,r){n=n||{},r=j({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},r||{});var s,u=k.$current,p=k.params,h=u.path,m=d(t,r.relative);if(!A(m)){var v={to:t,toParams:n,options:r},S=b(v,u.self,p,r);if(S)return S;if(t=v.to,n=v.toParams,r=v.options,m=d(t,r.relative),!A(m)){if(!r.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+r.relative+"'")}}if(m[C])throw new Error("Cannot transition to abstract state '"+t+"'");if(r.inherit&&(n=l(f,n||{},k.$current,m)),!m.params.$$validates(n))return M;n=m.params.$$values(n),t=m;var T=t.path,E=0,D=T[E],O=$.locals,P=[];if(!r.reload)for(;D&&D===h[E]&&D.ownParams.$$equals(n,p);)O=P[E]=D.locals,E++,D=T[E];if(w(t,u,O,r))return t.self.reloadOnSearch!==!1&&g.update(),k.transition=null,o.when(k.current);if(n=c(t.params.$$keys(),n||{}),r.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,p).defaultPrevented)return g.update(),x;for(var I=o.when(O),L=E;L<T.length;L++,D=T[L])O=P[L]=i(O),I=y(D,n,D===t,I,O,r);var B=k.transition=I.then(function(){var i,o,s;if(k.transition!==B)return _;for(i=h.length-1;i>=E;i--)s=h[i],s.self.onExit&&a.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(i=E;i<T.length;i++)o=T[i],o.locals=P[i],o.self.onEnter&&a.invoke(o.self.onEnter,o.self,o.locals.globals);return k.transition!==B?_:(k.$current=t,k.current=t.self,k.params=n,N(k.params,f),k.transition=null,r.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===r.location}),r.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,p),g.update(!0),k.current)},function(i){return k.transition!==B?_:(k.transition=null,s=e.$broadcast("$stateChangeError",t.self,n,u.self,p,i),s.defaultPrevented||g.update(),o.reject(i))});return B},k.is=function(e,t,i){i=j({relative:k.$current},i||{});var o=d(e,i.relative);return A(o)?k.$current!==o?!1:t?u(o.params.$$values(t),f):!0:n},k.includes=function(e,t,i){if(i=j({relative:k.$current},i||{}),I(e)&&m(e)){if(!v(e))return!1;e=k.$current.name}var o=d(e,i.relative);return A(o)?A(k.$current.includes[o.name])?t?u(o.params.$$values(t),f,s(t)):!0:!1:n},k.href=function(e,t,i){i=j({lossy:!0,inherit:!0,absolute:!1,relative:k.$current},i||{});var o=d(e,i.relative);if(!A(o))return null;i.inherit&&(t=l(f,t||{},k.$current,o));var r=o&&i.lossy?o.navigable:o;return r&&r.url!==n&&null!==r.url?g.href(r.url,c(o.params.$$keys(),t||{}),{absolute:i.absolute}):null},k.get=function(e,t){if(0===arguments.length)return h(s(S),function(e){return S[e].self});var n=d(e,t||k.$current);return n&&n.self?n.self:null},k}function w(e,t,n,i){return e!==t||(n!==t.locals||i.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var $,k,S={},x={},C="abstract",T={parent:function(e){if(A(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):$},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=j({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(I(t))return"^"==t.charAt(0)?o.compile(t.substring(1),n):(e.parent.navigable||$).url.concat(t,n);if(!t||o.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new G.ParamSet;return q(e.params||{},function(e,n){t[n]||(t[n]=new G.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?j(e.parent.params.$$new(),e.ownParams):new G.ParamSet},views:function(e){var t={};return q(A(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?j({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};$=g({name:"",url:"^",views:null,"abstract":!0}),$.navigable=null,this.decorator=b,this.state=y,this.$get=_,_.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function e(e,t){return{load:function(n,i){var o,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=j(r,i),i.view&&(o=t.fromConfig(i.view,i.params,i.locals)),o&&i.notify&&e.$broadcast("$viewContentLoading",i),o}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function $(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function k(e,n,i,o){function r(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function s(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(u)return{enter:function(e,t,n){var i=u.enter(e,null,t,n);i&&i.then&&i.then(n)},leave:function(e,t){var n=u.leave(e,t);n&&n.then&&n.then(t)}};if(l){var i=l&&l(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return n()}var a=r(),l=a("$animator"),u=a("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,r,a){return function(n,r,l){function u(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p&&(v.leave(p,function(){d=null}),d=p,p=null)}function c(s){var c,d=x(n,l,r,o),b=d&&e.$current&&e.$current.locals[d];if(s||b!==f){c=n.$new(),f=e.$current.locals[d];var y=a(c,function(e){v.enter(e,r,function(){h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&i(e)}),u()});p=y,h=c,h.$emit("$viewContentLoaded"),h.$eval(g)}}var d,p,h,f,g=l.onload||"",m=l.autoscroll,v=s(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function S(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(o){var r=o.html();return function(o,s,a){var l=n.$current,u=x(o,a,s,i),c=l&&l.locals[u];if(c){s.data("$uiView",{name:u,state:c.$$state}),s.html(c.$template?c.$template:r);var d=e(s.contents());if(c.$$controller){c.$scope=o;var p=t(c.$$controller,c);c.$$controllerAs&&(o[c.$$controllerAs]=p),s.data("$ngControllerController",p),s.children().data("$ngControllerController",p)}d(o)}}}}}function x(e,t,n,i){var o=i(t.uiView||t.name||"")(e),r=n.inheritedData("$uiView");return o.indexOf("@")>=0?o:o+"@"+(r?r.state.name:"")}function C(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function T(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function M(e,n){var i=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(o,r,s,a){var l=C(s.uiSref,e.current.name),u=null,c=T(r)||e.$current,d=null,p="A"===r.prop("tagName"),h="FORM"===r[0].nodeName,f=h?"action":"href",g=!0,m={relative:c,inherit:!0},v=o.$eval(s.uiSrefOpts)||{};t.forEach(i,function(e){e in v&&(m[e]=v[e])});var b=function(n){if(n&&(u=t.copy(n)),g){d=e.href(l.state,u,m);var i=a[1]||a[0];return i&&i.$$setStateInfo(l.state,u),null===d?(g=!1,!1):void s.$set(f,d)}};l.paramExpr&&(o.$watch(l.paramExpr,function(e){e!==u&&b(e)},!0),u=t.copy(o.$eval(l.paramExpr))),b(),h||r.bind("click",function(t){var i=t.which||t.button;if(!(i>1||t.ctrlKey||t.metaKey||t.shiftKey||r.attr("target"))){var o=n(function(){e.go(l.state,u,m)});t.preventDefault();var s=p&&!d?1:0;t.preventDefault=function(){s--<=0&&n.cancel(o)}}})}}}function E(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,o){function r(){s()?i.addClass(u):i.removeClass(u)}function s(){return"undefined"!=typeof o.uiSrefActiveEq?a&&e.is(a.name,l):a&&e.includes(a.name,l)}var a,l,u;u=n(o.uiSrefActiveEq||o.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,n){a=e.get(t,T(i)),l=n,r()},t.$on("$stateChangeSuccess",r)}]}}function D(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function O(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var A=t.isDefined,P=t.isFunction,I=t.isString,L=t.isObject,B=t.isArray,q=t.forEach,j=t.extend,N=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),f.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",f),g.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",g);var G;m.prototype.concat=function(e,t){var n={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new m(this.sourcePath+e+this.sourceSearch,j(n,t),this)},m.prototype.toString=function(){return this.source},m.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var i=t(e).split(/-(?!\\)/),o=h(i,t);return h(o,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var o,r,s,a=this.parameters(),l=a.length,u=this.segments.length-1,c={};if(u!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(o=0;u>o;o++){s=a[o];var d=this.params[s],p=i[o+1];for(r=0;r<d.replace;r++)d.replace[r].from===p&&(p=d.replace[r].to);p&&d.array===!0&&(p=n(p)),c[s]=d.value(p)}for(;l>o;o++)s=a[o],c[s]=this.params[s].value(t[s]);return c},m.prototype.parameters=function(e){return A(e)?this.params[e]||null:this.$$paramNames},m.prototype.validates=function(e){return this.params.$$validates(e)},m.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),o=this.params;if(!this.validates(e))return null;var r,s=!1,a=n.length-1,l=i.length,u=n[0];for(r=0;l>r;r++){var c=a>r,d=i[r],p=o[d],f=p.value(e[d]),g=p.isOptional&&p.type.equals(p.value(),f),m=g?p.squash:!1,v=p.type.encode(f);if(c){var b=n[r+1];if(m===!1)null!=v&&(u+=B(v)?h(v,t).join("-"):encodeURIComponent(v)),u+=b;else if(m===!0){var y=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=b.match(y)[1]}else I(m)&&(u+=m+b)}else{if(null==v||g&&m!==!1)continue;B(v)||(v=[v]),v=h(v,encodeURIComponent).join("&"+d+"="),u+=(s?"&":"?")+(d+"="+v),s=!0}}return u},v.prototype.is=function(){return!0},v.prototype.encode=function(e){return e
},v.prototype.decode=function(e){return e},v.prototype.equals=function(e,t){return e==t},v.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function o(e){return B(e)?e:A(e)?[e]:[]}function r(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function s(e){return!e}function a(e,t){return function(n){n=o(n);var i=h(n,e);return t===!0?0===p(i,s).length:r(i)}}function l(e){return function(t,n){var i=o(t),r=o(n);if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(!e(i[s],r[s]))return!1;return!0}}this.encode=a(i(e,"encode")),this.decode=a(i(e,"decode")),this.is=a(i(e,"is"),!0),this.equals=l(i(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),y.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",y),_.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",_),w.$inject=[],t.module("ui.router.state").provider("$view",w),t.module("ui.router.state").provider("$uiViewScroll",$),k.$inject=["$state","$injector","$uiViewScroll","$interpolate"],S.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",k),t.module("ui.router.state").directive("uiView",S),M.$inject=["$state","$timeout"],E.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",M).directive("uiSrefActive",E).directive("uiSrefActiveEq",E),D.$inject=["$state"],O.$inject=["$state"],t.module("ui.router.state").filter("isState",D).filter("includedByState",O)}(window,window.angular),!function(){function e(e,t,n,i,o,r){function s(s,a,l,u,c){function d(){return $||($=new e({afterItemsNode:I[0],containerNode:y,heightData:C,widthData:T,forceRefreshImages:!(!p(l.forceRefreshImages)||"false"===l.forceRefreshImages),keyExpression:k,renderBuffer:O,scope:s,scrollView:u.scrollView,transclude:c}))}function h(){var e=v.__clientHeight,t=v.__clientWidth;t&&e&&(h.height!==e||h.width!==t)&&(h.height=e,h.width=t,f())}function f(){if((C.computed||T.computed)&&m(),C.computed){if(C.value=M.height,!C.value)throw new Error('collection-repeat tried to compute the height of repeated elements "'+_+'", but was unable to. Please provide the "item-height" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!C.dynamic&&C.getValue&&(C.value=C.getValue());if(T.computed){if(T.value=M.width,!T.value)throw new Error('collection-repeat tried to compute the width of repeated elements "'+_+'", but was unable to. Please provide the "item-width" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!T.dynamic&&T.getValue&&(T.value=T.getValue());d().refreshLayout()}function g(e,n){if(e){var i;try{i=t(e)}catch(o){e.trim().match(/\d+(px|%)$/)&&(e='"'+e+'"'),i=t(e)}var r=e.replace(/(\'|\"|px|%)/g,"").trim(),s=r.length&&!/([a-zA-Z]|\$|:|\?)/.test(r);if(n.attrValue=e,s){var a=parseInt(i());if(e.indexOf("%")>-1){var l=a/100;n.getValue=n===C?function(){return Math.floor(l*v.__clientHeight)}:function(){return Math.floor(l*v.__clientWidth)}}else n.value=a}else n.dynamic=!0,n.getValue=n===C?function(e,t){var n=i(e,t);return n.charAt&&"%"===n.charAt(n.length-1)?Math.floor(parseInt(n)/100*v.__clientHeight):parseInt(n)}:function(e,t){var n=i(e,t);return n.charAt&&"%"===n.charAt(n.length-1)?Math.floor(parseInt(n)/100*v.__clientWidth):parseInt(n)}}}function m(){j||c(N=s.$new(),function(e){e[0].removeAttribute("collection-repeat"),j=e[0]}),N[k]=(x(s)||[])[0],o.$$phase||N.$digest(),y.appendChild(j);var e=n.getComputedStyle(j);M.width=parseInt(e.width),M.height=parseInt(e.height),y.removeChild(j)}var v=u.scrollView,b=a[0],y=angular.element('<div class="collection-repeat-container">')[0];if(b.parentNode.replaceChild(y,b),v.options.scrollingX&&v.options.scrollingY)throw new Error("collection-repeat expected a parent x or y scrollView, not an xy scrollView.");var _=l.collectionRepeat,w=_.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!w)throw new Error("collection-repeat expected expression in form of '_item_ in _collection_[ track by _id_]' but got '"+l.collectionRepeat+"'.");var $,k=w[1],S=w[2],x=t(S),C={},T={},M={},E=l.itemRenderBuffer||l.collectionBufferSize,O=angular.isDefined(E)?parseInt(E):D,A=l.itemHeight||l.collectionItemHeight,P=l.itemWidth||l.collectionItemWidth;A||P?(A?g(A,C):C.computed=!0,P||(P='"100%"'),g(P,T)):C.computed=T.computed=!0;var I=angular.element(v.__content.querySelector(".collection-repeat-after-container"));if(!I.length){var L=!1,B=[].filter.call(v.__content.childNodes,function(e){return ionic.DomUtil.contains(e,y)?(L=!0,!1):L});I=angular.element('<span class="collection-repeat-after-container">'),v.options.scrollingX&&I.addClass("horizontal"),I.append(B),v.__content.appendChild(I[0])}i(f),u.$element.one("scroll.init",f);var q=ionic.animationFrameThrottle(h);angular.element(n).on("resize",q),s.$on("$destroy",function(){angular.element(n).off("resize",q),u.$element&&u.$element.off("scroll.init",f),j&&j.parentNode&&j.parentNode.removeChild(j),N&&N.$destroy(),N=j=null,$&&$.destroy(),$=null}),s.$watchCollection(x,function(e){if(e||(e=[]),!angular.isArray(e))throw new Error("collection-repeat expected an array for '"+S+"', but got a "+typeof value);r(function(){d().refreshData(e),e.length&&f()},0,!1)});var j,N}return{restrict:"A",priority:1e3,transclude:"element",$$tlb:!0,require:"^$ionicScroll",link:s}}function t(e,t,n){var o={primaryPos:0,secondaryPos:0,primarySize:0,secondarySize:0};return function(t){function r(){return s(!0)}function s(t){if(!s.destroyed){var n,i,r,u,c=Q.getScrollValue(),d=c+Q.scrollPrimarySize;Q.updateRenderRange(c,d),U=Math.max(0,U-k),H=Math.min(T.length-1,H+k);for(n in J)(U>n||n>H)&&(i=J[n],delete J[n],Y.push(i),i.isShown=!1,i.scope.$broadcast("$collectionRepeatChange"));for(n=U;H>=n;n++)n>=T.length||J[n]&&!t||(i=J[n]||(J[n]=Y.length?Y.pop():K.length?K.shift():new l),X.push(i),i.isShown=!0,u=i.scope,u.$index=n,u[$]=T[n],u.$first=0===n,u.$last=n===T.length-1,u.$middle=!(u.$first||u.$last),u.$odd=!(u.$even=0===(1&n)),u.$$disconnected&&ionic.Utils.reconnectScope(i.scope),r=Q.getDimensions(n),(i.secondaryPos!==r.secondaryPos||i.primaryPos!==r.primaryPos)&&(i.node.style[ionic.CSS.TRANSFORM]=G.replace(j,i.primaryPos=r.primaryPos).replace(N,i.secondaryPos=r.secondaryPos)),(i.secondarySize!==r.secondarySize||i.primarySize!==r.primarySize)&&(i.node.style.cssText=i.node.style.cssText.replace(E,F.replace(j,(i.primarySize=r.primarySize)+1).replace(N,i.secondarySize=r.secondarySize))));for(H===T.length-1&&(r=Q.getDimensions(T.length-1)||o,v.style[ionic.CSS.TRANSFORM]=G.replace(j,r.primaryPos+r.primarySize).replace(N,0));Y.length;)i=Y.pop(),ionic.Utils.disconnectScope(i.scope),K.push(i),i.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",i.primaryPos=i.secondaryPos=null;if(y)for(n=0,ii=X.length;n<ii&&(i=X[n]);n++)if(i.images)for(var p,h=0,f=i.images.length;f>h&&(p=i.images[h]);h++){var g=p.src;p.src=M,p.src=g}if(t)for(var m=e.$$phase;X.length;)i=X.pop(),m||i.scope.$digest();else a()}}function a(){var t,i;a.running||(a.running=!0,n(function o(){if(i=X.length){for(var r=e.$$phase,s=Math.floor(i/1.25)||1;s&&X.length;)t=X.pop(),t.isShown&&(s--,r||t.scope.$digest());n(o)}else a.running=!1}))}function l(){var e=this;this.scope=S.$new(),this.id="item"+Z++,C(this.scope,function(t){e.element=t,e.element.data("$$collectionRepeatItem",e),e.node=t[0],e.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",e.node.style.cssText+=" height: 0px; width: 0px;",ionic.Utils.disconnectScope(e.scope),b.appendChild(e.node),e.images=t[0].getElementsByTagName("img")})}function u(){this.getItemPrimarySize=A,this.getItemSecondarySize=I,this.getScrollValue=function(){return Math.max(0,Math.min(x.__scrollTop-R,x.__maxScrollTop-R-V))},this.refreshDirection=function(){this.scrollPrimarySize=x.__clientHeight,this.scrollSecondarySize=x.__clientWidth,this.estimatedPrimarySize=g,this.estimatedSecondarySize=m,this.estimatedItemsAcross=B&&Math.floor(x.__clientWidth/m)||1}}function c(){this.getItemPrimarySize=I,this.getItemSecondarySize=A,this.getScrollValue=function(){return Math.max(0,Math.min(x.__scrollLeft-R,x.__maxScrollLeft-R-V))},this.refreshDirection=function(){this.scrollPrimarySize=x.__clientWidth,this.scrollSecondarySize=x.__clientHeight,this.estimatedPrimarySize=m,this.estimatedSecondarySize=g,this.estimatedItemsAcross=B&&Math.floor(x.__clientHeight/g)||1}}function d(){this.getEstimatedSecondaryPos=function(e){return e%this.estimatedItemsAcross*this.estimatedSecondarySize},this.getEstimatedPrimaryPos=function(e){return Math.floor(e/this.estimatedItemsAcross)*this.estimatedPrimarySize},this.getEstimatedIndex=function(e){return Math.floor(e/this.estimatedPrimarySize)*this.estimatedItemsAcross}}function p(){this.getEstimatedSecondaryPos=function(){return 0},this.getEstimatedPrimaryPos=function(e){return e*this.estimatedPrimarySize},this.getEstimatedIndex=function(e){return Math.floor(e/this.estimatedPrimarySize)}}function h(){this.getContentSize=function(){return this.getEstimatedPrimaryPos(T.length-1)+this.estimatedPrimarySize+R+V};var e={};this.getDimensions=function(t){return e.primaryPos=this.getEstimatedPrimaryPos(t),e.secondaryPos=this.getEstimatedSecondaryPos(t),e.primarySize=this.estimatedPrimarySize,e.secondarySize=this.estimatedSecondarySize,e},this.updateRenderRange=function(e,t){U=Math.max(0,this.getEstimatedIndex(e)),H=Math.min(T.length-1,this.getEstimatedIndex(t)+this.estimatedItemsAcross-1),W=Math.max(0,this.getEstimatedPrimaryPos(U)),z=this.getEstimatedPrimaryPos(H)+this.estimatedPrimarySize}}function f(){function e(e){var t,i,s;for(t=Math.max(0,n);e>=t&&(s=u[t]);t++)i=u[t-1]||o,s.primarySize=r.getItemPrimarySize(t,T[t]),s.secondarySize=r.scrollSecondarySize,s.primaryPos=i.primaryPos+i.primarySize,s.secondaryPos=0}function t(e){var t,i,s;for(t=Math.max(n,0);e>=t&&(s=u[t]);t++)i=u[t-1]||o,s.secondarySize=Math.min(r.getItemSecondarySize(t,T[t]),r.scrollSecondarySize),s.secondaryPos=i.secondaryPos+i.secondarySize,0===t||s.secondaryPos+s.secondarySize>r.scrollSecondarySize?(s.rowStartIndex=t,s.secondaryPos=0,s.primarySize=r.getItemPrimarySize(t,T[t]),s.primaryPos=i.primaryPos+i.primarySize):(s.rowStartIndex=i.rowStartIndex,s.primarySize=i.primarySize,s.primaryPos=i.primaryPos)}var n,r=this,s=L?function(){x.setDimensions(null,null,null,r.getContentSize(),!0)}:function(){x.setDimensions(null,null,r.getContentSize(),null,!0)},a=ionic.debounce(s,25,!0),l=B?t:e,u=[];this.getContentSize=function(){var e=u[n]||o;return(e.primaryPos+e.primarySize||0)+this.getEstimatedPrimaryPos(T.length-n-1)+R+V},this.onDestroy=function(){u.length=0},this.onRefreshData=function(){for(i=u.length,len=T.length;i<len;i++)u.push({});n=-1},this.onRefreshLayout=function(){n=-1},this.getDimensions=function(e){return e=Math.min(e,T.length-1),e>n&&(e>.9*T.length?(l(T.length-1),n=T.length-1,s()):(l(e),n=e,a())),u[e]};var c=-1,d=-1;this.updateRenderRange=function(e,t){var n,i,o;if(this.getDimensions(2*this.getEstimatedIndex(t)),-1===c||0===e)n=0;else if(e>=d)for(n=c,i=T.length;i>n&&!((o=this.getDimensions(n))&&o.primaryPos+o.primarySize>=e);n++);else for(n=c;n>=0;n--)if((o=this.getDimensions(n))&&o.primaryPos<=e){n=B?o.rowStartIndex:n;break}U=Math.min(Math.max(0,n),T.length-1),W=-1!==U?this.getDimensions(U).primaryPos:-1;var r;for(n=U+1,i=T.length;i>n;n++)if((o=this.getDimensions(n))&&o.primaryPos+o.primarySize>t){if(B)for(r=o;i-1>n&&(o=this.getDimensions(n+1)).primaryPos===r.primaryPos;)n++;break}H=Math.min(n,T.length-1),z=-1!==H?(o=this.getDimensions(H)).primaryPos+o.primarySize:-1,d=e,c=U}}var g,m,v=t.afterItemsNode,b=t.containerNode,y=t.forceRefreshImages,_=t.heightData,w=t.widthData,$=t.keyExpression,k=t.renderBuffer,S=t.scope,x=t.scrollView,C=t.transclude,T=[],D={},O=_.getValue||function(){return _.value},A=function(e,t){return D[$]=t,D.$index=e,O(S,D)},P=w.getValue||function(){return w.value},I=function(e,t){return D[$]=t,D.$index=e,P(S,D)},L=!!x.options.scrollingY,B=L?w.dynamic||w.value!==x.__clientWidth:_.dynamic||_.value!==x.__clientHeight,q=!_.dynamic&&!w.dynamic,j="PRIMARY",N="SECONDARY",G=L?"translate3d(SECONDARYpx,PRIMARYpx,0)":"translate3d(PRIMARYpx,SECONDARYpx,0)",F=L?"height: PRIMARYpx; width: SECONDARYpx;":"height: SECONDARYpx; width: PRIMARYpx;",R=0,V=0,U=-1,H=-1,z=-1,W=-1,K=[],Y=[],X=[],J={},Z=0,Q=L?new u:new c;(B?d:p).call(Q),(q?h:f).call(Q);var et=L?"getContentHeight":"getContentWidth",tt=x.options[et];x.options[et]=angular.bind(Q,Q.getContentSize),x.__$callback=x.__callback,x.__callback=function(e,t,n,i){var o=Q.getScrollValue();(-1===U||o+Q.scrollPrimarySize>z||W>o)&&s(),x.__$callback(e,t,n,i)};var nt=!1,it=!1;this.refreshLayout=function(){g=A(0,T[0]),m=I(0,T[0]);var e=getComputedStyle(v)||{},t=v.firstElementChild&&getComputedStyle(v.firstElementChild)||{},n=v.lastElementChild&&getComputedStyle(v.lastElementChild)||{};V=(parseInt(e[L?"height":"width"])||0)+(t&&parseInt(t[L?"marginTop":"marginLeft"])||0)+(n&&parseInt(n[L?"marginBottom":"marginRight"])||0),R=0;var i=b;do R+=i[L?"offsetTop":"offsetLeft"];while(ionic.DomUtil.contains(x.__content,i=i.offsetParent));if((Q.onRefreshLayout||angular.noop)(),Q.refreshDirection(),!nt)for(var o=Math.max(20,3*k),s=0;o>s;s++)K.push(new l);nt=!0,nt&&it&&r()},this.refreshData=function(e){T=e,(Q.onRefreshData||angular.noop)(),it=!0,nt&&it&&(x.resize(),r())},this.destroy=function(){s.destroyed=!0,K.forEach(function(e){e.scope.$destroy(),e.scope=e.element=e.node=e.images=null}),K.length=X.length=Y.length=0,J={},x.options[et]=tt,x.__callback=x.__$callback,x.resize(),(Q.onDestroy||angular.noop)()}}}function n(e){return["$ionicGesture","$parse",function(t,n){var i=e.substr(2).toLowerCase();return function(o,r,s){var a=n(s[e]),l=function(e){o.$apply(function(){a(o,{$event:e})})},u=t.on(i,l,r);o.$on("$destroy",function(){t.off(u,i,l)})}}]}function o(){return["$ionicScrollDelegate",function(e){return{restrict:"E",link:function(t,n,i){function o(t){for(var i=3,o=t.target;i--&&o;){if(o.classList.contains("button")||o.tagName.match(/input|textarea|select/i)||o.isContentEditable)return;o=o.parentNode}var r=t.gesture&&t.gesture.touches[0]||t.detail.touches[0],s=n[0].getBoundingClientRect();ionic.DomUtil.rectContains(r.pageX,r.pageY,s.left,s.top-20,s.left+s.width,s.top+s.height)&&e.scrollTop(!0)}"true"!=i.noTapScroll&&(ionic.on("tap",o,n[0]),t.$on("$destroy",function(){ionic.off("tap",o,n[0])}))}}}]}function r(e){return["$document","$timeout",function(t,n){return{restrict:"E",controller:"$ionicHeaderBar",compile:function(i){function o(t,n,i,o){e?(t.$watch(function(){return n[0].className},function(e){var n=-1===e.indexOf("ng-hide"),i=-1!==e.indexOf("bar-subheader");t.$hasHeader=n&&!i,t.$hasSubheader=n&&i}),t.$on("$destroy",function(){delete t.$hasHeader,delete t.$hasSubheader}),o.align(),t.$on("$ionicHeader.align",function(){ionic.requestAnimationFrame(function(){o.align()})})):(t.$watch(function(){return n[0].className},function(e){var n=-1===e.indexOf("ng-hide"),i=-1!==e.indexOf("bar-subfooter");t.$hasFooter=n&&!i,t.$hasSubfooter=n&&i}),t.$on("$destroy",function(){delete t.$hasFooter,delete t.$hasSubfooter}),t.$watch("$hasTabs",function(e){n.toggleClass("has-tabs",!!e)}))}return i.addClass(e?"bar bar-header":"bar bar-footer"),n(function(){e&&t[0].getElementsByClassName("tabs-top").length&&i.addClass("has-tabs-top")}),{pre:o}}}}]}function s(e){return e.clientHeight}function a(e){e.stopPropagation()}e.$inject=["e","t","n","i","o","r"],t.$inject=["e","t","n"];var l={method:function(e,t,n){var i=!1;return function(){return i||(i=!0,t(e)),n.apply(this,arguments)}},field:function(e,t,n,i,o){var r=!1,s=function(){return r||(r=!0,t(e)),o},a=function(n){return r||(r=!0,t(e)),o=n,n};Object.defineProperty(n,i,{get:s,set:a,enumerable:!0})}},u=angular.module("ionic",["ngAnimate","ngSanitize","ui.router"]),c=angular.extend,d=angular.forEach,p=angular.isDefined,h=angular.isNumber,f=angular.isString,g=angular.element,m=angular.noop;u.factory("$ionicActionSheet",["$rootScope","$compile","$animate","$timeout","$ionicTemplateLoader","$ionicPlatform","$ionicBody",function(e,t,n,i,o,r,s){function a(o){function a(e){e&&/icon/.test(e)&&(l.$actionSheetHasIcon=!0)}var l=e.$new(!0);c(l,{cancel:m,destructiveButtonClicked:m,buttonClicked:m,$deregisterBackButton:m,buttons:[],cancelOnStateChange:!0},o||{});for(var u=0;u<l.buttons.length;u++)a(l.buttons[u].text);a(l.cancelText),a(l.destructiveText);var d=l.element=t('<ion-action-sheet ng-class="cssClass" buttons="buttons"></ion-action-sheet>')(l),p=g(d[0].querySelector(".action-sheet-wrapper")),h=l.cancelOnStateChange?e.$on("$stateChangeSuccess",function(){l.cancel()}):m;return l.removeSheet=function(e){l.removed||(l.removed=!0,p.removeClass("action-sheet-up"),i(function(){s.removeClass("action-sheet-open")},400),l.$deregisterBackButton(),h(),n.removeClass(d,"active").then(function(){l.$destroy(),d.remove(),l.cancel.$scope=p=null,(e||m)()}))},l.showSheet=function(e){l.removed||(s.append(d).addClass("action-sheet-open"),n.addClass(d,"active").then(function(){l.removed||(e||m)()}),i(function(){l.removed||p.addClass("action-sheet-up")},20,!1))},l.$deregisterBackButton=r.registerBackButtonAction(function(){i(l.cancel)},S),l.cancel=function(){l.removeSheet(o.cancel)},l.buttonClicked=function(e){o.buttonClicked(e,o.buttons[e])===!0&&l.removeSheet()},l.destructiveButtonClicked=function(){o.destructiveButtonClicked()===!0&&l.removeSheet()},l.showSheet(),l.cancel.$scope=l,l.cancel}return{show:a}}]),g.prototype.addClass=function(e){var t,n,i,o,r,s;if(e&&"ng-scope"!=e&&"ng-isolate-scope"!=e)for(t=0;t<this.length;t++)if(o=this[t],o.setAttribute)if(e.indexOf(" ")<0&&o.classList.add)o.classList.add(e);else{for(s=(" "+(o.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=e.split(" "),n=0;n<r.length;n++)i=r[n].trim(),-1===s.indexOf(" "+i+" ")&&(s+=i+" ");o.setAttribute("class",s.trim())}return this},g.prototype.removeClass=function(e){var t,n,i,o,r;if(e)for(t=0;t<this.length;t++)if(r=this[t],r.getAttribute)if(e.indexOf(" ")<0&&r.classList.remove)r.classList.remove(e);else for(i=e.split(" "),n=0;n<i.length;n++)o=i[n],r.setAttribute("class",(" "+(r.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+o.trim()+" "," ").trim());return this},u.factory("$ionicBackdrop",["$document","$timeout",function(e,t){function n(){1===++s&&(r.addClass("visible"),ionic.requestAnimationFrame(function(){s&&r.addClass("active")}))}function i(){0===--s&&(r.removeClass("active"),t(function(){!s&&r.removeClass("visible")},400,!1))}function o(){return r}var r=g('<div class="backdrop">'),s=0;return e[0].body.appendChild(r[0]),{retain:n,release:i,getElement:o,_element:r}}]),u.factory("$ionicBind",["$parse","$interpolate",function(e,t){var n=/^\s*([@=&])(\??)\s*(\w*)\s*$/;return function(i,o,r){d(r||{},function(r,s){var a,l,u=r.match(n)||[],c=u[3]||s,d=u[1];switch(d){case"@":if(!o[c])return;o.$observe(c,function(e){i[s]=e}),o[c]&&(i[s]=t(o[c])(i));break;case"=":if(!o[c])return;l=i.$watch(o[c],function(e){i[s]=e}),i.$on("$destroy",l);break;case"&":if(o[c]&&o[c].match(RegExp(s+"(.*?)")))throw new Error('& expression binding "'+s+'" looks like it will recursively call "'+o[c]+'" and cause a stack overflow! Please choose a different scopeName.');a=e(o[c]),i[s]=function(e){return a(i,e)}}})}}]),u.factory("$ionicBody",["$document",function(e){return{addClass:function(){for(var t=0;t<arguments.length;t++)e[0].body.classList.add(arguments[t]);return this},removeClass:function(){for(var t=0;t<arguments.length;t++)e[0].body.classList.remove(arguments[t]);return this},enableClass:function(e){var t=Array.prototype.slice.call(arguments).slice(1);return e?this.addClass.apply(this,t):this.removeClass.apply(this,t),this},append:function(t){return e[0].body.appendChild(t.length?t[0]:t),this},get:function(){return e[0].body}}}]),u.factory("$ionicClickBlock",["$document","$ionicBody","$timeout",function(e,t,n){function i(e){e.preventDefault(),e.stopPropagation()}function o(){l&&(s?s.classList.remove(u):(s=e[0].createElement("div"),s.className="click-block",t.append(s),s.addEventListener("touchstart",i),s.addEventListener("mousedown",i)),l=!1)}function r(){s&&s.classList.add(u)}var s,a,l,u="click-block-hide";return{show:function(e){l=!0,n.cancel(a),a=n(this.hide,e||310),o()},hide:function(){l=!1,n.cancel(a),r()}}}]),u.factory("$ionicGesture",[function(){return{on:function(e,t,n,i){return window.ionic.onGesture(e,t,n[0],i)},off:function(e,t,n){return window.ionic.offGesture(e,t,n)}}}]),u.factory("$ionicHistory",["$rootScope","$state","$location","$window","$timeout","$ionicViewSwitcher","$ionicNavViewDelegate",function(e,t,n,i,o,r,s){function a(e){return e?P.views[e]:null}function l(e){return e?a(e.backViewId):null}function u(e){return e?a(e.forwardViewId):null}function d(e){return e?P.histories[e]:null}function p(e){var t=h(e);return P.histories[t.historyId]||(P.histories[t.historyId]={historyId:t.historyId,parentHistoryId:h(t.scope.$parent).historyId,stack:[],cursor:-1}),d(t.historyId)}function h(t){for(var n=t;n;){if(n.hasOwnProperty("$historyId"))return{historyId:n.$historyId,scope:n};n=n.$parent}return{historyId:"root",scope:e}}function f(e){P.currentView=a(e),P.backView=l(P.currentView),P.forwardView=u(P.currentView)}function g(){var e;if(t&&t.current&&t.current.name){if(e=t.current.name,t.params)for(var n in t.params)t.params.hasOwnProperty(n)&&t.params[n]&&(e+="_"+n+"="+t.params[n]);return e}return ionic.Utils.nextUid()}function m(){var e;if(t&&t.params)for(var n in t.params)t.params.hasOwnProperty(n)&&(e=e||{},e[n]=t.params[n]);return e}function v(e){return e&&e.length&&/ion-side-menus|ion-tabs/i.test(e[0].tagName)}var b,y,_,w,$="initialView",k="newView",S="moveBack",x="moveForward",C="back",T="forward",M="enter",E="exit",D="swap",O="none",A=0,P={histories:{root:{historyId:"root",parentHistoryId:null,stack:[],cursor:-1}},views:{},backView:null,forwardView:null,currentView:null},I=function(){};return I.prototype.initialize=function(e){if(e){for(var t in e)this[t]=e[t];return this}return null},I.prototype.go=function(){return this.stateName?t.go(this.stateName,this.stateParams):this.url&&this.url!==n.url()?P.backView===this?i.history.go(-1):P.forwardView===this?i.history.go(1):void n.url(this.url):null},I.prototype.destroy=function(){this.scope&&(this.scope.$destroy&&this.scope.$destroy(),this.scope=null)},{register:function(e,t){var i,s,u,c=g(),v=p(e),I=P.currentView,L=P.backView,B=P.forwardView,q=null,j=null,N=O,G=v.historyId,F=n.url();if(b!==c&&(b=c,A++),w)q=w.viewId,j=w.action,N=w.direction,w=null;else if(L&&L.stateId===c)q=L.viewId,G=L.historyId,j=S,L.historyId===I.historyId?N=C:I&&(N=E,i=d(L.historyId),i&&i.parentHistoryId===I.historyId?N=M:(i=d(I.historyId),i&&i.parentHistoryId===v.parentHistoryId&&(N=D)));else if(B&&B.stateId===c)q=B.viewId,G=B.historyId,j=x,B.historyId===I.historyId?N=T:I&&(N=E,I.historyId===v.parentHistoryId?N=M:(i=d(I.historyId),i&&i.parentHistoryId===v.parentHistoryId&&(N=D))),i=h(e),B.historyId&&i.scope&&(i.scope.$historyId=B.historyId,G=B.historyId);else if(I&&I.historyId!==G&&v.cursor>-1&&v.stack.length>0&&v.cursor<v.stack.length&&v.stack[v.cursor].stateId===c){var R=v.stack[v.cursor];q=R.viewId,G=R.historyId,j=S,N=D,i=d(I.historyId),i&&i.parentHistoryId===G?N=E:(i=d(G),i&&i.parentHistoryId===I.historyId&&(N=M)),i=a(R.backViewId),i&&R.historyId!==i.historyId&&(v.stack[v.cursor].backViewId=I.viewId)}else{if(u=r.createViewEle(t),this.isAbstractEle(u,t))return{action:"abstractView",direction:O,ele:u};if(q=ionic.Utils.nextUid(),I){if(I.forwardViewId=q,j=k,B&&I.stateId!==B.stateId&&I.historyId===B.historyId&&(i=d(B.historyId))){for(s=i.stack.length-1;s>=B.index;s--){var V=i.stack[s];V&&V.destroy&&V.destroy(),i.stack.splice(s)}G=B.historyId}v.historyId===I.historyId?N=T:I.historyId!==v.historyId&&(N=M,i=d(I.historyId),i&&i.parentHistoryId===v.parentHistoryId?N=D:(i=d(i.parentHistoryId),i&&i.historyId===v.historyId&&(N=E)))}else j=$;2>A&&(N=O),P.views[q]=this.createView({viewId:q,index:v.stack.length,historyId:v.historyId,backViewId:I&&I.viewId?I.viewId:null,forwardViewId:null,stateId:c,stateName:this.currentStateName(),stateParams:m(),url:F}),v.stack.push(P.views[q])}if(o.cancel(_),y){if(y.disableAnimate&&(N=O),y.disableBack&&(P.views[q].backViewId=null),y.historyRoot){for(s=0;s<v.stack.length;s++)v.stack[s].viewId===q?(v.stack[s].index=0,v.stack[s].backViewId=v.stack[s].forwardViewId=null):delete P.views[v.stack[s].viewId];v.stack=[P.views[q]]}y=null}if(f(q),P.backView&&G==P.backView.historyId&&c==P.backView.stateId&&F==P.backView.url)for(s=0;s<v.stack.length;s++)if(v.stack[s].viewId==q){j="dupNav",N=O,s>0&&(v.stack[s-1].forwardViewId=null),P.forwardView=null,P.currentView.index=P.backView.index,P.currentView.backViewId=P.backView.backViewId,P.backView=l(P.backView),v.stack.splice(s,1);break}return v.cursor=P.currentView.index,{viewId:q,action:j,direction:N,historyId:G,enableBack:this.enabledBack(P.currentView),isHistoryRoot:0===P.currentView.index,ele:u}},registerHistory:function(e){e.$historyId=ionic.Utils.nextUid()},createView:function(e){var t=new I;return t.initialize(e)},getViewById:a,viewHistory:function(){return P},currentView:function(e){return arguments.length&&(P.currentView=e),P.currentView},currentHistoryId:function(){return P.currentView?P.currentView.historyId:null},currentTitle:function(e){return P.currentView?(arguments.length&&(P.currentView.title=e),P.currentView.title):void 0},backView:function(e){return arguments.length&&(P.backView=e),P.backView},backTitle:function(e){var t=e&&a(e.backViewId)||P.backView;return t&&t.title},forwardView:function(e){return arguments.length&&(P.forwardView=e),P.forwardView},currentStateName:function(){return t&&t.current?t.current.name:null},isCurrentStateNavView:function(e){return!!(t&&t.current&&t.current.views&&t.current.views[e])},goToHistoryRoot:function(e){if(e){var t=d(e);if(t&&t.stack.length){if(P.currentView&&P.currentView.viewId===t.stack[0].viewId)return;w={viewId:t.stack[0].viewId,action:S,direction:C},t.stack[0].go()}}},goBack:function(){P.backView&&P.backView.go()},enabledBack:function(e){var t=l(e);return!(!t||t.historyId!==e.historyId)},clearHistory:function(){var e=P.histories,t=P.currentView;if(e)for(var n in e)e[n].stack&&(e[n].stack=[],e[n].cursor=-1),t&&t.historyId===n?(t.backViewId=t.forwardViewId=null,e[n].stack.push(t)):e[n].destroy&&e[n].destroy();for(var i in P.views)i!==t.viewId&&delete P.views[i];t&&f(t.viewId)},clearCache:function(){s._instances.forEach(function(e){e.clearCache()})},nextViewOptions:function(e){return arguments.length&&(o.cancel(_),null===e?y=e:(y=y||{},c(y,e),y.expire&&(_=o(function(){y=null},y.expire)))),y},isAbstractEle:function(e,t){return t&&t.$$state&&t.$$state.self["abstract"]?!0:!(!e||!v(e)&&!v(e.children()))},isActiveScope:function(e){if(!e)return!1;for(var t,n=e,i=this.currentHistoryId();n;){if(n.$$disconnected)return!1;if(!t&&n.hasOwnProperty("$historyId")&&(t=!0),i){if(n.hasOwnProperty("$historyId")&&i==n.$historyId)return!0;if(n.hasOwnProperty("$activeHistoryId")&&i==n.$activeHistoryId){if(n.hasOwnProperty("$historyId"))return!0;if(!t)return!0}}t&&n.hasOwnProperty("$activeHistoryId")&&(t=!1),n=n.$parent}return i?"root"==i:!0}}}]).run(["$rootScope","$state","$location","$document","$ionicPlatform","$ionicHistory",function(e,t,n,i,o,r){function s(e){var t=r.backView();return t?t.go():ionic.Platform.exitApp(),e.preventDefault(),!1}e.$on("$ionicView.beforeEnter",function(){ionic.keyboard&&ionic.keyboard.hide&&ionic.keyboard.hide()}),e.$on("$ionicHistory.change",function(e,i){if(i){var o=r.viewHistory(),s=i.historyId?o.histories[i.historyId]:null;if(s&&s.cursor>-1&&s.cursor<s.stack.length){var a=s.stack[s.cursor];return a.go(i)}!i.url&&i.uiSref&&(i.url=t.href(i.uiSref)),i.url&&(0===i.url.indexOf("#")&&(i.url=i.url.replace("#","")),i.url!==n.url()&&n.url(i.url))}}),e.$ionicGoBack=function(){r.goBack()},e.$on("$ionicView.afterEnter",function(e,t){t&&t.title&&(i[0].title=t.title)}),o.registerBackButtonAction(s,w)}]),u.provider("$ionicConfig",function(){function e(e,i){s.platform[e]=i,o.platform[e]={},t(s,s.platform[e]),n(s.platform[e],o.platform[e],"")}function t(e,n){for(var i in e)i!=r&&e.hasOwnProperty(i)&&(angular.isObject(e[i])?(p(n[i])||(n[i]={}),t(e[i],n[i])):p(n[i])||(n[i]=null))}function n(e,t,o){d(e,function(a,l){angular.isObject(e[l])?(t[l]={},n(e[l],t[l],o+"."+l)):t[l]=function(n){if(arguments.length)return e[l]=n,t;if(e[l]==r){var a=i(s.platform,ionic.Platform.platform()+o+"."+l);return a||a===!1?a:i(s.platform,"default"+o+"."+l)}return e[l]}})}function i(e,t){t=t.split(".");for(var n=0;n<t.length;n++){if(!e||!p(e[t[n]]))return null;e=e[t[n]]}return e}var o=this;o.platform={};var r="platform",s={views:{maxCache:r,forwardCache:r,transition:r,swipeBackEnabled:r,swipeBackHitWidth:r},navBar:{alignTitle:r,positionPrimaryButtons:r,positionSecondaryButtons:r,transition:r},backButton:{icon:r,text:r,previousTitleText:r},form:{checkbox:r,toggle:r},scrolling:{jsScrolling:r},tabs:{style:r,position:r},templates:{maxPrefetch:r},platform:{}};n(s,o,""),e("default",{views:{maxCache:10,forwardCache:!1,transition:"ios",swipeBackEnabled:!0,swipeBackHitWidth:45},navBar:{alignTitle:"center",positionPrimaryButtons:"left",positionSecondaryButtons:"right",transition:"view"},backButton:{icon:"ion-ios-arrow-back",text:"Back",previousTitleText:!0},form:{checkbox:"circle",toggle:"large"},scrolling:{jsScrolling:!0},tabs:{style:"standard",position:"bottom"},templates:{maxPrefetch:30}}),e("ios",{}),e("android",{views:{transition:"android",swipeBackEnabled:!1},navBar:{alignTitle:"left",positionPrimaryButtons:"right",positionSecondaryButtons:"right"},backButton:{icon:"ion-android-arrow-back",text:!1,previousTitleText:!1},form:{checkbox:"square",toggle:"small"},tabs:{style:"striped",position:"top"}}),o.transitions={views:{},navBar:{}},o.transitions.views.ios=function(e,t,n,i){function o(e,t,n,i){var o={};o[ionic.CSS.TRANSITION_DURATION]=r.shouldAnimate?"":0,o.opacity=t,i>-1&&(o.boxShadow="0 0 10px rgba(0,0,0,"+(r.shouldAnimate?.45*i:.3)+")"),o[ionic.CSS.TRANSFORM]="translate3d("+n+"%,0,0)",ionic.DomUtil.cachedStyles(e,o)}var r={run:function(i){"forward"==n?(o(e,1,99*(1-i),1-i),o(t,1-.1*i,-33*i,-1)):"back"==n?(o(e,1-.1*(1-i),-33*(1-i),-1),o(t,1,100*i,1-i)):(o(e,1,0,-1),o(t,0,0,-1))},shouldAnimate:i&&("forward"==n||"back"==n)};return r},o.transitions.navBar.ios=function(e,t,n,i){function o(e,t,n,i){var o={};o[ionic.CSS.TRANSITION_DURATION]=a.shouldAnimate?"":0,o.opacity=1===t?"":t,e.setCss("buttons-left",o),e.setCss("buttons-right",o),e.setCss("back-button",o),o[ionic.CSS.TRANSFORM]="translate3d("+i+"px,0,0)",e.setCss("back-text",o),o[ionic.CSS.TRANSFORM]="translate3d("+n+"px,0,0)",e.setCss("title",o)}function r(e,t,n){if(e&&t){var i=(e.titleTextX()+e.titleWidth())*(1-n),r=t&&(t.titleTextX()-e.backButtonTextLeft())*(1-n)||0;o(e,n,i,r)}}function s(e,t,n){if(e&&t){var i=(-(e.titleTextX()-t.backButtonTextLeft())-e.titleLeftRight())*n;o(e,1-n,i,0)}}var a={run:function(n){var i=e.controller(),o=t&&t.controller();"back"==a.direction?(s(i,o,1-n),r(o,i,1-n)):(r(i,o,n),s(o,i,n))},direction:n,shouldAnimate:i&&("forward"==n||"back"==n)};return a},o.transitions.views.android=function(e,t,n,i){function o(e,t){var n={};n[ionic.CSS.TRANSITION_DURATION]=r.shouldAnimate?"":0,n[ionic.CSS.TRANSFORM]="translate3d("+t+"%,0,0)",ionic.DomUtil.cachedStyles(e,n)}i=i&&("forward"==n||"back"==n);var r={run:function(i){"forward"==n?(o(e,99*(1-i)),o(t,-100*i)):"back"==n?(o(e,-100*(1-i)),o(t,100*i)):(o(e,0),o(t,0))
},shouldAnimate:i};return r},o.transitions.navBar.android=function(e,t,n,i){function o(e,t){if(e){var n={};n.opacity=1===t?"":t,e.setCss("buttons-left",n),e.setCss("buttons-right",n),e.setCss("back-button",n),e.setCss("back-text",n),e.setCss("title",n)}}return{run:function(n){o(e.controller(),n),o(t&&t.controller(),1-n)},shouldAnimate:i&&("forward"==n||"back"==n)}},o.transitions.views.none=function(e,t){return{run:function(n){o.transitions.views.android(e,t,!1,!1).run(n)},shouldAnimate:!1}},o.transitions.navBar.none=function(e,t){return{run:function(n){o.transitions.navBar.ios(e,t,!1,!1).run(n),o.transitions.navBar.android(e,t,!1,!1).run(n)},shouldAnimate:!1}},o.setPlatformConfig=e,o.$get=function(){return o}});var v='<div class="loading-container"><div class="loading"></div></div>',b="$ionicLoading instance.hide() has been deprecated. Use $ionicLoading.hide().",y="$ionicLoading instance.show() has been deprecated. Use $ionicLoading.show().",_="$ionicLoading instance.setContent() has been deprecated. Use $ionicLoading.show({ template: 'my content' }).";u.constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).factory("$ionicLoading",["$ionicLoadingConfig","$ionicBody","$ionicTemplateLoader","$ionicBackdrop","$timeout","$q","$log","$compile","$ionicPlatform","$rootScope",function(e,t,n,i,o,r,s,a,u,d){function p(){return g||(g=n.compile({template:v,appendTo:t.get()}).then(function(e){return e.show=function(s){var l=s.templateUrl?n.load(s.templateUrl):r.when(s.template||s.content||"");e.scope=s.scope||e.scope,e.isShown||(e.hasBackdrop=!s.noBackdrop&&s.showBackdrop!==!1,e.hasBackdrop&&(i.retain(),i.getElement().addClass("backdrop-loading"))),s.duration&&(o.cancel(e.durationTimeout),e.durationTimeout=o(angular.bind(e,e.hide),+s.duration)),w(),w=u.registerBackButtonAction(m,C),l.then(function(n){if(n){var i=e.element.children();i.html(n),a(i.contents())(e.scope)}e.isShown&&(e.element.addClass("visible"),ionic.requestAnimationFrame(function(){e.isShown&&(e.element.addClass("active"),t.addClass("loading-active"))}))}),e.isShown=!0},e.hide=function(){w(),e.isShown&&(e.hasBackdrop&&(i.release(),i.getElement().removeClass("backdrop-loading")),e.element.removeClass("active"),t.removeClass("loading-active"),setTimeout(function(){!e.isShown&&e.element.removeClass("visible")},200)),o.cancel(e.durationTimeout),e.isShown=!1},e})),g}function h(t){t=c({},e||{},t||{});var n=t.delay||t.showDelay||0;return $(),k(),t.hideOnStateChange&&($=d.$on("$stateChangeSuccess",f),k=d.$on("$stateChangeError",f)),o.cancel(S),S=o(m,n),S.then(p).then(function(e){return e.show(t)}),{hide:l.method(b,s.error,f),show:l.method(y,s.error,function(){h(t)}),setContent:l.method(_,s.error,function(e){p().then(function(t){t.show({template:e})})})}}function f(){$(),k(),o.cancel(S),p().then(function(e){e.hide()})}var g,w=m,$=m,k=m,S=r.when();return{show:h,hide:f,_getLoader:p}}]),u.factory("$ionicModal",["$rootScope","$ionicBody","$compile","$timeout","$ionicPlatform","$ionicTemplateLoader","$q","$log",function(e,t,n,i,o,r,s,a){var l=ionic.views.Modal.inherit({initialize:function(e){ionic.views.Modal.prototype.initialize.call(this,e),this.animation=e.animation||"slide-in-up"},show:function(e){var n=this;if(n.scope.$$destroyed)return void a.error("Cannot call "+n.viewType+".show() after remove(). Please create a new "+n.viewType+" instance.");var r=g(n.modalEl);return n.el.classList.remove("hide"),i(function(){t.addClass(n.viewType+"-open")},400),n.el.parentElement||(r.addClass(n.animation),t.append(n.el)),e&&n.positionView&&(n.positionView(e,r),ionic.on("resize",function(){ionic.off("resize",null,window),n.positionView(e,r)},window)),r.addClass("ng-enter active").removeClass("ng-leave ng-leave-active"),n._isShown=!0,n._deregisterBackButton=o.registerBackButtonAction(n.hardwareBackButtonClose?angular.bind(n,n.hide):m,k),ionic.views.Modal.prototype.show.call(n),i(function(){r.addClass("ng-enter-active"),ionic.trigger("resize"),n.scope.$parent&&n.scope.$parent.$broadcast(n.viewType+".shown",n),n.el.classList.add("active"),n.scope.$broadcast("$ionicHeader.align")},20),i(function(){n.$el.on("click",function(e){n.backdropClickToClose&&e.target===n.el&&n.hide()})},400)},hide:function(){var e=this,n=g(e.modalEl);return e.el.classList.remove("active"),n.addClass("ng-leave"),i(function(){n.addClass("ng-leave-active").removeClass("ng-enter ng-enter-active active")},20),e.$el.off("click"),e._isShown=!1,e.scope.$parent&&e.scope.$parent.$broadcast(e.viewType+".hidden",e),e._deregisterBackButton&&e._deregisterBackButton(),ionic.views.Modal.prototype.hide.call(e),e.positionView&&ionic.off("resize",null,window),i(function(){t.removeClass(e.viewType+"-open"),e.el.classList.add("hide")},e.hideDelay||320)},remove:function(){var e=this;return e.scope.$parent&&e.scope.$parent.$broadcast(e.viewType+".removed",e),e.hide().then(function(){e.scope.$destroy(),e.$el.remove()})},isShown:function(){return!!this._isShown}}),u=function(t,i){var o=i.scope&&i.scope.$new()||e.$new(!0);i.viewType=i.viewType||"modal",c(o,{$hasHeader:!1,$hasSubheader:!1,$hasFooter:!1,$hasSubfooter:!1,$hasTabs:!1,$hasTabsTop:!1});var r=n("<ion-"+i.viewType+">"+t+"</ion-"+i.viewType+">")(o);i.$el=r,i.el=r[0],i.modalEl=i.el.querySelector("."+i.viewType);var s=new l(i);return s.scope=o,i.scope||(o[i.viewType]=s),s};return{fromTemplate:function(e,t){var n=u(e,t||{});return n},fromTemplateUrl:function(e,t,n){var i;return angular.isFunction(t)&&(i=t,t=n),r.load(e).then(function(e){var n=u(e,t||{});return i&&i(n),n})}}}]),u.service("$ionicNavBarDelegate",ionic.DelegateService(["align","showBackButton","showBar","title","changeTitle","setTitle","getTitle","back","getPreviousTitle"])),u.service("$ionicNavViewDelegate",ionic.DelegateService(["clearCache"]));var w=100,$=150,k=200,S=300,x=400,C=500;u.provider("$ionicPlatform",function(){return{$get:["$q","$rootScope",function(e){var t={onHardwareBackButton:function(e){ionic.Platform.ready(function(){document.addEventListener("backbutton",e,!1)})},offHardwareBackButton:function(e){ionic.Platform.ready(function(){document.removeEventListener("backbutton",e)})},$backButtonActions:{},registerBackButtonAction:function(e,n,i){t._hasBackButtonHandler||(t.$backButtonActions={},t.onHardwareBackButton(t.hardwareBackButtonClick),t._hasBackButtonHandler=!0);var o={id:i?i:ionic.Utils.nextUid(),priority:n?n:0,fn:e};return t.$backButtonActions[o.id]=o,function(){delete t.$backButtonActions[o.id]}},hardwareBackButtonClick:function(e){var n,i;for(i in t.$backButtonActions)(!n||t.$backButtonActions[i].priority>=n.priority)&&(n=t.$backButtonActions[i]);return n?(n.fn(e),n):void 0},is:function(e){return ionic.Platform.is(e)},on:function(e,t){return ionic.Platform.ready(function(){document.addEventListener(e,t,!1)}),function(){ionic.Platform.ready(function(){document.removeEventListener(e,t)})}},ready:function(t){var n=e.defer();return ionic.Platform.ready(function(){n.resolve(),t&&t()}),n.promise}};return t}]}}),u.factory("$ionicPopover",["$ionicModal","$ionicPosition","$document","$window",function(e,t,n,i){function o(e,o){var s=g(e.target||e),a=t.offset(s),l=o.prop("offsetWidth"),u=o.prop("offsetHeight"),c=n[0].body.clientWidth,d=i.innerHeight,p={left:a.left+a.width/2-l/2},h=g(o[0].querySelector(".popover-arrow"));p.left<r?p.left=r:p.left+l+r>c&&(p.left=c-l-r),a.top+a.height+u>d&&a.top-u>0?(p.top=a.top-u,o.addClass("popover-bottom")):(p.top=a.top+a.height,o.removeClass("popover-bottom")),h.css({left:a.left+a.width/2-h.prop("offsetWidth")/2-p.left+"px"}),o.css({top:p.top+"px",left:p.left+"px",marginLeft:"0",opacity:"1"})}var r=6,s={viewType:"popover",hideDelay:1,animation:"none",positionView:o};return{fromTemplate:function(t,n){return e.fromTemplate(t,ionic.Utils.extend(s,n||{}))},fromTemplateUrl:function(t,n){return e.fromTemplateUrl(t,ionic.Utils.extend(s,n||{}))}}}]);var T='<div class="popup-container" ng-class="cssClass"><div class="popup"><div class="popup-head"><h3 class="popup-title" ng-bind-html="title"></h3><h5 class="popup-sub-title" ng-bind-html="subTitle" ng-if="subTitle"></h5></div><div class="popup-body"></div><div class="popup-buttons" ng-show="buttons.length"><button ng-repeat="button in buttons" ng-click="$buttonTapped(button, $event)" class="button" ng-class="button.type || \'button-default\'" ng-bind-html="button.text"></button></div></div></div>';u.factory("$ionicPopup",["$ionicTemplateLoader","$ionicBackdrop","$q","$timeout","$rootScope","$ionicBody","$compile","$ionicPlatform",function(e,t,n,i,o,r,s,a){function l(t){t=c({scope:null,title:"",buttons:[]},t||{});var o=e.compile({template:T,scope:t.scope&&t.scope.$new(),appendTo:r.get()}),a=t.templateUrl?e.load(t.templateUrl):n.when(t.template||t.content||"");return n.all([o,a]).then(function(e){var o=e[0],r=e[1],a=n.defer();o.responseDeferred=a;var l=g(o.element[0].querySelector(".popup-body"));return r?(l.html(r),s(l.contents())(o.scope)):l.remove(),c(o.scope,{title:t.title,buttons:t.buttons,subTitle:t.subTitle,cssClass:t.cssClass,$buttonTapped:function(e,t){var n=(e.onTap||m)(t);t=t.originalEvent||t,t.defaultPrevented||a.resolve(n)}}),o.show=function(){o.isShown||(o.isShown=!0,ionic.requestAnimationFrame(function(){o.isShown&&(o.element.removeClass("popup-hidden"),o.element.addClass("popup-showing active"),p(o.element))}))},o.hide=function(e){return e=e||m,o.isShown?(o.isShown=!1,o.element.removeClass("active"),o.element.addClass("popup-hidden"),void i(e,250)):e()},o.remove=function(){o.removed||(o.hide(function(){o.element.remove(),o.scope.$destroy()}),o.removed=!0)},o})}function u(){y[0]&&y[0].responseDeferred.resolve()}function d(e){function n(e){o.then(function(t){t.removed||t.responseDeferred.resolve(e)})}var o=_._createPopup(e),s=y[0];s&&s.hide();var l=i(m,s?b.stackPushDelay:0).then(function(){return o}).then(function(e){return s||(r.addClass("popup-open"),t.retain(),_._backButtonActionDone=a.registerBackButtonAction(u,x)),y.unshift(e),e.show(),e.responseDeferred.notify({close:l.close}),e.responseDeferred.promise.then(function(n){var o=y.indexOf(e);-1!==o&&y.splice(o,1),e.remove();var s=y[0];return s?s.show():(i(function(){r.removeClass("popup-open")},400),i(function(){t.release()},b.stackPushDelay||0),(_._backButtonActionDone||m)()),n})});return l.close=n,l}function p(e){var t=e[0].querySelector("[autofocus]");t&&t.focus()}function h(e){return d(c({buttons:[{text:e.okText||"OK",type:e.okType||"button-positive",onTap:function(){return!0}}]},e||{}))}function f(e){return d(c({buttons:[{text:e.cancelText||"Cancel",type:e.cancelType||"button-default",onTap:function(){return!1}},{text:e.okText||"OK",type:e.okType||"button-positive",onTap:function(){return!0}}]},e||{}))}function v(e){var t=o.$new(!0);t.data={};var n="";return e.template&&/<[a-z][\s\S]*>/i.test(e.template)===!1&&(n="<span>"+e.template+"</span>",delete e.template),d(c({template:n+'<input ng-model="data.response" type="'+(e.inputType||"text")+'" placeholder="'+(e.inputPlaceholder||"")+'">',scope:t,buttons:[{text:e.cancelText||"Cancel",type:e.cancelType||"button-default",onTap:function(){}},{text:e.okText||"OK",type:e.okType||"button-positive",onTap:function(){return t.data.response||""}}]},e||{}))}var b={stackPushDelay:75},y=[],_={show:d,alert:h,confirm:f,prompt:v,_createPopup:l,_popupStack:y};return _}]),u.factory("$ionicPosition",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var o=function(t){for(var n=e[0],o=t.offsetParent||n;o&&o!==n&&i(o);)o=o.offsetParent;return o||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},r=o(t[0]);r!=e[0]&&(i=this.offset(g(r)),i.top+=r.clientTop-r.scrollTop,i.left+=r.clientLeft-r.scrollLeft);var s=t[0].getBoundingClientRect();return{width:s.width||t.prop("offsetWidth"),height:s.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}}]),u.service("$ionicScrollDelegate",ionic.DelegateService(["resize","scrollTop","scrollBottom","scrollTo","scrollBy","zoomTo","zoomBy","getScrollPosition","anchorScroll","freezeScroll","freezeAllScrolls","getScrollView"])),u.service("$ionicSideMenuDelegate",ionic.DelegateService(["toggleLeft","toggleRight","getOpenRatio","isOpen","isOpenLeft","isOpenRight","canDragContent","edgeDragThreshold"])),u.service("$ionicSlideBoxDelegate",ionic.DelegateService(["update","slide","select","enableSlide","previous","next","stop","autoPlay","start","currentIndex","selected","slidesCount","count","loop"])),u.service("$ionicTabsDelegate",ionic.DelegateService(["select","selectedIndex"])),function(){var e=[];u.factory("$ionicTemplateCache",["$http","$templateCache","$timeout",function(t,n,i){function o(e){return"undefined"==typeof e?r():(f(e)&&(e=[e]),d(e,function(e){a.push(e)}),void(s&&r()))}function r(){if(o._runCount++,s=!0,0!==a.length){for(var e=0;4>e&&(template=a.pop());)f(template)&&t.get(template,{cache:n}),e++;a.length&&i(r,1e3)}}var s,a=e;return o._runCount=0,o}]).config(["$stateProvider","$ionicConfigProvider",function(t,n){var i=t.state;t.state=function(o,r){if("object"==typeof r){var s=r.prefetchTemplate!==!1&&e.length<n.templates.maxPrefetch();if(s&&f(r.templateUrl)&&e.push(r.templateUrl),angular.isObject(r.views))for(var a in r.views)s=r.views[a].prefetchTemplate!==!1&&e.length<n.templates.maxPrefetch(),s&&f(r.views[a].templateUrl)&&e.push(r.views[a].templateUrl)}return i.call(t,o,r)}}]).run(["$ionicTemplateCache",function(e){e()}])}(),u.factory("$ionicTemplateLoader",["$compile","$controller","$http","$q","$rootScope","$templateCache",function(e,t,n,i,o,r){function s(e){return n.get(e,{cache:r}).then(function(e){return e.data&&e.data.trim()})}function a(n){n=c({template:"",templateUrl:"",scope:null,controller:null,locals:{},appendTo:null},n||{});var r=n.templateUrl?this.load(n.templateUrl):i.when(n.template);return r.then(function(i){var r,s=n.scope||o.$new(),a=g("<div>").html(i).contents();return n.controller&&(r=t(n.controller,c(n.locals,{$scope:s})),a.children().data("$ngControllerController",r)),n.appendTo&&g(n.appendTo).append(a),e(a)(s),{element:a,scope:s}})}return{load:s,compile:a}}]),u.factory("$ionicViewService",["$ionicHistory","$log",function(e,t){function n(e,n){t.warn("$ionicViewService"+e+" is deprecated, please use $ionicHistory"+n+" instead: http://ionicframework.com/docs/nightly/api/service/$ionicHistory/")}n("","");var i={getCurrentView:"currentView",getBackView:"backView",getForwardView:"forwardView",getCurrentStateName:"currentStateName",nextViewOptions:"nextViewOptions",clearHistory:"clearHistory"};return d(i,function(t,o){i[o]=function(){return n("."+o,"."+t),e[t].apply(this,arguments)}}),i}]),u.factory("$ionicViewSwitcher",["$timeout","$document","$q","$ionicClickBlock","$ionicConfig","$ionicNavBarDelegate",function(e,t,n,i,o,r){function s(e,t){return a(e)["abstract"]?a(e).name:t?t.stateId||t.viewId:ionic.Utils.nextUid()}function a(e){return e&&e.$$state&&e.$$state.self||{}}function l(e,t,n,i){var r=a(e),s=m||O(t,"view-transition")||r.viewTransition||o.views.transition()||"ios",l=o.navBar.transition();return n=v||O(t,"view-direction")||r.viewDirection||n||"none",c(u(i),{transition:s,navBarTransition:"view"===l?s:l,direction:n,shouldAnimate:"none"!==s&&"none"!==n})}function u(e){return e=e||{},{viewId:e.viewId,historyId:e.historyId,stateId:e.stateId,stateName:e.stateName,stateParams:e.stateParams}}function h(e,t){return arguments.length>1?void O(e,x,t):O(e,x)}function f(e){if(e&&e.length){var t=e.scope();t&&(t.$emit("$ionicView.unloaded",e.data(S)),t.$destroy()),e.remove()}}var m,v,b="webkitTransitionEnd transitionend",y="$noCache",_="$destroyEle",w="$eleId",$="$accessed",k="$fallbackTimer",S="$viewData",x="nav-view",C="active",T="cached",M="stage",E=0;ionic.transition=ionic.transition||{},ionic.transition.isActive=!1;var D,O=ionic.DomUtil.cachedAttr,A=[],P=1100,I={create:function(t,d,g,x,D,L){var B,q,j,N=++E,G={init:function(e,t){I.isTransitioning(!0),G.loadViewElements(e),G.render(e,function(){t&&t()})},loadViewElements:function(e){var n,i,o,r=t.getViewElements(),a=s(d,g),l=t.activeEleId();for(n=0,i=r.length;i>n&&(o=r.eq(n),o.data(w)===a?o.data(y)?(o.data(w,a+ionic.Utils.nextUid()),o.data(_,!0)):B=o:p(l)&&o.data(w)===l&&(q=o),!B||!q);n++);j=!!B,j||(B=e.ele||I.createViewEle(d),B.data(w,a)),L&&t.activeEleId(a),e.ele=null},render:function(e,n){if(j)ionic.Utils.reconnectScope(B.scope());else{h(B,M);var i=l(d,B,e.direction,g),r=o.transitions.views[i.transition]||o.transitions.views.none;r(B,null,i.direction,!0).run(0),B.data(S,{viewId:i.viewId,historyId:i.historyId,stateName:i.stateName,stateParams:i.stateParams}),(a(d).cache===!1||"false"===a(d).cache||"false"==B.attr("cache-view")||0===o.views.maxCache())&&B.data(y,!0);var s=t.appendViewElement(B,d);delete i.direction,delete i.transition,s.$emit("$ionicView.loaded",i)}B.data($,Date.now()),n&&n()},transition:function(s,a,p){function f(){h(B,U.shouldAnimate?"entering":C),h(q,U.shouldAnimate?"leaving":T),U.run(1),r._instances.forEach(function(e){e.triggerTransitionStart(N)}),U.shouldAnimate||_()}function y(e){e.target===this&&_()}function _(){_.x||(_.x=!0,B.off(b,y),e.cancel(B.data(k)),q&&e.cancel(q.data(k)),G.emit("after",F,R),S&&S.resolve(t),N===E&&(n.all(A).then(I.transitionEnd),G.cleanup(F)),r._instances.forEach(function(e){e.triggerTransitionEnd()}),m=v=g=x=B=q=null)}function w(e){e.target===this&&$()}function $(){h(B,T),h(q,C),B.off(b,w),e.cancel(B.data(k)),I.transitionEnd([t])}var S,F=l(d,B,s,g),R=c(c({},F),u(x));F.transitionId=R.transitionId=N,F.fromCache=!!j,F.enableBack=!!a,F.renderStart=D,F.renderEnd=L,O(B.parent(),"nav-view-transition",F.transition),O(B.parent(),"nav-view-direction",F.direction),e.cancel(B.data(k));var V=o.transitions.views[F.transition]||o.transitions.views.none,U=V(B,q,F.direction,F.shouldAnimate&&p&&L);if(U.shouldAnimate&&(B.on(b,y),B.data(k,e(_,P)),i.show(P)),D&&(G.emit("before",F,R),h(B,M),U.run(0)),L&&(S=n.defer(),A.push(S.promise)),D&&L)e(f,16);else{if(!L)return h(B,"entering"),h(q,"leaving"),{run:U.run,cancel:function(t){t?(B.on(b,w),B.data(k,e($,P)),i.show(P)):$(),U.shouldAnimate=t,U.run(0),U=null}};L&&f()}},emit:function(e,t,n){var i=B.scope();i&&(i.$emit("$ionicView."+e+"Enter",t),"after"==e&&i.$emit("$ionicView.enter",t)),q?(i=q.scope(),i&&(i.$emit("$ionicView."+e+"Leave",n),"after"==e&&i.$emit("$ionicView.leave",n))):i&&n&&n.viewId&&(i.$emit("$ionicNavView."+e+"Leave",n),"after"==e&&i.$emit("$ionicNavView.leave",n))},cleanup:function(e){q&&"back"==e.direction&&!o.views.forwardCache()&&f(q);var n,i,r,s=t.getViewElements(),a=s.length,l=a-1>o.views.maxCache(),u=Date.now();for(n=0;a>n;n++)i=s.eq(n),l&&i.data($)<u?(u=i.data($),r=s.eq(n)):i.data(_)&&h(i)!=C&&f(i);f(r),B.data(y)&&B.data(_,!0)},enteringEle:function(){return B},leavingEle:function(){return q}};return G},transitionEnd:function(e){d(e,function(e){e.transitionEnd()}),I.isTransitioning(!1),i.hide(),A=[]},nextTransition:function(e){m=e},nextDirection:function(e){v=e},isTransitioning:function(t){return arguments.length&&(ionic.transition.isActive=!!t,e.cancel(D),t&&(D=e(function(){I.isTransitioning(!1)},999))),ionic.transition.isActive},createViewEle:function(e){var n=t[0].createElement("div");return e&&e.$template&&(n.innerHTML=e.$template,1===n.children.length)?(n.children[0].classList.add("pane"),g(n.children[0])):(n.className="pane",g(n))},viewEleIsActive:function(e,t){h(e,t?C:T)},getTransitionData:l,navViewAttr:h,destroyViewEle:f};return I}]),u.config(["$provide",function(e){e.decorator("$compile",["$delegate",function(e){return e.$$addScopeInfo=function(e,t,n,i){var o=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(o,t)},e}])}]),u.config(["$provide",function(e){function t(e,t){return e.__hash=e.hash,e.hash=function(n){return p(n)&&t(function(){var e=document.querySelector(".scroll-content");e&&(e.scrollTop=0)},0,!1),e.__hash(n)},e}e.decorator("$location",["$delegate","$timeout",t])}]),u.controller("$ionicHeaderBar",["$scope","$element","$attrs","$q","$ionicConfig","$ionicHistory",function(e,t,n,i,o,r){function s(e){return S[e]||(S[e]=t[0].querySelector("."+e)),S[e]}var a="title",l="back-text",u="back-button",c="default-title",d="previous-title",p="hide",h=this,f="",g="",m=0,v=0,b="",y=!1,_=!0,w=!0,$=!1,k=0;h.beforeEnter=function(t){e.$broadcast("$ionicView.beforeEnter",t)},h.title=function(e){return arguments.length&&e!==f&&(s(a).innerHTML=e,f=e,k=0),f},h.enableBack=function(e,t){return arguments.length&&(y=e,t||h.updateBackButton()),y},h.showBack=function(e,t){return arguments.length&&(_=e,t||h.updateBackButton()),_},h.showNavBack=function(e){w=e,h.updateBackButton()},h.updateBackButton=function(){if((_&&w&&y)!==$){$=_&&w&&y;var e=s(u);e&&e.classList[$?"remove":"add"](p)}},h.titleTextWidth=function(){if(!k){var e=ionic.DomUtil.getTextBounds(s(a));k=Math.min(e&&e.width||30)}return k},h.titleWidth=function(){var e=h.titleTextWidth(),t=s(a).offsetWidth;return e>t&&(e=t+(m-v-5)),e},h.titleTextX=function(){return t[0].offsetWidth/2-h.titleWidth()/2},h.titleLeftRight=function(){return m-v},h.backButtonTextLeft=function(){for(var e=0,t=s(l);t;)e+=t.offsetLeft,t=t.parentElement;return e},h.resetBackButton=function(e){if(o.backButton.previousTitleText()){var t=s(d);if(t){t.classList.remove(p);var n=e&&r.getViewById(e.viewId),i=r.backTitle(n);i!==g&&(g=t.innerHTML=i)}var a=s(c);a&&a.classList.remove(p)}},h.align=function(e){var i=s(a);e=e||n.alignTitle||o.navBar.alignTitle();var r=h.calcWidths(e,!1);if(_&&g&&o.backButton.previousTitleText()){var l=h.calcWidths(e,!0),u=t[0].offsetWidth-l.titleLeft-l.titleRight;h.titleTextWidth()<=u&&(r=l)}return h.updatePositions(i,r.titleLeft,r.titleRight,r.buttonsLeft,r.buttonsRight,r.css,r.showPrevTitle)},h.calcWidths=function(e,n){var i,o,r,h,f,g,m,v,b,y=s(a),w=s(u),$=t[0].childNodes,k=0,S=0,x=0,C=0,T="",M=0;for(i=0;i<$.length;i++){if(f=$[i],m=0,1==f.nodeType){if(f===y){b=!0;continue}if(f.classList.contains(p))continue;if(_&&f===w){for(o=0;o<f.childNodes.length;o++)if(h=f.childNodes[o],1==h.nodeType)if(h.classList.contains(l))for(r=0;r<h.children.length;r++)if(g=h.children[r],n){if(g.classList.contains(c))continue;M+=g.offsetWidth}else{if(g.classList.contains(d))continue;M+=g.offsetWidth}else M+=h.offsetWidth;else 3==h.nodeType&&h.nodeValue.trim()&&(v=ionic.DomUtil.getTextBounds(h),M+=v&&v.width||0);m=M||f.offsetWidth}else m=f.offsetWidth}else 3==f.nodeType&&f.nodeValue.trim()&&(v=ionic.DomUtil.getTextBounds(f),m=v&&v.width||0);b?S+=m:k+=m}if("left"==e)T="title-left",k&&(x=k+15),S&&(C=S+15);else if("right"==e)T="title-right",k&&(x=k+15),S&&(C=S+15);else{var E=Math.max(k,S)+10;E>10&&(x=C=E)}return{backButtonWidth:M,buttonsLeft:k,buttonsRight:S,titleLeft:x,titleRight:C,showPrevTitle:n,css:T}},h.updatePositions=function(e,n,r,a,l,u,f){var g=i.defer();if(e&&(n!==m&&(e.style.left=n?n+"px":"",m=n),r!==v&&(e.style.right=r?r+"px":"",v=r),u!==b&&(u&&e.classList.add(u),b&&e.classList.remove(b),b=u)),o.backButton.previousTitleText()){var y=s(d),_=s(c);y&&y.classList[f?"remove":"add"](p),_&&_.classList[f?"add":"remove"](p)}return ionic.requestAnimationFrame(function(){if(e&&e.offsetWidth+10<e.scrollWidth){var n=l+5,i=t[0].offsetWidth-m-h.titleTextWidth()-20;r=n>i?n:i,r!==v&&(e.style.right=r+"px",v=r)}g.resolve()}),g.promise},h.setCss=function(e,t){ionic.DomUtil.cachedStyles(s(e),t)};var S={};e.$on("$destroy",function(){for(var e in S)S[e]=null})}]),u.controller("$ionInfiniteScroll",["$scope","$attrs","$element","$timeout",function(e,t,n,i){function o(){ionic.requestAnimationFrame(function(){n[0].classList.add("active")}),l.isLoading=!0,e.$parent&&e.$parent.$apply(t.onInfinite||"")}function r(){ionic.requestAnimationFrame(function(){n[0].classList.remove("active")}),i(function(){l.jsScrolling&&l.scrollView.resize(),l.checkBounds()},30,!1),l.isLoading=!1}function s(){if(!l.isLoading){var e={};if(l.jsScrolling){e=l.getJSMaxScroll();var t=l.scrollView.getValues();(-1!==e.left&&t.left>=e.left||-1!==e.top&&t.top>=e.top)&&o()}else e=l.getNativeMaxScroll(),(-1!==e.left&&l.scrollEl.scrollLeft>=e.left-l.scrollEl.clientWidth||-1!==e.top&&l.scrollEl.scrollTop>=e.top-l.scrollEl.clientHeight)&&o()}}function a(e){return distance=(t.distance||"2.5%").trim(),isPercent=-1!==distance.indexOf("%"),isPercent?e*(1-parseFloat(distance)/100):e-parseFloat(distance)}var l=this;l.isLoading=!1,e.icon=function(){return p(t.icon)?t.icon:"ion-load-d"},e.spinner=function(){return p(t.spinner)?t.spinner:""},e.$on("scroll.infiniteScrollComplete",function(){r()}),e.$on("$destroy",function(){l.scrollCtrl&&l.scrollCtrl.$element&&l.scrollCtrl.$element.off("scroll",l.checkBounds),l.scrollEl&&l.scrollEl.removeEventListener&&l.scrollEl.removeEventListener("scroll",l.checkBounds)}),l.checkBounds=ionic.Utils.throttle(s,300),l.getJSMaxScroll=function(){var e=l.scrollView.getScrollMax();return{left:l.scrollView.options.scrollingX?a(e.left):-1,top:l.scrollView.options.scrollingY?a(e.top):-1}},l.getNativeMaxScroll=function(){var e={left:l.scrollEl.scrollWidth,top:l.scrollEl.scrollHeight},t=window.getComputedStyle(l.scrollEl)||{};return{left:"scroll"===t.overflowX||"auto"===t.overflowX||"scroll"===l.scrollEl.style["overflow-x"]?a(e.left):-1,top:"scroll"===t.overflowY||"auto"===t.overflowY||"scroll"===l.scrollEl.style["overflow-y"]?a(e.top):-1}}}]),u.service("$ionicListDelegate",ionic.DelegateService(["showReorder","showDelete","canSwipeItems","closeOptionButtons"])).controller("$ionicList",["$scope","$attrs","$ionicListDelegate","$ionicHistory",function(e,t,n,i){var o=this,r=!0,s=!1,a=!1,l=n._registerInstance(o,t.delegateHandle,function(){return i.isActiveScope(e)});e.$on("$destroy",l),o.showReorder=function(e){return arguments.length&&(s=!!e),s},o.showDelete=function(e){return arguments.length&&(a=!!e),a},o.canSwipeItems=function(e){return arguments.length&&(r=!!e),r},o.closeOptionButtons=function(){o.listView&&o.listView.clearDragEffects()}}]),u.controller("$ionicNavBar",["$scope","$element","$attrs","$compile","$timeout","$ionicNavBarDelegate","$ionicConfig","$ionicHistory",function(e,t,n,i,o,r,s,a){function l(e,t){var n=console.warn||console.log;n&&n.call(console,"navBarController."+e+" is deprecated, please use "+t+" instead")}function u(e){return M[e]?g(M[e]):void 0}function c(){for(var e=0;e<T.length;e++)if(T[e].isActive)return T[e]}function h(){for(var e=0;e<T.length;e++)if(!T[e].isActive)return T[e]}function f(e,t){e&&ionic.DomUtil.cachedAttr(e.containerEle(),"nav-bar",t)}function m(e){ionic.DomUtil.cachedAttr(t,"nav-swipe",e)}var v,b,y,_="hide",w="$ionNavBarController",$="primaryButtons",k="secondaryButtons",S="backButton",x="primaryButtons secondaryButtons leftButtons rightButtons title".split(" "),C=this,T=[],M={},E=!0;t.parent().data(w,C);var D=n.delegateHandle||"navBar"+ionic.Utils.nextUid(),O=r._registerInstance(C,D);C.init=function(){t.addClass("nav-bar-container"),ionic.DomUtil.cachedAttr(t,"nav-bar-transition",s.views.transition()),C.createHeaderBar(!1),C.createHeaderBar(!0),e.$emit("ionNavBar.init",D)},C.createHeaderBar=function(o){function r(e,t){e&&("title"===t?m.append(e):"rightButtons"==t||t==k&&"left"!=s.navBar.positionSecondaryButtons()||t==$&&"right"==s.navBar.positionPrimaryButtons()?(f||(f=g('<div class="buttons buttons-right">'),c.append(f)),t==k?f.append(e):f.prepend(e)):(h||(h=g('<div class="buttons buttons-left">'),v[S]?v[S].after(h):c.prepend(h)),t==k?h.append(e):h.prepend(e)))}var a=g('<div class="nav-bar-block">');ionic.DomUtil.cachedAttr(a,"nav-bar",o?"active":"cached");var l=n.alignTitle||s.navBar.alignTitle(),c=g("<ion-header-bar>").addClass(n["class"]).attr("align-title",l);p(n.noTapScroll)&&c.attr("no-tap-scroll",n.noTapScroll);var h,f,m=g('<div class="title title-'+l+'">'),v={},b={};v[S]=u(S),v[S]&&c.append(v[S]),c.append(m),d(x,function(e){v[e]=u(e),r(v[e],e)});for(var y=0;y<c[0].children.length;y++)c[0].children[y].classList.add("header-item");a.append(c),t.append(i(a)(e.$new()));var w=c.data("$ionHeaderBarController"),C={isActive:o,title:function(e){w.title(e)},setItem:function(e,t){C.removeItem(t),e?("title"===t&&C.title(""),r(e,t),v[t]&&v[t].addClass(_),b[t]=e):v[t]&&v[t].removeClass(_)},removeItem:function(e){b[e]&&(b[e].scope().$destroy(),b[e].remove(),b[e]=null)},containerEle:function(){return a},headerBarEle:function(){return c},afterLeave:function(){d(x,function(e){C.removeItem(e)}),w.resetBackButton()},controller:function(){return w},destroy:function(){d(x,function(e){C.removeItem(e)}),a.scope().$destroy();for(var e in v)v[e]&&(v[e].removeData(),v[e]=null);h&&h.removeData(),f&&f.removeData(),m.removeData(),c.removeData(),a.remove(),a=c=m=h=f=null}};return T.push(C),C},C.navElement=function(e,t){return p(t)&&(M[e]=t),M[e]},C.update=function(e){var t=!e.hasHeaderBar&&e.showNavBar;e.transition=s.views.transition(),t||(e.direction="none"),C.enable(t);var n=C.isInitialized?h():c(),i=C.isInitialized?c():null,o=n.controller();o.enableBack(e.enableBack,!0),o.showBack(e.showBack,!0),o.updateBackButton(),C.title(e.title,n),C.showBar(t),e.navBarItems&&d(x,function(t){n.setItem(e.navBarItems[t],t)}),C.transition(n,i,e),C.isInitialized=!0,m("")},C.transition=function(e,n,i){function r(){for(var t=0;t<T.length;t++)T[t].isActive=!1;e.isActive=!0,f(e,"active"),f(n,"cached"),C.activeTransition=c=b=null}var a=e.controller(),l=s.transitions.navBar[i.navBarTransition]||s.transitions.navBar.none,u=i.transitionId;a.beforeEnter(i);var c=l(e,n,i.direction,i.shouldAnimate&&C.isInitialized);ionic.DomUtil.cachedAttr(t,"nav-bar-transition",i.navBarTransition),ionic.DomUtil.cachedAttr(t,"nav-bar-direction",i.direction),c.shouldAnimate&&i.renderEnd?f(e,"stage"):(f(e,"entering"),f(n,"leaving")),a.resetBackButton(i),c.run(0),C.activeTransition={run:function(e){c.shouldAnimate=!1,c.direction="back",c.run(e)},cancel:function(t,i){m(i),f(n,"active"),f(e,"cached"),c.shouldAnimate=t,c.run(0),C.activeTransition=c=null},complete:function(e,t){m(t),c.shouldAnimate=e,c.run(1),b=r}},o(a.align,16),(v=function(){y===u&&(f(e,"entering"),f(n,"leaving"),c.run(1),b=function(){y!=u&&c.shouldAnimate||r()},v=null)})()},C.triggerTransitionStart=function(e){y=e,v&&v()},C.triggerTransitionEnd=function(){b&&b()},C.showBar=function(t){return arguments.length&&(C.visibleBar(t),e.$parent.$hasHeader=!!t),!!e.$parent.$hasHeader},C.visibleBar=function(e){e&&!E?t.removeClass(_):!e&&E&&t.addClass(_),E=e},C.enable=function(e){C.visibleBar(e);for(var t=0;t<r._instances.length;t++)r._instances[t]!==C&&r._instances[t].visibleBar(!1)},C.showBackButton=function(t){for(var n=0;n<T.length;n++)T[n].controller().showNavBack(!!t);return e.$isBackButtonShown=!!t,e.$isBackButtonShown},C.showActiveBackButton=function(e){var t=c();t&&t.controller().showBack(e)},C.title=function(t,n){return p(t)&&(t=t||"",n=n||c(),n&&n.title(t),e.$title=t,a.currentTitle(t)),e.$title},C.align=function(e,t){t=t||c(),t&&t.controller().align(e)},C.hasTabsTop=function(e){t[e?"addClass":"removeClass"]("nav-bar-tabs-top")},C.changeTitle=function(e){l("changeTitle(val)","title(val)"),C.title(e)},C.setTitle=function(e){l("setTitle(val)","title(val)"),C.title(e)},C.getTitle=function(){return l("getTitle()","title()"),C.title()},C.back=function(){l("back()","$ionicHistory.goBack()"),a.goBack()},C.getPreviousTitle=function(){l("getPreviousTitle()","$ionicHistory.backTitle()"),a.goBack()},e.$on("$destroy",function(){e.$parent.$hasHeader=!1,t.parent().removeData(w);for(var n=0;n<T.length;n++)T[n].destroy();t.remove(),t=T=null,O()})}]),u.controller("$ionicNavView",["$scope","$element","$attrs","$compile","$controller","$ionicNavBarDelegate","$ionicNavViewDelegate","$ionicHistory","$ionicViewSwitcher","$ionicConfig","$ionicScrollDelegate",function(e,t,n,i,o,r,s,a,l,u,d){function p(e){ionic.DomUtil.cachedAttr(t,"nav-swipe",e)
}function h(e,t){var n=f();n&&n.hasTabsTop(t)}function f(){if(m)for(var e=0;e<r._instances.length;e++)if(r._instances[e].$$delegateHandle==m)return r._instances[e];return t.inheritedData("$ionNavBarController")}var g,m,v,b,y,_="$eleId",w="$destroyEle",$="$noCache",k="active",S="cached",x=this,C=!1,T=l.navViewAttr;x.scope=e,x.element=t,x.init=function(){var i=n.name||"",o=t.parent().inheritedData("$uiView"),r=o&&o.state?o.state.name:"";i.indexOf("@")<0&&(i=i+"@"+r);var a={name:i,state:null};t.data("$uiView",a);var l=s._registerInstance(x,n.delegateHandle);return e.$on("$destroy",function(){l(),x.isSwipeFreeze&&d.freezeAllScrolls(!1)}),e.$on("$ionicHistory.deselect",x.cacheCleanup),e.$on("$ionicTabs.top",h),ionic.Platform.ready(function(){ionic.Platform.isWebView()&&u.views.swipeBackEnabled()&&x.initSwipeBack()}),a},x.register=function(t){var n=c({},a.currentView()),i=a.register(e,t);x.update(i);var o=a.getViewById(i.viewId)||{},r=b!==i.viewId;x.render(i,t,o,n,r,!0)},x.update=function(e){C=!0,g=e.direction;var n=t.parent().inheritedData("$ionNavViewController");n&&(n.isPrimary(!1),("enter"===g||"exit"===g)&&(n.direction(g),"enter"===g&&(g="none")))},x.render=function(e,t,n,i,o,r){var s=l.create(x,t,n,i,o,r);s.init(e,function(){s.transition(x.direction(),e.enableBack,!y),b=y=null})},x.beforeEnter=function(e){if(C){m=e.navBarDelegate;var t=f();t&&t.update(e),p("")}},x.activeEleId=function(e){return arguments.length&&(v=e),v},x.transitionEnd=function(){var e,n,i,o=t.children();for(e=0,n=o.length;n>e;e++)i=o.eq(e),i.data(_)===v?T(i,k):("leaving"===T(i)||T(i)===k||T(i)===S)&&(i.data(w)||i.data($)?l.destroyViewEle(i):(T(i,S),ionic.Utils.disconnectScope(i.scope())));p(""),x.isSwipeFreeze&&d.freezeAllScrolls(!1)},x.cacheCleanup=function(){for(var e=t.children(),n=0,i=e.length;i>n;n++)e.eq(n).data(w)&&l.destroyViewEle(e.eq(n))},x.clearCache=function(){for(var e,n,i=t.children(),o=0,r=i.length;r>o;o++)e=i.eq(o),T(e)==S?l.destroyViewEle(e):T(e)==k&&(n=e.scope(),n&&n.$broadcast("$ionicView.clearCache"))},x.getViewElements=function(){return t.children()},x.appendViewElement=function(n,r){var s=i(n);t.append(n);var a=e.$new();if(r&&r.$$controller){r.$scope=a;var l=o(r.$$controller,r);t.children().data("$ngControllerController",l)}return s(a),a},x.title=function(e){var t=f();t&&t.title(e)},x.enableBackButton=function(e){var t=f();t&&t.enableBackButton(e)},x.showBackButton=function(e){var t=f();t&&t.showActiveBackButton(e)},x.showBar=function(e){var t=f();t&&t.showBar(e)},x.isPrimary=function(e){return arguments.length&&(C=e),C},x.direction=function(e){return arguments.length&&(g=e),g},x.initSwipeBack=function(){function n(e){if(C&&($=r(e),!($>S)&&(g=a.backView(),g&&g.historyId===a.currentView().historyId))){w||(w=window.innerWidth),x.isSwipeFreeze=d.freezeAllScrolls(!0);var n={direction:"back"};k=[];var s=l.create(x,n,g,a.currentView(),!0,!1);s.loadViewElements(n),s.render(n),c=s.transition("back",a.enabledBack(g),!0),h=f(),v=ionic.onGesture("drag",i,t[0]),_=ionic.onGesture("release",o,t[0])}}function i(e){if(C&&c){var t=r(e);if(k.push({t:Date.now(),x:t}),t>=w-15)o(e);else{var n=Math.min(Math.max(s(t),0),1);c.run(n),h&&h.activeTransition&&h.activeTransition.run(n)}}}function o(e){if(C&&c&&k&&k.length>1){for(var t=Date.now(),n=r(e),a=k[k.length-1],l=k.length-2;l>=0&&!(t-a.t>200);l--)a=k[l];var u=n>=k[k.length-2].x,f=s(n),m=Math.abs(a.x-n)/(t-a.t);if(b=g.viewId,y=.03>f||f>.97,u&&(f>.5||m>.1)){var $=m>.5||.05>m||n>w-45?"fast":"slow";p(y?"":$),g.go(),h&&h.activeTransition&&h.activeTransition.complete(!y,$)}else p(y?"":"fast"),b=null,c.cancel(!y),h&&h.activeTransition&&h.activeTransition.cancel(!y,"fast"),y=null}ionic.offGesture(v,"drag",i),ionic.offGesture(_,"release",o),w=c=k=null,x.isSwipeFreeze=d.freezeAllScrolls(!1)}function r(e){return ionic.tap.pointerCoord(e.gesture.srcEvent).x}function s(e){return(e-$)/w}var c,h,g,m,v,_,w,$,k,S=u.views.swipeBackHitWidth();m=ionic.onGesture("dragstart",n,t[0]),e.$on("$destroy",function(){ionic.offGesture(m,"dragstart",n),ionic.offGesture(v,"drag",i),ionic.offGesture(_,"release",o),x.element=c=h=null})}}]),u.controller("$ionicRefresher",["$scope","$attrs","$element","$ionicBind","$timeout",function(e,t,n,i,o){function r(){return A||k?(D=null,k?(k=!1,x=0,C>T?(m(),d(T,E)):(d(0,E,g),S=!1),!0):(x=0,S=!1,c(!1),!0)):void 0}function s(e){if(A&&!(e.touches.length>1)){if(null===D&&(D=parseInt(e.touches[0].screenY,10)),O=parseInt(e.touches[0].screenY,10)-D,0>=O-x||0!==_.scrollTop)return S&&(S=!1,c(!1)),k&&u(_,-1*parseInt(O-x,10)),0!==C&&l(0),!0;O>0&&0===_.scrollTop&&!S&&(x=O),e.preventDefault(),S||(S=!0,c(!0)),k=!0,l(parseInt((O-x)/3,10)),!M&&C>T?(M=!0,ionic.requestAnimationFrame(f)):M&&T>C&&(M=!1,ionic.requestAnimationFrame(g))}}function a(e){A=0===e.target.scrollTop||k}function l(e){w.style[ionic.CSS.TRANSFORM]="translateY("+e+"px)",C=e}function u(e,t){e.scrollTop=t;var n=document.createEvent("UIEvents");n.initUIEvent("scroll",!0,!0,window,1),e.dispatchEvent(n)}function c(e){ionic.requestAnimationFrame(e?function(){w.classList.add("overscroll"),v()}:function(){w.classList.remove("overscroll"),b(),g()})}function d(e,t,n){function i(e){return--e*e*e+1}function o(){var a=Date.now(),u=Math.min(1,(a-r)/t),d=i(u);l(parseInt(d*(e-s)+s,10)),1>u?ionic.requestAnimationFrame(o):(5>e&&e>-5&&(S=!1,c(!1)),n&&n())}var r=Date.now(),s=C;return s===e?void n():void ionic.requestAnimationFrame(o)}function h(){ionic.off("touchmove",s,w),ionic.off("touchend",r,w),ionic.off("scroll",a,_),_=null,w=null}function f(){n[0].classList.add("active"),e.$onPulling()}function g(){o(function(){n.removeClass("active refreshing refreshing-tail"),M&&(M=!1)},150)}function m(){n[0].classList.add("refreshing"),e.$onRefresh()}function v(){n[0].classList.remove("invisible")}function b(){n[0].classList.add("invisible")}function y(){n[0].classList.add("refreshing-tail")}var _,w,$=this,k=!1,S=!1,x=0,C=0,T=60,M=!1,E=500,D=null,O=null,A=!0;p(t.pullingIcon)||t.$set("pullingIcon","ion-android-arrow-down"),e.showSpinner=!p(t.refreshingIcon)&&"none"!=t.spinner,e.showIcon=p(t.refreshingIcon),i(e,t,{pullingIcon:"@",pullingText:"@",refreshingIcon:"@",refreshingText:"@",spinner:"@",disablePullingRotation:"@",$onRefresh:"&onRefresh",$onPulling:"&onPulling"}),e.$on("scroll.refreshComplete",function(){o(function(){ionic.requestAnimationFrame(y),d(0,E,g),o(function(){S&&(S=!1,c(!1))},E)},E)}),$.init=function(){if(_=n.parent().parent()[0],w=n.parent()[0],!_.classList.contains("ionic-scroll")||!w.classList.contains("scroll"))throw new Error("Refresher must be immediate child of ion-content or ion-scroll");ionic.on("touchmove",s,w),ionic.on("touchend",r,w),ionic.on("scroll",a,_),e.$on("$destroy",h)},$.getRefresherDomMethods=function(){return{activate:f,deactivate:g,start:m,show:v,hide:b,tail:y}},$.__handleTouchmove=s,$.__getScrollChild=function(){return w},$.__getScrollParent=function(){return _}}]),u.controller("$ionicScroll",["$scope","scrollViewOptions","$timeout","$window","$location","$document","$ionicScrollDelegate","$ionicHistory",function(e,t,n,i,o,r,s,a){var l=this;l.__timeout=n,l._scrollViewOptions=t;var u=l.element=t.el,c=l.$element=g(u),d=l.scrollView=new ionic.views.Scroll(t);(c.parent().length?c.parent():c).data("$$ionicScrollController",l);var h=s._registerInstance(l,t.delegateHandle,function(){return a.isActiveScope(e)});p(t.bouncing)||ionic.Platform.ready(function(){d.options&&(d.options.bouncing=!0,ionic.Platform.isAndroid()&&(d.options.bouncing=!1,d.options.deceleration=.95))});var f=angular.bind(d,d.resize);ionic.on("resize",f,i);var m=function(t){var n=(t.originalEvent||t).detail||{};e.$onScroll&&e.$onScroll({event:t,scrollTop:n.scrollTop||0,scrollLeft:n.scrollLeft||0})};c.on("scroll",m),e.$on("$destroy",function(){h(),d&&d.__cleanup&&d.__cleanup(),ionic.off("resize",f,i),i.removeEventListener("resize",f),c.off("scroll",m),d=l.scrollView=t=l._scrollViewOptions=t.el=l._scrollViewOptions.el=c=l.$element=u=null}),n(function(){d&&d.run&&d.run(),c.triggerHandler("scroll.init")}),l.getScrollView=function(){return d},l.getScrollPosition=function(){return d.getValues()},l.resize=function(){return n(f).then(function(){c&&c.triggerHandler("scroll.resize")})},l.scrollTop=function(e){l.resize().then(function(){d.scrollTo(0,0,!!e)})},l.scrollBottom=function(e){l.resize().then(function(){var t=d.getScrollMax();d.scrollTo(t.left,t.top,!!e)})},l.scrollTo=function(e,t,n){l.resize().then(function(){d.scrollTo(e,t,!!n)})},l.zoomTo=function(e,t,n,i){l.resize().then(function(){d.zoomTo(e,!!t,n,i)})},l.zoomBy=function(e,t,n,i){l.resize().then(function(){d.zoomBy(e,!!t,n,i)})},l.scrollBy=function(e,t,n){l.resize().then(function(){d.scrollBy(e,t,!!n)})},l.anchorScroll=function(e){l.resize().then(function(){var t=o.hash(),n=t&&r[0].getElementById(t);if(!t||!n)return void d.scrollTo(0,0,!!e);var i=n,s=0,a=0,u=0;do null!==i&&(s+=i.offsetLeft),null!==i&&(a+=i.offsetTop),i=i.offsetParent,u++;while(i.attributes!=l.element.attributes&&i.offsetParent);d.scrollTo(s,a,!!e)})},l.freezeScroll=d.freeze,l.freezeAllScrolls=function(e){for(var t=0;t<s._instances.length;t++)s._instances[t].freezeScroll(e)},l._setRefresher=function(e,t,n){l.refresher=t;var i=l.refresher.clientHeight||60;d.activatePullToRefresh(i,n)}}]),u.controller("$ionicSideMenus",["$scope","$attrs","$ionicSideMenuDelegate","$ionicPlatform","$ionicBody","$ionicHistory","$ionicScrollDelegate",function(e,t,n,i,o,r,s){function a(e){e&&!v.isScrollFreeze?s.freezeAllScrolls(e):!e&&v.isScrollFreeze&&s.freezeAllScrolls(!1),v.isScrollFreeze=e}var l,u,c,d,p,f,g,v=this,b=!0;v.$scope=e,v.initialize=function(e){v.left=e.left,v.right=e.right,v.setContent(e.content),v.dragThresholdX=e.dragThresholdX||10,r.registerHistory(v.$scope)},v.setContent=function(e){e&&(v.content=e,v.content.onDrag=function(e){v._handleDrag(e)},v.content.endDrag=function(e){v._endDrag(e)})},v.isOpenLeft=function(){return v.getOpenAmount()>0},v.isOpenRight=function(){return v.getOpenAmount()<0},v.toggleLeft=function(e){if(!g&&v.left.isEnabled){var t=v.getOpenAmount();0===arguments.length&&(e=0>=t),v.content.enableAnimation(),v.openPercentage(e?100:0)}},v.toggleRight=function(e){if(!g&&v.right.isEnabled){var t=v.getOpenAmount();0===arguments.length&&(e=t>=0),v.content.enableAnimation(),v.openPercentage(e?-100:0)}},v.toggle=function(e){"right"==e?v.toggleRight():v.toggleLeft()},v.close=function(){v.openPercentage(0)},v.getOpenAmount=function(){return v.content&&v.content.getTranslateX()||0},v.getOpenRatio=function(){var e=v.getOpenAmount();return e>=0?e/v.left.width:e/v.right.width},v.isOpen=function(){return 0!==v.getOpenAmount()},v.getOpenPercentage=function(){return 100*v.getOpenRatio()},v.openPercentage=function(e){var t=e/100;v.left&&e>=0?v.openAmount(v.left.width*t):v.right&&0>e&&(v.right.width,v.openAmount(v.right.width*t)),o.enableClass(0!==e,"menu-open"),a(!1)},v.openAmount=function(e){var t=v.left&&v.left.width||0,n=v.right&&v.right.width||0;return(!v.left||!v.left.isEnabled)&&e>0||(!v.right||!v.right.isEnabled)&&0>e?void v.content.setTranslateX(0):u&&e>t?void v.content.setTranslateX(t):l&&-n>e?void v.content.setTranslateX(-n):(v.content.setTranslateX(e),void(e>=0?(u=!0,l=!1,e>0&&(v.right&&v.right.pushDown&&v.right.pushDown(),v.left&&v.left.bringUp&&v.left.bringUp())):(l=!0,u=!1,v.right&&v.right.bringUp&&v.right.bringUp(),v.left&&v.left.pushDown&&v.left.pushDown())))},v.snapToRest=function(e){v.content.enableAnimation(),c=!1;var t=v.getOpenRatio();if(0===t)return void v.openPercentage(0);var n=.3,i=e.gesture.velocityX,o=e.gesture.direction;v.openPercentage(t>0&&.5>t&&"right"==o&&n>i?0:t>.5&&"left"==o&&n>i?100:0>t&&t>-.5&&"left"==o&&n>i?0:.5>t&&"right"==o&&n>i?-100:"right"==o&&t>=0&&(t>=.5||i>n)?100:"left"==o&&0>=t&&(-.5>=t||i>n)?-100:0)},v.enableMenuWithBackViews=function(e){return arguments.length&&(b=!!e),b},v.isAsideExposed=function(){return!!g},v.exposeAside=function(e){(v.left&&v.left.isEnabled||v.right&&v.right.isEnabled)&&(v.close(),g!==e&&ionic.trigger("resize",null,window),g=e,v.left&&v.left.isEnabled?v.content.setMarginLeft(g?v.left.width:0):v.right&&v.right.isEnabled&&v.content.setMarginRight(g?v.right.width:0),v.$scope.$emit("$ionicExposeAside",g))},v.activeAsideResizing=function(e){o.enableClass(e,"aside-resizing")},v._endDrag=function(e){a(!1),g||(c&&v.snapToRest(e),d=null,p=null,f=null)},v._handleDrag=function(t){!g&&e.dragContent&&(d?p=t.gesture.touches[0].pageX:(d=t.gesture.touches[0].pageX,p=d),!c&&Math.abs(p-d)>v.dragThresholdX&&(d=p,c=!0,v.content.disableAnimation(),f=v.getOpenAmount()),c&&(v.openAmount(f+(p-d)),a(!0)))},v.canDragContent=function(t){return arguments.length&&(e.dragContent=!!t),e.dragContent},v.edgeThreshold=25,v.edgeThresholdEnabled=!1,v.edgeDragThreshold=function(e){return arguments.length&&(h(e)&&e>0?(v.edgeThreshold=e,v.edgeThresholdEnabled=!0):v.edgeThresholdEnabled=!!e),v.edgeThresholdEnabled},v.isDraggableTarget=function(t){var n=v.edgeThresholdEnabled&&!v.isOpen(),i=t.gesture.startEvent&&t.gesture.startEvent.center&&t.gesture.startEvent.center.pageX,o=!n||i<=v.edgeThreshold||i>=v.content.element.offsetWidth-v.edgeThreshold,s=r.backView(),a=b?!0:!s;if(!a){var l=r.currentView()||{};return s.historyId!==l.historyId}return(e.dragContent||v.isOpen())&&o&&!t.gesture.srcEvent.defaultPrevented&&a&&!t.target.tagName.match(/input|textarea|select|object|embed/i)&&!t.target.isContentEditable&&!(t.target.dataset?t.target.dataset.preventScroll:"true"==t.target.getAttribute("data-prevent-scroll"))},e.sideMenuContentTranslateX=0;var y=m,_=angular.bind(v,v.close);e.$watch(function(){return 0!==v.getOpenAmount()},function(e){y(),e&&(y=i.registerBackButtonAction(_,$))});var w=n._registerInstance(v,t.delegateHandle,function(){return r.isActiveScope(e)});e.$on("$destroy",function(){w(),y(),v.$scope=null,v.content&&(v.content.element=null,v.content=null),a(!1)}),v.initialize({left:{width:275},right:{width:275}})}]),function(e){function t(e,i,o,r){var s,a,l,u=document.createElement(p[e]||e);for(s in i)if(angular.isArray(i[s]))for(a=0;a<i[s].length;a++)if(i[s][a].fn)for(l=0;l<i[s][a].t;l++)t(s,i[s][a].fn(l,r),u,r);else t(s,i[s][a],u,r);else n(u,s,i[s]);o.appendChild(u)}function n(e,t,n){e.setAttribute(p[t]||t,n)}function i(e,t){var n=e.split(";"),i=n.slice(t),o=n.slice(0,n.length-i.length);return n=i.concat(o).reverse(),n.join(";")+";"+n[0]}function o(e,t){return e/=t/2,1>e?.5*e*e*e:(e-=2,.5*(e*e*e+2))}var r="translate(32,32)",s="stroke-opacity",a="round",l="indefinite",c="750ms",d="none",p={a:"animate",an:"attributeName",at:"animateTransform",c:"circle",da:"stroke-dasharray",os:"stroke-dashoffset",f:"fill",lc:"stroke-linecap",rc:"repeatCount",sw:"stroke-width",t:"transform",v:"values"},h={v:"0,32,32;360,32,32",an:"transform",type:"rotate",rc:l,dur:c},f={sw:4,lc:a,line:[{fn:function(e,t){return{y1:"ios"==t?17:12,y2:"ios"==t?29:20,t:r+" rotate("+(30*e+(6>e?180:-180))+")",a:[{fn:function(){return{an:s,dur:c,v:i("0;.1;.15;.25;.35;.45;.55;.65;.7;.85;1",e),rc:l}},t:1}]}},t:12}]},g={android:{c:[{sw:6,da:128,os:82,r:26,cx:32,cy:32,f:d}]},ios:f,"ios-small":f,bubbles:{sw:0,c:[{fn:function(e){return{cx:24*Math.cos(2*Math.PI*e/8),cy:24*Math.sin(2*Math.PI*e/8),t:r,a:[{fn:function(){return{an:"r",dur:c,v:i("1;2;3;4;5;6;7;8",e),rc:l}},t:1}]}},t:8}]},circles:{c:[{fn:function(e){return{r:5,cx:24*Math.cos(2*Math.PI*e/8),cy:24*Math.sin(2*Math.PI*e/8),t:r,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:c,v:i(".3;.3;.3;.4;.7;.85;.9;1",e),rc:l}},t:1}]}},t:8}]},crescent:{c:[{sw:4,da:128,os:82,r:26,cx:32,cy:32,f:d,at:[h]}]},dots:{c:[{fn:function(e){return{cx:16+16*e,cy:32,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:c,v:i(".5;.6;.8;1;.8;.6;.5",e),rc:l}},t:1},{fn:function(){return{an:"r",dur:c,v:i("4;5;6;5;4;3;3",e),rc:l}},t:1}]}},t:3}]},lines:{sw:7,lc:a,line:[{fn:function(e){return{x1:10+14*e,x2:10+14*e,a:[{fn:function(){return{an:"y1",dur:c,v:i("16;18;28;18;16",e),rc:l}},t:1},{fn:function(){return{an:"y2",dur:c,v:i("48;44;36;46;48",e),rc:l}},t:1},{fn:function(){return{an:s,dur:c,v:i("1;.8;.5;.4;1",e),rc:l}},t:1}]}},t:4}]},ripple:{f:d,"fill-rule":"evenodd",sw:3,circle:[{fn:function(e){return{cx:32,cy:32,a:[{fn:function(){return{an:"r",begin:-1*e+"s",dur:"2s",v:"0;24",keyTimes:"0;1",keySplines:"0.1,0.2,0.3,1",calcMode:"spline",rc:l}},t:1},{fn:function(){return{an:s,begin:-1*e+"s",dur:"2s",v:".2;1;.2;0",rc:l}},t:1}]}},t:2}]},spiral:{defs:[{linearGradient:[{id:"sGD",gradientUnits:"userSpaceOnUse",x1:55,y1:46,x2:2,y2:46,stop:[{offset:.1,"class":"stop1"},{offset:1,"class":"stop2"}]}]}],g:[{sw:4,lc:a,f:d,path:[{stroke:"url(#sGD)",d:"M4,32 c0,15,12,28,28,28c8,0,16-4,21-9"},{d:"M60,32 C60,16,47.464,4,32,4S4,16,4,32"}],at:[h]}]}},m={android:function(t){function i(){var t=o(Date.now()-r,650),c=1,d=0,p=188-58*t,h=182-182*t;s%2&&(c=-1,d=-64,p=128- -58*t,h=182*t);var f=[0,-101,-90,-11,-180,79,-270,-191][s];n(u,"da",Math.max(Math.min(p,188),128)),n(u,"os",Math.max(Math.min(h,182),0)),n(u,"t","scale("+c+",1) translate("+d+",0) rotate("+f+",32,32)"),a+=4.1,a>359&&(a=0),n(l,"t","rotate("+a+",32,32)"),t>=1&&(s++,s>7&&(s=0),r=Date.now()),e.requestAnimationFrame(i)}var r,s=0,a=0,l=t.querySelector("g"),u=t.querySelector("circle");return function(){r=Date.now(),i()}}};u.controller("$ionicSpinner",["$element","$attrs",function(n,i){var o,r;this.init=function(){o=i.icon||e.Platform.platform(),r=g[o],r||(o="ios",r=g.ios);var s=document.createElement("div");return t("svg",{viewBox:"0 0 64 64",g:[g[o]]},s,o),n.html(s.innerHTML),this.start(),o},this.start=function(){m[o]&&m[o](n[0])()}}])}(ionic),u.controller("$ionicTab",["$scope","$ionicHistory","$attrs","$location","$state",function(e,t,n,i,o){this.$scope=e,this.hrefMatchesState=function(){return n.href&&0===i.path().indexOf(n.href.replace(/^#/,"").replace(/\/$/,""))},this.srefMatchesState=function(){return n.uiSref&&o.includes(n.uiSref.split("(")[0])},this.navNameMatchesState=function(){return this.navViewName&&t.isCurrentStateNavView(this.navViewName)},this.tabMatchesState=function(){return this.hrefMatchesState()||this.srefMatchesState()||this.navNameMatchesState()}}]),u.controller("$ionicTabs",["$scope","$element","$ionicHistory",function(e,t,n){var i,o=this,r=null;o.tabs=[],o.selectedIndex=function(){return o.tabs.indexOf(r)},o.selectedTab=function(){return r},o.add=function(e){n.registerHistory(e),o.tabs.push(e)},o.remove=function(e){var t=o.tabs.indexOf(e);if(-1!==t){if(e.$tabSelected)if(o.deselect(e),1===o.tabs.length);else{var n=t===o.tabs.length-1?t-1:t+1;o.select(o.tabs[n])}o.tabs.splice(t,1)}},o.deselect=function(e){e.$tabSelected&&(r=i=null,e.$tabSelected=!1,(e.onDeselect||m)(),e.$broadcast&&e.$broadcast("$ionicHistory.deselect"))},o.select=function(t,s){var a;if(h(t)){if(a=t,a>=o.tabs.length)return;t=o.tabs[a]}else a=o.tabs.indexOf(t);1===arguments.length&&(s=!(!t.navViewName&&!t.uiSref)),r&&r.$historyId==t.$historyId?s&&n.goToHistoryRoot(t.$historyId):i!==a&&(d(o.tabs,function(e){o.deselect(e)}),r=t,i=a,o.$scope&&o.$scope.$parent&&(o.$scope.$parent.$activeHistoryId=t.$historyId),t.$tabSelected=!0,(t.onSelect||m)(),s&&e.$emit("$ionicHistory.change",{type:"tab",tabIndex:a,historyId:t.$historyId,navViewName:t.navViewName,hasNavView:!!t.navViewName,title:t.title,url:t.href,uiSref:t.uiSref}))},o.hasActiveScope=function(){for(var e=0;e<o.tabs.length;e++)if(n.isActiveScope(o.tabs[e]))return!0;return!1}}]),u.controller("$ionicView",["$scope","$element","$attrs","$compile","$rootScope","$ionicViewSwitcher",function(e,t,n,i,o){function r(){var t=p(n.viewTitle)&&"viewTitle"||p(n.title)&&"title";t&&(s(n[t]),b.push(n.$observe(t,s))),p(n.hideBackButton)&&b.push(e.$watch(n.hideBackButton,function(e){d.showBackButton(!e)})),p(n.hideNavBar)&&b.push(e.$watch(n.hideNavBar,function(e){d.showBar(!e)}))}function s(e){p(e)&&e!==g&&(g=e,d.title(g))}function a(){for(var e=0;e<b.length;e++)b[e]();b=[]}function l(t){return t?i(t)(e.$new()):void 0}function u(t){return!!e.$eval(n[t])}var d,h,f,g,m=this,v={},b=[],y=e.$on("ionNavBar.init",function(e,t){e.stopPropagation(),h=t});m.init=function(){y();var n=t.inheritedData("$ionModalController");d=t.inheritedData("$ionNavViewController"),d&&!n&&(e.$on("$ionicView.beforeEnter",m.beforeEnter),e.$on("$ionicView.afterEnter",r),e.$on("$ionicView.beforeLeave",a))},m.beforeEnter=function(t,i){if(i&&!i.viewNotified){i.viewNotified=!0,o.$$phase||e.$digest(),g=p(n.viewTitle)?n.viewTitle:n.title;var r={};for(var s in v)r[s]=l(v[s]);d.beforeEnter(c(i,{title:g,showBack:!u("hideBackButton"),navBarItems:r,navBarDelegate:h||null,showNavBar:!u("hideNavBar"),hasHeaderBar:!!f})),a()}},m.navElement=function(e,t){v[e]=t}}]),u.directive("ionActionSheet",["$document",function(e){return{restrict:"E",scope:!0,replace:!0,link:function(t,n){var i=function(e){27==e.which&&(t.cancel(),t.$apply())},o=function(e){e.target==n[0]&&(t.cancel(),t.$apply())};t.$on("$destroy",function(){n.remove(),e.unbind("keyup",i)}),e.bind("keyup",i),n.bind("click",o)},template:'<div class="action-sheet-backdrop"><div class="action-sheet-wrapper"><div class="action-sheet" ng-class="{\'action-sheet-has-icons\': $actionSheetHasIcon}"><div class="action-sheet-group action-sheet-options"><div class="action-sheet-title" ng-if="titleText" ng-bind-html="titleText"></div><button class="button action-sheet-option" ng-click="buttonClicked($index)" ng-repeat="b in buttons" ng-bind-html="b.text"></button><button class="button destructive action-sheet-destructive" ng-if="destructiveText" ng-click="destructiveButtonClicked()" ng-bind-html="destructiveText"></button></div><div class="action-sheet-group action-sheet-cancel" ng-if="cancelText"><button class="button" ng-click="cancel()" ng-bind-html="cancelText"></button></div></div></div></div>'}}]),u.directive("ionCheckbox",["$ionicConfig",function(e){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-checkbox"><div class="checkbox checkbox-input-hidden disable-pointer-events"><input type="checkbox"><i class="checkbox-icon"></i></div><div class="item-content disable-pointer-events" ng-transclude></div></label>',compile:function(t,n){var i=t.find("input");d({name:n.name,"ng-value":n.ngValue,"ng-model":n.ngModel,"ng-checked":n.ngChecked,"ng-disabled":n.ngDisabled,"ng-true-value":n.ngTrueValue,"ng-false-value":n.ngFalseValue,"ng-change":n.ngChange},function(e,t){p(e)&&i.attr(t,e)});var o=t[0].querySelector(".checkbox");o.classList.add("checkbox-"+e.form.checkbox())}}}]),u.directive("collectionRepeat",e).factory("$ionicCollectionManager",t);var M="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",E=/height:.*?px;\s*width:.*?px/,D=3;e.$inject=["$ionicCollectionManager","$parse","$window","$$rAF","$rootScope","$timeout"],t.$inject=["$rootScope","$window","$$rAF"],u.directive("ionContent",["$timeout","$controller","$ionicBind","$ionicConfig",function(e,t,n,i){return{restrict:"E",require:"^?ionNavView",scope:!0,priority:800,compile:function(e,o){function r(e,r,a){var l=e.$parent;if(e.$watch(function(){return(l.$hasHeader?" has-header":"")+(l.$hasSubheader?" has-subheader":"")+(l.$hasFooter?" has-footer":"")+(l.$hasSubfooter?" has-subfooter":"")+(l.$hasTabs?" has-tabs":"")+(l.$hasTabsTop?" has-tabs-top":"")},function(e,t){r.removeClass(t),r.addClass(e)}),e.$hasHeader=e.$hasSubheader=e.$hasFooter=e.$hasSubfooter=e.$hasTabs=e.$hasTabsTop=!1,n(e,a,{$onScroll:"&onScroll",$onScrollComplete:"&onScrollComplete",hasBouncing:"@",padding:"@",direction:"@",scrollbarX:"@",scrollbarY:"@",startX:"@",startY:"@",scrollEventInterval:"@"}),e.direction=e.direction||"y",p(a.padding)&&e.$watch(a.padding,function(e){(s||r).toggleClass("padding",!!e)}),"false"===a.scroll);else if("true"!==o.overflowScroll&&i.scrolling.jsScrolling()){var u={el:r[0],delegateHandle:o.delegateHandle,locking:"true"===(o.locking||"true"),bouncing:e.$eval(e.hasBouncing),startX:e.$eval(e.startX)||0,startY:e.$eval(e.startY)||0,scrollbarX:e.$eval(e.scrollbarX)!==!1,scrollbarY:e.$eval(e.scrollbarY)!==!1,scrollingX:e.direction.indexOf("x")>=0,scrollingY:e.direction.indexOf("y")>=0,scrollEventInterval:parseInt(e.scrollEventInterval,10)||10,scrollingComplete:function(){e.$onScrollComplete({scrollTop:this.__scrollTop,scrollLeft:this.__scrollLeft})}};t("$ionicScroll",{$scope:e,scrollViewOptions:u}),e.$on("$destroy",function(){u.scrollingComplete=m,delete u.el,s=null,r=null,o.$$element=null})}else r.addClass("overflow-scroll")}var s;return e.addClass("scroll-content ionic-scroll"),"false"!=o.scroll?(s=g('<div class="scroll"></div>'),s.append(e.contents()),e.append(s)):e.addClass("scroll-content-false"),{pre:r}}}}]),u.directive("exposeAsideWhen",["$window",function(e){return{restrict:"A",require:"^ionSideMenus",link:function(t,n,i,o){function r(){var t="large"==i.exposeAsideWhen?"(min-width:768px)":i.exposeAsideWhen;o.exposeAside(e.matchMedia(t).matches),o.activeAsideResizing(!1)}function s(){o.activeAsideResizing(!0),a()}var a=ionic.debounce(function(){t.$apply(r)},300,!1);r(),ionic.on("resize",s,e),t.$on("$destroy",function(){ionic.off("resize",s,e)})}}}]);var O="onHold onTap onDoubleTap onTouch onRelease onDrag onDragUp onDragRight onDragDown onDragLeft onSwipe onSwipeUp onSwipeRight onSwipeDown onSwipeLeft".split(" ");O.forEach(function(e){u.directive(e,n(e))}),u.directive("ionHeaderBar",o()).directive("ionHeaderBar",r(!0)).directive("ionFooterBar",r(!1)),u.directive("ionInfiniteScroll",["$timeout",function(e){return{restrict:"E",require:["?^$ionicScroll","ionInfiniteScroll"],template:function(e,t){return t.icon?'<i class="icon {{icon()}} icon-refreshing {{scrollingType}}"></i>':'<ion-spinner icon="{{spinner()}}"></ion-spinner>'},scope:!0,controller:"$ionInfiniteScroll",link:function(t,n,i,o){var r=o[1],s=r.scrollCtrl=o[0],a=r.jsScrolling=!!s;if(a)r.scrollView=s.scrollView;else{var l=ionic.DomUtil.getParentOrSelfWithClass(n[0].parentNode,"overflow-scroll");if(r.scrollEl=l,!l)throw"Infinite scroll must be used inside a scrollable div"}a?(t.scrollingType="js-scrolling",s.$element.on("scroll",r.checkBounds)):r.scrollEl.addEventListener("scroll",r.checkBounds);var u=p(i.immediateCheck)?t.$eval(i.immediateCheck):!0;u&&e(function(){r.checkBounds()})}}}]);var A='<a class="item-content" ng-href="{{$href()}}" target="{{$target()}}"></a>',P='<div class="item-content"></div>';u.directive("ionItem",function(){return{restrict:"E",controller:["$scope","$element",function(e,t){this.$scope=e,this.$element=t}],scope:!0,compile:function(e,t){var n=p(t.href)||p(t.ngHref)||p(t.uiSref),i=n||/ion-(delete|option|reorder)-button/i.test(e.html());if(i){var o=g(n?A:P);o.append(e.contents()),e.append(o),e.addClass("item item-complex")}else e.addClass("item");return function(e,t,n){e.$href=function(){return n.href||n.ngHref},e.$target=function(){return n.target||"_self"};var i=t[0].querySelector(".item-content");i&&e.$on("$collectionRepeatChange",function(){i&&(i.style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)")})}}}});var I='<div class="item-left-edit item-delete enable-pointer-events"></div>';u.directive("ionDeleteButton",function(){return{restrict:"E",require:["^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(e,t){return t.$set("class",(t["class"]||"")+" button icon button-icon",!0),function(e,t,n,i){var o=i[0],r=i[1],s=g(I);s.append(t),o.$element.append(s).addClass("item-left-editable"),r&&r.showDelete()&&s.addClass("visible active")}}}}),u.directive("itemFloatingLabel",function(){return{restrict:"C",link:function(e,t){var n=t[0],i=n.querySelector("input, textarea"),o=n.querySelector(".input-label");if(i&&o){var r=function(){i.value?o.classList.add("has-input"):o.classList.remove("has-input")};i.addEventListener("input",r);var s=g(i).controller("ngModel");s&&(s.$render=function(){i.value=s.$viewValue||"",r()}),e.$on("$destroy",function(){i.removeEventListener("input",r)})}}}});var L='<div class="item-options invisible"></div>';u.directive("ionOptionButton",["$compile",function(){function e(e){e.stopPropagation()}return{restrict:"E",require:"^ionItem",priority:Number.MAX_VALUE,compile:function(t,n){return n.$set("class",(n["class"]||"")+" button",!0),function(t,n,i,o){o.optionsContainer||(o.optionsContainer=g(L),o.$element.append(o.optionsContainer)),o.optionsContainer.append(n),o.$element.addClass("item-right-editable"),n.on("click",e)}}}}]);var B='<div data-prevent-scroll="true" class="item-right-edit item-reorder enable-pointer-events"></div>';u.directive("ionReorderButton",["$parse",function(e){return{restrict:"E",require:["^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(t,n){return n.$set("class",(n["class"]||"")+" button icon button-icon",!0),t[0].setAttribute("data-prevent-scroll",!0),function(t,n,i,o){var r=o[0],s=o[1],a=e(i.onReorder);t.$onReorder=function(e,n){a(t,{$fromIndex:e,$toIndex:n})},i.ngClick||i.onClick||i.onclick||(n[0].onclick=function(e){return e.stopPropagation(),!1});var l=g(B);l.append(n),r.$element.append(l).addClass("item-right-editable"),s&&s.showReorder()&&l.addClass("visible active")}}}}]),u.directive("keyboardAttach",function(){return function(e,t){function n(e){if(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen){var n=e.keyboardHeight||e.detail.keyboardHeight;t.css("bottom",n+"px"),o=t.controller("$ionicScroll"),o&&(o.scrollView.__container.style.bottom=n+s(t[0])+"px")}}function i(){(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen)&&(t.css("bottom",""),o&&(o.scrollView.__container.style.bottom=""))}ionic.on("native.keyboardshow",n,window),ionic.on("native.keyboardhide",i,window),ionic.on("native.showkeyboard",n,window),ionic.on("native.hidekeyboard",i,window);var o;e.$on("$destroy",function(){ionic.off("native.keyboardshow",n,window),ionic.off("native.keyboardhide",i,window),ionic.off("native.showkeyboard",n,window),ionic.off("native.hidekeyboard",i,window)})}}),u.directive("ionList",["$timeout",function(e){return{restrict:"E",require:["ionList","^?$ionicScroll"],controller:"$ionicList",compile:function(t,n){var i=g('<div class="list">').append(t.contents()).addClass(n.type);return t.append(i),function(t,i,o,r){function s(){function o(e,t){t()&&e.addClass("visible")||e.removeClass("active"),ionic.requestAnimationFrame(function(){t()&&e.addClass("active")||e.removeClass("visible")})}var r=a.listView=new ionic.views.ListView({el:i[0],listEl:i.children()[0],scrollEl:l&&l.element,scrollView:l&&l.scrollView,onReorder:function(t,n,i){var o=g(t).scope();o&&o.$onReorder&&e(function(){o.$onReorder(n,i)})},canSwipe:function(){return a.canSwipeItems()}});t.$on("$destroy",function(){r&&(r.deregister&&r.deregister(),r=null)}),p(n.canSwipe)&&t.$watch("!!("+n.canSwipe+")",function(e){a.canSwipeItems(e)}),p(n.showDelete)&&t.$watch("!!("+n.showDelete+")",function(e){a.showDelete(e)}),p(n.showReorder)&&t.$watch("!!("+n.showReorder+")",function(e){a.showReorder(e)}),t.$watch(function(){return a.showDelete()},function(e,t){if(e||t){e&&a.closeOptionButtons(),a.canSwipeItems(!e),i.children().toggleClass("list-left-editing",e),i.toggleClass("disable-pointer-events",e);var n=g(i[0].getElementsByClassName("item-delete"));o(n,a.showDelete)}}),t.$watch(function(){return a.showReorder()},function(e,t){if(e||t){e&&a.closeOptionButtons(),a.canSwipeItems(!e),i.children().toggleClass("list-right-editing",e),i.toggleClass("disable-pointer-events",e);var n=g(i[0].getElementsByClassName("item-reorder"));o(n,a.showReorder)}})}var a=r[0],l=r[1];e(s)}}}}]),u.directive("menuClose",["$ionicHistory",function(e){return{restrict:"AC",link:function(t,n){n.bind("click",function(){var t=n.inheritedData("$ionSideMenusController");t&&(e.nextViewOptions({historyRoot:!0,disableAnimate:!0,expire:300}),t.close())})}}}]),u.directive("menuToggle",function(){return{restrict:"AC",link:function(e,t,n){e.$on("$ionicView.beforeEnter",function(e,n){if(n.enableBack){var i=t.inheritedData("$ionSideMenusController");i.enableMenuWithBackViews()||t.addClass("hide")}else t.removeClass("hide")}),t.bind("click",function(){var e=t.inheritedData("$ionSideMenusController");e&&e.toggle(n.menuToggle)})}}}),u.directive("ionModal",[function(){return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="modal-backdrop"><div class="modal-wrapper" ng-transclude></div></div>'}
}]),u.directive("ionModalView",function(){return{restrict:"E",compile:function(e){e.addClass("modal")}}}),u.directive("ionNavBackButton",["$ionicConfig","$document",function(e,t){return{restrict:"E",require:"^ionNavBar",compile:function(n,i){function o(e){return/ion-|icon/.test(e.className)}var r=t[0].createElement("button");for(var s in i.$attr)r.setAttribute(i.$attr[s],i[s]);i.ngClick||r.setAttribute("ng-click","$ionicGoBack($event)"),r.className="button back-button hide buttons "+(n.attr("class")||""),r.innerHTML=n.html()||"";for(var a,l,u,c,d=o(n[0]),p=0;p<n[0].childNodes.length;p++)a=n[0].childNodes[p],1===a.nodeType?o(a)?d=!0:a.classList.contains("default-title")?u=!0:a.classList.contains("previous-title")&&(c=!0):l||3!==a.nodeType||(l=!!a.nodeValue.trim());var h=e.backButton.icon();if(!d&&h&&"none"!==h&&(r.innerHTML='<i class="icon '+h+'"></i> '+r.innerHTML,r.className+=" button-clear"),!l){var f=t[0].createElement("span");f.className="back-text",!u&&e.backButton.text()&&(f.innerHTML+='<span class="default-title">'+e.backButton.text()+"</span>"),!c&&e.backButton.previousTitleText()&&(f.innerHTML+='<span class="previous-title"></span>'),r.appendChild(f)}return n.attr("class","hide"),n.empty(),{pre:function(e,t,n,i){i.navElement("backButton",r.outerHTML),r=null}}}}}]),u.directive("ionNavBar",function(){return{restrict:"E",controller:"$ionicNavBar",scope:!0,link:function(e,t,n,i){i.init()}}}),u.directive("ionNavButtons",["$document",function(e){return{require:"^ionNavBar",restrict:"E",compile:function(t,n){var i="left";/^primary|secondary|right$/i.test(n.side||"")&&(i=n.side.toLowerCase());var o=e[0].createElement("span");o.className=i+"-buttons",o.innerHTML=t.html();var r=i+"Buttons";return t.attr("class","hide"),t.empty(),{pre:function(e,t,n,i){var s=t.parent().data("$ionViewController");s?s.navElement(r,o.outerHTML):i.navElement(r,o.outerHTML),o=null}}}}}]),u.directive("navDirection",["$ionicViewSwitcher",function(e){return{restrict:"A",priority:1e3,link:function(t,n,i){n.bind("click",function(){e.nextDirection(i.navDirection)})}}}]),u.directive("ionNavTitle",["$document",function(e){return{require:"^ionNavBar",restrict:"E",compile:function(t,n){var i="title",o=e[0].createElement("span");for(var r in n.$attr)o.setAttribute(n.$attr[r],n[r]);return o.classList.add("nav-bar-title"),o.innerHTML=t.html(),t.attr("class","hide"),t.empty(),{pre:function(e,t,n,r){var s=t.parent().data("$ionViewController");s?s.navElement(i,o.outerHTML):r.navElement(i,o.outerHTML),o=null}}}}}]),u.directive("navTransition",["$ionicViewSwitcher",function(e){return{restrict:"A",priority:1e3,link:function(t,n,i){n.bind("click",function(){e.nextTransition(i.navTransition)})}}}]),u.directive("ionNavView",["$state","$ionicConfig",function(e,t){return{restrict:"E",terminal:!0,priority:2e3,transclude:!0,controller:"$ionicNavView",compile:function(n,i,o){return n.addClass("view-container"),ionic.DomUtil.cachedAttr(n,"nav-view-transition",t.views.transition()),function(t,n,i,r){function s(t){var n=e.$current&&e.$current.locals[l.name];n&&(t||n!==a)&&(a=n,l.state=n.$$state,r.register(n))}var a;o(t,function(e){n.append(e)});var l=r.init();t.$on("$stateChangeSuccess",function(){s(!1)}),t.$on("$viewContentLoading",function(){s(!1)}),s(!0)}}}}]),u.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]).factory("$ionicNgClick",["$parse",function(e){return function(t,n,i){var o=angular.isFunction(i)?i:e(i);n.on("click",function(e){t.$apply(function(){o(t,{$event:e})})}),n.onclick=function(){}}}]).directive("ngClick",["$ionicNgClick",function(e){return function(t,n,i){e(t,n,i.ngClick)}}]).directive("ionStopEvent",function(){return{restrict:"A",link:function(e,t,n){t.bind(n.ionStopEvent,a)}}}),u.directive("ionPane",function(){return{restrict:"E",link:function(e,t){t.addClass("pane")}}}),u.directive("ionPopover",[function(){return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="popover-backdrop"><div class="popover-wrapper" ng-transclude></div></div>'}}]),u.directive("ionPopoverView",function(){return{restrict:"E",compile:function(e){e.append(g('<div class="popover-arrow">')),e.addClass("popover")}}}),u.directive("ionRadio",function(){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-radio"><input type="radio" name="radio-group"><div class="item-content disable-pointer-events" ng-transclude></div><i class="radio-icon disable-pointer-events icon ion-checkmark"></i></label>',compile:function(e,t){t.icon&&e.children().eq(2).removeClass("ion-checkmark").addClass(t.icon);var n=e.find("input");return d({name:t.name,value:t.value,disabled:t.disabled,"ng-value":t.ngValue,"ng-model":t.ngModel,"ng-disabled":t.ngDisabled,"ng-change":t.ngChange},function(e,t){p(e)&&n.attr(t,e)}),function(e,t,n){e.getValue=function(){return e.ngValue||n.value}}}}}),u.directive("ionRefresher",[function(){return{restrict:"E",replace:!0,require:["?^$ionicScroll","ionRefresher"],controller:"$ionicRefresher",template:'<div class="scroll-refresher invisible" collection-repeat-ignore><div class="ionic-refresher-content" ng-class="{\'ionic-refresher-with-text\': pullingText || refreshingText}"><div class="icon-pulling" ng-class="{\'pulling-rotation-disabled\':disablePullingRotation}"><i class="icon {{pullingIcon}}"></i></div><div class="text-pulling" ng-bind-html="pullingText"></div><div class="icon-refreshing"><ion-spinner ng-if="showSpinner" icon="{{spinner}}"></ion-spinner><i ng-if="showIcon" class="icon {{refreshingIcon}}"></i></div><div class="text-refreshing" ng-bind-html="refreshingText"></div></div></div>',link:function(e,t,n,i){var o=i[0],r=i[1];o?(t[0].classList.add("js-scrolling"),o._setRefresher(e,t[0],r.getRefresherDomMethods()),e.$on("scroll.refreshComplete",function(){e.$evalAsync(function(){o.scrollView.finishPullToRefresh()})})):r.init()}}}]),u.directive("ionScroll",["$timeout","$controller","$ionicBind",function(e,t,n){return{restrict:"E",scope:!0,controller:function(){},compile:function(e){function i(e,i,r){var s,a;n(e,r,{direction:"@",paging:"@",$onScroll:"&onScroll",scroll:"@",scrollbarX:"@",scrollbarY:"@",zooming:"@",minZoom:"@",maxZoom:"@"}),e.direction=e.direction||"y",p(r.padding)&&e.$watch(r.padding,function(e){o.toggleClass("padding",!!e)}),e.$eval(e.paging)===!0&&o.addClass("scroll-paging"),e.direction||(e.direction="y");var l=e.$eval(e.paging)===!0,u={el:i[0],delegateHandle:r.delegateHandle,locking:"true"===(r.locking||"true"),bouncing:e.$eval(r.hasBouncing),paging:l,scrollbarX:e.$eval(e.scrollbarX)!==!1,scrollbarY:e.$eval(e.scrollbarY)!==!1,scrollingX:e.direction.indexOf("x")>=0,scrollingY:e.direction.indexOf("y")>=0,zooming:e.$eval(e.zooming)===!0,maxZoom:e.$eval(e.maxZoom)||3,minZoom:e.$eval(e.minZoom)||.5,preventDefault:!0};l&&(u.speedMultiplier=.8,u.bouncing=!1),a=t("$ionicScroll",{$scope:e,scrollViewOptions:u}),s=e.$parent.scrollView=a.scrollView}e.addClass("scroll-view ionic-scroll");var o=g('<div class="scroll"></div>');return o.append(e.contents()),e.append(o),{pre:i}}}}]),u.directive("ionSideMenu",function(){return{restrict:"E",require:"^ionSideMenus",scope:!0,compile:function(e,t){return angular.isUndefined(t.isEnabled)&&t.$set("isEnabled","true"),angular.isUndefined(t.width)&&t.$set("width","275"),e.addClass("menu menu-"+t.side),function(e,n,i,o){e.side=i.side||"left";var r=o[e.side]=new ionic.views.SideMenu({width:t.width,el:n[0],isEnabled:!0});e.$watch(i.width,function(e){var t=+e;t&&t==e&&r.setWidth(+e)}),e.$watch(i.isEnabled,function(e){r.setIsEnabled(!!e)})}}}}),u.directive("ionSideMenuContent",["$timeout","$ionicGesture","$window",function(e,t,n){return{restrict:"EA",require:"^ionSideMenus",scope:!0,compile:function(i,o){function r(r,s,a,l){function u(e){0!==l.getOpenAmount()?(l.close(),e.gesture.srcEvent.preventDefault(),g=null,m=null):g||(g=ionic.tap.pointerCoord(e.gesture.srcEvent))}function c(e){l.isDraggableTarget(e)&&"x"==f(e)&&(l._handleDrag(e),e.gesture.srcEvent.preventDefault())}function d(e){"x"==f(e)&&e.gesture.srcEvent.preventDefault()}function h(e){l._endDrag(e),g=null,m=null}function f(e){if(m)return m;if(e&&e.gesture){if(g){var t=ionic.tap.pointerCoord(e.gesture.srcEvent),n=Math.abs(t.x-g.x),i=Math.abs(t.y-g.y),o=i>n?"y":"x";return Math.max(n,i)>30&&(m=o),o}g=ionic.tap.pointerCoord(e.gesture.srcEvent)}return"y"}var g=null,m=null;p(o.dragContent)?r.$watch(o.dragContent,function(e){l.canDragContent(e)}):l.canDragContent(!0),p(o.edgeDragThreshold)&&r.$watch(o.edgeDragThreshold,function(e){l.edgeDragThreshold(e)});var v={element:i[0],onDrag:function(){},endDrag:function(){},getTranslateX:function(){return r.sideMenuContentTranslateX||0},setTranslateX:ionic.animationFrameThrottle(function(t){var n=v.offsetX+t;s[0].style[ionic.CSS.TRANSFORM]="translate3d("+n+"px,0,0)",e(function(){r.sideMenuContentTranslateX=t})}),setMarginLeft:ionic.animationFrameThrottle(function(e){e?(e=parseInt(e,10),s[0].style[ionic.CSS.TRANSFORM]="translate3d("+e+"px,0,0)",s[0].style.width=n.innerWidth-e+"px",v.offsetX=e):(s[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)",s[0].style.width="",v.offsetX=0),ionic.trigger("resize",null,window)}),setMarginRight:ionic.animationFrameThrottle(function(e){e?(e=parseInt(e,10),s[0].style.width=n.innerWidth-e+"px",v.offsetX=e):(s[0].style.width="",v.offsetX=0),s[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)"}),enableAnimation:function(){r.animationEnabled=!0,s[0].classList.add("menu-animated")},disableAnimation:function(){r.animationEnabled=!1,s[0].classList.remove("menu-animated")},offsetX:0};l.setContent(v);var b={stop_browser_behavior:!1},y=t.on("tap",u,s,b),_=t.on("dragright",c,s,b),w=t.on("dragleft",c,s,b),$=t.on("dragup",d,s,b),k=t.on("dragdown",d,s,b),S=t.on("release",h,s,b);r.$on("$destroy",function(){v&&(v.element=null,v=null),t.off(w,"dragleft",c),t.off(_,"dragright",c),t.off($,"dragup",d),t.off(k,"dragdown",d),t.off(S,"release",h),t.off(y,"tap",u)})}return i.addClass("menu-content pane"),{pre:r}}}}]),u.directive("ionSideMenus",["$ionicBody",function(e){return{restrict:"ECA",controller:"$ionicSideMenus",compile:function(t,n){function i(t,n,i,o){o.enableMenuWithBackViews(t.$eval(i.enableMenuWithBackViews)),t.$on("$ionicExposeAside",function(n,i){t.$exposeAside||(t.$exposeAside={}),t.$exposeAside.active=i,e.enableClass(i,"aside-open")}),t.$on("$ionicView.beforeEnter",function(e,n){n.historyId&&(t.$activeHistoryId=n.historyId)}),t.$on("$destroy",function(){e.removeClass("menu-open","aside-open")})}return n.$set("class",(n["class"]||"")+" view"),{pre:i}}}}]),u.directive("ionSlideBox",["$timeout","$compile","$ionicSlideBoxDelegate","$ionicHistory",function(e,t,n,i){return{restrict:"E",replace:!0,transclude:!0,scope:{autoPlay:"=",doesContinue:"@",slideInterval:"@",showPager:"@",pagerClick:"&",disableScroll:"@",onSlideChanged:"&",activeSlide:"=?"},controller:["$scope","$element","$attrs",function(t,o,r){var s=t.$eval(t.doesContinue)===!0,a=p(r.autoPlay)?!!t.autoPlay:!1,l=a?t.$eval(t.slideInterval)||4e3:0,u=new ionic.views.Slider({el:o[0],auto:l,continuous:s,startSlide:t.activeSlide,slidesChanged:function(){t.currentSlide=u.currentIndex(),e(function(){})},callback:function(n){t.currentSlide=n,t.onSlideChanged({index:t.currentSlide,$index:t.currentSlide}),t.$parent.$broadcast("slideBox.slideChanged",n),t.activeSlide=n,e(function(){})}});u.enableSlide(t.$eval(r.disableScroll)!==!0),t.$watch("activeSlide",function(e){p(e)&&u.slide(e)}),t.$on("slideBox.nextSlide",function(){u.next()}),t.$on("slideBox.prevSlide",function(){u.prev()}),t.$on("slideBox.setSlide",function(e,t){u.slide(t)}),this.__slider=u;var c=n._registerInstance(u,r.delegateHandle,function(){return i.isActiveScope(t)});t.$on("$destroy",c),this.slidesCount=function(){return u.slidesCount()},this.onPagerClick=function(e){t.pagerClick({index:e})},e(function(){u.load()})}],template:'<div class="slider"><div class="slider-slides" ng-transclude></div></div>',link:function(e,n,i){function o(){if(!r){var i=e.$new();r=g("<ion-pager></ion-pager>"),n.append(r),r=t(r)(i)}return r}i.$observe("showPager",function(t){t=e.$eval(t),o().toggleClass("hide",!t)});var r}}}]).directive("ionSlide",function(){return{restrict:"E",require:"^ionSlideBox",compile:function(e){return e.addClass("slider-slide"),function(){}}}}).directive("ionPager",function(){return{restrict:"E",replace:!0,require:"^ionSlideBox",template:'<div class="slider-pager"><span class="slider-pager-page" ng-repeat="slide in numSlides() track by $index" ng-class="{active: $index == currentSlide}" ng-click="pagerClick($index)"><i class="icon ion-record"></i></span></div>',link:function(e,t,n,i){var o=function(e){for(var n=t[0].children,i=n.length,o=0;i>o;o++)o==e?n[o].classList.add("active"):n[o].classList.remove("active")};e.pagerClick=function(e){i.onPagerClick(e)},e.numSlides=function(){return new Array(i.slidesCount())},e.$watch("currentSlide",function(e){o(e)})}}}),u.directive("ionSpinner",function(){return{restrict:"E",controller:"$ionicSpinner",link:function(e,t,n,i){var o=i.init();t.addClass("spinner spinner-"+o)}}}),u.directive("ionTab",["$compile","$ionicConfig","$ionicBind","$ionicViewSwitcher",function(e,t,n,i){function o(e,t){return p(t)?" "+e+'="'+t+'"':""}return{restrict:"E",require:["^ionTabs","ionTab"],controller:"$ionicTab",scope:!0,compile:function(r,s){for(var a="<ion-tab-nav"+o("ng-click",s.ngClick)+o("title",s.title)+o("icon",s.icon)+o("icon-on",s.iconOn)+o("icon-off",s.iconOff)+o("badge",s.badge)+o("badge-style",s.badgeStyle)+o("hidden",s.hidden)+o("disabled",s.disabled)+o("class",s["class"])+"></ion-tab-nav>",l=document.createElement("div"),u=0;u<r[0].children.length;u++)l.appendChild(r[0].children[u].cloneNode(!0));var c=l.childElementCount;r.empty();var d,p;return c&&("ION-NAV-VIEW"===l.children[0].tagName&&(d=l.children[0].getAttribute("name"),l.children[0].classList.add("view-container"),p=!0),1===c&&(l=l.children[0]),p||l.classList.add("pane"),l.classList.add("tab-content")),function(o,r,s,u){function p(){y.tabMatchesState()&&b.select(o,!1)}function h(n){n&&c?(_||(m=o.$new(),v=g(l),i.viewEleIsActive(v,!0),b.$element.append(v),e(v)(m),_=!0),i.viewEleIsActive(v,!0)):_&&v&&(t.views.maxCache()>0?i.viewEleIsActive(v,!1):f())}function f(){m&&m.$destroy(),_&&v&&v.remove(),l.innerHTML="",_=m=v=null}var m,v,b=u[0],y=u[1],_=!1;n(o,s,{onSelect:"&",onDeselect:"&",title:"@",uiSref:"@",href:"@"}),b.add(o),o.$on("$destroy",function(){o.$tabsDestroy||b.remove(o),w.isolateScope().$destroy(),w.remove(),w=l=v=null}),r[0].removeAttribute("title"),d&&(y.navViewName=o.navViewName=d),o.$on("$stateChangeSuccess",p),p();var w=g(a);w.data("$ionTabsController",b),w.data("$ionTabController",y),b.$tabsElement.append(e(w)(o)),o.$watch("$tabSelected",h),o.$on("$ionicView.afterEnter",function(){i.viewEleIsActive(v,o.$tabSelected)}),o.$on("$ionicView.clearCache",function(){o.$tabSelected||f()})}}}}]),u.directive("ionTabNav",[function(){return{restrict:"E",replace:!0,require:["^ionTabs","^ionTab"],template:"<a ng-class=\"{'tab-item-active': isTabActive(), 'has-badge':badge, 'tab-hidden':isHidden()}\" "+' ng-disabled="disabled()" class="tab-item"><span class="badge {{badgeStyle}}" ng-if="badge">{{badge}}</span><i class="icon {{getIconOn()}}" ng-if="getIconOn() && isTabActive()"></i><i class="icon {{getIconOff()}}" ng-if="getIconOff() && !isTabActive()"></i><span class="tab-title" ng-bind-html="title"></span></a>',scope:{title:"@",icon:"@",iconOn:"@",iconOff:"@",badge:"=",hidden:"@",disabled:"&",badgeStyle:"@","class":"@"},compile:function(){return function(e,t,n,i){var o=i[0],r=i[1];t[0].removeAttribute("title"),e.selectTab=function(e){e.preventDefault(),o.select(r.$scope,!0)},n.ngClick||t.on("click",function(t){e.$apply(function(){e.selectTab(t)})}),e.isHidden=function(){return"true"===n.hidden||n.hidden===!0?!0:!1},e.getIconOn=function(){return e.iconOn||e.icon},e.getIconOff=function(){return e.iconOff||e.icon},e.isTabActive=function(){return o.selectedTab()===r.$scope}}}}}]),u.directive("ionTabs",["$ionicTabsDelegate","$ionicConfig","$ionicHistory",function(e,t){return{restrict:"E",scope:!0,controller:"$ionicTabs",compile:function(n){function i(t,n,i,o){function s(e,t){e.stopPropagation();var n=o.selectedTab();n&&n.$emit(e.name.replace("NavView","View"),t)}var a=e._registerInstance(o,i.delegateHandle,o.hasActiveScope);o.$scope=t,o.$element=n,o.$tabsElement=g(n[0].querySelector(".tabs")),t.$watch(function(){return n[0].className},function(e){var n=-1!==e.indexOf("tabs-top"),i=-1!==e.indexOf("tabs-item-hide");t.$hasTabs=!n&&!i,t.$hasTabsTop=n&&!i,t.$emit("$ionicTabs.top",t.$hasTabsTop)}),t.$on("$ionicNavView.beforeLeave",s),t.$on("$ionicNavView.afterLeave",s),t.$on("$ionicNavView.leave",s),t.$on("$destroy",function(){t.$tabsDestroy=!0,a(),o.$tabsElement=o.$element=o.$scope=r=null,delete t.$hasTabs,delete t.$hasTabsTop})}function o(e,t,n,i){i.selectedTab()||i.select(0)}var r=g('<div class="tab-nav tabs">');return r.append(n.contents()),n.append(r).addClass("tabs-"+t.tabs.position()+" tabs-"+t.tabs.style()),{pre:i,post:o}}}}]),u.directive("ionToggle",["$timeout","$ionicConfig",function(e,t){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<div class="item item-toggle"><div ng-transclude></div><label class="toggle"><input type="checkbox"><div class="track"><div class="handle"></div></div></label></div>',compile:function(e,n){var i=e.find("input");return d({name:n.name,"ng-value":n.ngValue,"ng-model":n.ngModel,"ng-checked":n.ngChecked,"ng-disabled":n.ngDisabled,"ng-true-value":n.ngTrueValue,"ng-false-value":n.ngFalseValue,"ng-change":n.ngChange},function(e,t){p(e)&&i.attr(t,e)}),n.toggleClass&&e[0].getElementsByTagName("label")[0].classList.add(n.toggleClass),e.addClass("toggle-"+t.form.toggle()),function(e,t){var n=t[0].getElementsByTagName("label")[0],i=n.children[0],o=n.children[1],r=o.children[0],s=g(i).controller("ngModel");e.toggle=new ionic.views.Toggle({el:n,track:o,checkbox:i,handle:r,onChange:function(){s&&(s.$setViewValue(i.checked),e.$apply())}}),e.$on("$destroy",function(){e.toggle.destroy()})}}}}]),u.directive("ionView",function(){return{restrict:"EA",priority:1e3,controller:"$ionicView",compile:function(e){return e.addClass("pane"),e[0].removeAttribute("title"),function(e,t,n,i){i.init()}}}})}(),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.progressbar"]),angular.module("ui.bootstrap.tpls",["template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html"]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){o||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.popover","ui.bootstrap.tooltip","ui.bootstrap.position","ui.bootstrap.bindHtml"]),angular.module("ui.bootstrap.tpls",["template/popover/popover.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html"]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(o,r,s,a,l,u){return function(o,c,d){function p(e){var t=e||h.trigger||d,i=n[t]||t;return{show:t,hide:i}}var h=angular.extend({},t,i),f=e(o),g=u.startSymbol(),m=u.endSymbol(),v="<div "+f+'-popup title="'+g+"title"+m+'" content="'+g+"content"+m+'" placement="'+g+"placement"+m+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var e=r(v);return function(t,n,i){function r(){E.isOpen?d():u()}function u(){(!M||t.$eval(i[c+"Enable"]))&&(b(),E.popupDelay?x||(x=s(f,E.popupDelay,!1),x.then(function(e){e()})):f()())}function d(){t.$apply(function(){g()})}function f(){return x=null,S&&(s.cancel(S),S=null),E.content?(m(),$.css({top:0,left:0,display:"block"}),C?a.find("body").append($):n.after($),D(),E.isOpen=!0,E.$digest(),D):angular.noop}function g(){E.isOpen=!1,s.cancel(x),x=null,E.animation?S||(S=s(v,500)):v()}function m(){$&&v(),k=E.$new(),$=e(k,angular.noop)}function v(){S=null,$&&($.remove(),$=null),k&&(k.$destroy(),k=null)}function b(){y(),_()}function y(){var e=i[c+"Placement"];E.placement=angular.isDefined(e)?e:h.placement}function _(){var e=i[c+"PopupDelay"],t=parseInt(e,10);E.popupDelay=isNaN(t)?h.popupDelay:t}function w(){var e=i[c+"Trigger"];O(),T=p(e),T.show===T.hide?n.bind(T.show,r):(n.bind(T.show,u),n.bind(T.hide,d))}var $,k,S,x,C=angular.isDefined(h.appendToBody)?h.appendToBody:!1,T=p(void 0),M=angular.isDefined(i[c+"Enable"]),E=t.$new(!0),D=function(){var e=l.positionElements(n,$,E.placement,C);e.top+="px",e.left+="px",$.css(e)};E.isOpen=!1,i.$observe(o,function(e){E.content=e,!e&&E.isOpen&&g()}),i.$observe(c+"Title",function(e){E.title=e});var O=function(){n.unbind(T.show,u),n.unbind(T.hide,d)};w();var A=t.$eval(i[c+"Animation"]);E.animation=angular.isDefined(A)?!!A:h.animation;var P=t.$eval(i[c+"AppendToBody"]);C=angular.isDefined(P)?P:C,C&&t.$on("$locationChangeSuccess",function(){E.isOpen&&g()}),t.$on("$destroy",function(){s.cancel(S),s.cancel(x),O(),v(),E=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var o=function(t){for(var n=e[0],o=t.offsetParent||n;o&&o!==n&&i(o);)o=o.offsetParent;return o||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},r=o(t[0]);r!=e[0]&&(i=this.offset(angular.element(r)),i.top+=r.clientTop-r.scrollTop,i.left+=r.clientLeft-r.scrollLeft);var s=t[0].getBoundingClientRect();return{width:s.width||t.prop("offsetWidth"),height:s.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var o,r,s,a,l=n.split("-"),u=l[0],c=l[1]||"center";o=i?this.offset(e):this.position(e),r=t.prop("offsetWidth"),s=t.prop("offsetHeight");var d={center:function(){return o.left+o.width/2-r/2},left:function(){return o.left},right:function(){return o.left+o.width}},p={center:function(){return o.top+o.height/2-s/2},top:function(){return o.top},bottom:function(){return o.top+o.height}};switch(u){case"right":a={top:p[c](),left:d[u]()};break;case"left":a={top:p[c](),left:o.left-r};break;case"bottom":a={top:p[u](),left:d[c]()};break;default:a={top:o.top-s,left:d[c]()}}return a}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),function(){function e(e,t,n){for(var i=(n||0)-1,o=e?e.length:0;++i<o;)if(e[i]===t)return i;return-1}function t(t,n){var i=typeof n;if(t=t.cache,"boolean"==i||null==n)return t[n]?0:-1;"number"!=i&&"string"!=i&&(i="object");var o="number"==i?n:v+n;return t=(t=t[i])&&t[o],"object"==i?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?e:v+e,o=t[n]||(t[n]={});"object"==n?(o[i]||(o[i]=[])).push(e):o[i]=!0}}function i(e){return e.charCodeAt(0)}function o(e,t){for(var n=e.criteria,i=t.criteria,o=-1,r=n.length;++o<r;){var s=n[o],a=i[o];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return e.index-t.index}function r(e){var t=-1,i=e.length,o=e[0],r=e[i/2|0],s=e[i-1];if(o&&"object"==typeof o&&r&&"object"==typeof r&&s&&"object"==typeof s)return!1;var a=l();a["false"]=a["null"]=a["true"]=a.undefined=!1;var u=l();for(u.array=e,u.cache=a,u.push=n;++t<i;)u.push(e[t]);return u}function s(e){return"\\"+W[e]}function a(){return f.pop()||[]}function l(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function u(e){e.length=0,f.length<y&&f.push(e)}function c(e){var t=e.cache;t&&c(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,g.length<y&&g.push(e)}function d(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,o=n-t||0,r=Array(0>o?0:o);++i<o;)r[i]=e[t+i];return r}function p(n){function f(e){return e&&"object"==typeof e&&!Zi(e)&&Ii.call(e,"__wrapped__")?e:new g(e)}function g(e,t){this.__chain__=!!t,this.__wrapped__=e}function y(e){function t(){if(i){var e=d(i);Li.apply(e,arguments)}if(this instanceof t){var r=Y(n.prototype),s=n.apply(r,e||arguments);return Dt(s)?s:r}return n.apply(o,e||arguments)}var n=e[0],i=e[2],o=e[4];return Ji(t,e),t}function W(e,t,n,i,o){if(n){var r=n(e);if("undefined"!=typeof r)return r}var s=Dt(e);if(!s)return e;var l=Ti.call(e);if(!V[l])return e;var c=Yi[l];switch(l){case B:case q:return new c(+e);case N:case R:return new c(e);case F:return r=c(e.source,x.exec(e)),r.lastIndex=e.lastIndex,r}var p=Zi(e);if(t){var h=!i;i||(i=a()),o||(o=a());for(var f=i.length;f--;)if(i[f]==e)return o[f];r=p?c(e.length):{}}else r=p?d(e):ro({},e);return p&&(Ii.call(e,"index")&&(r.index=e.index),Ii.call(e,"input")&&(r.input=e.input)),t?(i.push(e),o.push(r),(p?Xt:lo)(e,function(e,s){r[s]=W(e,t,n,i,o)}),h&&(u(i),u(o)),r):r}function Y(e){return Dt(e)?Gi(e):{}}function X(e,t,n){if("function"!=typeof e)return Zn;if("undefined"==typeof t||!("prototype"in e))return e;var i=e.__bindData__;if("undefined"==typeof i&&(Xi.funcNames&&(i=!e.name),i=i||!Xi.funcDecomp,!i)){var o=Ai.call(e);Xi.funcNames||(i=!C.test(o)),i||(i=D.test(o),Ji(e,i))}if(i===!1||i!==!0&&1&i[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)}}return Ln(e,t)}function J(e){function t(){var e=l?s:this;if(o){var f=d(o);Li.apply(f,arguments)}if((r||c)&&(f||(f=d(arguments)),r&&Li.apply(f,r),c&&f.length<a))return i|=16,J([n,p?i:-4&i,f,null,s,a]);if(f||(f=arguments),u&&(n=e[h]),this instanceof t){e=Y(n.prototype);var g=n.apply(e,f);return Dt(g)?g:e}return n.apply(e,f)}var n=e[0],i=e[1],o=e[2],r=e[3],s=e[4],a=e[5],l=1&i,u=2&i,c=4&i,p=8&i,h=n;return Ji(t,e),t}function Z(n,i){var o=-1,s=lt(),a=n?n.length:0,l=a>=b&&s===e,u=[];if(l){var d=r(i);d?(s=t,i=d):l=!1}for(;++o<a;){var p=n[o];s(i,p)<0&&u.push(p)}return l&&c(i),u}function et(e,t,n,i){for(var o=(i||0)-1,r=e?e.length:0,s=[];++o<r;){var a=e[o];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Zi(a)||pt(a))){t||(a=et(a,t,n));var l=-1,u=a.length,c=s.length;for(s.length+=u;++l<u;)s[c++]=a[l]}else n||s.push(a)}return s}function tt(e,t,n,i,o,r){if(n){var s=n(e,t);if("undefined"!=typeof s)return!!s}if(e===t)return 0!==e||1/e==1/t;var l=typeof e,c=typeof t;if(!(e!==e||e&&z[l]||t&&z[c]))return!1;if(null==e||null==t)return e===t;var d=Ti.call(e),p=Ti.call(t);if(d==I&&(d=G),p==I&&(p=G),d!=p)return!1;switch(d){case B:case q:return+e==+t;case N:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case F:case R:return e==$i(t)}var h=d==L;if(!h){var f=Ii.call(e,"__wrapped__"),g=Ii.call(t,"__wrapped__");if(f||g)return tt(f?e.__wrapped__:e,g?t.__wrapped__:t,n,i,o,r);if(d!=G)return!1;var m=e.constructor,v=t.constructor;if(m!=v&&!(Et(m)&&m instanceof m&&Et(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1
}var b=!o;o||(o=a()),r||(r=a());for(var y=o.length;y--;)if(o[y]==e)return r[y]==t;var _=0;if(s=!0,o.push(e),r.push(t),h){if(y=e.length,_=t.length,s=_==y,s||i)for(;_--;){var w=y,$=t[_];if(i)for(;w--&&!(s=tt(e[w],$,n,i,o,r)););else if(!(s=tt(e[_],$,n,i,o,r)))break}}else ao(t,function(t,a,l){return Ii.call(l,a)?(_++,s=Ii.call(e,a)&&tt(e[a],t,n,i,o,r)):void 0}),s&&!i&&ao(e,function(e,t,n){return Ii.call(n,t)?s=--_>-1:void 0});return o.pop(),r.pop(),b&&(u(o),u(r)),s}function nt(e,t,n,i,o){(Zi(t)?Xt:lo)(t,function(t,r){var s,a,l=t,u=e[r];if(t&&((a=Zi(t))||uo(t))){for(var c=i.length;c--;)if(s=i[c]==t){u=o[c];break}if(!s){var d;n&&(l=n(u,t),(d="undefined"!=typeof l)&&(u=l)),d||(u=a?Zi(u)?u:[]:uo(u)?u:{}),i.push(t),o.push(u),d||nt(u,t,n,i,o)}}else n&&(l=n(u,t),"undefined"==typeof l&&(l=t)),"undefined"!=typeof l&&(u=l);e[r]=u})}function it(e,t){return e+Oi(Ki()*(t-e+1))}function ot(n,i,o){var s=-1,l=lt(),d=n?n.length:0,p=[],h=!i&&d>=b&&l===e,f=o||h?a():p;if(h){var g=r(f);l=t,f=g}for(;++s<d;){var m=n[s],v=o?o(m,s,n):m;(i?!s||f[f.length-1]!==v:l(f,v)<0)&&((o||h)&&f.push(v),p.push(m))}return h?(u(f.array),c(f)):o&&u(f),p}function rt(e){return function(t,n,i){var o={};n=f.createCallback(n,i,3);var r=-1,s=t?t.length:0;if("number"==typeof s)for(;++r<s;){var a=t[r];e(o,a,n(a,r,t),t)}else lo(t,function(t,i,r){e(o,t,n(t,i,r),r)});return o}}function st(e,t,n,i,o,r){var s=1&t,a=2&t,l=4&t,u=16&t,c=32&t;if(!a&&!Et(e))throw new ki;u&&!n.length&&(t&=-17,u=n=!1),c&&!i.length&&(t&=-33,c=i=!1);var p=e&&e.__bindData__;if(p&&p!==!0)return p=d(p),p[2]&&(p[2]=d(p[2])),p[3]&&(p[3]=d(p[3])),!s||1&p[1]||(p[4]=o),!s&&1&p[1]&&(t|=8),!l||4&p[1]||(p[5]=r),u&&Li.apply(p[2]||(p[2]=[]),n),c&&ji.apply(p[3]||(p[3]=[]),i),p[1]|=t,st.apply(null,p);var h=1==t||17===t?y:J;return h([e,t,n,i,o,r])}function at(e){return to[e]}function lt(){var t=(t=f.indexOf)===bn?e:t;return t}function ut(e){return"function"==typeof e&&Mi.test(e)}function ct(e){var t,n;return e&&Ti.call(e)==G&&(t=e.constructor,!Et(t)||t instanceof t)?(ao(e,function(e,t){n=t}),"undefined"==typeof n||Ii.call(e,n)):!1}function dt(e){return no[e]}function pt(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ti.call(e)==I||!1}function ht(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n=t,t=!1),W(e,t,"function"==typeof n&&X(n,i,1))}function ft(e,t,n){return W(e,!0,"function"==typeof t&&X(t,n,1))}function gt(e,t){var n=Y(e);return t?ro(n,t):n}function mt(e,t,n){var i;return t=f.createCallback(t,n,3),lo(e,function(e,n,o){return t(e,n,o)?(i=n,!1):void 0}),i}function vt(e,t,n){var i;return t=f.createCallback(t,n,3),yt(e,function(e,n,o){return t(e,n,o)?(i=n,!1):void 0}),i}function bt(e,t,n){var i=[];ao(e,function(e,t){i.push(t,e)});var o=i.length;for(t=X(t,n,3);o--&&t(i[o--],i[o],e)!==!1;);return e}function yt(e,t,n){var i=eo(e),o=i.length;for(t=X(t,n,3);o--;){var r=i[o];if(t(e[r],r,e)===!1)break}return e}function _t(e){var t=[];return ao(e,function(e,n){Et(e)&&t.push(n)}),t.sort()}function wt(e,t){return e?Ii.call(e,t):!1}function $t(e){for(var t=-1,n=eo(e),i=n.length,o={};++t<i;){var r=n[t];o[e[r]]=r}return o}function kt(e){return e===!0||e===!1||e&&"object"==typeof e&&Ti.call(e)==B||!1}function St(e){return e&&"object"==typeof e&&Ti.call(e)==q||!1}function xt(e){return e&&1===e.nodeType||!1}function Ct(e){var t=!0;if(!e)return t;var n=Ti.call(e),i=e.length;return n==L||n==R||n==I||n==G&&"number"==typeof i&&Et(e.splice)?!i:(lo(e,function(){return t=!1}),t)}function Tt(e,t,n,i){return tt(e,t,"function"==typeof n&&X(n,i,2))}function Mt(e){return Ri(e)&&!Vi(parseFloat(e))}function Et(e){return"function"==typeof e}function Dt(e){return!(!e||!z[typeof e])}function Ot(e){return Pt(e)&&e!=+e}function At(e){return null===e}function Pt(e){return"number"==typeof e||e&&"object"==typeof e&&Ti.call(e)==N||!1}function It(e){return e&&"object"==typeof e&&Ti.call(e)==F||!1}function Lt(e){return"string"==typeof e||e&&"object"==typeof e&&Ti.call(e)==R||!1}function Bt(e){return"undefined"==typeof e}function qt(e,t,n){var i={};return t=f.createCallback(t,n,3),lo(e,function(e,n,o){i[n]=t(e,n,o)}),i}function jt(e){var t=arguments,n=2;if(!Dt(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var i=X(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(i=t[--n]);for(var o=d(arguments,1,n),r=-1,s=a(),l=a();++r<n;)nt(e,o[r],i,s,l);return u(s),u(l),e}function Nt(e,t,n){var i={};if("function"!=typeof t){var o=[];ao(e,function(e,t){o.push(t)}),o=Z(o,et(arguments,!0,!1,1));for(var r=-1,s=o.length;++r<s;){var a=o[r];i[a]=e[a]}}else t=f.createCallback(t,n,3),ao(e,function(e,n,o){t(e,n,o)||(i[n]=e)});return i}function Gt(e){for(var t=-1,n=eo(e),i=n.length,o=fi(i);++t<i;){var r=n[t];o[t]=[r,e[r]]}return o}function Ft(e,t,n){var i={};if("function"!=typeof t)for(var o=-1,r=et(arguments,!0,!1,1),s=Dt(e)?r.length:0;++o<s;){var a=r[o];a in e&&(i[a]=e[a])}else t=f.createCallback(t,n,3),ao(e,function(e,n,o){t(e,n,o)&&(i[n]=e)});return i}function Rt(e,t,n,i){var o=Zi(e);if(null==n)if(o)n=[];else{var r=e&&e.constructor,s=r&&r.prototype;n=Y(s)}return t&&(t=f.createCallback(t,i,4),(o?Xt:lo)(e,function(e,i,o){return t(n,e,i,o)})),n}function Vt(e){for(var t=-1,n=eo(e),i=n.length,o=fi(i);++t<i;)o[t]=e[n[t]];return o}function Ut(e){for(var t=arguments,n=-1,i=et(t,!0,!1,1),o=t[2]&&t[2][t[1]]===e?1:i.length,r=fi(o);++n<o;)r[n]=e[i[n]];return r}function Ht(e,t,n){var i=-1,o=lt(),r=e?e.length:0,s=!1;return n=(0>n?Hi(0,r+n):n)||0,Zi(e)?s=o(e,t,n)>-1:"number"==typeof r?s=(Lt(e)?e.indexOf(t,n):o(e,t,n))>-1:lo(e,function(e){return++i>=n?!(s=e===t):void 0}),s}function zt(e,t,n){var i=!0;t=f.createCallback(t,n,3);var o=-1,r=e?e.length:0;if("number"==typeof r)for(;++o<r&&(i=!!t(e[o],o,e)););else lo(e,function(e,n,o){return i=!!t(e,n,o)});return i}function Wt(e,t,n){var i=[];t=f.createCallback(t,n,3);var o=-1,r=e?e.length:0;if("number"==typeof r)for(;++o<r;){var s=e[o];t(s,o,e)&&i.push(s)}else lo(e,function(e,n,o){t(e,n,o)&&i.push(e)});return i}function Kt(e,t,n){t=f.createCallback(t,n,3);var i=-1,o=e?e.length:0;if("number"!=typeof o){var r;return lo(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r}for(;++i<o;){var s=e[i];if(t(s,i,e))return s}}function Yt(e,t,n){var i;return t=f.createCallback(t,n,3),Jt(e,function(e,n,o){return t(e,n,o)?(i=e,!1):void 0}),i}function Xt(e,t,n){var i=-1,o=e?e.length:0;if(t=t&&"undefined"==typeof n?t:X(t,n,3),"number"==typeof o)for(;++i<o&&t(e[i],i,e)!==!1;);else lo(e,t);return e}function Jt(e,t,n){var i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:X(t,n,3),"number"==typeof i)for(;i--&&t(e[i],i,e)!==!1;);else{var o=eo(e);i=o.length,lo(e,function(e,n,r){return n=o?o[--i]:--i,t(r[n],n,r)})}return e}function Zt(e,t){var n=d(arguments,2),i=-1,o="function"==typeof t,r=e?e.length:0,s=fi("number"==typeof r?r:0);return Xt(e,function(e){s[++i]=(o?t:e[t]).apply(e,n)}),s}function Qt(e,t,n){var i=-1,o=e?e.length:0;if(t=f.createCallback(t,n,3),"number"==typeof o)for(var r=fi(o);++i<o;)r[i]=t(e[i],i,e);else r=[],lo(e,function(e,n,o){r[++i]=t(e,n,o)});return r}function en(e,t,n){var o=-1/0,r=o;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zi(e))for(var s=-1,a=e.length;++s<a;){var l=e[s];l>r&&(r=l)}else t=null==t&&Lt(e)?i:f.createCallback(t,n,3),Xt(e,function(e,n,i){var s=t(e,n,i);s>o&&(o=s,r=e)});return r}function tn(e,t,n){var o=1/0,r=o;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zi(e))for(var s=-1,a=e.length;++s<a;){var l=e[s];r>l&&(r=l)}else t=null==t&&Lt(e)?i:f.createCallback(t,n,3),Xt(e,function(e,n,i){var s=t(e,n,i);o>s&&(o=s,r=e)});return r}function nn(e,t,n,i){if(!e)return n;var o=arguments.length<3;t=f.createCallback(t,i,4);var r=-1,s=e.length;if("number"==typeof s)for(o&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);else lo(e,function(e,i,r){n=o?(o=!1,e):t(n,e,i,r)});return n}function on(e,t,n,i){var o=arguments.length<3;return t=f.createCallback(t,i,4),Jt(e,function(e,i,r){n=o?(o=!1,e):t(n,e,i,r)}),n}function rn(e,t,n){return t=f.createCallback(t,n,3),Wt(e,function(e,n,i){return!t(e,n,i)})}function sn(e,t,n){if(e&&"number"!=typeof e.length&&(e=Vt(e)),null==t||n)return e?e[it(0,e.length-1)]:h;var i=an(e);return i.length=zi(Hi(0,t),i.length),i}function an(e){var t=-1,n=e?e.length:0,i=fi("number"==typeof n?n:0);return Xt(e,function(e){var n=it(0,++t);i[t]=i[n],i[n]=e}),i}function ln(e){var t=e?e.length:0;return"number"==typeof t?t:eo(e).length}function un(e,t,n){var i;t=f.createCallback(t,n,3);var o=-1,r=e?e.length:0;if("number"==typeof r)for(;++o<r&&!(i=t(e[o],o,e)););else lo(e,function(e,n,o){return!(i=t(e,n,o))});return!!i}function cn(e,t,n){var i=-1,r=Zi(t),s=e?e.length:0,d=fi("number"==typeof s?s:0);for(r||(t=f.createCallback(t,n,3)),Xt(e,function(e,n,o){var s=d[++i]=l();r?s.criteria=Qt(t,function(t){return e[t]}):(s.criteria=a())[0]=t(e,n,o),s.index=i,s.value=e}),s=d.length,d.sort(o);s--;){var p=d[s];d[s]=p.value,r||u(p.criteria),c(p)}return d}function dn(e){return e&&"number"==typeof e.length?d(e):Vt(e)}function pn(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var o=e[t];o&&i.push(o)}return i}function hn(e){return Z(e,et(arguments,!0,!0,1))}function fn(e,t,n){var i=-1,o=e?e.length:0;for(t=f.createCallback(t,n,3);++i<o;)if(t(e[i],i,e))return i;return-1}function gn(e,t,n){var i=e?e.length:0;for(t=f.createCallback(t,n,3);i--;)if(t(e[i],i,e))return i;return-1}function mn(e,t,n){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var r=-1;for(t=f.createCallback(t,n,3);++r<o&&t(e[r],r,e);)i++}else if(i=t,null==i||n)return e?e[0]:h;return d(e,0,zi(Hi(0,i),o))}function vn(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(e=Qt(e,n,i)),et(e,t)}function bn(t,n,i){if("number"==typeof i){var o=t?t.length:0;i=0>i?Hi(0,o+i):i||0}else if(i){var r=Tn(t,n);return t[r]===n?r:-1}return e(t,n,i)}function yn(e,t,n){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var r=o;for(t=f.createCallback(t,n,3);r--&&t(e[r],r,e);)i++}else i=null==t||n?1:t||i;return d(e,0,zi(Hi(0,o-i),o))}function _n(){for(var n=[],i=-1,o=arguments.length,s=a(),l=lt(),d=l===e,p=a();++i<o;){var h=arguments[i];(Zi(h)||pt(h))&&(n.push(h),s.push(d&&h.length>=b&&r(i?n[i]:p)))}var f=n[0],g=-1,m=f?f.length:0,v=[];e:for(;++g<m;){var y=s[0];if(h=f[g],(y?t(y,h):l(p,h))<0){for(i=o,(y||p).push(h);--i;)if(y=s[i],(y?t(y,h):l(n[i],h))<0)continue e;v.push(h)}}for(;o--;)y=s[o],y&&c(y);return u(s),u(p),v}function wn(e,t,n){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var r=o;for(t=f.createCallback(t,n,3);r--&&t(e[r],r,e);)i++}else if(i=t,null==i||n)return e?e[o-1]:h;return d(e,Hi(0,o-i))}function $n(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(0>n?Hi(0,i+n):zi(n,i-1))+1);i--;)if(e[i]===t)return i;return-1}function kn(e){for(var t=arguments,n=0,i=t.length,o=e?e.length:0;++n<i;)for(var r=-1,s=t[n];++r<o;)e[r]===s&&(qi.call(e,r--,1),o--);return e}function Sn(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var i=-1,o=Hi(0,Ei((t-e)/(n||1))),r=fi(o);++i<o;)r[i]=e,e+=n;return r}function xn(e,t,n){var i=-1,o=e?e.length:0,r=[];for(t=f.createCallback(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),qi.call(e,i--,1),o--)}return r}function Cn(e,t,n){if("number"!=typeof t&&null!=t){var i=0,o=-1,r=e?e.length:0;for(t=f.createCallback(t,n,3);++o<r&&t(e[o],o,e);)i++}else i=null==t||n?1:Hi(0,t);return d(e,i)}function Tn(e,t,n,i){var o=0,r=e?e.length:o;for(n=n?f.createCallback(n,i,1):Zn,t=n(t);r>o;){var s=o+r>>>1;n(e[s])<t?o=s+1:r=s}return o}function Mn(){return ot(et(arguments,!0,!0))}function En(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(n=f.createCallback(n,i,3)),ot(e,t,n)}function Dn(e){return Z(e,d(arguments,1))}function On(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Zi(n)||pt(n))var i=i?ot(Z(i,n).concat(Z(n,i))):n}return i||[]}function An(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?en(fo(e,"length")):0,i=fi(0>n?0:n);++t<n;)i[t]=fo(e,t);return i}function Pn(e,t){var n=-1,i=e?e.length:0,o={};for(t||!i||Zi(e[0])||(t=[]);++n<i;){var r=e[n];t?o[r]=t[n]:r&&(o[r[0]]=r[1])}return o}function In(e,t){if(!Et(t))throw new ki;return function(){return--e<1?t.apply(this,arguments):void 0}}function Ln(e,t){return arguments.length>2?st(e,17,d(arguments,2),null,t):st(e,1,null,null,t)}function Bn(e){for(var t=arguments.length>1?et(arguments,!0,!1,1):_t(e),n=-1,i=t.length;++n<i;){var o=t[n];e[o]=st(e[o],1,null,null,e)}return e}function qn(e,t){return arguments.length>2?st(t,19,d(arguments,2),null,e):st(t,3,null,null,e)}function jn(){for(var e=arguments,t=e.length;t--;)if(!Et(e[t]))throw new ki;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Nn(e,t){return t="number"==typeof t?t:+t||e.length,st(e,4,null,null,null,t)}function Gn(e,t,n){var i,o,r,s,a,l,u,c=0,d=!1,p=!0;if(!Et(e))throw new ki;if(t=Hi(0,t)||0,n===!0){var f=!0;p=!1}else Dt(n)&&(f=n.leading,d="maxWait"in n&&(Hi(t,n.maxWait)||0),p="trailing"in n?n.trailing:p);var g=function(){var n=t-(mo()-s);if(0>=n){o&&Di(o);var d=u;o=l=u=h,d&&(c=mo(),r=e.apply(a,i),l||o||(i=a=null))}else l=Bi(g,n)},m=function(){l&&Di(l),o=l=u=h,(p||d!==t)&&(c=mo(),r=e.apply(a,i),l||o||(i=a=null))};return function(){if(i=arguments,s=mo(),a=this,u=p&&(l||!f),d===!1)var n=f&&!l;else{o||f||(c=s);var h=d-(s-c),v=0>=h;v?(o&&(o=Di(o)),c=s,r=e.apply(a,i)):o||(o=Bi(m,h))}return v&&l?l=Di(l):l||t===d||(l=Bi(g,t)),n&&(v=!0,r=e.apply(a,i)),!v||l||o||(i=a=null),r}}function Fn(e){if(!Et(e))throw new ki;var t=d(arguments,1);return Bi(function(){e.apply(h,t)},1)}function Rn(e,t){if(!Et(e))throw new ki;var n=d(arguments,2);return Bi(function(){e.apply(h,n)},t)}function Vn(e,t){if(!Et(e))throw new ki;var n=function(){var i=n.cache,o=t?t.apply(this,arguments):v+arguments[0];return Ii.call(i,o)?i[o]:i[o]=e.apply(this,arguments)};return n.cache={},n}function Un(e){var t,n;if(!Et(e))throw new ki;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Hn(e){return st(e,16,d(arguments,1))}function zn(e){return st(e,32,null,d(arguments,1))}function Wn(e,t,n){var i=!0,o=!0;if(!Et(e))throw new ki;return n===!1?i=!1:Dt(n)&&(i="leading"in n?n.leading:i,o="trailing"in n?n.trailing:o),U.leading=i,U.maxWait=t,U.trailing=o,Gn(e,t,U)}function Kn(e,t){return st(t,16,[e])}function Yn(e){return function(){return e}}function Xn(e,t,n){var i=typeof e;if(null==e||"function"==i)return X(e,t,n);if("object"!=i)return ni(e);var o=eo(e),r=o[0],s=e[r];return 1!=o.length||s!==s||Dt(s)?function(t){for(var n=o.length,i=!1;n--&&(i=tt(t[o[n]],e[o[n]],null,!0)););return i}:function(e){var t=e[r];return s===t&&(0!==s||1/s==1/t)}}function Jn(e){return null==e?"":$i(e).replace(oo,at)}function Zn(e){return e}function Qn(e,t,n){var i=!0,o=t&&_t(t);t&&(n||o.length)||(null==n&&(n=t),r=g,t=e,e=f,o=_t(t)),n===!1?i=!1:Dt(n)&&"chain"in n&&(i=n.chain);var r=e,s=Et(r);Xt(o,function(n){var o=e[n]=t[n];s&&(r.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,s=[n];Li.apply(s,arguments);var a=o.apply(e,s);if(i||t){if(n===a&&Dt(a))return this;a=new r(a),a.__chain__=t}return a})})}function ei(){return n._=Ci,this}function ti(){}function ni(e){return function(t){return t[e]}}function ii(e,t,n){var i=null==e,o=null==t;if(null==n&&("boolean"==typeof e&&o?(n=e,e=1):o||"boolean"!=typeof t||(n=t,o=!0)),i&&o&&(t=1),e=+e||0,o?(t=e,e=0):t=+t||0,n||e%1||t%1){var r=Ki();return zi(e+r*(t-e+parseFloat("1e-"+((r+"").length-1))),t)}return it(e,t)}function oi(e,t){if(e){var n=e[t];return Et(n)?e[t]():n}}function ri(e,t,n){var i=f.templateSettings;e=$i(e||""),n=so({},n,i);var o,r=so({},n.imports,i.imports),a=eo(r),l=Vt(r),u=0,c=n.interpolate||E,d="__p += '",p=wi((n.escape||E).source+"|"+c.source+"|"+(c===T?S:E).source+"|"+(n.evaluate||E).source+"|$","g");e.replace(p,function(t,n,i,r,a,l){return i||(i=r),d+=e.slice(u,l).replace(O,s),n&&(d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),d+="';\n";var g=n.variable,m=g;m||(g="obj",d="with ("+g+") {\n"+d+"\n}\n"),d=(o?d.replace(w,""):d).replace($,"$1").replace(k,"$1;"),d="function("+g+") {\n"+(m?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+P++ +"]")+"\n*/";try{var b=vi(a,"return "+d+v).apply(h,l)}catch(y){throw y.source=d,y}return t?b(t):(b.source=d,b)}function si(e,t,n){e=(e=+e)>-1?e:0;var i=-1,o=fi(e);for(t=X(t,n,1);++i<e;)o[i]=t(i);return o}function ai(e){return null==e?"":$i(e).replace(io,dt)}function li(e){var t=++m;return $i(null==e?"":e)+t}function ui(e){return e=new g(e),e.__chain__=!0,e}function ci(e,t){return t(e),e}function di(){return this.__chain__=!0,this}function pi(){return $i(this.__wrapped__)}function hi(){return this.__wrapped__}n=n?Q.defaults(K.Object(),n,Q.pick(K,A)):K;var fi=n.Array,gi=n.Boolean,mi=n.Date,vi=n.Function,bi=n.Math,yi=n.Number,_i=n.Object,wi=n.RegExp,$i=n.String,ki=n.TypeError,Si=[],xi=_i.prototype,Ci=n._,Ti=xi.toString,Mi=wi("^"+$i(Ti).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ei=bi.ceil,Di=n.clearTimeout,Oi=bi.floor,Ai=vi.prototype.toString,Pi=ut(Pi=_i.getPrototypeOf)&&Pi,Ii=xi.hasOwnProperty,Li=Si.push,Bi=n.setTimeout,qi=Si.splice,ji=Si.unshift,Ni=function(){try{var e={},t=ut(t=_i.defineProperty)&&t,n=t(e,e,e)&&t}catch(i){}return n}(),Gi=ut(Gi=_i.create)&&Gi,Fi=ut(Fi=fi.isArray)&&Fi,Ri=n.isFinite,Vi=n.isNaN,Ui=ut(Ui=_i.keys)&&Ui,Hi=bi.max,zi=bi.min,Wi=n.parseInt,Ki=bi.random,Yi={};Yi[L]=fi,Yi[B]=gi,Yi[q]=mi,Yi[j]=vi,Yi[G]=_i,Yi[N]=yi,Yi[F]=wi,Yi[R]=$i,g.prototype=f.prototype;var Xi=f.support={};Xi.funcDecomp=!ut(n.WinRTError)&&D.test(p),Xi.funcNames="string"==typeof vi.name,f.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:T,variable:"",imports:{_:f}},Gi||(Y=function(){function e(){}return function(t){if(Dt(t)){e.prototype=t;var i=new e;e.prototype=null}return i||n.Object()}}());var Ji=Ni?function(e,t){H.value=t,Ni(e,"__bindData__",H)}:ti,Zi=Fi||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ti.call(e)==L||!1},Qi=function(e){var t,n=e,i=[];if(!n)return i;if(!z[typeof e])return i;for(t in n)Ii.call(n,t)&&i.push(t);return i},eo=Ui?function(e){return Dt(e)?Ui(e):[]}:Qi,to={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},no=$t(to),io=wi("("+eo(no).join("|")+")","g"),oo=wi("["+eo(to).join("")+"]","g"),ro=function(e,t,n){var i,o=e,r=o;if(!o)return r;var s=arguments,a=0,l="number"==typeof n?2:s.length;if(l>3&&"function"==typeof s[l-2])var u=X(s[--l-1],s[l--],2);else l>2&&"function"==typeof s[l-1]&&(u=s[--l]);for(;++a<l;)if(o=s[a],o&&z[typeof o])for(var c=-1,d=z[typeof o]&&eo(o),p=d?d.length:0;++c<p;)i=d[c],r[i]=u?u(r[i],o[i]):o[i];return r},so=function(e,t,n){var i,o=e,r=o;if(!o)return r;for(var s=arguments,a=0,l="number"==typeof n?2:s.length;++a<l;)if(o=s[a],o&&z[typeof o])for(var u=-1,c=z[typeof o]&&eo(o),d=c?c.length:0;++u<d;)i=c[u],"undefined"==typeof r[i]&&(r[i]=o[i]);return r},ao=function(e,t,n){var i,o=e,r=o;if(!o)return r;if(!z[typeof o])return r;t=t&&"undefined"==typeof n?t:X(t,n,3);for(i in o)if(t(o[i],i,e)===!1)return r;return r},lo=function(e,t,n){var i,o=e,r=o;if(!o)return r;if(!z[typeof o])return r;t=t&&"undefined"==typeof n?t:X(t,n,3);for(var s=-1,a=z[typeof o]&&eo(o),l=a?a.length:0;++s<l;)if(i=a[s],t(o[i],i,e)===!1)return r;return r},uo=Pi?function(e){if(!e||Ti.call(e)!=G)return!1;var t=e.valueOf,n=ut(t)&&(n=Pi(t))&&Pi(n);return n?e==n||Pi(e)==n:ct(e)}:ct,co=rt(function(e,t,n){Ii.call(e,n)?e[n]++:e[n]=1}),po=rt(function(e,t,n){(Ii.call(e,n)?e[n]:e[n]=[]).push(t)}),ho=rt(function(e,t,n){e[n]=t}),fo=Qt,go=Wt,mo=ut(mo=mi.now)&&mo||function(){return(new mi).getTime()},vo=8==Wi(_+"08")?Wi:function(e,t){return Wi(Lt(e)?e.replace(M,""):e,t||0)};return f.after=In,f.assign=ro,f.at=Ut,f.bind=Ln,f.bindAll=Bn,f.bindKey=qn,f.chain=ui,f.compact=pn,f.compose=jn,f.constant=Yn,f.countBy=co,f.create=gt,f.createCallback=Xn,f.curry=Nn,f.debounce=Gn,f.defaults=so,f.defer=Fn,f.delay=Rn,f.difference=hn,f.filter=Wt,f.flatten=vn,f.forEach=Xt,f.forEachRight=Jt,f.forIn=ao,f.forInRight=bt,f.forOwn=lo,f.forOwnRight=yt,f.functions=_t,f.groupBy=po,f.indexBy=ho,f.initial=yn,f.intersection=_n,f.invert=$t,f.invoke=Zt,f.keys=eo,f.map=Qt,f.mapValues=qt,f.max=en,f.memoize=Vn,f.merge=jt,f.min=tn,f.omit=Nt,f.once=Un,f.pairs=Gt,f.partial=Hn,f.partialRight=zn,f.pick=Ft,f.pluck=fo,f.property=ni,f.pull=kn,f.range=Sn,f.reject=rn,f.remove=xn,f.rest=Cn,f.shuffle=an,f.sortBy=cn,f.tap=ci,f.throttle=Wn,f.times=si,f.toArray=dn,f.transform=Rt,f.union=Mn,f.uniq=En,f.values=Vt,f.where=go,f.without=Dn,f.wrap=Kn,f.xor=On,f.zip=An,f.zipObject=Pn,f.collect=Qt,f.drop=Cn,f.each=Xt,f.eachRight=Jt,f.extend=ro,f.methods=_t,f.object=Pn,f.select=Wt,f.tail=Cn,f.unique=En,f.unzip=An,Qn(f),f.clone=ht,f.cloneDeep=ft,f.contains=Ht,f.escape=Jn,f.every=zt,f.find=Kt,f.findIndex=fn,f.findKey=mt,f.findLast=Yt,f.findLastIndex=gn,f.findLastKey=vt,f.has=wt,f.identity=Zn,f.indexOf=bn,f.isArguments=pt,f.isArray=Zi,f.isBoolean=kt,f.isDate=St,f.isElement=xt,f.isEmpty=Ct,f.isEqual=Tt,f.isFinite=Mt,f.isFunction=Et,f.isNaN=Ot,f.isNull=At,f.isNumber=Pt,f.isObject=Dt,f.isPlainObject=uo,f.isRegExp=It,f.isString=Lt,f.isUndefined=Bt,f.lastIndexOf=$n,f.mixin=Qn,f.noConflict=ei,f.noop=ti,f.now=mo,f.parseInt=vo,f.random=ii,f.reduce=nn,f.reduceRight=on,f.result=oi,f.runInContext=p,f.size=ln,f.some=un,f.sortedIndex=Tn,f.template=ri,f.unescape=ai,f.uniqueId=li,f.all=zt,f.any=un,f.detect=Kt,f.findWhere=Kt,f.foldl=nn,f.foldr=on,f.include=Ht,f.inject=nn,Qn(function(){var e={};return lo(f,function(t,n){f.prototype[n]||(e[n]=t)}),e}(),!1),f.first=mn,f.last=wn,f.sample=sn,f.take=mn,f.head=mn,lo(f,function(e,t){var n="sample"!==t;f.prototype[t]||(f.prototype[t]=function(t,i){var o=this.__chain__,r=e(this.__wrapped__,t,i);return o||null!=t&&(!i||n&&"function"==typeof t)?new g(r,o):r})}),f.VERSION="2.4.1",f.prototype.chain=di,f.prototype.toString=pi,f.prototype.value=hi,f.prototype.valueOf=hi,Xt(["join","pop","shift"],function(e){var t=Si[e];f.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new g(n,e):n}}),Xt(["push","reverse","sort","unshift"],function(e){var t=Si[e];f.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Xt(["concat","slice","splice"],function(e){var t=Si[e];f.prototype[e]=function(){return new g(t.apply(this.__wrapped__,arguments),this.__chain__)}}),f}var h,f=[],g=[],m=0,v=+new Date+"",b=75,y=40,_=" 	\f\n\r\u2028\u2029",w=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,x=/\w*$/,C=/^\s*function[ \n\r\t]+\w/,T=/<%=([\s\S]+?)%>/g,M=RegExp("^["+_+"]*0+(?=.$)"),E=/($^)/,D=/\bthis\b/,O=/['\n\r\t\u2028\u2029\\]/g,A=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],P=0,I="[object Arguments]",L="[object Array]",B="[object Boolean]",q="[object Date]",j="[object Function]",N="[object Number]",G="[object Object]",F="[object RegExp]",R="[object String]",V={};V[j]=!1,V[I]=V[L]=V[B]=V[q]=V[N]=V[G]=V[F]=V[R]=!0;var U={leading:!1,maxWait:0,trailing:!1},H={configurable:!1,enumerable:!1,value:null,writable:!1},z={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},W={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},K=z[typeof window]&&window||this,Y=z[typeof exports]&&exports&&!exports.nodeType&&exports,X=z[typeof module]&&module&&!module.nodeType&&module,J=X&&X.exports===Y&&Y,Z=z[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(K=Z);var Q=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(K._=Q,define(function(){return Q})):Y&&X?J?(X.exports=Q)._=Q:Y._=Q:K._=Q}.call(this),function(){var e,t,n,i,o,r={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a=this;this.Stripe=function(){function e(){}return e.version=2,e.endpoint="https://api.stripe.com/v1",e.setPublishableKey=function(t){return e.key=t,e.utils.validateProtocol(e.key)},e._corsGateAmount=0,e._corsGate=function(){return Math.random()<this._corsGateAmount},e._transport="undefined"!=typeof window&&null!==window&&e._corsGate()&&"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest?"cors":"jsonp",e.request=function(t){return t.data.payment_user_agent=t.data.payment_user_agent?""+t.data.payment_user_agent+" ("+e.stripejs_ua+")":e.stripejs_ua,"cors"===this._transport?this.xhr(t):this.ajaxJSONP(t)},e.complete=function(t,n){return function(i){var o;return"success"!==i?(o=Math.round((new Date).getTime()/1e3),(new Image).src="https://q.stripe.com?event=stripejs-error&type="+i+"&key="+e.key+"&timestamp="+o+"&payment_user_agent="+encodeURIComponent(e.stripejs_ua),"function"==typeof t?t(500,{error:{code:i,type:i,message:n}}):void 0):void 0}},e}.call(this),e=this.Stripe,this.Stripe.token=function(){function t(){}return t.validate=function(e,t){if(!e)throw t+" required";if("object"!=typeof e)throw t+" invalid"},t.formatData=function(t,n){return e.utils.isElement(t)&&(t=e.utils.paramsFromForm(t,n)),e.utils.underscoreKeys(t),t},t.create=function(t,n){return t.key||(t.key=e.key||e.publishableKey),e.utils.validateKey(t.key),e.request({url:""+e.endpoint+"/tokens",data:t,method:"POST",success:function(e,t){return"function"==typeof n?n(t,e):void 0},complete:e.complete(n,"A network error has occurred, and you have not been charged. Please try again."),timeout:4e4})},t.get=function(t,n){if(!t)throw"token required";return e.utils.validateKey(e.key),e.request({url:""+e.endpoint+"/tokens/"+t,data:{key:e.key},success:function(e,t){return"function"==typeof n?n(t,e):void 0},complete:e.complete(n,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t}.call(this),this.Stripe.card=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,t),n.tokenName="card",n.whitelistedAttrs=["number","cvc","exp_month","exp_year","name","address_line1","address_line2","address_city","address_state","address_zip","address_country"],n.createToken=function(t,i,o){var r;return null==i&&(i={}),e.token.validate(t,"card"),"function"==typeof i?(o=i,i={}):"object"!=typeof i&&(r=parseInt(i,10),i={},r>0&&(i.amount=r)),i[n.tokenName]=e.token.formatData(t,n.whitelistedAttrs),e.token.create(i,o)},n.getToken=function(t,n){return e.token.get(t,n)},n.validateCardNumber=function(e){return e=(e+"").replace(/\s+|-/g,""),e.length>=10&&e.length<=16&&n.luhnCheck(e)},n.validateCVC=function(t){return t=e.utils.trim(t),/^\d+$/.test(t)&&t.length>=3&&t.length<=4},n.validateExpiry=function(t,n){var i,o;return t=e.utils.trim(t),n=e.utils.trim(n),/^\d+$/.test(t)&&/^\d+$/.test(n)&&t>=1&&12>=t?(2===n.length&&(n=70>n?"20"+n:"19"+n),4!==n.length?!1:(o=new Date(n,t),i=new Date,o.setMonth(o.getMonth()-1),o.setMonth(o.getMonth()+1,1),o>i)):!1},n.luhnCheck=function(e){var t,n,i,o,r,s;for(i=!0,o=0,n=(e+"").split("").reverse(),r=0,s=n.length;s>r;r++)t=n[r],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),o+=t;return o%10===0},n.cardType=function(e){return n.cardTypes[e.slice(0,2)]||"Unknown"},n.cardBrand=function(e){return n.cardType(e)},n.cardTypes=function(){var e,t,n,i;for(t={},e=n=40;49>=n;e=++n)t[e]="Visa";for(e=i=50;59>=i;e=++i)t[e]="MasterCard";return t[34]=t[37]="American Express",t[60]=t[62]=t[64]=t[65]="Discover",t[35]="JCB",t[30]=t[36]=t[38]=t[39]="Diners Club",t}(),n}.call(this,this.Stripe.token),this.Stripe.bankAccount=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,t),n.tokenName="bank_account",n.whitelistedAttrs=["country","routing_number","account_number"],n.createToken=function(t,i,o){return null==i&&(i={}),e.token.validate(t,"bank account"),"function"==typeof i&&(o=i,i={}),i[n.tokenName]=e.token.formatData(t,n.whitelistedAttrs),e.token.create(i,o)},n.getToken=function(t,n){return e.token.get(t,n)},n.validateRoutingNumber=function(t,i){switch(t=e.utils.trim(t),i){case"US":return/^\d+$/.test(t)&&9===t.length&&n.routingChecksum(t);case"CA":return/\d{5}\-\d{3}/.test(t)&&9===t.length;default:return!0}},n.validateAccountNumber=function(t,n){switch(t=e.utils.trim(t),n){case"US":return/^\d+$/.test(t)&&t.length>=1&&t.length<=17;default:return!0}},n.routingChecksum=function(e){var t,n,i,o,r,s;for(i=0,t=(e+"").split(""),s=[0,3,6],o=0,r=s.length;r>o;o++)n=s[o],i+=3*parseInt(t[n]),i+=7*parseInt(t[n+1]),i+=parseInt(t[n+2]);return 0!==i&&i%10===0},n}.call(this,this.Stripe.token),this.Stripe.bitcoinReceiver=function(){function t(){}return t._whitelistedAttrs=["amount","currency","email","description"],t.createReceiver=function(t,n){var i;return e.token.validate(t,"bitcoin_receiver data"),i=e.token.formatData(t,this._whitelistedAttrs),i.key=e.key||e.publishableKey,e.utils.validateKey(i.key),e.request({url:""+e.endpoint+"/bitcoin/receivers",data:i,method:"POST",success:function(e,t){return"function"==typeof n?n(t,e):void 0},complete:e.complete(n,"A network error has occurred while creating a Bitcoin address. Please try again."),timeout:4e4})},t.getReceiver=function(t,n){var i;if(!t)throw"receiver id required";return i=e.key||e.publishableKey,e.utils.validateKey(i),e.request({url:""+e.endpoint+"/bitcoin/receivers/"+t,data:{key:i},success:function(e,t){return"function"==typeof n?n(t,e):void 0},complete:e.complete(n,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t._activeReceiverPolls={},t._clearReceiverPoll=function(e){return delete t._activeReceiverPolls[e]},t._pollInterval=1500,t.pollReceiver=function(e,t){if(null!=this._activeReceiverPolls[e])throw"You are already polling receiver "+e+". Please cancel that poll before polling it again.";return this._activeReceiverPolls[e]={},this._pollReceiver(e,t)},t._pollReceiver=function(e,n){t.getReceiver(e,function(i,o){var r,s;if(null!=t._activeReceiverPolls[e])return 200===i&&o.filled?(t._clearReceiverPoll(e),"function"==typeof n?n(i,o):void 0):i>=400&&500>i?(t._clearReceiverPoll(e),"function"==typeof n?n(i,o):void 0):(r=500===i?5e3:t._pollInterval,s=setTimeout(function(){return t._pollReceiver(e,n)},r),t._activeReceiverPolls[e].timeoutId=s)})},t.cancelReceiverPoll=function(e){var n;if(n=t._activeReceiverPolls[e],null==n)throw"You are not polling receiver "+e+".";null!=n.timeoutId&&clearTimeout(n.timeoutId),t._clearReceiverPoll(e)},t}.call(this),t=["createToken","getToken","cardType","validateExpiry","validateCVC","validateCardNumber"];for(i=0,o=t.length;o>i;i++)n=t[i],this.Stripe[n]=this.Stripe.card[n];"undefined"!=typeof module&&null!==module&&(module.exports=this.Stripe),"function"==typeof define&&define("stripe",[],function(){return a.Stripe})}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.utils=function(){function t(){}var n,i;return i=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t.trim=function(e){return null===e?"":(e+"").replace(n,"")},t.parseJSON=function(e){var t,n,o,r;if(null!=(r=window.JSON)?r.parse:void 0)return window.JSON.parse(e+"");if(n=void 0,t=null,o=Stripe.utils.trim(e+""),o&&!Stripe.utils.trim(o.replace(i,function(e,i,o,r){return n&&i&&(t=0),0===t?e:(n=o||i,t+=!r-!o,"")})))return Function("return "+o)();throw new Error("Invalid JSON: "+e)},t.serialize=function(e,t,n){var i,o;null==t&&(t=[]);try{for(i in e)o=e[i],n&&(i=""+n+"["+i+"]"),"object"==typeof o?this.serialize(o,t,i):t.push(""+i+"="+encodeURIComponent(o));return t.join("&").replace(/%20/g,"+")}catch(r){throw new Error("Unable to serialize: "+e)}},t.underscore=function(e){return(e+"").replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()
}).replace(/-/g,"_")},t.underscoreKeys=function(e){var t,n,i;i=[];for(t in e)n=e[t],delete e[t],i.push(e[this.underscore(t)]=n);return i},t.isElement=function(e){return"object"!=typeof e?!1:e.jquery?!0:1===e.nodeType},t.paramsFromForm=function(t,n){var i,o,r,s,a,l,u,c,d,p;for(null==n&&(n=[]),t.jquery&&(t=t[0]),r=t.getElementsByTagName("input"),a=t.getElementsByTagName("select"),l={},u=0,d=r.length;d>u;u++)o=r[u],i=this.underscore(o.getAttribute("data-stripe")),e.call(n,i)<0||(l[i]=o.value);for(c=0,p=a.length;p>c;c++)s=a[c],i=this.underscore(s.getAttribute("data-stripe")),e.call(n,i)<0||null!=s.selectedIndex&&(l[i]=s.options[s.selectedIndex].value);return l},t.validateProtocol=function(e){var t;if(e&&"string"==typeof e)return/_live_/g.test(e)&&"https:"!==window.location.protocol&&null!=(null!=(t=window.console)?t.warn:void 0)?window.console.warn("You are using Stripe.js in live mode over an insecure connection. This is considered unsafe. Please conduct live requests only on sites served over https. For more info, see https://stripe.com/help/ssl"):void 0},t.validateKey=function(e){if(!e||"string"!=typeof e)throw new Error("You did not set a valid publishable key. Call Stripe.setPublishableKey() with your publishable key. For more info, see https://stripe.com/docs/stripe.js");if(/\s/g.test(e))throw new Error("Your key is invalid, as it contains whitespace. For more info, see https://stripe.com/docs/stripe.js");if(/^sk_/.test(e))throw new Error("You are using a secret key with Stripe.js, instead of the publishable one. For more info, see https://stripe.com/docs/stripe.js")},t}()}.call(this),function(){var e,t=[].slice;e=(new Date).getTime(),this.Stripe.ajaxJSONP=function(n){var i,o,r,s,a,l;return null==n&&(n={}),r="sjsonp"+ ++e,a=document.createElement("script"),o=null,i=function(e){var t;return null==e&&(e="abort"),clearTimeout(o),null!=(t=a.parentNode)&&t.removeChild(a),r in window&&(window[r]=function(){}),"function"==typeof n.complete?n.complete(e,l,n):void 0},l={abort:i},a.onerror=function(){return l.abort(),"function"==typeof n.error?n.error(l,n):void 0},window[r]=function(){var e;e=1<=arguments.length?t.call(arguments,0):[],clearTimeout(o),a.parentNode.removeChild(a);try{delete window[r]}catch(i){window[r]=void 0}return"function"==typeof n.success&&n.success.apply(n,e),"function"==typeof n.complete?n.complete("success",l,n):void 0},n.data||(n.data={}),n.data.callback=r,n.method&&(n.data._method=n.method),a.src=n.url+"?"+Stripe.utils.serialize(n.data),s=document.getElementsByTagName("head")[0],s.appendChild(a),n.timeout>0&&(o=setTimeout(function(){return l.abort("timeout")},n.timeout)),l}}.call(this),function(){var e,t,n,i,o,r,s,a,l,u={}.hasOwnProperty;t={contentType:"application/x-www-form-urlencoded",accept:{json:"application/json"}},s=/^(20\d|1223)$/,r="invalid_json_response",i=function(e,t,n){return function(){return e._aborted?n("aborted"):e.request&&4===e.request.readyState?(e.request.onreadystatechange=function(){},s.test(e.request.status)?t(e.request,e.request.status):(t(e.request,e.request.status),n("response_code"))):void 0}},a=function(e,n){var i,o,r;o=n.headers||{},o.Accept||(o.Accept=t.accept.json),o["Content-Type"]||(o["Content-Type"]=t.contentType),r=[];for(i in o)u.call(o,i)&&r.push("setRequestHeader"in e?e.setRequestHeader(i,o[i]):void 0);return r},l=function(e,t){return/\?/.test(e)?e+"&"+t:e+"?"+t},n=function(e,t){var n,o,r,s,u,c,d,p;return u=this.o,s=(u.method||"GET").toUpperCase(),c=u.url,r=null!=(d=u.data)?d.key:void 0,n=Stripe.utils.serialize(u.data),o=void 0,"GET"===s&&n&&(c=l(c,n),n=null),p=new XMLHttpRequest,p.open(s,c,!0),a(p,u),p.onreadystatechange=i(this,e,t),p.send(n),p},e=function(e){return this.o=e,o.apply(this,arguments)},o=function(e){var t,i,o,s=this;return this.url=e.url,this.timeout=null,this._successHandler=function(){},this._errorHandlers=[],this._completeHandlers=[],e.timeout&&(this.timeout=setTimeout(function(){return s.abort()},e.timeout)),e.success&&(this._successHandler=function(){return e.success.apply(e,arguments)}),e.error&&this._errorHandlers.push(function(){return e.error.apply(e,arguments)}),e.complete&&this._completeHandlers.push(function(){return e.complete.apply(e,arguments)}),t=function(t){var n;for(e.timeout&&clearTimeout(s.timeout),s.timeout=null,n=[];s._completeHandlers.length>0;)n.push(s._completeHandlers.shift()("success",t,e));return n},o=function(e,n){var o;if(o=e.responseText)try{e=Stripe.utils.parseJSON(o)}catch(a){i(r)}return s._successHandler(e,n),t(e)},i=function(e){var n,i;if(i=s.request,n=i.responseText)try{i=Stripe.utils.parseJSON(n)}catch(o){e=r}for(;s._errorHandlers.length>0;)s._errorHandlers.shift()(i,e);return t(i)},this.request=n.call(this,o,i)},e.prototype={abort:function(){return this._aborted=!0,this.request.abort()}},this.Stripe.xhr=function(t){return new e(t)}}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.validator={"boolean":function(e,t){return"true"!==t&&"false"!==t?"Enter a boolean string (true or false)":void 0},integer:function(e,t){return/^\d+$/.test(t)?void 0:"Enter an integer"},positive:function(e,t){return!this.integer(e,t)&&parseInt(t,10)>0?void 0:"Enter a positive value"},range:function(t,n){var i;return i=parseInt(n,10),e.call(t,i)<0?"Needs to be between "+t[0]+" and "+t[t.length-1]:void 0},required:function(e,t){return!e||null!=t&&""!==t?void 0:"Required"},year:function(e,t){return/^\d{4}$/.test(t)?void 0:"Enter a 4-digit year"},birthYear:function(e,t){var n;return n=this.year(e,t),n?n:parseInt(t,10)>2e3?"You must be over 18":parseInt(t,10)<1900?"Enter your birth year":void 0},month:function(e,t){return this.integer(e,t)?"Please enter a month":this.range([1,2,3,4,5,6,7,8,9,10,11,12],t)?"Needs to be between 1 and 12":void 0},choices:function(t,n){return e.call(t,n)<0?"Not an acceptable value for this field":void 0},email:function(e,t){return/^[^@<\s>]+@[^@<\s>]+$/.test(t)?void 0:"That doesn't look like an email address"},url:function(e,t){return/^https?:\/\/.+\..+/.test(t)?void 0:"Not a valid url"},usTaxID:function(e,t){return/^\d{2}-?\d{1}-?\d{2}-?\d{4}$/.test(t)?void 0:"Not a valid tax ID"},ein:function(e,t){return/^\d{2}-?\d{7}$/.test(t)?void 0:"Not a valid EIN"},ssnLast4:function(e,t){return/^\d{4}$/.test(t)?void 0:"Not a valid last 4 digits for an SSN"},ownerPersonalID:function(e,t){var n;return n=function(){switch(e){case"CA":return/^\d{3}-?\d{3}-?\d{3}$/.test(t);case"US":return!0}}(),n?void 0:"Not a valid ID"},bizTaxID:function(e,t){var n,i,o,r,s,a,l,u;if(a={CA:["Tax ID",[/^\d{9}$/]],US:["EIN",[/^\d{2}-?\d{7}$/]]},s=a[e],null!=s){for(n=s[0],r=s[1],i=!1,l=0,u=r.length;u>l;l++)if(o=r[l],o.test(t)){i=!0;break}if(!i)return"Not a valid "+n}},zip:function(e,t){var n;return n=function(){switch(e.toUpperCase()){case"CA":return/^[\d\w]{6}$/.test(null!=t?t.replace(/\s+/g,""):void 0);case"US":return/^\d{5}$/.test(t)||/^\d{9}$/.test(t)}}(),n?void 0:"Not a valid zip"},bankAccountNumber:function(e,t){return/^\d{1,17}$/.test(t)?void 0:"Invalid bank account number"},usRoutingNumber:function(e){var t,n,i,o,r,s,a;if(!/^\d{9}$/.test(e))return"Routing number must have 9 digits";for(r=0,t=s=0,a=e.length-1;a>=s;t=s+=3)n=3*parseInt(e.charAt(t),10),i=7*parseInt(e.charAt(t+1),10),o=parseInt(e.charAt(t+2),10),r+=n+i+o;return 0===r||r%10!==0?"Invalid routing number":void 0},caRoutingNumber:function(e){return/^\d{5}\-\d{3}$/.test(e)?void 0:"Invalid transit number"},routingNumber:function(e,t){switch(e.toUpperCase()){case"CA":return this.caRoutingNumber(t);case"US":return this.usRoutingNumber(t)}},phoneNumber:function(e,t){var n;return n=t.replace(/[^0-9]/g,""),10!==n.length?"Invalid phone number":void 0},bizDBA:function(e,t){return/^.{1,23}$/.test(t)?void 0:"Statement descriptors can only have up to 23 characters"},nameLength:function(e,t){return 1===t.length?"Names need to be longer than one character":void 0}}}.call(this),function(){this.Stripe.stripejs_ua="stripe.js/15d3aa9"}.call(this),!function(e,t,n){"use strict";(function(){t.module("uiGmapgoogle-maps.providers",[]),t.module("uiGmapgoogle-maps.wrapped",[]),t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),t.module("uiGmapgoogle-maps.directives.api.managers",[]),t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),t.module("uiGmapgoogle-maps.directives.api.options.builders",[]),t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"]).factory("uiGmapdebounce",["$timeout",function(e){return function(t){var n;return n=0,function(){var i,o,r;return r=this,i=arguments,n++,o=function(e){return function(){return e===n?t.apply(r,i):void 0}}(n),e(o,0,!0)}}}])}).call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(n,i){var o,r;return r=void 0,o=function(e){return e.china?"http://maps.google.cn/maps/api/js?":"https://maps.googleapis.com/maps/api/js?"},{load:function(s){var a,l,u,c;return a=n.defer(),t.isDefined(e.google)&&t.isDefined(e.google.maps)?(a.resolve(e.google.maps),a.promise):(u=s.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),e[u]=function(){e[u]=null,a.resolve(e.google.maps)},l=_.map(s,function(e,t){return t+"="+e}),r&&document.getElementById(r).remove(),l=l.join("&"),c=document.createElement("script"),r="ui_gmap_map_load_"+i.generate(),c.id=r,c.type="text/javascript",c.src=o(s)+l,document.body.appendChild(c),a.promise)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={china:!1,v:"3.17",libraries:"",language:"en",sensor:"false"},this.configure=function(e){t.extend(this.options,e)},this.$get=["uiGmapMapScriptLoader",function(e){return function(t){return t.load(e.options)}}(this)],this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){return google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow?(google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(e,t,n){null==n&&(this._isOpen=!0,this._open(e,t,!0))},google.maps.InfoWindow.prototype.close=function(e){null==e&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},e.InfoBox&&(e.InfoBox.prototype._open=e.InfoBox.prototype.open,e.InfoBox.prototype._close=e.InfoBox.prototype.close,e.InfoBox.prototype._isOpen=!1,e.InfoBox.prototype.open=function(e,t){this._isOpen=!0,this._open(e,t)},e.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},e.InfoBox.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e}),e.MarkerLabel_?(e.MarkerLabel_.prototype.setContent=function(){var e;e=this.marker_.get("labelContent"),e&&!_.isEqual(this.oldContent,e)&&("undefined"==typeof(null!=e?e.nodeType:void 0)?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=e):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.appendChild(e),this.oldContent=e))},e.MarkerLabel_.prototype.onRemove=function(){null!=this.labelDiv_.parentNode&&this.labelDiv_.parentNode.removeChild(this.labelDiv_),null!=this.eventDiv_.parentNode&&this.eventDiv_.parentNode.removeChild(this.eventDiv_),this.listeners_&&this.listeners_.length&&this.listeners_.forEach(function(e){return google.maps.event.removeListener(e)})}):void 0):void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){return this.intersectionObjects=function(e,t,n){var i;return null==n&&(n=void 0),i=_.map(e,function(){return function(e){return _.find(t,function(t){return null!=n?n(e,t):_.isEqual(e,t)})}}(this)),_.filter(i,function(e){return null!=e})},this.containsObject=_.includeObject=function(e,t,n){return null==n&&(n=void 0),null===e?!1:_.any(e,function(){return function(e){return null!=n?n(e,t):_.isEqual(e,t)}}(this))},this.differenceObjects=function(e,t,n){return null==n&&(n=void 0),_.filter(e,function(e){return function(i){return!e.containsObject(t,i,n)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(e,t,n,i){var o,r;if(null==e)return-1;if(o=0,r=e.length,i){if("number"!=typeof i)return o=_.sortedIndex(e,t),e[o]===t?o:-1;o=0>i?Math.max(0,r+i):i}for(;r>o;){if(null!=n){if(n(e[o],t))return o}else if(_.isEqual(e[o],t))return o;o++}return-1},this["extends"]=function(e){return _.reduce(e,function(e,t){return _.extend(e,t)},{})},this.isNullOrUndefined=function(e){return _.isNull(e||_.isUndefined(e))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(e){return this.contains=function(t,n){return-1!==e.indexOf(t,n)},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var e;return e=void 0,{then:function(t){return e=t},resolve:function(){return e.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(e,t,n,i,o,r){var s,a,l,u,c,d,p,h,f,g,m,v,b,y,w,$,k;return $=t.promiseTypes,f=t.isInProgress,w=t.promiseStatus,s=t.ExposedPromise,l=t.SniffedPromise,g=function(e,t){var i;return i=e.promise(),i.promiseType=e.promiseType,i.$$state&&n.debug("promiseType: "+i.promiseType+", state: "+w(i.$$state.status)),i.cancelCb=t,i},d=function(e,t){return e.promiseType===$.create&&t.promiseType!==$["delete"]&&t.promiseType!==$.init?(n.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+e.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},y=function(e,t,i){var o;return t.promiseType===$["delete"]&&i.promiseType!==$["delete"]&&null!=i.cancelCb&&_.isFunction(i.cancelCb)&&f(i)&&(n.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+i.promiseType),i.cancelCb("cancel safe"),o=e.peek(),null!=o&&f(o))?o.hasOwnProperty("cancelCb")&&_.isFunction(o.cancelCb)?(n.debug("promiseType: "+o.promiseType+", CANCELING FIRST PROMISE type: "+o.promiseType),o.cancelCb("cancel safe")):n.warn("first promise was not cancelable"):void 0},a=function(e,t,n){var i,r;if(e.existingPieces){if(i=_.last(e.existingPieces._content),d(t,i))return;return y(e.existingPieces,t,i),r=s(i["finally"](function(){return g(t,n)})),r.cancelCb=n,r.promiseType=t.promiseType,e.existingPieces.enqueue(r),i["finally"](function(){return e.existingPieces.dequeue()})}return e.existingPieces=new o.Queue,e.existingPieces.enqueue(g(t,n))},v=function(e,t,i,o,r){var s;return null==i&&(i=""),s=function(e){return n.debug(""+e+": "+e),o(e)},a(e,l(r,t),s)},u=80,h={value:null},k=function(e,t,n){var i;try{return e.apply(t,n)}catch(o){return i=o,h.value=i,h}},m=function(e,t,i,o){var r,s;return s=k(e,t,o),s===h&&(r="error within chunking iterator: "+h.value,n.error(r),i.reject(r)),"cancel safe"===s?!1:!0},c=function(t,n,i,o,r,s,a){var l,u,d;for(l=n&&n<t.length?n:t.length,u=a,d=!0;d&&l--&&u<(t?t.length:u+1);)d=m(o,void 0,s,[t[u],u]),++u;if(t){if(!(d&&u<t.length))return s.resolve();if(a=u,n)return null!=r&&_.isFunction(r)&&m(r,void 0,s,[]),e(function(){return c(t,n,i,o,r,s,a)},i,!1)}},p=function(e,i,o,r,s,a){var l,d,p;return null==o&&(o=u),null==s&&(s=0),null==a&&(a=1),p=void 0,d=t.defer(),p=d.promise,a?void 0===e||(null!=e?e.length:void 0)<=0?(d.resolve(),p):(c(e,o,a,i,r,d,s),p):(l="pause (delay) must be set from _async!",n.error(l),d.reject(l),p)},b=function(e,n,i,o,r,s){var a;return a=[],null!=e&&(null!=e?e.length:void 0)>0?p(e,function(e){return a.push(n(e))},i,o,r,s).then(function(){return a}):t.resolve(a)},{each:p,map:b,managePromiseQueue:v,promiseLock:v,defaultChunkSize:u,chunkSizeFrom:function(e,t){return null==t&&(t=void 0),_.isNumber(e)&&(t=e),(r.isFalse(e)||e===!1)&&(t=!1),t}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t,n;return n=["extended","included"],t=function(){function t(){}return t.extend=function(t){var i,o,r;for(i in t)o=t[i],e.call(n,i)<0&&(this[i]=o);return null!=(r=t.extended)&&r.apply(this),this},t.include=function(t){var i,o,r;for(i in t)o=t[i],e.call(n,i)<0&&(this.prototype[i]=o);return null!=(r=t.included)&&r.apply(this),this},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(e){var t;return t={handle:function(n){return n.$on("$destroy",function(){return t.handle(n)}),n.deferred=e.defer(),{getScope:function(){return n}}},mapPromise:function(e,t){var n;return n=t.getScope(),n.deferred.promise.then(function(t){return e.map=t}),n.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(){return{setEvents:function(e,n,i,o){return t.isDefined(n.events)&&null!=n.events&&t.isObject(n.events)?_.compact(_.map(n.events,function(r,s){var a;return o&&(a=_(o).contains(s)),n.events.hasOwnProperty(s)&&t.isFunction(n.events[s])&&!a?google.maps.event.addListener(e,s,function(){return n.$evalAsync||(n.$evalAsync=function(){}),n.$evalAsync(r.apply(n,[e,s,i,arguments]))}):void 0})):void 0},removeEvents:function(e){return e?e.forEach(function(e){return e?google.maps.event.removeListener(e):void 0}):void 0}}}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapFitHelper",["uiGmapBaseObject","uiGmapLogger","uiGmap_async",function(e,t,i){var o;return o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.fit=function(e,t){var n,o;return t&&e&&e.length>0?(n=new google.maps.LatLngBounds,o=!1,i.each(e,function(){return function(e){return e?(o||(o=!0),n.extend(e.getPosition())):void 0}}(this)).then(function(){return o?t.fitBounds(n):void 0})):void 0},t}(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(e,n){var i,o,r,s,a,l;return l=function(e,t,n){return e===t||-1!==n.indexOf(e)},a=function(e){return l(e,!1,["false","FALSE",0,"n","N","no","NO"])},o=function(e){return Array.isArray(e)&&2===e.length?e[1]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[1]:e.latitude},r=function(e){return Array.isArray(e)&&2===e.length?e[0]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[0]:e.longitude},i=function(e){return e?Array.isArray(e)&&2===e.length?new google.maps.LatLng(e[1],e[0]):t.isDefined(e.type)&&"Point"===e.type?new google.maps.LatLng(e.coordinates[1],e.coordinates[0]):new google.maps.LatLng(e.latitude,e.longitude):void 0},s=function(e){if(t.isUndefined(e))return!1;if(_.isArray(e)){if(2===e.length)return!0}else if(null!=e&&(null!=e?e.type:void 0)&&"Point"===e.type&&_.isArray(e.coordinates)&&2===e.coordinates.length)return!0;return e&&t.isDefined((null!=e?e.latitude:void 0)&&t.isDefined(null!=e?e.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(e,n){return e?(Array.isArray(e)&&2===e.length?(e[1]=n.lat(),e[0]=n.lng()):t.isDefined(e.type)&&"Point"===e.type?(e.coordinates[1]=n.lat(),e.coordinates[0]=n.lng()):(e.latitude=n.lat(),e.longitude=n.lng()),e):void 0},getLabelPositionPoint:function(e){var t,n;return void 0===e?void 0:(e=/^([-\d\.]+)\s([-\d\.]+)$/.exec(e),t=parseFloat(e[1]),n=parseFloat(e[2]),null!=t&&null!=n?new google.maps.Point(t,n):void 0)},createWindowOptions:function(o,r,s,a){var l;return null!=s&&null!=a&&null!=n?(l=t.extend({},a,{content:this.buildContent(r,a,s),position:null!=a.position?a.position:t.isObject(o)?o.getPosition():i(r.coords)}),null!=o&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):a?a:(e.error("infoWindow defaults not defined"),s?void 0:e.error("infoWindow content not defined"))},buildContent:function(e,t,i){var o,r;return null!=t.content?r=t.content:null!=n?(i=i.replace(/^\s+|\s+$/g,""),o=""===i?"":n(i)(e),o.length>0&&(r=o[0])):r=i,r},defaultDelay:50,isTrue:function(e){return l(e,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:a,isFalsy:function(e){return l(e,!1,[void 0,null])||a(e)},getCoords:i,validateCoords:s,equalCoords:function(e,t){return o(e)===o(t)&&r(e)===r(t)},validatePath:function(e){var n,i,o,r;if(i=0,t.isUndefined(e.type)){if(!Array.isArray(e)||e.length<2)return!1;for(;i<e.length;){if(!(t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)||"function"==typeof e[i].lat&&"function"==typeof e[i].lng))return!1;i++}return!0}if(t.isUndefined(e.coordinates))return!1;if("Polygon"===e.type){if(e.coordinates[0].length<4)return!1;n=e.coordinates[0]}else if("MultiPolygon"===e.type){if(r={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},r),o=e.coordinates[r.index],n=o[0],n.length<4)return!1}else{if("LineString"!==e.type)return!1;if(e.coordinates.length<2)return!1;n=e.coordinates}for(;i<n.length;){if(2!==n[i].length)return!1;i++}return!0},convertPathPoints:function(e){var n,i,o,r,s;if(i=0,r=new google.maps.MVCArray,t.isUndefined(e.type))for(;i<e.length;)t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)?o=new google.maps.LatLng(e[i].latitude,e[i].longitude):"function"==typeof e[i].lat&&"function"==typeof e[i].lng&&(o=e[i]),r.push(o),i++;else for("Polygon"===e.type?n=e.coordinates[0]:"MultiPolygon"===e.type?(s={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},s),n=e.coordinates[s.index][0]):"LineString"===e.type&&(n=e.coordinates);i<n.length;)r.push(new google.maps.LatLng(n[i][1],n[i][0])),i++;return r},extendMapBounds:function(e,t){var n,i;for(n=new google.maps.LatLngBounds,i=0;i<t.length;)n.extend(t.getAt(i)),i++;return e.fitBounds(n)},getPath:function(e,t){var n;return null!=t&&_.isString(t)?(n=e,_.each(t.split("."),function(e){return n?n=n[e]:void 0}),n):t},validateBoundPoints:function(e){return t.isUndefined(e.sw.latitude)||t.isUndefined(e.sw.longitude)||t.isUndefined(e.ne.latitude)||t.isUndefined(e.ne.longitude)?!1:!0},convertBoundPoints:function(e){var t;return t=new google.maps.LatLngBounds(new google.maps.LatLng(e.sw.latitude,e.sw.longitude),new google.maps.LatLng(e.ne.latitude,e.ne.longitude))},fitMapBounds:function(e,t){return e.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(e,t){var n,i,o;return n=0,o=[],i=function(){return e.all(o)},{spawn:function(){var t;return t=e.defer(),o.push(t.promise),n+=1,{instance:n,deferred:t}},promises:i,instances:function(){return n},promise:function(o){var r,s;return null==o&&(o=1),r=e.defer(),s=function(){return t(function(){return n!==o?s():r.resolve(i())})},s(),r.promise},reset:function(){return n=0,o.length=0}}}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(e){var t;return t=function(e){function t(e,t,n,i){this.scope=e,this.element=t,this.attrs=n,this.ctrls=i}return n(t,e),t}(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["$log",function(e){var t,n,i,o;return t={log:1,info:2,debug:3,warn:4,error:5,none:6},o=function(e,t,n){return e>=t?n():void 0},i=function(t,n){return null!=e?e[t](n):console[t](n)},new(n=function(){function n(){var e;this.doLog=!0,e={},["log","info","debug","warn","error"].forEach(function(n){return function(r){return e[r]=function(e){return n.doLog?o(t[r],n.currentLevel,function(){return i(r,e)}):void 0}}}(this)),this.LEVELS=t,this.currentLevel=t.error,this.log=e.log,this.info=e.info,this.debug=e.debug,this.warn=e.warn,this.error=e.error}return n.prototype.spawn=function(){return new n},n.prototype.setLog=function(t){return e=t},n}())}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapPromise","$q","$timeout",function(t,n){var o;return o=function(t){function o(t){this.scope=t,this.destroy=e(this.destroy,this),this.setChildScope=e(this.setChildScope,this),this.getChanges=e(this.getChanges,this),this.getProp=e(this.getProp,this),this.setIdKey=e(this.setIdKey,this),this.modelKeyComparison=e(this.modelKeyComparison,this),o.__super__.constructor.call(this),this["interface"]={},this["interface"].scopeKeys=[],this.defaultIdKey="id",this.idKey=void 0}return i(o,t),o.prototype.evalModelHandle=function(e,t){return null!=e&&null!=t?"self"===t?e:(_.isFunction(t)&&(t=t()),n.getPath(e,t)):void 0},o.prototype.modelKeyComparison=function(e,t){var i,o,r;if(i=_.contains(this["interface"].scopeKeys,"coords"),(i&&null!=this.scope.coords||!i)&&(r=this.scope),null==r)throw"No scope set!";return i&&(o=n.equalCoords(this.evalModelHandle(e,r.coords),this.evalModelHandle(t,r.coords)),!o)?o:o=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(i){return n.evalModelHandle(e,r[i])===n.evalModelHandle(t,r[i])}}(this))},o.prototype.setIdKey=function(e){return this.idKey=null!=e.idKey?e.idKey:this.defaultIdKey},o.prototype.setVal=function(e,t,n){var i;return i=this.modelOrKey(e,t),i=n,e},o.prototype.modelOrKey=function(e,t){return null!=t?"self"!==t?e[t]:e:void 0},o.prototype.getProp=function(e,t){return this.modelOrKey(t,e)},o.prototype.getChanges=function(e,t,n){var i,o,r;n&&(t=_.pick(t,n),e=_.pick(e,n)),o={},r={},i={};for(r in e)t&&t[r]===e[r]||(_.isArray(e[r])?o[r]=e[r]:_.isObject(e[r])?(i=this.getChanges(e[r],t?t[r]:null),_.isEmpty(i)||(o[r]=i)):o[r]=e[r]);return o},o.prototype.scopeOrModelVal=function(e,t,n,i){var o,r,s,a;return null==i&&(i=!1),o=function(e,t,n){return null==n&&(n=!1),n?{isScope:e,value:t}:t},a=t[e],_.isFunction(a)?o(!0,a(n),i):_.isObject(a)?o(!0,a,i):_.isString(a)?(r=a,s=r?"self"===r?n:n[r]:n[e],_.isFunction(s)?o(!1,s(),i):o(!1,s,i)):o(!0,a,i)},o.prototype.setChildScope=function(e,t,n){return _.each(e,function(e){return function(i){var o,r;return o=e.scopeOrModelVal(i,t,n,!0),o.isScope||(r=o.value,r===t[i])?void 0:t[i]=r}}(this)),t.model=n},o.prototype.destroy=function(e){var t;return null==e&&(e=!1),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?this.clean():this.scope.$destroy()},o}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(e,t,n,i){return{didQueueInitPromise:function(e,n){return 0===n.models.length?(t.promiseLock(e,i.promiseTypes.init,null,null,function(){return function(){return i.resolve()}}(this)),!0):!1},figureOutState:function(t,n,i,o){var r,s,a,l,u;return r=[],a={},l=[],u=[],n.models.forEach(function(n){var s;return null==n[t]?e.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(a[n[t]]={},null==i.get(n[t])?r.push(n):(s=i.get(n[t]),o(n,s.clonedModel)?void 0:u.push({model:n,child:s})))}),s=i.values(),s.forEach(function(n){var i;return null==n?void e.error("child undefined in ModelsWatcher."):null==n.model?void e.error("child.model undefined in ModelsWatcher."):(i=n.model[t],null==a[i]?l.push(n):void 0)}),{adds:r,removals:l,updates:u}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(e,t,n){var i,o,r,s,a,l,u,c,d,p,h;return d={create:"create",update:"update","delete":"delete",init:"init"},c={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},h=function(){var e;return e={},e[""+c.IN_PROGRESS]="in-progress",e[""+c.RESOLVED]="resolved",e[""+c.REJECTED]="rejected",e}(),s=function(e){return e.$$state?e.$$state.status===c.IN_PROGRESS:e.hasOwnProperty("$$v")?void 0:!0},a=function(e){return e.$$state?e.$$state.status===c.RESOLVED:e.hasOwnProperty("$$v")?!0:void 0},u=function(e){return h[e]||"done w error"},i=function(t){var n,i,o;return n=e.defer(),i=e.all([t,n.promise]),o=e.defer(),t.then(n.resolve,function(){},function(e){return n.notify(e),o.notify(e)}),i.then(function(e){return o.resolve(e[0]||e[1])},function(e){return o.reject(e)}),o.promise.cancel=function(e){return null==e&&(e="canceled"),n.reject(e)},o.promise.notify=function(e){return null==e&&(e="cancel safe"),o.notify(e),t.hasOwnProperty("notify")?t.notify(e):void 0},null!=t.promiseType&&(o.promise.promiseType=t.promiseType),o.promise},o=function(e,t){return{promise:e,promiseType:t}},r=function(){return e.defer()},p=function(){var t;return t=e.defer(),t.resolve.apply(void 0,arguments),t.promise},l=function(i){var o;return _.isFunction(i)?(o=e.defer(),t(function(){var e;return e=i(),o.resolve(e)}),o.promise):void n.error("uiGmapPromise.promise() only accepts functions")},{defer:r,promise:l,resolve:p,promiseTypes:d,isInProgress:s,isResolved:a,promiseStatus:u,ExposedPromise:i,SniffedPromise:o}}])}.call(this),function(){var n,i=function(e,t){return function(){return e.apply(t,arguments)}};n=["get","put","remove","values","keys","length","push","didValueStateChange","didKeyStateChange","slice","removeAll","allVals","allKeys","stateChanged"],e.PropMap=function(){function e(){this.removeAll=i(this.removeAll,this),this.slice=i(this.slice,this),this.push=i(this.push,this),this.keys=i(this.keys,this),this.values=i(this.values,this),this.remove=i(this.remove,this),this.put=i(this.put,this),this.stateChanged=i(this.stateChanged,this),this.get=i(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return e.prototype.get=function(e){return this.dict[e]},e.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},e.prototype.put=function(e,t){return null==this.get(e)&&this.length++,this.stateChanged(),this.dict[e]=t},e.prototype.remove=function(e,t){var n;return null==t&&(t=!1),t&&!this.get(e)?void 0:(n=this.dict[e],delete this.dict[e],this.length--,this.stateChanged(),n)},e.prototype.valuesOrKeys=function(e){var t,n;return null==e&&(e="Keys"),this["did"+e+"StateChange"]?(n=[],t=[],_.each(this.dict,function(e,i){return n.push(e),t.push(i)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=n,this.allKeys=t,this["all"+e]):this["all"+e]},e.prototype.values=function(){return this.valuesOrKeys("Vals")},e.prototype.keys=function(){return this.valuesOrKeys()
},e.prototype.push=function(e,t){return null==t&&(t="key"),this.put(e[t],e)},e.prototype.slice=function(){return this.keys().map(function(e){return function(t){return e.remove(t)}}(this))},e.prototype.removeAll=function(){return this.slice()},e.prototype.each=function(e){return _.each(this.dict,function(t){return e(t)})},e.prototype.map=function(e){return _.map(this.dict,function(t){return e(t)})},e}(),t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){return e.PropMap})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(){var e;return e=function(e){return this.setIfChange=function(t,n){var i;return i=this.exp,_.isEqual(n,t)?void 0:e(i,t)},this.sic=this.setIfChange,this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(n,o,r){var s;return s=function(o){function s(t,i,o,a){null==i&&(i={}),this.opt_options=null!=o?o:{},this.opt_events=a,this.checkSync=e(this.checkSync,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),s.__super__.constructor.call(this),this.type=s.type,this.clusterer=new NgMapMarkerClusterer(t,i,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return i(s,o),s.type="ClustererMarkerManager",s.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",Logger.error(t)):void 0},s.prototype.add=function(e){return this.checkKey(e),this.clusterer.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},s.prototype.update=function(e){return this.remove(e),this.add(e)},s.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},s.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(this.clusterer.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},s.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},s.prototype.draw=function(){return this.clusterer.repaint()},s.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},s.prototype.attachEvents=function(e,i){var o,r,s;if(t.isDefined(e)&&null!=e&&t.isObject(e)){s=[];for(r in e)o=e[r],e.hasOwnProperty(r)&&t.isFunction(e[r])?(n.info(""+i+": Attaching event: "+r+" to clusterer"),s.push(google.maps.event.addListener(this.clusterer,r,e[r]))):s.push(void 0);return s}},s.prototype.clearEvents=function(e){var i,o,r;if(t.isDefined(e)&&null!=e&&t.isObject(e)){r=[];for(o in e)i=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])?(n.info(""+optionsName+": Clearing event: "+o+" to clusterer"),r.push(google.maps.event.clearListeners(this.clusterer,o))):r.push(void 0);return r}},s.prototype.destroy=function(){return this.clearEvents(this.opt_events),this.clearEvents(this.opt_internal_events),this.clear()},s.prototype.fit=function(){return s.__super__.fit.call(this,this.getGMarkers(),this.clusterer.getMap())},s.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},s.prototype.checkSync=function(){},s}(o)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,n,o){var r;return r=function(r){function s(n){this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.handleOptDraw=e(this.handleOptDraw,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),s.__super__.constructor.call(this),this.type=s.type,this.gMap=n,this.gMarkers=new o,this.$log=t,this.$log.info(this)}return i(s,r),s.include(n),s.type="MarkerManager",s.prototype.add=function(e,n){var i,o;if(null==n&&(n=!0),null==e.key)throw o="gMarker.key undefined and it is REQUIRED!!",t.error(o),o;return i=this.gMarkers.get(e.key),i?void 0:(this.handleOptDraw(e,n,!0),this.gMarkers.put(e.key,e))},s.prototype.update=function(e,t){return null==t&&(t=!0),this.remove(e,t),this.add(e,t)},s.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},s.prototype.remove=function(e,t){return null==t&&(t=!0),this.handleOptDraw(e,t,!1),this.gMarkers.get(e.key)?this.gMarkers.remove(e.key):void 0},s.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},s.prototype.draw=function(){var e;return e=[],this.gMarkers.each(function(t){return function(n){return n.isDrawn?void 0:n.doAdd?(n.setMap(t.gMap),n.isDrawn=!0):e.push(n)}}(this)),e.forEach(function(e){return function(t){return t.isDrawn=!1,e.remove(t,!0)}}(this))},s.prototype.clear=function(){return this.gMarkers.each(function(e){return e.setMap(null)}),delete this.gMarkers,this.gMarkers=new o},s.prototype.handleOptDraw=function(e,t,n){return t===!0?(e.setMap(n?this.gMap:null),e.isDrawn=!0):(e.isDrawn=!1,e.doAdd=n)},s.prototype.fit=function(){return s.__super__.fit.call(this,this.getGMarkers(),this.gMap)},s.prototype.getGMarkers=function(){return this.gMarkers.values()},s}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(e){var n,i;return n=function(t,n,i){return google.maps.event.addListener(t,n,function(){return i.apply(this,arguments),e(function(){},!0)})},i=function(e,i,o){var r;return o?n(e,i,o):(r=[],t.forEach(i,function(t,i){return r.push(n(e,i,t))}),function(){return t.forEach(r,function(e){return google.maps.event.removeListener(e)}),r=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(e){return function(n,i,o,r){var s,a,l,u,c,d,p,h,f;return u=!1,h=i.$eval(o),i["static"]||(c={set_at:function(e){var t;return!u&&(t=n.getAt(e))?t.lng&&t.lat?(h[e].latitude=t.lat(),h[e].longitude=t.lng()):h[e]=t:void 0},insert_at:function(e){var t;return!u&&(t=n.getAt(e))?t.lng&&t.lat?h.splice(e,0,{latitude:t.lat(),longitude:t.lng()}):h.splice(e,0,t):void 0},remove_at:function(e){return u?void 0:h.splice(e,1)}},"Polygon"===h.type?s=h.coordinates[0]:"LineString"===h.type&&(s=h.coordinates),a={set_at:function(e){var t;return!u&&(t=n.getAt(e),t&&t.lng&&t.lat)?(s[e][1]=t.lat(),s[e][0]=t.lng()):void 0},insert_at:function(e){var t;return!u&&(t=n.getAt(e),t&&t.lng&&t.lat)?s.splice(e,0,[t.lng(),t.lat()]):void 0},remove_at:function(e){return u?void 0:s.splice(e,1)}},p=e(n,t.isUndefined(h.type)?c:a)),d=function(e){var t,i,o,s,a,l,c,d;if(u=!0,l=n,t=!1,e){for(i=0,c=l.getLength(),s=e.length,o=Math.min(c,s),a=void 0;o>i;)d=l.getAt(i),a=e[i],"function"==typeof a.equals?a.equals(d)||(l.setAt(i,a),t=!0):(d.lat()!==a.latitude||d.lng()!==a.longitude)&&(l.setAt(i,new google.maps.LatLng(a.latitude,a.longitude)),t=!0),i++;for(;s>i;)a=e[i],l.push("function"==typeof a.lat&&"function"==typeof a.lng?a:new google.maps.LatLng(a.latitude,a.longitude)),t=!0,i++;for(;c>i;)l.pop(),t=!0,i++}return u=!1,t?r(l):void 0},l=function(e){var t,i,o,s,a,l,c,d,p;if(u=!0,c=n,i=!1,e){for("Polygon"===h.type?t=e.coordinates[0]:"LineString"===h.type&&(t=e.coordinates),o=0,d=c.getLength(),a=t.length,s=Math.min(d,a),l=void 0;s>o;)p=c.getAt(o),l=t[o],(p.lat()!==l[1]||p.lng()!==l[0])&&(c.setAt(o,new google.maps.LatLng(l[1],l[0])),i=!0),o++;for(;a>o;)l=t[o],c.push(new google.maps.LatLng(l[1],l[0])),i=!0,o++;for(;d>o;)c.pop(),i=!0,o++}return u=!1,i?r(c):void 0},i["static"]||(f=t.isUndefined(h.type)?i.$watchCollection(o,d):i.$watch(o,l,!0)),function(){return p&&(p(),p=null),f?(f(),f=null):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(e){return{maybeRepaint:function(t){return t?(t.style.opacity=.9,e(function(){return t.style.opacity=1})):void 0}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(n,o,r){var s;return s=function(n){function r(){this.watchProps=e(this.watchProps,this),this.buildOpts=e(this.buildOpts,this),this.hasModel=_(this.scope).chain().keys().contains("model").value()}return i(r,n),r.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],r.prototype.buildOpts=function(e,n){var i,r,s;return null==e&&(e={}),null==n&&(n={}),this.scope?this.map?(i=this.hasModel?this.scope.model:this.scope,s=this.scopeOrModelVal("stroke",this.scope,i),r=t.extend(e,this.DEFAULTS,{map:this.map,strokeColor:null!=s?s.color:void 0,strokeOpacity:null!=s?s.opacity:void 0,strokeWeight:null!=s?s.weight:void 0}),t.forEach(t.extend(n,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(e){return function(n,o){var s;return s=e.scopeOrModelVal(o,e.scope,i),r[o]=t.isUndefined(s)?n:i[o]}}(this)),r["static"]&&(r.editable=!1),r):void o.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void o.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},r.prototype.watchProps=function(e){return null==e&&(e=this.props),e.forEach(function(e){return function(t){return null!=e.attrs[t]||null!=e.attrs[null!=t?t.prop:void 0]?(null!=t?t.isColl:void 0)?e.scope.$watchCollection(t.prop,e.setMyOptions):e.scope.$watch(t,e.setMyOptions):void 0}}(this))},r}(r)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.buildOpts=function(e){return t.__super__.buildOpts.call(this,{path:e},{geodesic:!1})},t}(e)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(e){var i;return i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.buildOpts=function(e,n){var o,r;return r=this.hasModel?this.scope.model:this.scope,o=this.scopeOrModelVal("fill",this.scope,r),e=t.extend(e,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),i.__super__.buildOpts.call(this,e,n)},i}(e)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.buildOpts=function(e){return t.__super__.buildOpts.call(this,{path:e},{geodesic:!1})},t}(e)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.buildOpts=function(e){return t.__super__.buildOpts.call(this,{bounds:e})},t}(e)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.buildOpts=function(e,n){return t.__super__.buildOpts.call(this,{center:e,radius:n})},t}(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(e,n){return _.extend(n,{createOptions:function(e,i,o,r){var s;return null==o&&(o={}),s=t.extend({},o,{position:null!=o.position?o.position:n.getCoords(e),visible:null!=o.visible?o.visible:n.validateCoords(e)}),(null!=o.icon||null!=i)&&(s=t.extend(s,{icon:null!=o.icon?o.icon:i})),null!=r&&(s.map=r),s},isLabel:function(e){return null==e?!1:null!=e.labelContent||null!=e.labelAnchor||null!=e.labelClass||null!=e.labelStyle||null!=e.labelVisible}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(n,o,r,s,a){return function(n,o){var l;return l=function(n){function l(n,i,s,l,u){var c;this.scope=n,this.attrs=i,this.map=s,this.defaults=l,this.model=u,this.clean=e(this.clean,this),this.clonedModel=_.clone(this.model,!0),this.isDragging=!1,this.internalEvents={dragend:function(e){return function(){return _.defer(function(){return e.isDragging=!1})}}(this),dragstart:function(e){return function(){return e.isDragging=!0}}(this)},c=function(e){return function(){var i;return e.isDragging?void 0:(i=e.convertPathPoints(e.scope.path),null!=e.gObject&&e.clean(),i.length>0&&(e.gObject=o(e.buildOpts(i))),e.gObject?(e.scope.fit&&e.extendMapBounds(s,i),r(e.gObject.getPath(),e.scope,"path",function(t){return e.scope.fit?e.extendMapBounds(s,t):void 0}),t.isDefined(n.events)&&t.isObject(n.events)&&(e.listeners=e.model?a.setEvents(e.gObject,e.scope,e.model):a.setEvents(e.gObject,e.scope,e.scope)),e.internalListeners=e.model?a.setEvents(e.gObject,{events:e.internalEvents},e.model):a.setEvents(e.gObject,{events:e.internalEvents},e.scope)):void 0)}}(this),c(),n.$watch("path",function(e){return function(t,n){return _.isEqual(t,n)&&e.gObject?void 0:c()}}(this),!0),!n["static"]&&t.isDefined(n.editable)&&n.$watch("editable",function(e){return function(t,n){var i;return t!==n?(t=!e.isFalse(t),null!=(i=e.gObject)?i.setEditable(t):void 0):void 0}}(this),!0),t.isDefined(n.draggable)&&n.$watch("draggable",function(e){return function(t,n){var i;return t!==n?(t=!e.isFalse(t),null!=(i=e.gObject)?i.setDraggable(t):void 0):void 0}}(this),!0),t.isDefined(n.visible)&&n.$watch("visible",function(e){return function(t,n){var i;return t!==n&&(t=!e.isFalse(t)),null!=(i=e.gObject)?i.setVisible(t):void 0}}(this),!0),t.isDefined(n.geodesic)&&n.$watch("geodesic",function(e){return function(t,n){var i;return t!==n?(t=!e.isFalse(t),null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0):void 0}}(this),!0),t.isDefined(n.stroke)&&t.isDefined(n.stroke.weight)&&n.$watch("stroke.weight",function(e){return function(t,n){var i;return t!==n&&null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(n.stroke)&&t.isDefined(n.stroke.color)&&n.$watch("stroke.color",function(e){return function(t,n){var i;return t!==n&&null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(n.stroke)&&t.isDefined(n.stroke.opacity)&&n.$watch("stroke.opacity",function(e){return function(t,n){var i;return t!==n&&null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(n.icons)&&n.$watch("icons",function(e){return function(t,n){var i;return t!==n&&null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),n.$on("$destroy",function(e){return function(){return e.clean(),e.scope=null}}(this)),t.isDefined(n.fill)&&t.isDefined(n.fill.color)&&n.$watch("fill.color",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(n.fill)&&t.isDefined(n.fill.opacity)&&n.$watch("fill.opacity",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(n.zIndex)&&n.$watch("zIndex",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this))}return i(l,n),l.include(s),l.prototype.clean=function(){var e;return a.removeEvents(this.listeners),a.removeEvents(this.internalListeners),null!=(e=this.gObject)&&e.setMap(null),this.gObject=null},l}(n)}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(e,t){var n,i;return n=function(e,t,n){var i,o;return o=new google.maps.Polyline({map:e,clickable:!1}),i=google.maps.event.addListener(e,"mousemove",function(e){return o.getPath().push(e.latLng)}),void google.maps.event.addListenerOnce(e,"mouseup",function(){var r;return google.maps.event.removeListener(i),r=o.getPath(),o.setMap(null),t.push(new google.maps.Polygon({map:e,path:r})),o=null,google.maps.event.clearListeners(e.getDiv(),"mousedown"),n()})},i=function(i,o){var r,s;return this.map=i,o||(o={draggable:!0,zoomControl:!0,scrollwheel:!0,disableDoubleClickZoom:!0}),s=function(e){return function(){var t;return null!=(t=e.deferred)&&t.resolve(),_.defer(function(){return e.map.setOptions(_.extend(e.oldOptions,o))})}}(this),r=function(t){return function(){return e.info("disabling map move"),t.oldOptions=i.getOptions(),t.oldOptions.center=i.getCenter(),t.map.setOptions({draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!1})}}(this),this.engage=function(i){return function(o){return i.polys=o,i.deferred=t.defer(),r(),e.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(i.map.getDiv(),"mousedown",function(){return n(i.map,i.polys,s)}),i.deferred.promise}}(this),this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(t,n,o,r,s,a,l,u,c){var d,p;return p=["coords","icon","options","fit"],d=function(t){function d(t,n,i,r,a,l,u,h,f,g){var m;this.model=n,this.keys=i,this.gMap=r,this.defaults=a,this.doClick=l,this.gMarkerManager=u,this.doDrawSelf=null!=h?h:!0,this.trackModel=null!=f?f:!0,this.needRedraw=null!=g?g:!1,this.internalEvents=e(this.internalEvents,this),this.setLabelOptions=e(this.setLabelOptions,this),this.setOptions=e(this.setOptions,this),this.setIcon=e(this.setIcon,this),this.setCoords=e(this.setCoords,this),this.isNotValid=e(this.isNotValid,this),this.maybeSetScopeValue=e(this.maybeSetScopeValue,this),this.createMarker=e(this.createMarker,this),this.setMyScope=e(this.setMyScope,this),this.updateModel=e(this.updateModel,this),this.handleModelChanges=e(this.handleModelChanges,this),this.destroy=e(this.destroy,this),this.clonedModel=_.extend({},this.model),this.deferred=c.defer(),_.each(this.keys,function(e){return function(t,n){return e[n+"Key"]=_.isFunction(e.keys[n])?e.keys[n]():e.keys[n]}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),d.__super__.constructor.call(this,t),this.scope.getGMarker=function(e){return function(){return e.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(e){return function(t,n){return t!==n?e.handleModelChanges(t,n):void 0}}(this),!0)):(m=new s(function(e){return function(n){return e.firstTime?void 0:e.setMyScope(n,t)}}(this),!1),_.each(this.keys,function(e,n){return t.$watch(n,m.sic,!0)})),this.scope.$on("$destroy",function(e){return function(){return p(e)}}(this)),this.createMarker(this.model),o.info(this)}var p;return i(d,t),d.include(n),d.include(r),d.include(a),p=function(e){return null!=(null!=e?e.gObject:void 0)&&(e.removeEvents(e.externalListeners),e.removeEvents(e.internalListeners),null!=e?e.gObject:void 0)?(e.removeFromManager&&e.gMarkerManager.remove(e.gObject),e.gObject.setMap(null),e.gObject=null):void 0},d.prototype.destroy=function(e){return null==e&&(e=!0),this.removeFromManager=e,this.scope.$destroy()},d.prototype.handleModelChanges=function(e,t){var n,i,o;return n=this.getChanges(e,t,l.keys),this.firstTime?void 0:(i=0,o=_.keys(n).length,_.each(n,function(n){return function(r,s){var a;return i+=1,a=o===i,n.setMyScope(s,e,t,!1,!0,a),n.needRedraw=!0}}(this)))},d.prototype.updateModel=function(e){return this.clonedModel=_.extend({},e),this.setMyScope("all",e,this.model)},d.prototype.renderGMarker=function(e,t){var n;if(null==e&&(e=!0),n=this.getProp(this.coordsKey,this.model),null!=n){if(!this.validateCoords(n))return void o.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=t&&t(),e&&this.gObject)return this.gMarkerManager.add(this.gObject)}else if(e&&this.gObject)return this.gMarkerManager.remove(this.gObject)},d.prototype.setMyScope=function(e,t,n,i,o){var r;switch(null==n&&(n=void 0),null==i&&(i=!1),null==o&&(o=!0),null==t?t=this.model:this.model=t,this.gObject||(this.setOptions(this.scope,o),r=!0),e){case"all":return _.each(this.keys,function(e){return function(r,s){return e.setMyScope(s,t,n,i,o)}}(this));case"icon":return this.maybeSetScopeValue("icon",t,n,this.iconKey,this.evalModelHandle,i,this.setIcon,o);case"coords":return this.maybeSetScopeValue("coords",t,n,this.coordsKey,this.evalModelHandle,i,this.setCoords,o);case"options":if(!r)return this.createMarker(t,n,i,o)}},d.prototype.createMarker=function(e,t,n,i){return null==t&&(t=void 0),null==n&&(n=!1),null==i&&(i=!0),this.maybeSetScopeValue("options",e,t,this.optionsKey,this.evalModelHandle,n,this.setOptions,i),this.firstTime=!1},d.prototype.maybeSetScopeValue=function(e,t,n,i,o,r,s,a){return null==s&&(s=void 0),null==a&&(a=!0),null!=s&&s(this.scope,a),this.doDrawSelf&&a?this.gMarkerManager.draw():void 0},d.prototype.isNotValid=function(e,t){var n,i;return null==t&&(t=!0),i=t?void 0===this.gObject:!1,n=this.trackModel?!1:e.$id!==this.scope.$id,n||i},d.prototype.setCoords=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(e){return function(){var t,n,i;return n=e.getProp(e.coordsKey,e.model),t=e.getCoords(n),i=e.gObject.getPosition(),null==i||null==t||t.lng()!==i.lng()||t.lat()!==i.lat()?(e.gObject.setPosition(t),e.gObject.setVisible(e.validateCoords(n))):void 0}}(this))},d.prototype.setIcon=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(e){return function(){var t,n,i;return i=e.gObject.getIcon(),n=e.getProp(e.iconKey,e.model),i!==n?(e.gObject.setIcon(n),t=e.getProp(e.coordsKey,e.model),e.gObject.setPosition(e.getCoords(t)),e.gObject.setVisible(e.validateCoords(t))):void 0}}(this))},d.prototype.setOptions=function(e,t){var n;if(null==t&&(t=!0),!this.isNotValid(e,!1)){if(this.renderGMarker(t,function(e){return function(){var t,n,i;return t=e.getProp(e.coordsKey,e.model),n=e.getProp(e.iconKey,e.model),i=e.getProp(e.optionsKey,e.model),e.opts=e.createOptions(t,n,i),e.isLabel(e.gObject)!==e.isLabel(e.opts)&&null!=e.gObject&&(e.gMarkerManager.remove(e.gObject),e.gObject=void 0),null!=e.gObject&&e.gObject.setOptions(e.opts),e.gObject||(e.gObject=e.isLabel(e.opts)?new MarkerWithLabel(e.setLabelOptions(e.opts)):new google.maps.Marker(e.opts),_.extend(e.gObject,{model:e.model})),e.externalListeners&&e.removeEvents(e.externalListeners),e.internalListeners&&e.removeEvents(e.internalListeners),e.externalListeners=e.setEvents(e.gObject,e.scope,e.model,["dragend"]),e.internalListeners=e.setEvents(e.gObject,{events:e.internalEvents(),$evalAsync:function(){}},e.model),null!=e.id?e.gObject.key=e.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gMarkerManager.type!==u.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");(null!=(n=this.gObject)?n.getMap():0)&&this.gMarkerManager.type===u.type||(o.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gMarkerManager.fit():void 0}},d.prototype.setLabelOptions=function(e){return e.labelAnchor=this.getLabelPositionPoint(e.labelAnchor),e},d.prototype.internalEvents=function(){return{dragend:function(e){return function(t,n,i,o){var r,s,a;return s=e.trackModel?e.scope.model:e.model,a=e.setCoordsFromEvent(e.modelOrKey(s,e.coordsKey),e.gObject.getPosition()),s=e.setVal(i,e.coordsKey,a),r=e.scope.events,null!=(null!=r?r.dragend:void 0)&&r.dragend(t,n,s,o),e.scope.$apply()}}(this),click:function(e){return function(t,n,i,o){var r;return r=_.isFunction(e.clickKey)?e.clickKey:e.getProp(e.clickKey,e.model),e.doClick&&null!=r?e.scope.$evalAsync(r(t,n,e.model,o)):void 0}}(this)}},d}(t)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(e,t){var i,o,r;return r=function(e){return new google.maps.Polygon(e)},o=new e(t,r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t}(o)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(e,t){var i,o,r;return r=function(e){return new google.maps.Polyline(e)},o=e(t,r),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t}(o)}])}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(i,r,s,a,l,u,c,d){var p;return p=function(i){function p(e,t,i,o,r,a,l,u,c){var d;this.model=e,this.scope=t,this.opts=i,this.isIconVisibleOnClick=o,this.mapCtrl=r,this.markerScope=a,this.element=l,this.needToManualDestroy=null!=u?u:!1,this.markerIsVisibleAfterWindowClose=null!=c?c:!0,this.destroy=n(this.destroy,this),this.remove=n(this.remove,this),this.getLatestPosition=n(this.getLatestPosition,this),this.hideWindow=n(this.hideWindow,this),this.showWindow=n(this.showWindow,this),this.handleClick=n(this.handleClick,this),this.watchOptions=n(this.watchOptions,this),this.watchCoords=n(this.watchCoords,this),this.createGWin=n(this.createGWin,this),this.watchElement=n(this.watchElement,this),this.watchAndDoShow=n(this.watchAndDoShow,this),this.doShow=n(this.doShow,this),this.clonedModel=_.clone(this.model,!0),this.getGmarker=function(){var e,t;return null!=(null!=(e=this.markerScope)?e.getGMarker:void 0)&&null!=(t=this.markerScope)?t.getGMarker():void 0},this.listeners=[],this.createGWin(),d=this.getGmarker(),null!=d&&d.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(e){return function(){return e.destroy()}}(this)),s.info(this)}return o(p,i),p.include(r),p.include(d),p.prototype.doShow=function(){return this.scope.show===!0?this.showWindow():this.hideWindow()},p.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},p.prototype.watchElement=function(){return this.scope.$watch(function(e){return function(){var t,n;return(e.element||e.html)&&e.html!==e.element.html()&&e.gObject?(null!=(n=e.opts)&&(n.content=void 0),t=e.gObject.isOpen(),e.remove(),e.createGWin(t)):void 0}}(this))},p.prototype.createGWin=function(t){var n,i,o,r,s;return null==t&&(t=!1),i=this.getGmarker(),null==this.gObject&&(n={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),n=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),o=this.scope.options?this.scope.options:n,this.opts=this.createWindowOptions(i,this.markerScope||this.scope,this.html,o)),null==this.opts||this.gObject?void 0:(this.gObject=this.opts.boxClass&&e.InfoBox&&"function"==typeof e.InfoBox?new e.InfoBox(this.opts):new google.maps.InfoWindow(this.opts),this.handleClick((null!=(r=this.scope)&&null!=(s=r.options)?s.forceClick:void 0)||t),this.doShow(),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return c.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(e){return function(){return i&&(i.setAnimation(e.oldMarkerAnimation),e.markerIsVisibleAfterWindowClose&&_.delay(function(){return i.setVisible(!1),i.setVisible(e.markerIsVisibleAfterWindowClose)},250)),e.gObject.close(),e.model.show=!1,null!=e.scope.closeClick?e.scope.$evalAsync(e.scope.closeClick()):e.scope.$evalAsync()}}(this))))},p.prototype.watchCoords=function(){var e;return e=null!=this.markerScope?this.markerScope:this.scope,e.$watch("coords",function(e){return function(t,n){var i;if(t!==n){if(null==t)e.hideWindow();else if(!e.validateCoords(t))return void s.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(e.model));if(i=e.getCoords(t),e.gObject.setPosition(i),e.opts)return e.opts.position=i}}}(this),!0)},p.prototype.watchOptions=function(){return this.scope.$watch("options",function(e){return function(t,n){if(t!==n&&(e.opts=t,null!=e.gObject)){if(e.gObject.setOptions(e.opts),null!=e.opts.visible&&e.opts.visible)return e.showWindow();if(null!=e.opts.visible)return e.hideWindow()}}}(this),!0)},p.prototype.handleClick=function(e){var t,n;return null!=this.gObject?(n=this.getGmarker(),t=function(e){return function(){return null==e.gObject&&e.createGWin(),e.showWindow(),null!=n?(e.initialMarkerVisibility=n.getVisible(),e.oldMarkerAnimation=n.getAnimation(),n.setVisible(e.isIconVisibleOnClick)):void 0}}(this),e&&t(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:t}},this.model)):void 0):void 0},p.prototype.showWindow=function(){var e,n,i;return null!=this.gObject?(n=function(e){return function(){var t,n,i;if(!e.gObject.isOpen()){if(n=e.getGmarker(),null!=e.gObject&&null!=e.gObject.getPosition&&(i=e.gObject.getPosition()),n&&(i=n.getPosition()),!i)return;if(e.gObject.open(e.mapCtrl,n),t=e.gObject.isOpen(),e.model.show!==t)return e.model.show=t
}}}(this),this.scope.templateUrl?l.get(this.scope.templateUrl,{cache:u}).then(function(e){return function(i){var o,r;return r=e.scope.$new(),t.isDefined(e.scope.templateParameter)&&(r.parameter=e.scope.templateParameter),o=a(i.data)(r),e.gObject.setContent(o[0]),n()}}(this)):this.scope.template?(i=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(i.parameter=this.scope.templateParameter),e=a(this.scope.template)(i),this.gObject.setContent(e[0]),n()):n()):void 0},p.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},p.prototype.getLatestPosition=function(e){var t;return t=this.getGmarker(),null==this.gObject||null==t||e?e?this.gObject.setPosition(e):void 0:this.gObject.setPosition(t.getPosition())},p.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},p.prototype.destroy=function(e){var t;return null==e&&(e=!1),this.remove(),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?void 0:this.scope.$destroy()},p}(i)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(e,i,o,r,s){var a;return a=function(i){function s(n,i,r,s,a){var l,u;this.scope=n,this.attrs=r,this.map=s,this.DEFAULTS=a,l=new google.maps.Circle(this.buildOpts(o.getCoords(n.center),n.radius)),this.setMyOptions=function(e){return function(t,i){return _.isEqual(t,i)?void 0:l.setOptions(e.buildOpts(o.getCoords(n.center),n.radius))}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius"]),this.watchProps(),u=this.setEvents(l,n,n),google.maps.event.addListener(l,"radius_changed",function(){return n.$evalAsync(function(){return n.radius=l.getRadius()})}),google.maps.event.addListener(l,"center_changed",function(){return n.$evalAsync(function(){return t.isDefined(n.center.type)?(n.center.coordinates[1]=l.getCenter().lat(),n.center.coordinates[0]=l.getCenter().lng()):(n.center.latitude=l.getCenter().lat(),n.center.longitude=l.getCenter().lng())})}),n.$on("$destroy",function(e){return function(){return e.removeEvents(u),l.setMap(null)}}(this)),e.info(this)}return n(s,i),s.include(o),s.include(r),s}(s)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(e,t,i,o){var r;return r=function(e){function t(e,t,n,i){var o,r;this.scope=e,this.attrs=n,this.map=i,o=new google.maps.drawing.DrawingManager(this.scope.options),o.setMap(this.map),r=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return o}),!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(e){return null!=o?o.setOptions(e):void 0},!0),null!=this.scope.events&&(r=this.setEvents(o,this.scope,this.scope),e.$watch("events",function(e){return function(t,n){return _.isEqual(t,n)?void 0:(null!=r&&e.removeEvents(r),r=e.setEvents(o,e.scope,e.scope))}}(this))),e.$on("$destroy",function(e){return function(){return null!=r&&e.removeEvents(r),o.setMap(null),o=null}}(this))}return n(t,e),t.include(o),t}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(n,o){var r;return r=function(n){function r(n,i,s,a){if(this.scope=n,this.element=i,this.attrs=s,this.map=a,this.onDestroy=e(this.onDestroy,this),this.onWatch=e(this.onWatch,this),this.watch=e(this.watch,this),this.validateScope=e(this.validateScope,this),r.__super__.constructor.call(this,this.scope),this.$log=o,!this.validateScope(n))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(s.click),null!=n.options&&(this.DEFAULTS=n.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),n.$on("$destroy",function(e){return function(){return e.onDestroy(n)}}(this))}return i(r,n),r.prototype.DEFAULTS={},r.prototype.validateScope=function(e){var t;return null==e?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(t=null!=e.coords,t?t:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},r.prototype.watch=function(e,t,n){return null==n&&(n=!0),t.$watch(e,function(n){return function(i,o){return _.isEqual(i,o)?void 0:n.onWatch(e,t,i,o)}}(this),n)},r.prototype.onWatch=function(){},r.prototype.onDestroy=function(){throw new String("OnDestroy Not Implemented!!")},r}(n)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(e,t,i){var o;return o=function(e){function o(e,t,n,r,s,a,l,u){o.__super__.constructor.call(this,e),this.$log=i,this.$timeout=s,this.$compile=a,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=e.options&&(this.DEFAULTS=e.options)}return n(o,e),o.include(t),o.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},o}(e)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(n,o){var r;return r=function(n){function r(n,i,r,s,a,l){return this.scope=n,this.element=i,this.attrs=r,this.gMap=s,this.onLayerCreated=null!=a?a:void 0,this.$log=null!=l?l:o,this.createGoogleLayer=e(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,e.gObject.setMap(t?e.gMap:null)):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return t!==n?(e.gObject.setMap(null),e.gObject=null,e.createGoogleLayer()):void 0}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.gObject.setMap(null)}}(this)))}return i(r,n),r.prototype.createGoogleLayer=function(){var e;return this.gObject=null==this.attrs.options?void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(e=this.onLayerCreated(this.scope,this.gObject))?e(this.gObject):void 0},r}(n)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(n,o){var r;return r=function(n){function r(n,i,r,s,a){return this.scope=n,this.element=i,this.attrs=r,this.gMap=s,this.$log=null!=a?a:o,this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.refreshMapType=e(this.refreshMapType,this),this.createMapType=e(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.showOverlay():e.hideOverlay()):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return _.isEqual(t,n)?void 0:e.refreshMapType()}}(this),!0),t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(e){return function(t,n){return _.isEqual(t,n)?void 0:e.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.hideOverlay(),e.mapType=null}}(this)))}return i(r,n),r.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},r.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},r.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},r.prototype.hideOverlay=function(){var e;return e=!1,this.gMap.overlayMapTypes.forEach(function(t){return function(n,i){e||n.layerId!==t.id||(e=!0,t.gMap.overlayMapTypes.removeAt(i))}}(this))},r}(n)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger",function(n,o,r,s,a,l,u,c,d,p,h){var f;return f=function(n){function c(t,n,i,o){this.onDestroy=e(this.onDestroy,this),this.newChildMarker=e(this.newChildMarker,this),this.updateChild=e(this.updateChild,this),this.pieceMeal=e(this.pieceMeal,this),this.rebuildAll=e(this.rebuildAll,this),this.createAllNew=e(this.createAllNew,this),this.createChildScopes=e(this.createChildScopes,this),this.validateScope=e(this.validateScope,this),this.onWatch=e(this.onWatch,this);var s;c.__super__.constructor.call(this,t,n,i,o),this["interface"]=d,s=this,this.plurals=new r,this.scope.plurals=this.plurals,this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(t),this.scope.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),(null==t.models||0===t.models.length)&&(this.modelsRendered=!1),this.scope.$watch("models",function(e){return function(n,i){if(!_.isEqual(n,i)||!e.modelsRendered){if(0===n.length&&0===i.length)return;return e.modelsRendered=!0,e.onWatch("models",t,n,i)}}}(this),!this.isTrue(i.modelsbyref)),this.watch("doCluster",t),this.watch("clusterOptions",t),this.watch("clusterEvents",t),this.watch("fit",t),this.watch("idKey",t),this.gMarkerManager=void 0,this.createAllNew(t)}return i(c,n),c.include(h),c.include(o),c.prototype.onWatch=function(e,t,n,i){return"idKey"===e&&n!==i&&(this.idKey=n),this.doRebuildAll||"doCluster"===e?this.rebuildAll(t):this.pieceMeal(t)},c.prototype.validateScope=function(e){var n;return n=t.isUndefined(e.models)||void 0===e.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),c.__super__.validateScope.call(this,e)||n},c.prototype.createChildScopes=function(e){return null!=this.gMap&&null!=this.scope.models?e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},c.prototype.createAllNew=function(e){var t;return null!=this.gMarkerManager&&(this.gMarkerManager.clear(),delete this.gMarkerManager),e.doCluster?(e.clusterEvents&&(this.clusterInternalOptions=_.once(function(t){return function(){var n,i,o,r;return n=t,t.origClusterEvents?void 0:(t.origClusterEvents={click:null!=(i=e.clusterEvents)?i.click:void 0,mouseout:null!=(o=e.clusterEvents)?o.mouseout:void 0,mouseover:null!=(r=e.clusterEvents)?r.mouseover:void 0},_.extend(e.clusterEvents,{click:function(e){return n.maybeExecMappedEvent(e,"click")},mouseout:function(e){return n.maybeExecMappedEvent(e,"mouseout")},mouseover:function(e){return n.maybeExecMappedEvent(e,"mouseover")}}))}}(this))()),this.gMarkerManager=new l(this.map,void 0,e.clusterOptions,this.clusterInternalOptions)):this.gMarkerManager=new u(this.map),this.didQueueInitPromise(this,e)?void 0:(t=null,a.promiseLock(this,p.promiseTypes.create,"createAllNew",function(e){return t=e},function(n){return function(){return a.each(e.models,function(i){return n.newChildMarker(i,e),t},a.chunkSizeFrom(e.chunk)).then(function(){return n.modelsRendered=!0,n.gMarkerManager.draw(),e.fit&&n.gMarkerManager.fit(),n.scope.pluralsUpdate.updateCtr+=1},a.chunkSizeFrom(e.chunk))}}(this)))},c.prototype.rebuildAll=function(e){var t;return e.doRebuild||void 0===e.doRebuild?(null!=(t=this.scope.plurals)?t.length:void 0)?this.onDestroy(e).then(function(t){return function(){return t.createAllNew(e)}}(this)):this.createAllNew(e):void 0},c.prototype.pieceMeal=function(e){var t,n;return e.$$destroyed?void 0:(t=null,n=null,null!=this.scope.models&&this.scope.models.length>0&&this.scope.plurals.length>0?a.promiseLock(this,p.promiseTypes.update,"pieceMeal",function(e){return t=e},function(i){return function(){return p.promise(function(){return i.figureOutState(i.idKey,e,i.scope.plurals,i.modelKeyComparison)}).then(function(o){return n=o,a.each(n.removals,function(e){return null!=e?(null!=e.destroy&&e.destroy(),i.scope.plurals.remove(e.id),t):void 0},a.chunkSizeFrom(e.chunk))}).then(function(){return a.each(n.adds,function(n){return i.newChildMarker(n,e),t},a.chunkSizeFrom(e.chunk))}).then(function(){return a.each(n.updates,function(e){return i.updateChild(e.child,e.model),t},a.chunkSizeFrom(e.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(i.gMarkerManager.draw(),e.plurals=i.scope.plurals,e.fit&&i.gMarkerManager.fit()),i.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(e)))},c.prototype.updateChild=function(e,t){return null==t[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):e.updateModel(t)},c.prototype.newChildMarker=function(e,t){var n,i,o,r;return null==e[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.plurals),i=t.$new(!0),i.events=t.events,r={},d.scopeKeys.forEach(function(e){return r[e]=t[e]}),n=new s(i,e,r,this.map,this.DEFAULTS,this.doClick,this.gMarkerManager,o=!1),this.scope.plurals.put(e[this.idKey],n),n)},c.prototype.onDestroy=function(){return a.promiseLock(this,p.promiseTypes["delete"],void 0,void 0,function(e){return function(){return a.each(e.scope.plurals.values(),function(e){return null!=e?e.destroy(!1):void 0},a.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){return delete e.scope.plurals,null!=e.gMarkerManager&&e.gMarkerManager.clear(),e.scope.plurals=new r,e.scope.pluralsUpdate.updateCtr+=1})}}(this))},c.prototype.maybeExecMappedEvent=function(e,t){var n,i;return _.isFunction(null!=(i=this.scope.clusterEvents)?i[t]:void 0)&&(n=this.mapClusterToPlurals(e),this.origClusterEvents[t])?this.origClusterEvents[t](n.cluster,n.mapped):void 0},c.prototype.mapClusterToPlurals=function(e){var t;return t=e.getMarkers().map(function(e){return function(t){return e.scope.plurals.get(t.key).model}}(this)),{cluster:e,mapped:t}},c.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},c}(n)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapPolygonsParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmapPolygonChildModel","uiGmap_async","uiGmapPromise","uiGmapIPolygon",function(n,o,r,s,a,l,u,c,d){var p;return p=function(n){function r(t,n,i,s,l){var u;this.scope=t,this.element=n,this.attrs=i,this.gMap=s,this.defaults=l,this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.watch=e(this.watch,this),r.__super__.constructor.call(this,t),this["interface"]=d,u=this,this.$log=o,this.plurals=new a,_.each(d.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.watchOurScope(t),this.createChildScopes()}return i(r,n),r.include(s),r.prototype.watch=function(e,t,n){return e.$watch(t,function(i){return function(o,r){var s;return o!==r?(s=null,i[n]=_.isFunction(o)?o():o,u.promiseLock(i,c.promiseTypes.update,"watch "+t+" "+n,function(e){return s=e},function(){return u.each(i.plurals.values(),function(e){return e.scope[t]="self"===i[n]?e:e[i[n]],s},u.chunkSizeFrom(e.chunk))})):void 0}}(this))},r.prototype.watchModels=function(e){return e.$watchCollection("models",function(t){return function(n,i){return!_.isEqual(n,i)||t.lastNewValue===n&&t.lastOldValue===i?(t.lastNewValue=n,t.lastOldValue=i,t.doINeedToWipe(n)?t.rebuildAll(e,!0,!0):t.createChildScopes(!1)):void 0}}(this))},r.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},r.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},r.prototype.onDestroy=function(e){return u.promiseLock(this,c.promiseTypes["delete"],void 0,void 0,function(t){return function(){return u.each(t.plurals.values(),function(e){return e.destroy(!0)},u.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){return e&&delete t.plurals,t.plurals=new a})}}(this))},r.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.rebuildAll(e,!1,!0)}}(this))},r.prototype.watchOurScope=function(e){return _.each(d.scopeKeys,function(t){return function(n){var i;return i=n+"Key",t[i]="function"==typeof e[n]?e[n]():e[n],t.watch(e,n,i)}}(this))},r.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?void this.$log.error("No models to create Polygons from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},r.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,i){return n!==i&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},r.prototype.createAllNew=function(e,t){var n;return null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.didQueueInitPromise(this,e)?void 0:(n=null,u.promiseLock(this,c.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return u.each(e.models,function(e){var i;return i=t.createChild(e,t.gMap),n&&(o.debug("createNew should fall through safely"),i.isEnabled=!1),n},u.chunkSizeFrom(e.chunk)).then(function(){return t.firstTime=!1})}}(this)))},r.prototype.pieceMeal=function(e,t){var n,i;return null==t&&(t=!0),e.$$destroyed?void 0:(n=null,i=null,this.models=e.models,null!=e&&null!=e.models&&e.models.length>0&&this.plurals.length>0?u.promiseLock(this,c.promiseTypes.update,"pieceMeal",function(e){return n=e},function(t){return function(){return c.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(o){return i=o,u.each(i.removals,function(e){var i;return i=t.plurals.get(e),null!=i?(i.destroy(),t.plurals.remove(e),n):void 0},u.chunkSizeFrom(e.chunk))}).then(function(){return u.each(i.adds,function(e){return n&&o.debug("pieceMeal should fall through safely"),t.createChild(e,t.gMap),n},u.chunkSizeFrom(e.chunk))})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},r.prototype.createChild=function(e,t){var n,i;return i=this.scope.$new(!1),this.setChildScope(d.scopeKeys,i,e),i.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i,t):void 0}}(this),!0),i["static"]=this.scope["static"],n=new l(i,this.attrs,t,this.defaults,e),null==e[this.idKey]?void this.$log.error("Polygon model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(e[this.idKey],n),n)},r}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapPolylinesParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmapPolylineChildModel","uiGmap_async","uiGmapPromise","uiGmapIPolyline",function(n,o,r,s,a,l,u,c,d){var p;return p=function(n){function r(t,n,i,s,l){var u;this.scope=t,this.element=n,this.attrs=i,this.gMap=s,this.defaults=l,this.setChildScope=e(this.setChildScope,this),this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.watch=e(this.watch,this),r.__super__.constructor.call(this,t),this["interface"]=d,u=this,this.$log=o,this.plurals=new a,_.each(d.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.watchOurScope(t),this.createChildScopes()}return i(r,n),r.include(s),r.prototype.watch=function(e,t,n){return e.$watch(t,function(e){return function(i,o){var r;return i!==o?(r=null,e[n]=_.isFunction(i)?i():i,u.promiseLock(e,c.promiseTypes.update,"watch "+t+" "+n,function(e){return r=e},function(){return u.each(e.plurals.values(),function(i){return i.scope[t]="self"===e[n]?i:i[e[n]],r},!1)})):void 0}}(this))},r.prototype.watchModels=function(e){return e.$watchCollection("models",function(t){return function(n,i){return!_.isEqual(n,i)||t.lastNewValue===n&&t.lastOldValue===i?(t.lastNewValue=n,t.lastOldValue=i,t.doINeedToWipe(n)?t.rebuildAll(e,!0,!0):t.createChildScopes(!1)):void 0}}(this))},r.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},r.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},r.prototype.onDestroy=function(e){return u.promiseLock(this,c.promiseTypes["delete"],void 0,void 0,function(t){return function(){return u.each(t.plurals.values(),function(e){return e.destroy(!0)},u.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){return e&&delete t.plurals,t.plurals=new a})}}(this))},r.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.rebuildAll(e,!1,!0)}}(this))},r.prototype.watchOurScope=function(e){return _.each(d.scopeKeys,function(t){return function(n){var i;return i=n+"Key",t[i]="function"==typeof e[n]?e[n]():e[n],t.watch(e,n,i)}}(this))},r.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?void this.$log.error("No models to create Polylines from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},r.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,i){return n!==i&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},r.prototype.createAllNew=function(e,t){var n;return null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.didQueueInitPromise(this,e)?void 0:(n=null,u.promiseLock(this,c.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return u.each(e.models,function(e){return t.createChild(e,t.gMap),n&&o.debug("createNew should fall through safely"),n}).then(function(){return t.firstTime=!1})}}(this)))},r.prototype.pieceMeal=function(e,t){var n,i;return null==t&&(t=!0),e.$$destroyed?void 0:(n=null,i=null,this.models=e.models,null!=e&&null!=e.models&&e.models.length>0&&this.plurals.length>0?u.promiseLock(this,c.promiseTypes.update,"pieceMeal",function(e){return n=e},function(t){return function(){return c.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(e){return i=e,u.each(i.removals,function(e){var i;return i=t.plurals.get(e),null!=i?(i.destroy(),t.plurals.remove(e),n):void 0})}).then(function(){return u.each(i.adds,function(e){return n&&o.debug("pieceMeal should fall through safely"),t.createChild(e,t.gMap),n})})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},r.prototype.createChild=function(e,t){var n,i;return i=this.scope.$new(!1),this.setChildScope(i,e),i.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i,t):void 0}}(this),!0),i["static"]=this.scope["static"],n=new l(i,this.attrs,t,this.defaults,e),null==e[this.idKey]?void this.$log.error("Polyline model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(e[this.idKey],n),n)},r.prototype.setChildScope=function(e,t){return d.scopeKeys.forEach(function(n){return function(i){var o,r;return o=i+"Key",r="self"===n[o]?t:t[n[o]],r!==e[i]?e[i]=r:void 0}}(this)),e.model=t},r}(r)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(e,t,i,o){var r;return r=function(o){function r(t,n,i,o,r){var s,a,l,u,c,d,p,h,f,g,m;this.scope=t,this.attrs=i,this.map=o,this.DEFAULTS=r,s=void 0,u=!1,f=[],h=void 0,c=function(e){return function(){return e.isTrue(i.fit)?e.fitMapBounds(e.map,s):void 0}}(this),l=function(n){return function(){var i,o;return null!=t.bounds&&null!=(null!=(i=t.bounds)?i.sw:void 0)&&null!=(null!=(o=t.bounds)?o.ne:void 0)&&n.validateBoundPoints(t.bounds)?(s=n.convertBoundPoints(t.bounds),e.info("new new bounds created: "+rectangle)):null!=t.bounds.getNorthEast&&null!=t.bounds.getSouthWest?s=t.bounds:"undefined"!=typeof bound&&null!==bound?e.error("Invalid bounds for newValue: "+JSON.stringify(t.bounds)):void 0}}(this),l(),d=new google.maps.Rectangle(this.buildOpts(s)),e.info("gObject (rectangle) created: "+d),g=!1,m=function(){return function(){var e,n,i;return e=d.getBounds(),n=e.getNorthEast(),i=e.getSouthWest(),g?void 0:t.$evalAsync(function(t){return null!=t.bounds&&null!=t.bounds.sw&&null!=t.bounds.ne&&(t.bounds.ne={latitude:n.lat(),longitude:n.lng()},t.bounds.sw={latitude:i.lat(),longitude:i.lng()}),null!=t.bounds.getNorthEast&&null!=t.bounds.getSouthWest?t.bounds=e:void 0})}}(this),p=function(e){return function(){return c(),e.removeEvents(f),f.push(google.maps.event.addListener(d,"dragstart",function(){return u=!0})),f.push(google.maps.event.addListener(d,"dragend",function(){return u=!1,m()})),f.push(google.maps.event.addListener(d,"bounds_changed",function(){return u?void 0:m()}))}}(this),a=function(e){return function(){return e.removeEvents(f),null!=h&&e.removeEvents(h),d.setMap(null)}}(this),null!=s&&p(),t.$watch("bounds",function(e,t){var n;return _.isEqual(e,t)&&null!=s||u?void 0:(g=!0,null==e?void a():(null==s?n=!0:c(),l(),d.setBounds(s),g=!1,n&&null!=s?p():void 0))},!0),this.setMyOptions=function(e){return function(t,n){return _.isEqual(t,n)||null==s||null==t?void 0:d.setOptions(e.buildOpts(s))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=i.events&&(h=this.setEvents(d,t,t),t.$watch("events",function(e){return function(n,i){return _.isEqual(n,i)?void 0:(null!=h&&e.removeEvents(h),h=e.setEvents(d,t,t))}}(this))),t.$on("$destroy",function(){return function(){return a()}}(this)),e.info(this)}return n(r,o),r.include(t),r.include(i),r}(o)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper","$timeout","$http","$templateCache",function(n,o,r){var s;return s=function(n){function s(n,i,r,s,a,l,u){var c;return this.scope=n,this.element=i,this.attrs=r,this.gMap=s,this.ctrlPosition=a,this.template=l,this.$log=null!=u?u:o,this.setVisibility=e(this.setVisibility,this),this.getBounds=e(this.getBounds,this),this.setBounds=e(this.setBounds,this),this.createSearchBox=e(this.createSearchBox,this),this.addToParentDiv=e(this.addToParentDiv,this),this.addAsMapControl=e(this.addAsMapControl,this),this.init=e(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=n.options.visible,this.autocomplete=n.options.autocomplete,c=t.element("<div></div>"),c.append(this.template),this.input=c.find("input")[0],void this.init())
}return i(s,n),s.include(r),s.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(e){return function(n){return t.isObject(n)&&(null!=n.bounds&&e.setBounds(n.bounds),null!=n.visible&&e.visible!==n.visible)?e.setVisibility(n.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.listener=this.autocomplete?google.maps.event.addListener(this.gObject,"place_changed",function(e){return function(){return e.places=e.gObject.getPlace()}}(this)):google.maps.event.addListener(this.gObject,"places_changed",function(e){return function(){return e.places=e.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$destroy",function(e){return function(){return e.gObject=null}}(this))},s.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},s.prototype.addToParentDiv=function(){return this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)},s.prototype.createSearchBox=function(){return this.gObject=this.autocomplete?new google.maps.places.Autocomplete(this.input,this.scope.options):new google.maps.places.SearchBox(this.input,this.scope.options)},s.prototype.setBounds=function(e){if(t.isUndefined(e.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(e.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(e)},s.prototype.getBounds=function(){return this.gObject.getBounds()},s.prototype.setVisibility=function(e){return null!=this.attrs.parentdiv?e===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):e===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=e},s}(n)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(n,o,r,s,a,l,u,c,d,p,h,f,g,m,v){var b;return b=function(n){function b(t,n,i,o,s,l){this.gMap=s,this.markersScope=l,this.modelKeyComparison=e(this.modelKeyComparison,this),this.interpolateContent=e(this.interpolateContent,this),this.setChildScope=e(this.setChildScope,this),this.createWindow=e(this.createWindow,this),this.setContentKeys=e(this.setContentKeys,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.go=e(this.go,this),b.__super__.constructor.call(this,t,n,i,o,c,d,p,h),this["interface"]=m,this.plurals=new r,_.each(m.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.linked=new a(t,n,i,o),this.models=void 0,this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(t)}return i(b,n),b.include(o),b.prototype.go=function(e){return this.watchOurScope(e),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,e.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.createChildScopes()},b.prototype.watchModels=function(e){var t;return t=null!=this.markersScope?"pluralsUpdate":"models",e.$watch(t,function(t){return function(n,i){var o;return!_.isEqual(n,i)||t.firstWatchModels?(t.firstWatchModels=!1,t.doRebuildAll||t.doINeedToWipe(e.models)?t.rebuildAll(e,!0,!0):(o=0===t.plurals.length,null!=t.existingPieces?_.last(t.existingPieces._content).then(function(){return t.createChildScopes(o)}):t.createChildScopes(o))):void 0}}(this),!0)},b.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},b.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},b.prototype.onDestroy=function(e){return l.promiseLock(this,g.promiseTypes["delete"],void 0,void 0,function(t){return function(){return l.each(t.plurals.values(),function(e){return e.destroy()},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){return e&&delete t.plurals,t.plurals=new r})}}(this))},b.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(e,!1,!0)}}(this))},b.prototype.watchOurScope=function(e){return _.each(m.scopeKeys,function(t){return function(n){var i;return i=n+"Key",t[i]="function"==typeof e[n]?e[n]():e[n]}}(this))},b.prototype.createChildScopes=function(e){var n,i,o;return null==e&&(e=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=t.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(i=this.markersScope)?i.plurals:void 0)&&void 0!==(null!=(o=this.markersScope)?o.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),e?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),e?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},b.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,i){return n!==i&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},b.prototype.createAllNew=function(e,t,n,i){var o;return null==n&&(n="models"),null==i&&(i=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.setContentKeys(e.models),this.didQueueInitPromise(this,e)?void 0:(o=null,l.promiseLock(this,g.promiseTypes.create,"createAllNew",function(e){return o=e},function(i){return function(){return l.each(e.models,function(r){var s,a;return s=t&&null!=(a=i.getItem(e,n,r[i.idKey]))?a.gObject:void 0,o||(!s&&i.markersScope&&u.error("Unable to get gMarker from markersScope!"),i.createWindow(r,s,i.gMap)),o},l.chunkSizeFrom(e.chunk)).then(function(){return i.firstTime=!1})}}(this)))},b.prototype.pieceMeal=function(e,t,n,i){var o,r;return null==n&&(n="models"),null==i&&(i=!0),e.$$destroyed?void 0:(o=null,r=null,this.models=e.models,null!=e&&null!=e.models&&e.models.length>0&&this.plurals.length>0?l.promiseLock(this,g.promiseTypes.update,"pieceMeal",function(e){return o=e},function(t){return function(){return g.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(n){return r=n,l.each(r.removals,function(e){return null!=e?(t.plurals.remove(e.id),null!=e.destroy&&e.destroy(!0),o):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(r.adds,function(i){var r,s;if(r=null!=(s=t.getItem(e,n,i[t.idKey]))?s.gObject:void 0,!r)throw"Gmarker undefined";return t.createWindow(i,r,t.gMap),o})})}}(this)):(u.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},b.prototype.setContentKeys=function(e){return e.length>0?this.contentKeys=Object.keys(e[0]):void 0},b.prototype.createWindow=function(e,t,n){var i,o,r,a,l,u;return o=this.linked.scope.$new(!1),this.setChildScope(o,e),o.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(o,t):void 0}}(this),!0),r={html:function(t){return function(){return t.interpolateContent(t.linked.element.html(),e)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,e)||{},a=this.createWindowOptions(t,o,r.html(),this.DEFAULTS),i=new s(e,o,a,this.isIconVisibleOnClick,n,null!=(l=this.markersScope)&&null!=(u=l.plurals.get(e[this.idKey]))?u.scope:void 0,r,!1,!0),null==e[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(e[this.idKey],i),i)},b.prototype.setChildScope=function(e,t){return _.each(m.scopeKeys,function(n){return function(i){var o,r;return o=i+"Key",r="self"===n[o]?t:t[n[o]],r!==e[i]?e[i]=r:void 0}}(this)),e.model=t},b.prototype.interpolateContent=function(e,t){var n,i,o,r,s,a;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=f(e),i={},a=this.contentKeys,r=0,s=a.length;s>r;r++)o=a[r],i[o]=t[o];return n(i)}},b.prototype.modelKeyComparison=function(e,t){var n,i;if(i=null!=this.scope.coords?this.scope:this.parentScope,null==i)throw"No scope or parentScope set!";return(n=v.equalCoords(this.evalModelHandle(e,i.coords),this.evalModelHandle(t,i.coords)))?n=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(o){return n.evalModelHandle(e,i[o])===n.evalModelHandle(t,i[o])}}(this)):n},b}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(e,t){return _.extend(e,{link:function(e,n,i,o){return o.getScope().deferred.promise.then(function(){return function(o){return new t(e,n,i,o)}}(this))}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(n,o,r,s,a,l){var u;return u=function(u){function c(){this.link=e(this.link,this),c.__super__.constructor.call(this)}return i(c,u),c.prototype.link=function(e,i,u,c){return l.then(function(i){return function(l){var u,d;return t.isUndefined(e.template)?void i.$log.error("mapControl: could not find a valid template property"):(u=t.isDefined(e.index&&!isNaN(parseInt(e.index)))?parseInt(e.index):void 0,d=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[d]?n.mapPromise(e,c).then(function(n){var l,c;return l=void 0,c=t.element("<div></div>"),o.get(e.template,{cache:r}).success(function(n){var i,o;return o=e.$new(),c.append(n),t.isDefined(e.controller)&&(i=a(e.controller,{$scope:o}),c.children().data("$ngControllerController",i)),l=s(c.children())(o),u?l[0].index=u:void 0}).error(function(){return i.$log.error("mapControl: template could not be found")}).then(function(){return n.controls[google.maps.ControlPosition[d]].push(l[0])})}):void i.$log.error("mapControl: invalid position property"))}}(this))},c}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(e,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,n){return t.ctrlType="uiGmapDragZoom",_.extend(this,e.handle(t,n))}],link:function(n,i,o,r){return e.mapPromise(n,r).then(function(e){var i,o,r;return i=function(t){return e.enableKeyDragZoom(t),n.spec?n.spec.enableKeyDragZoom(t):void 0},o=new t(function(e,t){return t?i({key:t}):i()}),r=new t(function(e,t){return t?i(t):void 0}),n.$watch("keyboardkey",o.sic),o.sic(n.keyboardkey),n.$watch("options",r.sic),r.sic(n.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(e,t){return _.extend(e,{link:function(e,n,i,o){return o.getScope().deferred.promise.then(function(o){return new t(e,n,i,o)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,n,o,r,s){var a;return a=function(n){function a(){return this.link=e(this.link,this),a.__super__.constructor.apply(this,arguments)}return i(a,n),a.include(o),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope={polygons:"=",draw:"=",revertmapoptions:"="},a.prototype.link=function(e,n,i,o){return this.mapPromise(e,o).then(function(){return function(n){var i,o;return e.polygons?_.isArray(e.polygons)?(i=new r(n,e.revertmapoptions),o=void 0,e.draw=function(){return"function"==typeof o&&o(),i.engage(e.polygons).then(function(){var t;return t=!0,o=e.$watchCollection("polygons",function(e,n){var i;return t||e===n?void(t=!1):(i=s.differenceObjects(n,e),i.forEach(function(e){return e.setMap(null)}))})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")}}(this))},a}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var e;return e={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"="}}}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,t,i){var o;return o=function(e){function o(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=t}return n(o,e),o.extend(i),o.prototype.link=function(){throw new Exception("Not implemented!!")},o}(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(e,t){var i;return i=function(e){function i(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},i.scope)}return n(i,e),i.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},i.scopeKeys=_.keys(i.scope),i.keys=i.scopeKeys,i.extend(t),i}(e)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,t,i,o){var r;return r=function(t){function r(){}return n(r,t),r.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},r.scopeKeys=_.keys(r.scope),r.include(e),r.extend(o),r.prototype.restrict="EMA",r.prototype.replace=!0,r.prototype.require="^uiGmapGoogleMap",r.prototype.scope=r.scope,r.prototype.DEFAULTS={},r.prototype.$log=i,r}(t)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,t,i,o){var r;return r=function(t){function r(){}return n(r,t),r.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"="},r.scopeKeys=_.keys(r.scope),r.include(e),r.extend(o),r.prototype.restrict="EMA",r.prototype.replace=!0,r.prototype.require="^uiGmapGoogleMap",r.prototype.scope=r.scope,r.prototype.DEFAULTS={},r.prototype.$log=i,r}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var e;return e={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(e,t,i){var o;return o=function(e){function o(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=_.extend(this.scope||{},o.scope)}return n(o,e),o.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},o.scopeKeys=_.keys(o.scope),o.include(t),o.extend(i),o}(e)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","uiGmapLogger","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper",function(i,r,s,a,l,u,c,d,p,h,f,g,m){var v,b,y;return v=void 0,y=[f,p,h],b=function(r){function l(){this.link=e(this.link,this);var t,n;t=function(e){var t,n;return n=void 0,e.$on("$destroy",function(){return c.reset()}),t=u.handle(e),e.ctrlType="Map",e.deferred.promise.then(function(){return y.forEach(function(e){return e.init()})}),t.getMap=function(){return e.map},n=_.extend(this,t)},this.controller=["$scope",t],n=this}return o(l,r),l.include(a),l.prototype.restrict="EMA",l.prototype.transclude=!0,l.prototype.replace=!1,l.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container"></div><div ng-transclude style="display: none"></div></div>',l.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},l.prototype.link=function(e,o,r){var a,l;return a=[],e.$on("$destroy",function(){return m.removeEvents(a)}),e.idleAndZoomChanged=!1,null==e.center?void(l=e.$watch("center",function(t){return function(){return e.center?(l(),t.link(e,o,r)):void 0}}(this))):g.then(function(l){return function(u){var p,h,f,g,b,y,w,$,k,S,x,C,T,M,E,D,O;if(v={mapTypeId:u.MapTypeId.ROADMAP},C=c.spawn(),S=function(){return C.deferred.resolve({instance:C.instance,map:D})},!l.validateCoords(e.center))return void s.error("angular-google-maps: could not find a valid center property");if(!t.isDefined(e.zoom))return void s.error("angular-google-maps: map zoom property not set");if(g=t.element(o),g.addClass("angular-google-map"),k={options:{}},r.options&&(k.options=e.options),r.styles&&(k.styles=e.styles),r.type&&(T=r.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(T)?k.mapTypeId=google.maps.MapTypeId[r.type.toUpperCase()]:s.error("angular-google-maps: invalid map type '"+r.type+"'")),w=t.extend({},v,k,{center:l.getCoords(e.center),zoom:e.zoom,bounds:e.bounds}),D=new google.maps.Map(g.find("div")[1],w),D.uiGmap_id=d.generate(),f=!1,a.push(google.maps.event.addListenerOnce(D,"idle",function(){return e.deferred.resolve(D),S()})),h=r.events&&null!=(null!=(O=e.events)?O.blacklist:void 0)?e.events.blacklist:[],_.isString(h)&&(h=[h]),$=function(t,n,i){return _.contains(h,t)?void 0:(i&&i(),a.push(google.maps.event.addListener(D,t,function(){var t;return(null!=(t=e.update)?t.lazy:void 0)?void 0:n()})))},_.contains(h,"all")||($("dragstart",function(){return f=!0,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=f:void 0})}),$("dragend",function(){return f=!1,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=f:void 0})}),M=function(n,i){if(null==n&&(n=D.center),null==i&&(i=e),!_.contains(h,"center"))if(t.isDefined(i.center.type)){if(i.center.coordinates[1]!==n.lat()&&(i.center.coordinates[1]=n.lat()),i.center.coordinates[0]!==n.lng())return i.center.coordinates[0]=n.lng()}else if(i.center.latitude!==n.lat()&&(i.center.latitude=n.lat()),i.center.longitude!==n.lng())return i.center.longitude=n.lng()},x=!1,$("idle",function(){var t,i,o;return t=D.getBounds(),i=t.getNorthEast(),o=t.getSouthWest(),x=!0,e.$evalAsync(function(t){return M(),null===t.bounds||t.bounds===n||void 0===t.bounds||_.contains(h,"bounds")||(t.bounds.northeast={latitude:i.lat(),longitude:i.lng()},t.bounds.southwest={latitude:o.lat(),longitude:o.lng()}),_.contains(h,"zoom")||(t.zoom=D.zoom,e.idleAndZoomChanged=!e.idleAndZoomChanged),x=!1})})),t.isDefined(e.events)&&null!==e.events&&t.isObject(e.events)){y=function(t){return function(){return e.events[t].apply(e,[D,t,arguments])}},p=[];for(b in e.events)e.events.hasOwnProperty(b)&&t.isFunction(e.events[b])&&p.push(google.maps.event.addListener(D,b,y(b)));a.concat(p)}return D.getOptions=function(){return w},e.map=D,null!=r.control&&null!=e.control&&(e.control.refresh=function(e){var t;return null!=D?(google.maps.event.trigger(D,"resize"),null!=(null!=e?e.latitude:void 0)&&null!=(null!=e?e.latitude:void 0)?(t=l.getCoords(e),l.isTrue(r.pan)?D.panTo(t):D.setCenter(t)):void 0):void 0},e.control.getGMap=function(){return D},e.control.getMapOptions=function(){return w},e.control.getCustomEventListeners=function(){return p},e.control.removeEvents=function(e){return m.removeEvents(e)}),e.$watch("center",function(t,n){var i,o;return t===n||x||(i=l.getCoords(e.center),i.lat()===D.center.lat()&&i.lng()===D.center.lng())?void 0:(o=!0,f||(l.validateCoords(t)||s.error("Invalid center for newValue: "+JSON.stringify(t)),l.isTrue(r.pan)&&e.zoom===D.zoom?D.panTo(i):D.setCenter(i)),o=!1)},!0),E=null,e.$watch("zoom",function(t,n){var o,r,s;return null==t||_.isEqual(t,n)||(null!=D?D.getZoom():void 0)===(null!=e?e.zoom:void 0)||x?void 0:(o=!0,null!=E&&i.cancel(E),E=i(function(){return D.setZoom(t),o=!1},(null!=(r=e.eventOpts)&&null!=(s=r.debounce)?s.zoomMs:void 0)+20,!1))}),e.$watch("bounds",function(e,t){var n,i,o,r,a,l,u;return e!==t?null==(null!=e&&null!=(r=e.northeast)?r.latitude:void 0)||null==(null!=e&&null!=(a=e.northeast)?a.longitude:void 0)||null==(null!=e&&null!=(l=e.southwest)?l.latitude:void 0)||null==(null!=e&&null!=(u=e.southwest)?u.longitude:void 0)?void s.error("Invalid map bounds for new value: "+JSON.stringify(e)):(i=new google.maps.LatLng(e.northeast.latitude,e.northeast.longitude),o=new google.maps.LatLng(e.southwest.latitude,e.southwest.longitude),n=new google.maps.LatLngBounds(o,i),D.fitBounds(n)):void 0}),["options","styles"].forEach(function(t){return e.$watch(t,function(e,t){var n;return n=this.exp,_.isEqual(e,t)?void 0:("options"===n?k.options=e:k.options[n]=e,null!=D?D.setOptions(k):void 0)},!0)})}}(this))},l}(l)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,n,o,r){var s;return s=function(s){function a(){this.link=e(this.link,this),a.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',r.info(this)}return i(a,s),a.prototype.controller=["$scope","$element",function(e,n){return e.ctrlType="Marker",_.extend(this,t.handle(e,n))}],a.prototype.link=function(e,i,r,s){var a;return a=t.mapPromise(e,s),a.then(function(){return function(i){var r,s,a,l,u,c;return a=new o(i),l=_.object(t.keys,t.keys),u=new n(e,e,l,i,{},r=!0,a,s=!1,c=!1),u.deferred.promise.then(function(t){return e.deferred.resolve(t)}),null!=e.control?e.control.getGMarkers=a.getGMarkers:void 0}}(this)),e.$on("$destroy",function(){return function(){var e;return"undefined"!=typeof e&&null!==e&&e.clear(),e=null}}(this))},a}(t)}])}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(e,t,i,o,r){var s;return s=function(o){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',t.extend(this,{doCluster:"=docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref"}),r.info(this)}return n(s,o),s.prototype.controller=["$scope","$element",function(t,n){return t.ctrlType="Markers",_.extend(this,e.handle(t,n))}],s.prototype.link=function(n,o,r,s){var a,l;return a=void 0,l=function(){return n.deferred.resolve()},e.mapPromise(n,s).then(function(e){var u;return u=s.getScope(),u.$watch("idleAndZoomChanged",function(){return _.defer(a.gMarkerManager.draw)}),a=new i(n,o,r,e),t.link(n,a),null!=n.control&&(n.control.getGMarkers=function(){var e;return null!=(e=a.gMarkerManager)?e.getGMarkers():void 0},n.control.getChildMarkers=function(){return a.plurals}),_.last(a.existingPieces._content).then(function(){return l()})})},s}(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var e;return e=function(e,t){return null!=e.control?(e.control.updateModels=function(n){return e.models=n,t.createChildScopes(!1)},e.control.newModels=function(n){return e.models=n,t.rebuildAll(e,!0,!0)},e.control.clean=function(){return t.rebuildAll(e,!1,!0)},e.control.getPlurals=function(){return t.plurals}):void 0},{extend:function(e,t){return _.extend(e.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(t,n){return e(t,n)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonChildModel",function(t,n,o,r){var s;return s=function(n){function o(){return this.link=e(this.link,this),o.__super__.constructor.apply(this,arguments)}return i(o,n),o.prototype.link=function(e,n,i,o){var s,a;return s=[],a=t.mapPromise(e,o),null!=e.control&&(e.control.getInstance=this,e.control.polygons=s,e.control.promise=a),a.then(function(t){return function(n){return s.push(new r(e,i,n,t.DEFAULTS))}}(this))},o}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonsParentModel","uiGmapPlural",function(n,o,r,s,a){var l;return l=function(n){function o(){this.link=e(this.link,this),o.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return i(o,n),o.prototype.link=function(e,n,i,o){return o.getScope().deferred.promise.then(function(o){return function(r){return(t.isUndefined(e.path)||null===e.path)&&o.$log.warn("polygons: no valid path attribute found"),e.models||o.$log.warn("polygons: no models found to create from"),a.link(e,new s(e,n,i,r,o.DEFAULTS))}}(this))},o}(n)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylineChildModel",function(n,o,r,s){var a;return a=function(o){function r(){return this.link=e(this.link,this),r.__super__.constructor.apply(this,arguments)}return i(r,o),r.prototype.link=function(e,i,o,r){return n.mapPromise(e,r).then(function(n){return function(i){return(t.isUndefined(e.path)||null===e.path||!n.validatePath(e.path))&&n.$log.warn("polyline: no valid path attribute found"),new s(e,o,i,n.DEFAULTS)}}(this))},r}(n)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylinesParentModel","uiGmapPlural",function(n,o,r,s,a){var l;return l=function(n){function o(){this.link=e(this.link,this),o.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return i(o,n),o.prototype.link=function(e,n,i,o){return o.getScope().deferred.promise.then(function(o){return function(r){return(t.isUndefined(e.path)||null===e.path)&&o.$log.warn("polylines: no valid path attribute found"),e.models||o.$log.warn("polylines: no models found to create from"),a.link(e,new s(e,n,i,r,o.DEFAULTS))}}(this))},o}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(e,t,n,i){return _.extend(n,{link:function(e,t,n,o){return o.getScope().deferred.promise.then(function(){return function(o){return new i(e,t,n,o)}}(this))}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)
}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(n,o,r,s,a){var l;return l=function(l){function u(){this.link=e(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',a.debug(this),this.childWindows=[]}return i(u,l),u.include(o),u.prototype.link=function(e,i,o,r){var s,a;return s=r.length>1&&null!=r[1]?r[1]:void 0,a=null!=s?s.getScope():void 0,this.mapPromise=n.mapPromise(e,r[0]),this.mapPromise.then(function(n){return function(r){var l;return l=!0,t.isDefined(o.isiconvisibleonclick)&&(l=e.isIconVisibleOnClick),s?a.deferred.promise.then(function(){return n.init(e,i,l,r,a)}):void n.init(e,i,l,r)}}(this))},u.prototype.init=function(e,t,n,i,o){var a,l,u,c,d;return l=null!=e.options?e.options:{},c=null!=e&&this.validateCoords(e.coords),null!=(null!=o?o.getGMarker:void 0)&&(u=o.getGMarker()),d=c?this.createWindowOptions(u,e,t.html(),l):l,null!=i&&(a=new r({},e,d,n,i,o,t),this.childWindows.push(a),e.$on("$destroy",function(e){return function(){return e.childWindows=s.withoutObjects(e.childWindows,[a],function(e,t){return e.scope.$id===t.scope.$id}),e.childWindows.length=0}}(this))),null!=e.control&&(e.control.getGWindows=function(e){return function(){return e.childWindows.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(e){return function(){return e.childWindows}}(this),e.control.getPlurals=e.control.getChildWindows,e.control.showWindow=function(e){return function(){return e.childWindows.map(function(e){return e.showWindow()})}}(this),e.control.hideWindow=function(e){return function(){return e.childWindows.map(function(e){return e.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=a?this.onChildCreation(a):void 0},u}(n)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,n,o,r,s){var a;return a=function(t){function a(){this.init=e(this.init,this),this.link=e(this.link,this),a.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',n.extend(this),s.debug(this)}return i(a,t),a.prototype.link=function(e,t,n,i){var o,s,a;return o=i[0].getScope(),s=i.length>1&&null!=i[1]?i[1]:void 0,a=null!=s?s.getScope():void 0,o.deferred.promise.then(function(o){return function(s){var l,u;return l=(null!=a&&null!=(u=a.deferred)?u.promise:void 0)||r.resolve(),l.then(function(){var r,l;return r=null!=(l=o.parentModel)?l.existingPieces:void 0,r?r.then(function(){return o.init(e,t,n,i,s,a)}):o.init(e,t,n,i,s,a)})}}(this))},a.prototype.init=function(e,t,i,r,s,a){var l;return l=new o(e,t,i,r,s,a),n.link(e,l),null!=e.control?(e.control.getGWindows=function(){return function(){return l.plurals.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(){return function(){return l.plurals}}(this)):void 0},a}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(e,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(e,t,n,i,o){return new o(e,t,n,i)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(e,t,n,i,o,r){return new r(e,t,n,i,o)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,n,i){var o;return new(o=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(e,t,n,o){return o.getScope().deferred.promise.then(function(){return function(o){return null!=e.onCreated?new i(e,t,n,o,e.onCreated):new i(e,t,n,o)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,n,i){var o;return new(o=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(e,t,n,o){return o.getScope().deferred.promise.then(function(){return function(o){return new i(e,t,n,o)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,i,o,r,s,a){var l;return new(l=function(){function l(){this.link=e(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(e,i,l,u){return n.then(function(n){return function(c){return r.get(e.template,{cache:s}).success(function(r){return t.isUndefined(e.events)?void n.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(s){var u;return u=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new o(e,i,l,s,u,a(r)(e)):void n.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function e(){}return e.generate=function(){var t=e._gri,n=e._ha;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._gri=function(e){return 0>e?0/0:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):0/0},e._ha=function(e,t){for(var n=e.toString(16),i=t-n.length,o="0";i>0;i>>>=1,o+=o)1&i&&(n=o+n);return n},e}),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){function t(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof e.visible&&(e.visible="undefined"==typeof e.isHidden?!0:!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function i(e,t){e.getMarkerClusterer().extend(i,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=t,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function o(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new i(this,e.getStyles())}function r(e,t,i){this.extend(r,google.maps.OverlayView),t=t||[],i=i||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.title_=i.title||"",this.zoomOnClick_=!0,i.zoomOnClick!==n&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,i.averageCenter!==n&&(this.averageCenter_=i.averageCenter),this.ignoreHidden_=!1,i.ignoreHidden!==n&&(this.ignoreHidden_=i.ignoreHidden),this.enableRetinaIcons_=!1,i.enableRetinaIcons!==n&&(this.enableRetinaIcons_=i.enableRetinaIcons),this.imagePath_=i.imagePath||r.IMAGE_PATH,this.imageExtension_=i.imageExtension||r.IMAGE_EXTENSION,this.imageSizes_=i.imageSizes||r.IMAGE_SIZES,this.calculator_=i.calculator||r.CALCULATOR,this.batchSize_=i.batchSize||r.BATCH_SIZE,this.batchSizeIE_=i.batchSizeIE||r.BATCH_SIZE_IE,this.clusterClass_=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}function s(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=a.getSharedCross(t)}function l(e){e=e||{},e.labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,"undefined"==typeof e.labelVisible&&(e.labelVisible=!0),"undefined"==typeof e.raiseOnDrag&&(e.raiseOnDrag=!0),"undefined"==typeof e.clickable&&(e.clickable=!0),"undefined"==typeof e.draggable&&(e.draggable=!1),"undefined"==typeof e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new a(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}t.prototype=new google.maps.OverlayView,t.prototype.createInfoBoxDiv_=function(){var e,t,n,i=this,o=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},r=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),i.enableEventPropagation_||o(e)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],o));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",r),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},t.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},t.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},t.prototype.panBox_=function(e){var t,n,i=0,o=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),n=t.getBounds();var r=t.getDiv(),s=r.offsetWidth,a=r.offsetHeight,l=this.pixelOffset_.width,u=this.pixelOffset_.height,c=this.div_.offsetWidth,d=this.div_.offsetHeight,p=this.infoBoxClearance_.width,h=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);f.x<-l+p?i=f.x+l-p:f.x+c+l+p>s&&(i=f.x+c+l+p-s),this.alignBottom_?f.y<-u+h+d?o=f.y+u-h-d:f.y+u+h>a&&(o=f.y+u+h-a):f.y<-u+h?o=f.y+u-h:f.y+d+u+h>a&&(o=f.y+d+u+h-a),(0!==i||0!==o)&&(t.getCenter(),t.panBy(i,o))}},t.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);"undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},t.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=n.ownerDocument.defaultView.getComputedStyle(n,""),e&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(t.top=parseInt(n.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(n.currentStyle.borderRightWidth,10)||0),t},t.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},t.prototype.setOptions=function(e){"undefined"!=typeof e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),"undefined"!=typeof e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),"undefined"!=typeof e.content&&this.setContent(e.content),"undefined"!=typeof e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),"undefined"!=typeof e.maxWidth&&(this.maxWidth_=e.maxWidth),"undefined"!=typeof e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),"undefined"!=typeof e.alignBottom&&(this.alignBottom_=e.alignBottom),"undefined"!=typeof e.position&&this.setPosition(e.position),"undefined"!=typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!=typeof e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),"undefined"!=typeof e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),"undefined"!=typeof e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),"undefined"!=typeof e.isHidden&&(this.isHidden_=e.isHidden),"undefined"!=typeof e.visible&&(this.isHidden_=!e.visible),"undefined"!=typeof e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},t.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},t.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},t.prototype.getContent=function(){return this.content_},t.prototype.getPosition=function(){return this.position_},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.getVisible=function(){var e;return e="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},t.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},t.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},t.prototype.open=function(e,t){var n=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},t.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function t(e,t){var n=this,i=new google.maps.OverlayView;i.onAdd=function(){n.init_(e,t)},i.draw=function(){},i.onRemove=function(){},i.setMap(e),this.prjov_=i}var n=function(e){var t;switch(e){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=e}return t},i=function(e){var t,i={};if(document.defaultView&&document.defaultView.getComputedStyle){if(t=e.ownerDocument.defaultView.getComputedStyle(e,""))return i.top=parseInt(t.borderTopWidth,10)||0,i.bottom=parseInt(t.borderBottomWidth,10)||0,i.left=parseInt(t.borderLeftWidth,10)||0,i.right=parseInt(t.borderRightWidth,10)||0,i}else if(document.documentElement.currentStyle&&e.currentStyle)return i.top=parseInt(n(e.currentStyle.borderTopWidth),10)||0,i.bottom=parseInt(n(e.currentStyle.borderBottomWidth),10)||0,i.left=parseInt(n(e.currentStyle.borderLeftWidth),10)||0,i.right=parseInt(n(e.currentStyle.borderRightWidth),10)||0,i;return i.top=parseInt(e.style["border-top-width"],10)||0,i.bottom=parseInt(e.style["border-bottom-width"],10)||0,i.left=parseInt(e.style["border-left-width"],10)||0,i.right=parseInt(e.style["border-right-width"],10)||0,i},o={x:0,y:0},r=function(){o.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,o.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};r();var s=function(t){var n=0,i=0;return t=t||e.event,"undefined"!=typeof t.pageX?(n=t.pageX,i=t.pageY):"undefined"!=typeof t.clientX&&(n=t.clientX+o.x,i=t.clientY+o.y),{left:n,top:i}},a=function(t){for(var n=t.offsetLeft,i=t.offsetTop,o=t.offsetParent;null!==o;){o!==document.body&&o!==document.documentElement&&(n-=o.scrollLeft,i-=o.scrollTop);var r=o,s=r.offsetLeft,a=r.offsetTop;if(!s&&!a&&e.getComputedStyle){var l=document.defaultView.getComputedStyle(r,null).MozTransform||document.defaultView.getComputedStyle(r,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");s+=parseInt(u[4],10)||0,a+=parseInt(u[5],10)||0}}n+=s,i+=a,o=o.offsetParent}return{left:n,top:i}},l=function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u=function(e,t){"undefined"!=typeof t&&(e.style.opacity=t),"undefined"!=typeof e.style.opacity&&""!==e.style.opacity&&(e.style.filter="alpha(opacity="+100*e.style.opacity+")")};t.prototype.init_=function(t,n){var o,s=this;for(this.map_=t,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=i(this.map_.getDiv()),this.veilDiv_=[],o=0;4>o;o++)this.veilDiv_[o]=document.createElement("div"),this.veilDiv_[o].onselectstart=function(){return!1},l(this.veilDiv_[o].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[o].style,n.paneStyle),l(this.veilDiv_[o].style,n.veilStyle),l(this.veilDiv_[o].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[o].style.MozUserSelect="none"),u(this.veilDiv_[o]),"transparent"===this.veilDiv_[o].style.backgroundColor&&(this.veilDiv_[o].style.backgroundColor="white",u(this.veilDiv_[o],0)),this.map_.getDiv().appendChild(this.veilDiv_[o]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=i(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(e){s.onKeyDown_(e)}),google.maps.event.addDomListener(document,"keyup",function(e){s.onKeyUp_(e)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(document,"mousedown",function(e){s.onMouseDownDocument_(e)}),google.maps.event.addDomListener(document,"mousemove",function(e){s.onMouseMove_(e)}),google.maps.event.addDomListener(document,"mouseup",function(e){s.onMouseUp_(e)}),google.maps.event.addDomListener(e,"scroll",r)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},t.prototype.initControl_=function(e){var t,n,i=this;return t=document.createElement("div"),t.className=this.visualClass_,t.style.position="relative",t.style.overflow="hidden",t.style.height=this.visualSize_.height+"px",t.style.width=this.visualSize_.width+"px",t.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",t.appendChild(n),t.onclick=function(e){i.hotKeyDown_=!i.hotKeyDown_,i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on,i.activatedByControl_=!0,google.maps.event.trigger(i,"activate")):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off,google.maps.event.trigger(i,"deactivate")),i.onMouseMove_(e)},t.onmouseover=function(){i.buttonDiv_.firstChild.style.left=-(1*i.visualSize_.width)+"px"},t.onmouseout=function(){i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off)},t.ondragstart=function(){return!1},l(t.style,{cursor:"pointer",marginTop:e.height+"px",marginLeft:e.width+"px"}),t},t.prototype.isHotKeyDown_=function(t){var n;if(t=t||e.event,n=t.shiftKey&&"shift"===this.key_||t.altKey&&"alt"===this.key_||t.ctrlKey&&"ctrl"===this.key_,!n)switch(t.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},t.prototype.isMouseOnMap_=function(){var e=this.mousePosn_;if(e){var t=this.mapPosn_,n=this.map_.getDiv();return e.left>t.left&&e.left<t.left+n.offsetWidth&&e.top>t.top&&e.top<t.top+n.offsetHeight}return!1},t.prototype.setVeilVisibility_=function(){var e;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var t=this.map_.getDiv();if(this.mapWidth_=t.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=t.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,i=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,o=this.visualSize_.width,r=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+o+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+o)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=o+"px",this.veilDiv_[2].style.height=i+"px",this.veilDiv_[3].style.top=i+r+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=o+"px",this.veilDiv_[3].style.height=this.mapHeight_-(i+r)+"px",e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",e=1;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.width="0px",this.veilDiv_[e].style.height="0px";for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}}else for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none"},t.prototype.onKeyDown_=function(e){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(e)&&(this.mapPosn_=a(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},t.prototype.getMousePoint_=function(e){var t=s(e),n=new google.maps.Point;return n.x=t.left-this.mapPosn_.left-this.borderWidths_.left,n.y=t.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},t.prototype.onMouseDown_=function(e){if(this.map_&&this.hotKeyDown_){this.mapPosn_=a(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(e),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection(),n=t.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},t.prototype.onMouseDownDocument_=function(){this.mouseDown_=!0},t.prototype.onMouseMove_=function(e){if(this.mousePosn_=s(e),this.dragging_){this.endPt_=this.getMousePoint_(e);var t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),o=Math.abs(this.startPt_.y-this.endPt_.y),r=Math.max(0,i-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,o-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+o+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+o)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=t+"px",this.boxDiv_.style.width=r+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(t,n+o),new google.maps.Point(t+i,n),this.prjov_.getProjection())
}else this.mouseDown_||(this.mapPosn_=a(this.map_.getDiv()),this.setVeilVisibility_())},t.prototype.onMouseUp_=function(e){var t,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(e).x===this.startPt_.x&&this.getMousePoint_(e).y===this.startPt_.y)return void this.onKeyUp_(e);var i=Math.min(this.startPt_.x,this.endPt_.x),o=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),s=Math.abs(this.startPt_.y-this.endPt_.y),a=!0;a&&(i+=this.borderWidths_.left,o+=this.borderWidths_.top);var l=this.prjov_.getProjection(),u=l.fromContainerPixelToLatLng(new google.maps.Point(i,o+s)),c=l.fromContainerPixelToLatLng(new google.maps.Point(i+r,o)),d=new google.maps.LatLngBounds(u,c);if(this.noZoom_)this.boxDiv_.style.display="none";else{t=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<t&&this.map_.setZoom(t);var p=l.fromLatLngToContainerPixel(u),h=l.fromLatLngToContainerPixel(c);a&&(p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top,h.x-=this.borderWidths_.left,h.y-=this.borderWidths_.top),this.boxDiv_.style.left=p.x+"px",this.boxDiv_.style.top=h.y+"px",this.boxDiv_.style.width=Math.abs(h.x-p.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(h.y-p.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(e),google.maps.event.trigger(this,"dragend",d),this.isHotKeyDown_(e)||this.onKeyUp_(e)}},t.prototype.onKeyUp_=function(){var e,t,n,i,o,r,s,a,l=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),o=Math.abs(this.startPt_.y-this.endPt_.y),r=this.prjov_.getProjection(),s=r.fromContainerPixelToLatLng(new google.maps.Point(t,n+o)),a=r.fromContainerPixelToLatLng(new google.maps.Point(t+i,n)),l=new google.maps.LatLngBounds(s,a)),e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",l)}},google.maps.Map.prototype.enableKeyDragZoom=function(e){this.dragZoom_=new t(this,e)},google.maps.Map.prototype.disableKeyDragZoom=function(){var e,t=this.dragZoom_;if(t){for(e=0;e<t.listeners_.length;++e)google.maps.event.removeListener(t.listeners_[e]);for(this.getDiv().removeChild(t.boxDiv_),e=0;e<t.veilDiv_.length;e++)this.getDiv().removeChild(t.veilDiv_[e]);t.visualEnabled_&&this.controls[t.visualPosition_].removeAt(t.controlIndex_),t.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),i.prototype.onAdd=function(){var e,t,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(i){if(e=!1,!t){var o,r,s=n.cluster_.getMarkerClusterer();google.maps.event.trigger(s,"click",n.cluster_),google.maps.event.trigger(s,"clusterclick",n.cluster_),s.getZoomOnClick()&&(r=s.getMaxZoom(),o=n.cluster_.getBounds(),s.getMap().fitBounds(o),setTimeout(function(){s.getMap().fitBounds(o),null!==r&&s.getMap().getZoom()>r&&s.getMap().setZoom(r+1)},100)),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",n.cluster_)})},i.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},i.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},i.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},i.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),i=parseInt(t[1].trim(),10),o=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(o),e="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(e+="clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);"),e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},i.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var n=this.styles_[t];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},i.prototype.setCenter=function(e){this.center_=e},i.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},i.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},o.prototype.getSize=function(){return this.markers_.length},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getCenter=function(){return this.center_},o.prototype.getMap=function(){return this.map_},o.prototype.getMarkerClusterer=function(){return this.markerClusterer_},o.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(e=0;e<n.length;e++)t.extend(n[e].getPosition());return t},o.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},o.prototype.addMarker=function(e){var t,n,i;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var o=this.markers_.length+1,r=(this.center_.lat()*(o-1)+e.getPosition().lat())/o,s=(this.center_.lng()*(o-1)+e.getPosition().lng())/o;this.center_=new google.maps.LatLng(r,s),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),n=this.markers_.length,i=this.markerClusterer_.getMaxZoom(),null!==i&&this.map_.getZoom()>i)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n===this.minClusterSize_)for(t=0;n>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return this.updateIcon_(),!0},o.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},o.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},o.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return void this.clusterIcon_.hide();if(e<this.minClusterSize_)return void this.clusterIcon_.hide();var n=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()},o.prototype.isMarkerAlreadyAdded_=function(e){var t;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(e);for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t])return!0;return!1},r.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},r.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},r.prototype.draw=function(){},r.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},r.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),n=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)n.extend(t[e].getPosition());this.getMap().fitBounds(n)},r.prototype.getGridSize=function(){return this.gridSize_},r.prototype.setGridSize=function(e){this.gridSize_=e},r.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},r.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},r.prototype.getMaxZoom=function(){return this.maxZoom_},r.prototype.setMaxZoom=function(e){this.maxZoom_=e},r.prototype.getStyles=function(){return this.styles_},r.prototype.setStyles=function(e){this.styles_=e},r.prototype.getTitle=function(){return this.title_},r.prototype.setTitle=function(e){this.title_=e},r.prototype.getZoomOnClick=function(){return this.zoomOnClick_},r.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},r.prototype.getAverageCenter=function(){return this.averageCenter_},r.prototype.setAverageCenter=function(e){this.averageCenter_=e},r.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},r.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},r.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},r.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},r.prototype.getImageExtension=function(){return this.imageExtension_},r.prototype.setImageExtension=function(e){this.imageExtension_=e},r.prototype.getImagePath=function(){return this.imagePath_},r.prototype.setImagePath=function(e){this.imagePath_=e},r.prototype.getImageSizes=function(){return this.imageSizes_},r.prototype.setImageSizes=function(e){this.imageSizes_=e},r.prototype.getCalculator=function(){return this.calculator_},r.prototype.setCalculator=function(e){this.calculator_=e},r.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},r.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},r.prototype.getClusterClass=function(){return this.clusterClass_},r.prototype.setClusterClass=function(e){this.clusterClass_=e},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getTotalMarkers=function(){return this.markers_.length},r.prototype.getClusters=function(){return this.clusters_},r.prototype.getTotalClusters=function(){return this.clusters_.length},r.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},r.prototype.addMarkers=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.pushMarkerTo_(e[n]);t||this.redraw_()},r.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},r.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},r.prototype.removeMarkers=function(e,t){var n,i,o=!1;for(n=0;n<e.length;n++)i=this.removeMarker_(e[n]),o=o||i;return!t&&o&&this.repaint(),o},r.prototype.removeMarker_=function(e){var t,n=-1;if(this.markers_.indexOf)n=this.markers_.indexOf(e);else for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t]){n=t;break}return-1===n?!1:(e.setMap(null),this.markers_.splice(n,1),!0)},r.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},r.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},r.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),o=t.fromLatLngToDivPixel(n);o.x+=this.gridSize_,o.y-=this.gridSize_;var r=t.fromLatLngToDivPixel(i);r.x-=this.gridSize_,r.y+=this.gridSize_;var s=t.fromDivPixelToLatLng(o),a=t.fromDivPixelToLatLng(r);return e.extend(s),e.extend(a),e},r.prototype.redraw_=function(){this.createClusters_(0)},r.prototype.resetViewport_=function(e){var t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)n=this.markers_[t],n.isAdded=!1,e&&n.setMap(null)},r.prototype.distanceBetweenPoints_=function(e,t){var n=6371,i=(t.lat()-e.lat())*Math.PI/180,o=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2),s=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)),a=n*s;return a},r.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},r.prototype.addToClosestCluster_=function(e){var t,n,i,r,s=4e4,a=null;for(t=0;t<this.clusters_.length;t++)i=this.clusters_[t],r=i.getCenter(),r&&(n=this.distanceBetweenPoints_(r,e.getPosition()),s>n&&(s=n,a=i));a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(i=new o(this),i.addMarker(e),this.clusters_.push(i))},r.prototype.createClusters_=function(e){var t,n,i,o=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var r=this.getExtendedBounds(i),s=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;s>t;t++)n=this.markers_[t],!n.isAdded&&this.isMarkerInBounds_(n,r)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);s<this.markers_.length?this.timerRefStatic=setTimeout(function(){o.createClusters_(s)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},r.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},r.CALCULATOR=function(e,t){for(var n=0,i="",o=e.length.toString(),r=o;0!==r;)r=parseInt(r/10,10),n++;return n=Math.min(n,t),{text:o,index:n,title:i}},r.BATCH_SIZE=2e3,r.BATCH_SIZE_IE=500,r.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",r.IMAGE_EXTENSION="png",r.IMAGE_SIZES=[53,56,66,78,90],s(a,google.maps.OverlayView),a.getSharedCross=function(e){var t;return"undefined"==typeof a.getSharedCross.crossDiv&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,a.getSharedCross.crossDiv=t),a.getSharedCross.crossDiv},a.prototype.onAdd=function(){var e,t,n,i,o,r,s,l=this,u=!1,c=!1,d=20,p="url("+this.handCursorURL_+")",h=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},f=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof a.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),a.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=p),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",e),h(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",t)),c){if(o){n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()),n.y+=d,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(f,1406)}catch(r){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(e),i=!0,c=!1,t.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",t)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(i){var a;u&&(c?(i.latLng=new google.maps.LatLng(i.latLng.lat()-t,i.latLng.lng()-n),a=l.getProjection().fromLatLngToDivPixel(i.latLng),o&&(l.crossDiv_.style.left=a.x+"px",l.crossDiv_.style.top=a.y+"px",l.crossDiv_.style.display="",a.y-=d),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(a)),o&&(l.eventDiv_.style.top=a.y+d+"px"),google.maps.event.trigger(l.marker_,"drag",i)):(t=i.latLng.lat()-l.marker_.getPosition().lat(),n=i.latLng.lng()-l.marker_.getPosition().lng(),e=l.marker_.getZIndex(),r=l.marker_.getPosition(),s=l.marker_.getMap().getCenter(),o=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),i.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",i)))}),google.maps.event.addDomListener(document,"keydown",function(e){c&&27===e.keyCode&&(o=!1,l.marker_.setPosition(r),l.marker_.getMap().setCenter(s),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(i?i=!1:(google.maps.event.trigger(l.marker_,"click",e),h(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",e),h(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(){c||(o=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(){c||o&&(l.setPosition(d),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(){c||o&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},a.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},a.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},a.prototype.setContent=function(){var e=this.marker_.get("labelContent");"undefined"==typeof e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.appendChild(e))},a.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},a.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},a.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},a.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},a.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},a.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},a.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get("labelVisible")&&this.marker_.getVisible()?"block":"none",this.eventDiv_.style.display=this.labelDiv_.style.display},s(l,google.maps.Marker),l.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},e.InfoBox=t,e.Cluster=o,e.ClusterIcon=i,e.MarkerClusterer=r,e.MarkerLabel_=a,e.MarkerWithLabel=l})}}),function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,i){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:i(1).Graph,Queue:i(1).Queue}})},function(e,t,n){(function(){e.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(e){(function(){var t,n={}.hasOwnProperty;t=function(){function e(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return e.prototype.addNode=function(e){return this._nodes[e]?void 0:(this.nodeSize++,this._nodes[e]={_outEdges:{},_inEdges:{}})},e.prototype.getNode=function(e){return this._nodes[e]},e.prototype.removeNode=function(e){var t,i,o,r,s;if(i=this._nodes[e]){r=i._outEdges;for(o in r)n.call(r,o)&&this.removeEdge(e,o);s=i._inEdges;for(t in s)n.call(s,t)&&this.removeEdge(t,e);return this.nodeSize--,delete this._nodes[e],i}},e.prototype.addEdge=function(e,t,n){var i,o,r;return null==n&&(n=1),!this.getEdge(e,t)&&(o=this._nodes[e],r=this._nodes[t],o&&r)?(i={weight:n},o._outEdges[t]=i,r._inEdges[e]=i,this.edgeSize++,i):void 0},e.prototype.getEdge=function(e,t){var n,i;return n=this._nodes[e],i=this._nodes[t],n&&i?n._outEdges[t]:void 0},e.prototype.removeEdge=function(e,t){var n,i,o;return i=this._nodes[e],o=this._nodes[t],(n=this.getEdge(e,t))?(delete i._outEdges[t],delete o._inEdges[e],this.edgeSize--,n):void 0},e.prototype.getInEdgesOf=function(e){var t,i,o,r;o=this._nodes[e],i=[],r=null!=o?o._inEdges:void 0;for(t in r)n.call(r,t)&&i.push(this.getEdge(t,e));return i},e.prototype.getOutEdgesOf=function(e){var t,i,o,r;t=this._nodes[e],i=[],r=null!=t?t._outEdges:void 0;for(o in r)n.call(r,o)&&i.push(this.getEdge(e,o));return i},e.prototype.getAllEdgesOf=function(e){var t,n,i,o,r,s,a;if(n=this.getInEdgesOf(e),i=this.getOutEdgesOf(e),0===n.length)return i;for(o=this.getEdge(e,e),t=r=0,s=n.length;s>=0?s>r:r>s;t=s>=0?++r:--r)if(n[t]===o){a=[n[n.length-1],n[t]],n[t]=a[0],n[n.length-1]=a[1],n.pop();break}return n.concat(i)},e.prototype.forEachNode=function(e){var t,i,o;o=this._nodes;for(t in o)n.call(o,t)&&(i=o[t],e(i,t))},e.prototype.forEachEdge=function(e){var t,i,o,r,s,a;s=this._nodes;for(i in s)if(n.call(s,i)){o=s[i],a=o._outEdges;for(r in a)n.call(a,r)&&(t=a[r],e(t))}},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,i,o;t=function(){function e(e){var t,n,i,o,r,s;for(null==e&&(e=[]),this._data=[void 0],i=0,r=e.length;r>i;i++)n=e[i],null!=n&&this._data.push(n);if(this._data.length>1)for(t=o=2,s=this._data.length;s>=2?s>o:o>s;t=s>=2?++o:--o)this._upHeap(t);this.size=this._data.length-1}return e.prototype.add=function(e){return null!=e?(this._data.push(e),this._upHeap(this._data.length-1),this.size++,e):void 0},e.prototype.removeMin=function(){var e;return 1!==this._data.length?(this.size--,2===this._data.length?this._data.pop():(e=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),e)):void 0},e.prototype.peekMin=function(){return this._data[1]},e.prototype._upHeap=function(e){var t,n;for(t=this._data[e];this._data[e]<this._data[i(e)]&&e>1;)n=[this._data[i(e)],this._data[e]],this._data[e]=n[0],this._data[i(e)]=n[1],e=i(e)},e.prototype._downHeap=function(){var e,t,i;for(e=1;n(e<this._data.length)&&(t=n(e),t<this._data.length-1&&this._data[o(e)]<this._data[t]&&(t=o(e)),this._data[t]<this._data[e]);)i=[this._data[e],this._data[t]],this._data[t]=i[0],this._data[e]=i[1],e=t},e}(),i=function(e){return e>>1},n=function(e){return e<<1},o=function(e){return(e<<1)+1},e.exports=t}).call(this)},function(e){(function(){var t;t=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,i=e.length;i>n;n++)t=e[n],this.add(t)}return e.prototype.at=function(e){var t,n,i,o,r;if(-this.size<=e&&e<this.size){if(e=this._adjust(e),2*e<this.size)for(t=this.head,n=i=1;e>=i;n=i+=1)t=t.next;else for(t=this.tail,n=o=1,r=this.size-e-1;r>=o;n=o+=1)t=t.prev;return t}},e.prototype.add=function(e,t){var n,i,o,r,s;return null==t&&(t=this.size),-this.size<=t&&t<=this.size?(i={value:e},t=this._adjust(t),0===this.size?this.head=i:0===t?(o=[i,this.head,i],this.head.prev=o[0],i.next=o[1],this.head=o[2]):(n=this.at(t-1),r=[n.next,i,i,n],i.next=r[0],null!=(s=n.next)?s.prev=r[1]:void 0,n.next=r[2],i.prev=r[3]),t===this.size&&(this.tail=i),this.size++,e):void 0},e.prototype.removeAt=function(e){var t,n,i;return null==e&&(e=this.size-1),-this.size<=e&&e<this.size&&0!==this.size?(e=this._adjust(e),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===e?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(t=this.at(e),n=t.value,t.prev.next=t.next,null!=(i=t.next)&&(i.prev=t.prev),e===this.size-1&&(this.tail=t.prev)),this.size--,n):void 0},e.prototype.remove=function(e){var t;if(null!=e){for(t=this.head;t&&t.value!==e;)t=t.next;if(t)return 1===this.size?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,e}},e.prototype.indexOf=function(e,t){var n,i;if(null==t&&(t=0),null==this.head.value&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),n=this.at(t),i=t;n&&n.value!==e;)n=n.next,i++;return i===this.size?-1:i},e.prototype._adjust=function(e){return 0>e?this.size+e:e},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,i,o,r={}.hasOwnProperty;n="_mapId_",t=function(){function e(t){var n,i;this._content={},this._itemId=0,this._id=e._newMapId(),this.size=0;for(n in t)r.call(t,n)&&(i=t[n],this.set(n,i))}return e._mapIdTracker=0,e._newMapId=function(){return this._mapIdTracker++},e.prototype.hash=function(e,t){var r,s;return null==t&&(t=!1),s=i(e),o(e)?(r=n+this._id,t&&!e[r]&&(e[r]=this._itemId++),r+"_"+e[r]):s+"_"+e},e.prototype.set=function(e,t){return this.has(e)||this.size++,this._content[this.hash(e,!0)]=[t,e],t},e.prototype.get=function(e){var t;return null!=(t=this._content[this.hash(e)])?t[0]:void 0},e.prototype.has=function(e){return this.hash(e)in this._content},e.prototype["delete"]=function(e){var t;return t=this.hash(e),t in this._content?(delete this._content[t],o(e)&&delete e[n+this._id],this.size--,!0):!1},e.prototype.forEach=function(e){var t,n,i;i=this._content;for(t in i)r.call(i,t)&&(n=i[t],e(n[1],n[0]))},e}(),o=function(e){var t,n,o,r,s;for(t=["Boolean","Number","String","Undefined","Null","RegExp","Function"],o=i(e),r=0,s=t.length;s>r;r++)if(n=t[r],o===n)return!1;return!0},i=function(e){return Object.prototype.toString.apply(e).match(/\[object (.+)\]/)[1]},e.exports=t}).call(this)},function(e){(function(){var t;t=function(){function e(e){null==e&&(e=[]),this._content=e,this._dequeueIndex=0,this.size=this._content.length}return e.prototype.enqueue=function(e){return this.size++,this._content.push(e),e},e.prototype.dequeue=function(){var e;return 0!==this.size?(this.size--,e=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),e):void 0},e.prototype.peek=function(){return this._content[this._dequeueIndex]},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,i,o,r,s,a,l,u,c,d,p,h,f,g;n=0,i=1,o=2,a=3,r=1,t=2,s=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this._root,this.size=0,n=0,i=e.length;i>n;n++)t=e[n],null!=t&&this.add(t)}return e.prototype.add=function(e){var s,d,p,h;if(null!=e){if(this.size++,p={value:e,_color:r},this._root){if(d=l(this._root,function(t){return e===t.value?n:e<t.value?t._left?i:(p._parent=t,t._left=p,a):t._right?o:(p._parent=t,t._right=p,a)}),null!=d)return
}else this._root=p;for(s=p;;){if(s===this._root){s._color=t;break}if(s._parent._color===t)break;if((null!=(h=g(s))?h._color:void 0)!==r){!c(s)&&c(s._parent)?(this._rotateLeft(s._parent),s=s._left):c(s)&&!c(s._parent)&&(this._rotateRight(s._parent),s=s._right),s._parent._color=t,u(s)._color=r,c(s)?this._rotateRight(u(s)):this._rotateLeft(u(s));break}s._parent._color=t,g(s)._color=t,u(s)._color=r,s=u(s)}return e}},e.prototype.has=function(e){var t;return t=l(this._root,function(t){return e===t.value?n:e<t.value?i:o}),t?!0:!1},e.prototype.peekMin=function(){var e;return null!=(e=h(this._root))?e.value:void 0},e.prototype.peekMax=function(){var e;return null!=(e=p(this._root))?e.value:void 0},e.prototype.remove=function(e){var t;return(t=l(this._root,function(t){return e===t.value?n:e<t.value?i:o}))?(this._removeNode(this._root,t),this.size--,e):void 0},e.prototype.removeMin=function(){var e,t;return(e=h(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype.removeMax=function(){var e,t;return(e=p(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype._removeNode=function(e,n){var i,o,s,a,l,u,p,g,m,v;if(n._left&&n._right&&(o=h(n._right),n.value=o.value,n=o),o=n._left||n._right,o||(o={color:t,_right:void 0,_left:void 0,isLeaf:!0}),o._parent=n._parent,null!=(s=n._parent)&&(s[d(n)]=o),n._color===t)if(o._color===r)o._color=t,o._parent||(this._root=o);else for(;;){if(!o._parent){this._root=o.isLeaf?void 0:o;break}if(i=f(o),(null!=i?i._color:void 0)===r&&(o._parent._color=r,i._color=t,c(o)?this._rotateLeft(o._parent):this._rotateRight(o._parent)),i=f(o),o._parent._color!==t||i&&(i._color!==t||i._left&&i._left._color!==t||i._right&&i._right._color!==t)){if(!(o._parent._color!==r||i&&(i._color!==t||i._left&&(null!=(a=i._left)?a._color:void 0)!==t||i._right&&(null!=(l=i._right)?l._color:void 0)!==t))){null!=i&&(i._color=r),o._parent._color=t;break}if((null!=i?i._color:void 0)===t){!c(o)||i._right&&i._right._color!==t||(null!=(u=i._left)?u._color:void 0)!==r?c(o)||i._left&&i._left._color!==t||(null!=(g=i._right)?g._color:void 0)!==r||(i._color=r,null!=(m=i._right)&&(m._color=t),this._rotateLeft(i)):(i._color=r,null!=(p=i._left)&&(p._color=t),this._rotateRight(i));break}i=f(o),i._color=o._parent._color,c(o)?(i._right._color=t,this._rotateRight(o._parent)):(i._left._color=t,this._rotateLeft(o._parent))}else null!=i&&(i._color=r),o.isLeaf&&(o._parent[d(o)]=void 0),o=o._parent}return o.isLeaf&&null!=(v=o._parent)?v[d(o)]=void 0:void 0},e.prototype._rotateLeft=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._right),e._right._parent=e._parent,e._parent=e._right,e._right=e._right._left,e._parent._left=e,null!=(n=e._right)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e.prototype._rotateRight=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._left),e._left._parent=e._parent,e._parent=e._left,e._left=e._left._right,e._parent._right=e,null!=(n=e._left)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e}(),c=function(e){return e===e._parent._left},d=function(e){return c(e)?"_left":"_right"},l=function(e,t){var r,s,l;for(s=e,l=void 0;s;){if(r=t(s),r===n){l=s;break}if(r===i)s=s._left;else if(r===o)s=s._right;else if(r===a)break}return l},h=function(e){return l(e,function(e){return e._left?i:n})},p=function(e){return l(e,function(e){return e._right?o:n})},u=function(e){var t;return null!=(t=e._parent)?t._parent:void 0},g=function(e){return u(e)?c(e._parent)?u(e)._right:u(e)._left:void 0},f=function(e){return c(e)?e._parent._right:e._parent._left},e.exports=s}).call(this)},function(e,t,n){(function(){var t,i,o,r,s={}.hasOwnProperty;t=n(6),o="end",i=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this._root={},this.size=0,n=0,i=e.length;i>n;n++)t=e[n],this.add(t)}return e.prototype.add=function(e){var t,n,i,r;if(null!=e){for(this.size++,t=this._root,i=0,r=e.length;r>i;i++)n=e[i],null==t[n]&&(t[n]={}),t=t[n];return t[o]=!0,e}},e.prototype.has=function(e){var t,n,i,r;if(null==e)return!1;for(t=this._root,i=0,r=e.length;r>i;i++){if(n=e[i],null==t[n])return!1;t=t[n]}return t[o]?!0:!1},e.prototype.longestPrefixOf=function(e){var t,n,i,o,r;if(null==e)return"";for(t=this._root,i="",o=0,r=e.length;r>o&&(n=e[o],null!=t[n]);o++)i+=n,t=t[n];return i},e.prototype.wordsWithPrefix=function(e){var n,i,r,a,l,u,c,d,p,h;if(null==e)return[];for(null!=e||(e=""),c=[],i=this._root,d=0,p=e.length;p>d;d++)if(r=e[d],i=i[r],null==i)return[];for(l=new t,l.enqueue([i,""]);0!==l.size;){h=l.dequeue(),a=h[0],n=h[1],a[o]&&c.push(e+n);for(r in a)s.call(a,r)&&(u=a[r],l.enqueue([u,n+r]))}return c},e.prototype.remove=function(e){var t,n,i,s,a,l,u,c;if(null!=e){for(t=this._root,s=[],a=0,u=e.length;u>a;a++){if(i=e[a],null==t[i])return;t=t[i],s.push([i,t])}if(t[o]){if(this.size--,delete t[o],r(t,1))return e;for(n=l=c=s.length-1;(1>=c?1>=l:l>=1)&&!r(s[n][1],1);n=1>=c?++l:--l)delete s[n-1][1][s[n][0]];return r(this._root[s[0][0]],1)||delete this._root[s[0][0]],e}}},e}(),r=function(e,t){var n,i;if(0===t)return!0;i=0;for(n in e)if(s.call(e,n)&&(i++,i>=t))return!0;return!1},e.exports=i}).call(this)}]),t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash",function(t){return{init:_.once(function(){(function(){var n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e.NgMapCluster=function(n){function o(t){o.__super__.constructor.call(this,t),this.markers_=new e.PropMap}return i(o,n),o.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded_(e)){var i=this.markers_.get(e.key);if(i.getPosition().lat()==e.getPosition().lat()&&i.getPosition().lon()==e.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var o=this.markers_.length+1,r=(this.center_.lat()*(o-1)+e.getPosition().lat())/o,s=(this.center_.lng()*(o-1)+e.getPosition().lng())/o;this.center_=new google.maps.LatLng(r,s),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),t=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?e.getMap()!==this.map_&&e.setMap(this.map_):t<this.minClusterSize_?e.getMap()!==this.map_&&e.setMap(this.map_):t===this.minClusterSize_?this.markers_.each(function(e){e.setMap(null)}):e.setMap(null),!0},o.prototype.isMarkerAlreadyAdded_=function(e){return t.isNullOrUndefined(this.markers_.get(e.key))},o.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){e.extend(t.getPosition())}),e},o.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new PropMap,delete this.markers_},o}(Cluster),e.NgMapMarkerClusterer=function(t){function n(t,i,o){n.__super__.constructor.call(this,t,i,o),this.markers_=new e.PropMap}return i(n,t),n.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new PropMap},n.prototype.removeMarker_=function(e){return this.markers_.get(e.key)?(e.setMap(null),this.markers_.remove(e.key),!0):!1},n.prototype.createClusters_=function(e){var t,n,i,o=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var r=this.getExtendedBounds(i),s=Math.min(e+this.batchSize_,this.markers_.length),a=this.markers_.values();for(t=e;s>t;t++)n=a[t],!n.isAdded&&this.isMarkerInBounds_(n,r)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(s<this.markers_.length)this.timerRefStatic=setTimeout(function(){o.createClusters_(s)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},n.prototype.addToClosestCluster_=function(e){var t,n,i,o,r=4e4,s=null;for(t=0;t<this.clusters_.length;t++)i=this.clusters_[t],o=i.getCenter(),o&&(n=this.distanceBetweenPoints_(o,e.getPosition()),r>n&&(r=n,s=i));s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(i=new NgMapCluster(this),i.addMarker(e),this.clusters_.push(i))},n.prototype.redraw_=function(){this.createClusters_(0)},n.prototype.resetViewport_=function(e){var t;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[],this.markers_.each(function(t){t.isAdded=!1,e&&t.setMap(null)})},n.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)"constructor"!==t&&(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),i=parseInt(t[1].trim(),10),o=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(o),e="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},n}(MarkerClusterer)}).call(this)})}}])}(window,angular),function(){var e=angular.module("restangular",[]);e.provider("Restangular",function(){var e={};e.init=function(e,t){function n(e,t,n,i){var o={};return _.each(_.keys(i),function(r){var s=i[r];s.params=_.extend({},s.params,e.defaultRequestParams[s.method.toLowerCase()]),_.isEmpty(s.params)&&delete s.params,o[r]=e.isSafe(s.method)?function(){return t(_.extend(s,{url:n}))}:function(e){return t(_.extend(s,{url:n,data:e}))}}),o}e.configuration=t;var i=["get","head","options","trace","getlist"];t.isSafe=function(e){return _.contains(i,e.toLowerCase())};var o=/^https?:\/\//i;t.isAbsoluteUrl=function(e){return _.isUndefined(t.absoluteUrl)||_.isNull(t.absoluteUrl)?e&&o.test(e):t.absoluteUrl},t.absoluteUrl=_.isUndefined(t.absoluteUrl)?!0:t.absoluteUrl,e.setSelfLinkAbsoluteUrl=function(e){t.absoluteUrl=e},t.baseUrl=_.isUndefined(t.baseUrl)?"":t.baseUrl,e.setBaseUrl=function(e){return t.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},t.extraFields=t.extraFields||[],e.setExtraFields=function(e){return t.extraFields=e,this},t.defaultHttpFields=t.defaultHttpFields||{},e.setDefaultHttpFields=function(e){return t.defaultHttpFields=e,this},t.withHttpValues=function(e,n){return _.defaults(n,e,t.defaultHttpFields)},t.encodeIds=_.isUndefined(t.encodeIds)?!0:t.encodeIds,e.setEncodeIds=function(e){t.encodeIds=e},t.defaultRequestParams=t.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},e.setDefaultRequestParams=function(e,n){var i=[],o=n||e;return _.isUndefined(n)?i.push("common"):_.isArray(e)?i=e:i.push(e),_.each(i,function(e){t.defaultRequestParams[e]=o}),this},e.requestParams=t.defaultRequestParams,t.defaultHeaders=t.defaultHeaders||{},e.setDefaultHeaders=function(n){return t.defaultHeaders=n,e.defaultHeaders=t.defaultHeaders,this},e.defaultHeaders=t.defaultHeaders,t.methodOverriders=t.methodOverriders||[],e.setMethodOverriders=function(e){var n=_.extend([],e);return t.isOverridenMethod("delete",n)&&n.push("remove"),t.methodOverriders=n,this},t.jsonp=_.isUndefined(t.jsonp)?!1:t.jsonp,e.setJsonp=function(e){t.jsonp=e},t.isOverridenMethod=function(e,n){var i=n||t.methodOverriders;return!_.isUndefined(_.find(i,function(t){return t.toLowerCase()===e.toLowerCase()}))},t.urlCreator=t.urlCreator||"path",e.setUrlCreator=function(e){if(!_.has(t.urlCreatorFactory,e))throw new Error("URL Path selected isn't valid");return t.urlCreator=e,this},t.restangularFields=t.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save"},e.setRestangularFields=function(e){return t.restangularFields=_.extend(t.restangularFields,e),this},t.isRestangularized=function(e){return!!e[t.restangularFields.one]||!!e[t.restangularFields.all]},t.setFieldToElem=function(e,t,n){var i=e.split("."),o=t;return _.each(_.initial(i),function(e){o[e]={},o=o[e]}),o[_.last(i)]=n,this},t.getFieldFromElem=function(e,t){var n=e.split("."),i=t;return _.each(n,function(e){i&&(i=i[e])}),angular.copy(i)},t.setIdToElem=function(e,n){return t.setFieldToElem(t.restangularFields.id,e,n),this},t.getIdFromElem=function(e){return t.getFieldFromElem(t.restangularFields.id,e)},t.isValidId=function(e){return""!==e&&!_.isUndefined(e)&&!_.isNull(e)},t.setUrlToElem=function(e,n){return t.setFieldToElem(t.restangularFields.selfLink,e,n),this},t.getUrlFromElem=function(e){return t.getFieldFromElem(t.restangularFields.selfLink,e)},t.useCannonicalId=_.isUndefined(t.useCannonicalId)?!1:t.useCannonicalId,e.setUseCannonicalId=function(e){return t.useCannonicalId=e,this},t.getCannonicalIdFromElem=function(e){var n=e[t.restangularFields.cannonicalId],i=t.isValidId(n)?n:t.getIdFromElem(e);return i},t.responseInterceptors=t.responseInterceptors||[],t.defaultResponseInterceptor=function(e){return e},t.responseExtractor=function(e,n,i,o,r,s){var a=angular.copy(t.responseInterceptors);a.push(t.defaultResponseInterceptor);var l=e;return _.each(a,function(e){l=e(l,n,i,o,r,s)}),l},e.addResponseInterceptor=function(e){return t.responseInterceptors.push(e),this},e.setResponseInterceptor=e.addResponseInterceptor,e.setResponseExtractor=e.addResponseInterceptor,t.requestInterceptors=t.requestInterceptors||[],t.defaultInterceptor=function(e,t,n,i,o,r,s){return{element:e,headers:o,params:r,httpConfig:s}},t.fullRequestInterceptor=function(e,n,i,o,r,s,a){var l=angular.copy(t.requestInterceptors),u=t.defaultInterceptor(e,n,i,o,r,s,a);return _.reduce(l,function(e,t){return _.extend(e,t(e.element,n,i,o,e.headers,e.params,e.httpConfig))},u)},e.addRequestInterceptor=function(e){return t.requestInterceptors.push(function(t,n,i,o,r,s,a){return{headers:r,params:s,element:e(t,n,i,o),httpConfig:a}}),this},e.setRequestInterceptor=e.addRequestInterceptor,e.addFullRequestInterceptor=function(e){return t.requestInterceptors.push(e),this},e.setFullRequestInterceptor=e.addFullRequestInterceptor,t.errorInterceptor=t.errorInterceptor||function(){},e.setErrorInterceptor=function(e){return t.errorInterceptor=e,this},t.onBeforeElemRestangularized=t.onBeforeElemRestangularized||function(e){return e},e.setOnBeforeElemRestangularized=function(e){return t.onBeforeElemRestangularized=e,this},t.onElemRestangularized=t.onElemRestangularized||function(e){return e},e.setOnElemRestangularized=function(e){return t.onElemRestangularized=e,this},t.shouldSaveParent=t.shouldSaveParent||function(){return!0},e.setParentless=function(e){return _.isArray(e)?t.shouldSaveParent=function(t){return!_.contains(e,t)}:_.isBoolean(e)&&(t.shouldSaveParent=function(){return!e}),this},t.suffix=_.isUndefined(t.suffix)?null:t.suffix,e.setRequestSuffix=function(e){return t.suffix=e,this},t.transformers=t.transformers||{},e.addElementTransformer=function(n,i,o){var r=null,s=null;2===arguments.length?s=i:(s=o,r=i);var a=t.transformers[n];return a||(a=t.transformers[n]=[]),a.push(function(e,t){return _.isNull(r)||e==r?s(t):t}),e},e.extendCollection=function(t,n){return e.addElementTransformer(t,!0,n)},e.extendModel=function(t,n){return e.addElementTransformer(t,!1,n)},t.transformElem=function(e,n,i,o,r){if(!r&&!t.transformLocalElements&&!e[t.restangularFields.fromServer])return e;var s=t.transformers[i],a=e;return s&&_.each(s,function(e){a=e(n,a)}),t.onElemRestangularized(a,n,i,o)},t.transformLocalElements=_.isUndefined(t.transformLocalElements)?!1:t.transformLocalElements,e.setTransformOnlyServerElements=function(e){t.transformLocalElements=!e},t.fullResponse=_.isUndefined(t.fullResponse)?!1:t.fullResponse,e.setFullResponse=function(e){return t.fullResponse=e,this},t.urlCreatorFactory={};var r=function(){};r.prototype.setConfig=function(e){return this.config=e,this},r.prototype.parentsArray=function(e){for(var t=[];e;)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},r.prototype.resource=function(e,i,o,r,s,a,l,u){var c=_.defaults(s||{},this.config.defaultRequestParams.common),d=_.defaults(r||{},this.config.defaultHeaders);l&&(t.isSafe(u)?d["If-None-Match"]=l:d["If-Match"]=l);var p=this.base(e);if(a){var h="";/\/$/.test(p)||(h+="/"),h+=a,p+=h}return this.config.suffix&&-1===p.indexOf(this.config.suffix,p.length-this.config.suffix.length)&&!this.config.getUrlFromElem(e)&&(p+=this.config.suffix),e[this.config.restangularFields.httpConfig]=void 0,n(this.config,i,p,{getList:this.config.withHttpValues(o,{method:"GET",params:c,headers:d}),get:this.config.withHttpValues(o,{method:"GET",params:c,headers:d}),jsonp:this.config.withHttpValues(o,{method:"jsonp",params:c,headers:d}),put:this.config.withHttpValues(o,{method:"PUT",params:c,headers:d}),post:this.config.withHttpValues(o,{method:"POST",params:c,headers:d}),remove:this.config.withHttpValues(o,{method:"DELETE",params:c,headers:d}),head:this.config.withHttpValues(o,{method:"HEAD",params:c,headers:d}),trace:this.config.withHttpValues(o,{method:"TRACE",params:c,headers:d}),options:this.config.withHttpValues(o,{method:"OPTIONS",params:c,headers:d}),patch:this.config.withHttpValues(o,{method:"PATCH",params:c,headers:d})})};var s=function(){};s.prototype=new r,s.prototype.base=function(e){var n=this;return _.reduce(this.parentsArray(e),function(e,i){var o,r=n.config.getUrlFromElem(i);if(r){if(n.config.isAbsoluteUrl(r))return r;o=r}else if(o=i[n.config.restangularFields.route],i[n.config.restangularFields.restangularCollection]){var s=i[n.config.restangularFields.ids];s&&(o+="/"+s.join(","))}else{var a;a=n.config.useCannonicalId?n.config.getCannonicalIdFromElem(i):n.config.getIdFromElem(i),t.isValidId(a)&&!i.singleOne&&(o+="/"+(n.config.encodeIds?encodeURIComponent(a):a))}return e.replace(/\/$/,"")+"/"+o},this.config.baseUrl)},s.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},s.prototype.fetchRequestedUrl=function(e,n){function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function o(e,t,n){for(var o=i(e),r=0;r<o.length;r++)t.call(n,e[o[r]],o[r]);return o}function r(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var s=this.fetchUrl(e,n),a=e[t.restangularFields.reqParams];if(!a)return s;var l=[];return o(a,function(e,t){null!=e&&void 0!=e&&(angular.isArray(e)||(e=[e]),angular.forEach(e,function(e){angular.isObject(e)&&(e=angular.toJson(e)),l.push(r(t)+"="+r(e))}))}),s+(this.config.suffix||"")+(-1===s.indexOf("?")?"?":"&")+l.join("&")},t.urlCreatorFactory.path=s};var t={};e.init(this,t),this.$get=["$http","$q",function(n,i){function o(t){function r(e,n,i,o,r){if(n[t.restangularFields.route]=i,n[t.restangularFields.getRestangularUrl]=_.bind(R.fetchUrl,R,n),n[t.restangularFields.getRequestedUrl]=_.bind(R.fetchRequestedUrl,R,n),n[t.restangularFields.addRestangularMethod]=_.bind(j,n),n[t.restangularFields.clone]=_.bind(v,n,n),n[t.restangularFields.reqParams]=_.isEmpty(o)?null:o,n[t.restangularFields.withHttpConfig]=_.bind(C,n),n[t.restangularFields.plain]=_.bind(g,n,n),n[t.restangularFields.one]=_.bind(s,n,n),n[t.restangularFields.all]=_.bind(a,n,n),n[t.restangularFields.several]=_.bind(l,n,n),n[t.restangularFields.oneUrl]=_.bind(u,n,n),n[t.restangularFields.allUrl]=_.bind(c,n,n),n[t.restangularFields.fromServer]=!!r,e&&t.shouldSaveParent(i)){var d=t.getIdFromElem(e),p=t.getUrlFromElem(e),h=_.union(_.values(_.pick(t.restangularFields,["route","singleOne","parentResource"])),t.extraFields),f=_.pick(e,h);t.isValidId(d)&&t.setIdToElem(f,d),t.isValidId(p)&&t.setUrlToElem(f,p),n[t.restangularFields.parentResource]=f}else n[t.restangularFields.parentResource]=null;return n}function s(e,n,i,o){if(_.isNumber(n)||_.isNumber(e)){var r="You're creating a Restangular entity with the number ";throw r+="instead of the route or the parent. You can't call .one(12)",new Error(r)}var s={};return t.setIdToElem(s,i),t.setFieldToElem(t.restangularFields.singleOne,s,o),b(e,s,n,!1)}function a(e,t){return y(e,[],t,!1)}function l(e,n){var i=[];return i[t.restangularFields.ids]=Array.prototype.splice.call(arguments,2),y(e,i,n,!1)}function u(e,n,i){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var o={};return t.setUrlToElem(o,i,n),b(e,o,n,!1)}function c(e,n,i){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var o={};return t.setUrlToElem(o,i,n),y(e,o,n,!1)}function d(e,n,i){return e.call=_.bind(p,e),e.get=_.bind(h,e),e[t.restangularFields.restangularCollection]=n,n&&(e.push=_.bind(p,e,"push")),e.$object=i,e}function p(e){var n=i.defer(),o=arguments,r={};return this.then(function(t){var i=Array.prototype.slice.call(o,1),s=t[e];s.apply(t,i),r=t,n.resolve(t)}),d(n.promise,this[t.restangularFields.restangularCollection],r)}function h(e){var n=i.defer(),o={};return this.then(function(t){o=t[e],n.resolve(o)}),d(n.promise,this[t.restangularFields.restangularCollection],o)}function f(e,n,i,o){return _.extend(o,i),t.fullResponse?e.resolve(_.extend(n,{data:i})):void e.resolve(i)}function g(e){if(_.isArray(e)){var n=[];return _.each(e,function(e){n.push(g(e))}),n}return _.omit(e,_.values(_.omit(t.restangularFields,"id")))}function m(e){e[t.restangularFields.customOperation]=_.bind(q,e),_.each(["put","post","get","delete"],function(t){_.each(["do","custom"],function(n){var i,o="delete"===t?"remove":t,r=n+t.toUpperCase();i="put"!==o&&"post"!==o?q:function(e,t,n,i,o){return _.bind(q,this)(e,n,i,o,t)},e[r]=_.bind(i,e,o)})}),e[t.restangularFields.customGETLIST]=_.bind(x,e),e[t.restangularFields.doGETLIST]=e[t.restangularFields.customGETLIST]}function v(e,n){var i=angular.copy(e,n);return b(i[t.restangularFields.parentResource],i,i[t.restangularFields.route],!0)}function b(e,n,i,o,s,a){var l=t.onBeforeElemRestangularized(n,!1,i),u=r(e,l,i,a,o);return t.useCannonicalId&&(u[t.restangularFields.cannonicalId]=t.getIdFromElem(u)),s&&(u[t.restangularFields.getParentList]=function(){return s}),u[t.restangularFields.restangularCollection]=!1,u[t.restangularFields.get]=_.bind(E,u),u[t.restangularFields.getList]=_.bind(x,u),u[t.restangularFields.put]=_.bind(O,u),u[t.restangularFields.post]=_.bind(A,u),u[t.restangularFields.remove]=_.bind(D,u),u[t.restangularFields.head]=_.bind(P,u),u[t.restangularFields.trace]=_.bind(I,u),u[t.restangularFields.options]=_.bind(L,u),u[t.restangularFields.patch]=_.bind(B,u),u[t.restangularFields.save]=_.bind(T,u),m(u),t.transformElem(u,!1,i,F,!0)}function y(e,n,i,o,s){var a=t.onBeforeElemRestangularized(n,!0,i),l=r(e,a,i,s,o);return l[t.restangularFields.restangularCollection]=!0,l[t.restangularFields.post]=_.bind(A,l,null),l[t.restangularFields.remove]=_.bind(D,l),l[t.restangularFields.head]=_.bind(P,l),l[t.restangularFields.trace]=_.bind(I,l),l[t.restangularFields.putElement]=_.bind(k,l),l[t.restangularFields.options]=_.bind(L,l),l[t.restangularFields.patch]=_.bind(B,l),l[t.restangularFields.get]=_.bind($,l),l[t.restangularFields.getList]=_.bind(x,l,null),m(l),t.transformElem(l,!0,i,F,!0)}function w(e,t,n){var i=y(e,t,n,!1);return _.each(i,function(t){b(e,t,n,!1)}),i}function $(e,t,n){return this.customGET(e.toString(),t,n)}function k(e,n,o){var r=this,s=this[e],a=i.defer(),l=[];return l=t.transformElem(l,!0,s[t.restangularFields.route],F),s.put(n,o).then(function(t){var n=v(r);n[e]=t,l=n,a.resolve(n)},function(e){a.reject(e)}),d(a.promise,!0,l)}function S(e,n,i,o,r,s){var a=t.responseExtractor(e,n,i,o,r,s),l=r.headers("ETag");return a&&l&&(a[t.restangularFields.etag]=l),a}function x(e,o,r){var s=this,a=i.defer(),l="getList",u=R.fetchUrl(this,e),c=e||s[t.restangularFields.route],p=t.fullRequestInterceptor(null,l,c,u,r||{},o||{},this[t.restangularFields.httpConfig]||{}),h=[];h=t.transformElem(h,!0,c,F);var g="getList";return t.jsonp&&(g="jsonp"),R.resource(this,n,p.httpConfig,p.headers,p.params,e,this[t.restangularFields.etag],l)[g]().then(function(n){var i=n.data,o=n.config.params,r=S(i,l,c,u,n,a);if((_.isUndefined(r)||""===r)&&(r=[]),!_.isArray(r))throw new Error("Response for getList SHOULD be an array and not an object or something else");var d=_.map(r,function(n){return s[t.restangularFields.restangularCollection]?b(s[t.restangularFields.parentResource],n,s[t.restangularFields.route],!0,r):b(s,n,e,!0,r)});d=_.extend(r,d),s[t.restangularFields.restangularCollection]?f(a,n,y(s[t.restangularFields.parentResource],d,s[t.restangularFields.route],!0,o),h):f(a,n,y(s,d,e,!0,o),h)},function(e){304===e.status&&s[t.restangularFields.restangularCollection]?f(a,e,s,h):t.errorInterceptor(e,a)!==!1&&a.reject(e)}),d(a.promise,!0,h)}function C(e){return this[t.restangularFields.httpConfig]=e,this}function T(e,n){return this[t.restangularFields.fromServer]?this[t.restangularFields.put](e,n):_.bind(M,this)("post",void 0,e,void 0,n)}function M(e,o,r,s,a){var l=this,u=i.defer(),c=r||{},p=o||this[t.restangularFields.route],h=R.fetchUrl(this,o),m=s||this,v=m[t.restangularFields.etag]||("post"!=e?this[t.restangularFields.etag]:null);_.isObject(m)&&t.isRestangularized(m)&&(m=g(m));var y=t.fullRequestInterceptor(m,e,p,h,a||{},c||{},this[t.restangularFields.httpConfig]||{}),w={};w=t.transformElem(w,!1,p,F);var $=function(n){var i=n.data,r=n.config.params,s=S(i,e,p,h,n,u);s?"post"!==e||l[t.restangularFields.restangularCollection]?(data=b(l[t.restangularFields.parentResource],s,l[t.restangularFields.route],!0,null,r),data[t.restangularFields.singleOne]=l[t.restangularFields.singleOne],f(u,n,data,w)):f(u,n,b(l,s,o,!0,null,r),w):f(u,n,void 0,w)},k=function(n){304===n.status&&t.isSafe(e)?f(u,n,l,w):t.errorInterceptor(n,u)!==!1&&u.reject(n)},x=e,C=_.extend({},y.headers),T=t.isOverridenMethod(e);return T?(x="post",C=_.extend(C,{"X-HTTP-Method-Override":"remove"===e?"DELETE":e})):t.jsonp&&"get"===x&&(x="jsonp"),t.isSafe(e)?T?R.resource(this,n,y.httpConfig,C,y.params,o,v,x)[x]({}).then($,k):R.resource(this,n,y.httpConfig,C,y.params,o,v,x)[x]().then($,k):R.resource(this,n,y.httpConfig,C,y.params,o,v,x)[x](y.element).then($,k),d(u.promise,!1,w)}function E(e,t){return _.bind(M,this)("get",void 0,e,void 0,t)}function D(e,t){return _.bind(M,this)("remove",void 0,e,void 0,t)}function O(e,t){return _.bind(M,this)("put",void 0,e,void 0,t)}function A(e,t,n,i){return _.bind(M,this)("post",e,n,t,i)}function P(e,t){return _.bind(M,this)("head",void 0,e,void 0,t)}function I(e,t){return _.bind(M,this)("trace",void 0,e,void 0,t)}function L(e,t){return _.bind(M,this)("options",void 0,e,void 0,t)}function B(e,t,n){return _.bind(M,this)("patch",void 0,t,e,n)}function q(e,t,n,i,o){return _.bind(M,this)(e,t,n,o,i)}function j(e,n,i,o,r,s){var a;a="getList"===n?_.bind(x,this,i):_.bind(q,this,n,i);var l=function(e,t,n){var i=_.defaults({params:e,headers:t,elem:n},{params:o,headers:r,elem:s});return a(i.params,i.headers,i.elem)};this[e]=t.isSafe(n)?l:function(e,t,n){return l(t,n,e)}}function N(n){var i=angular.copy(_.omit(t,"configuration"));return e.init(i,i),n(i),o(i)}function G(e,t){var n={},i=(t||F).all(e);return n.one=_.bind(s,t||F,t,e),n.post=_.bind(i.post,i),n.getList=_.bind(i.getList,i),n}var F={},R=new t.urlCreatorFactory[t.urlCreator];return R.setConfig(t),e.init(F,t),F.copy=_.bind(v,F),F.service=_.bind(G,F),F.withConfig=_.bind(N,F),F.one=_.bind(s,F,null),F.all=_.bind(a,F,null),F.several=_.bind(l,F,null),F.oneUrl=_.bind(u,F,null),F.allUrl=_.bind(c,F,null),F.stripRestangular=_.bind(g,F),F.restangularizeElement=_.bind(b,F),F.restangularizeCollection=_.bind(w,F),F}return o(t)}]})}(),!function(e,t,n){"use strict";angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var e=this.defaults={offsetTop:"auto"};this.$get=["$window","debounce","dimensions",function(t,n,i){function o(o,a){function l(e,t,n){var i=u(),o=c();return b>=i?"top":null!==e&&i+e<=t.top?"middle":null!==y&&t.top+n+m>=o-y?"bottom":"middle"}function u(){return h[0]===t?t.pageYOffset:h[0].scrollTop}function c(){return h[0]===t?t.document.body.scrollHeight:h[0].scrollHeight}var d={},p=angular.extend({},e,a),h=p.target,f="affix affix-top affix-bottom",g=!1,m=0,v=0,b=0,y=0,_=null,w=null,$=o.parent();if(p.offsetParent)if(p.offsetParent.match(/^\d+$/))for(var k=0;k<1*p.offsetParent-1;k++)$=$.parent();else $=angular.element(p.offsetParent);return d.init=function(){this.$parseOffsets(),v=i.offset(o[0]).top+m,g=!o[0].style.width,h.on("scroll",this.checkPosition),h.on("click",this.checkPositionWithEventLoop),s.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},d.destroy=function(){h.off("scroll",this.checkPosition),h.off("click",this.checkPositionWithEventLoop),s.off("resize",this.$debouncedOnResize)},d.checkPositionWithEventLoop=function(){setTimeout(d.checkPosition,1)},d.checkPosition=function(){var e=u(),t=i.offset(o[0]),n=i.height(o[0]),s=l(w,t,n);_!==s&&(_=s,o.removeClass(f).addClass("affix"+("middle"!==s?"-"+s:"")),"top"===s?(w=null,o.css("position",p.offsetParent?"":"relative"),g&&o.css("width",""),o.css("top","")):"bottom"===s?(w=p.offsetUnpin?-(1*p.offsetUnpin):t.top-e,g&&o.css("width",""),o.css("position",p.offsetParent?"":"relative"),o.css("top",p.offsetParent?"":r[0].offsetHeight-y-n-v+"px")):(w=null,g&&o.css("width",o[0].offsetWidth+"px"),o.css("position","fixed"),o.css("top",m+"px")))},d.$onResize=function(){d.$parseOffsets(),d.checkPosition()},d.$debouncedOnResize=n(d.$onResize,50),d.$parseOffsets=function(){var e=o.css("position");o.css("position",p.offsetParent?"":"relative"),p.offsetTop&&("auto"===p.offsetTop&&(p.offsetTop="+0"),p.offsetTop.match(/^[-+]\d+$/)?(m=1*-p.offsetTop,b=p.offsetParent?i.offset($[0]).top+1*p.offsetTop:i.offset(o[0]).top-i.css(o[0],"marginTop",!0)+1*p.offsetTop):b=1*p.offsetTop),p.offsetBottom&&(y=p.offsetParent&&p.offsetBottom.match(/^[-+]\d+$/)?c()-(i.offset($[0]).top+i.height($[0]))+1*p.offsetBottom+1:1*p.offsetBottom),o.css("position",e)
},d.init(),d}var r=angular.element(t.document.body),s=angular.element(t);return o}]}).directive("bsAffix",["$affix","$window",function(e,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(n,i,o,r){var s={scope:n,offsetTop:"auto",target:r?r.$element:angular.element(t)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(e){angular.isDefined(o[e])&&(s[e]=o[e])});var a=e(i,s);n.$on("$destroy",function(){a&&a.destroy(),s=null,a=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(e){this.$element=e}]}}),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var e=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(t,n){function i(i){var o={},r=angular.extend({},e,i);o=t(r),o.$scope.dismissable=!!r.dismissable,r.type&&(o.$scope.type=r.type);var s=o.show;return r.duration&&(o.show=function(){s(),n(function(){o.hide()},1e3*r.duration)}),o}return i}]}).directive("bsAlert",["$window","$sce","$alert",function(e,t,n){return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",scope:!0,link:function(e,i,o){var r={scope:e,element:i,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(e){angular.isDefined(o[e])&&(r[e]=o[e])}),angular.forEach(["title","content","type"],function(n){o[n]&&o.$observe(n,function(i){e[n]=t.trustAsHtml(i)})}),o.bsAlert&&e.$watch(o.bsAlert,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var s=n(r);i.on(o.trigger||"click",s.toggle),e.$on("$destroy",function(){s&&s.destroy(),r=null,s=null})}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var e=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){function n(n){var i={},o=angular.extend({},e,n);return i=t(o)}return n}]}).directive("bsAside",["$window","$sce","$aside",function(e,t,n){return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",scope:!0,link:function(e,i,o){var r={scope:e,element:i,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(o[e])&&(r[e]=o[e])}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(i){e[n]=t.trustAsHtml(i)})}),o.bsAside&&e.$watch(o.bsAside,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var s=n(r);i.on(o.trigger||"click",s.toggle),e.$on("$destroy",function(){s&&s.destroy(),r=null,s=null})}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var e=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:e}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="checkbox"]');angular.forEach(n,function(e){var n=angular.element(e);n.attr("bs-checkbox",""),n.attr("ng-model",t.ngModel+"."+n.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(e,t){var n=e.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,o,r,s){var a=n,l="INPUT"===o[0].nodeName,u=l?o.parent():o,c=angular.isDefined(r.trueValue)?r.trueValue:!0;i.test(r.trueValue)&&(c=e.$eval(r.trueValue));var d=angular.isDefined(r.falseValue)?r.falseValue:!1;i.test(r.falseValue)&&(d=e.$eval(r.falseValue));var p="boolean"!=typeof c||"boolean"!=typeof d;p&&(s.$parsers.push(function(e){return e?c:d}),s.$formatters.push(function(e){return angular.equals(e,c)}),e.$watch(r.ngModel,function(){s.$render()})),s.$render=function(){var e=angular.equals(s.$modelValue,c);t(function(){l&&(o[0].checked=e),u.toggleClass(a.activeClass,e)})},o.bind(a.toggleEvent,function(){e.$apply(function(){l||s.$setViewValue(!u.hasClass("active")),p||s.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(e){angular.element(e).attr("bs-radio",""),angular.element(e).attr("ng-model",t.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(e,t){var n=e.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,o,r,s){var a=n,l="INPUT"===o[0].nodeName,u=l?o.parent():o,c=i.test(r.value)?e.$eval(r.value):r.value;s.$render=function(){var e=angular.equals(s.$modelValue,c);t(function(){l&&(o[0].checked=e),u.toggleClass(a.activeClass,e)})},o.bind(a.toggleEvent,function(){e.$apply(function(){s.$setViewValue(c),s.$render()})})}}}]),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var e=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1},t=this.controller=function(t,n,i){var o=this;o.$options=angular.copy(e),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed"],function(e){angular.isDefined(i[e])&&(o.$options[e]=i[e])}),o.$toggles=[],o.$targets=[],o.$viewChangeListeners=[],o.$registerToggle=function(e){o.$toggles.push(e)},o.$registerTarget=function(e){o.$targets.push(e)},o.$unregisterToggle=function(e){var t=o.$toggles.indexOf(e);o.$toggles.splice(t,1)},o.$unregisterTarget=function(e){var t=o.$targets.indexOf(e),n=o.$targets.$active;o.$targets.splice(t,1),n>t?n--:t===n&&n===o.$targets.length&&n--,o.$setActive(n)},o.$targets.$active=o.$options.startCollapsed?-1:0,o.$setActive=t.$setActive=function(e){o.$targets.$active=o.$options.disallowToggle?e:o.$targets.$active===e?-1:e,o.$viewChangeListeners.forEach(function(e){e()})}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsCollapse",["$window","$animate","$collapse",function(e,t,n){return n.defaults,{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(e,t,n,i){var o=i[0],r=i[1];o&&(r.$viewChangeListeners.push(function(){o.$setViewValue(r.$targets.$active)}),o.$formatters.push(function(e){return r.$targets.$active!==1*e&&r.$setActive(1*e),e}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(e,t,n,i){var o=(i[0],i[1]);t.attr("data-toggle","collapse"),o.$registerToggle(t),e.$on("$destroy",function(){o.$unregisterToggle(t)}),t.on("click",function(){var i=n.bsCollapseToggle||o.$toggles.indexOf(t);o.$setActive(1*i),e.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(e){return{require:["^?ngModel","^bsCollapse"],link:function(t,n,i,o){function r(){var t=s.$targets.indexOf(n),i=s.$targets.$active;e[t===i?"addClass":"removeClass"](n,s.$options.activeClass)}var s=(o[0],o[1]);n.addClass("collapse"),s.$options.animation&&n.addClass(s.$options.animation),s.$registerTarget(n),t.$on("$destroy",function(){s.$unregisterTarget(n)}),s.$viewChangeListeners.push(function(){r()}),r()}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(t,n,i,o,r,s,a,l){function u(t,n,i){function o(e){e.selected=u.$isSelected(e.date)}function r(){t[0].focus()}var u=a(t,angular.extend({},e,i)),p=i.scope,h=u.$options,f=u.$scope;h.startView&&(h.startView-=h.minView);var g=s(u);u.$views=g.views;var m=g.viewDate;f.$mode=h.startView,f.$iconLeft=h.iconLeft,f.$iconRight=h.iconRight;var v=u.$views[f.$mode];f.$select=function(e){u.select(e)},f.$selectPane=function(e){u.$selectPane(e)},f.$toggleMode=function(){u.setMode((f.$mode+1)%u.$views.length)},u.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())&&(u.$date=e,v.update.call(v,e)),u.$build(!0)},u.updateDisabledDates=function(e){h.disabledDateRanges=e;for(var t=0,n=f.rows.length;n>t;t++)angular.forEach(f.rows[t],u.$setDisabledEl)},u.select=function(e,t){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(e)),!f.$mode||t?(n.$setViewValue(angular.copy(e)),n.$render(),h.autoclose&&!t&&l(function(){u.hide(!0)})):(angular.extend(m,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),u.setMode(f.$mode-1),u.$build())},u.setMode=function(e){f.$mode=e,v=u.$views[f.$mode],u.$build()},u.$build=function(e){e===!0&&v.built||(e!==!1||v.built)&&v.build.call(v)},u.$updateSelected=function(){for(var e=0,t=f.rows.length;t>e;e++)angular.forEach(f.rows[e],o)},u.$isSelected=function(e){return v.isSelected(e)},u.$setDisabledEl=function(e){e.disabled=v.isDisabled(e.date)},u.$selectPane=function(e){var t=v.steps,n=new Date(Date.UTC(m.year+(t.year||0)*e,m.month+(t.month||0)*e,1));angular.extend(m,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),u.$build()},u.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),d){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},u.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return f.$mode?f.$apply(function(){u.setMode(f.$mode-1)}):u.hide(!0);v.onKeyDown(e),p.$digest()}};var b=u.init;u.init=function(){return c&&h.useNative?(t.prop("type","date"),void t.css("-webkit-appearance","textfield")):(d&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",r)),void b())};var y=u.destroy;u.destroy=function(){c&&h.useNative&&t.off("click",r),y()};var _=u.show;u.show=function(){_(),l(function(){u.$element.on(d?"touchstart":"mousedown",u.$onMouseDown),h.keyboard&&t.on("keydown",u.$onKeyDown)},0,!1)};var w=u.hide;return u.hide=function(e){u.$isShown&&(u.$element.off(d?"touchstart":"mousedown",u.$onMouseDown),h.keyboard&&t.off("keydown",u.$onKeyDown),w(e))},u}var c=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),d="createTouch"in t.document&&c;return e.lang||(e.lang=r.getDefaultLocale()),u.defaults=e,u}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(e,t,n,i,o,r){var s=(r.defaults,/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent));return{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){function l(e){return e&&e.length?e:null}function u(e){if(angular.isDate(e)){var t=isNaN(p.$options.minDate)||e.getTime()>=p.$options.minDate,n=isNaN(p.$options.maxDate)||e.getTime()<=p.$options.maxDate,i=t&&n;a.$setValidity("date",i),a.$setValidity("min",t),a.$setValidity("max",n),i&&(a.$dateValue=e)}}function c(){return!a.$dateValue||isNaN(a.$dateValue.getTime())?"":f(a.$dateValue,d.dateFormat)}var d={scope:e,controller:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled"],function(e){angular.isDefined(n[e])&&(d[e]=n[e])}),n.bsShow&&e.$watch(n.bsShow,function(e){p&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(datepicker),?/i)),e===!0?p.show():p.hide())});var p=r(t,a,d);d=p.$options,s&&d.useNative&&(d.dateFormat="yyyy-MM-dd");var h=d.lang,f=function(e,t){return i.formatDate(e,t,h)},g=o({format:d.dateFormat,lang:h,strict:d.strictFormat});angular.forEach(["minDate","maxDate"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){p.$options[e]=g.getDateForAttribute(e,t),!isNaN(p.$options[e])&&p.$build(!1),u(a.$dateValue)})}),e.$watch(n.ngModel,function(){p.update(a.$dateValue)},!0),angular.isDefined(n.disabledDates)&&e.$watch(n.disabledDates,function(e,t){e=l(e),t=l(t),e&&p.updateDisabledDates(e)}),a.$parsers.unshift(function(e){if(!e)return a.$setValidity("date",!0),null;var t=g.parse(e,a.$dateValue);return!t||isNaN(t.getTime())?void a.$setValidity("date",!1):(u(t),"string"===d.dateType?f(t,d.modelDateFormat||d.dateFormat):"number"===d.dateType?a.$dateValue.getTime():"unix"===d.dateType?a.$dateValue.getTime()/1e3:"iso"===d.dateType?a.$dateValue.toISOString():new Date(a.$dateValue))}),a.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:"string"===d.dateType?g.parse(e,null,d.modelDateFormat):new Date("unix"===d.dateType?1e3*e:e),a.$dateValue=t,c()}),a.$render=function(){t.val(c())},e.$on("$destroy",function(){p&&p.destroy(),d=null,p=null})}}}]).provider("datepickerViews",function(){function e(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function t(e,t){return(e%t+t)%t}this.defaults={dayFormat:"dd",daySplit:7},this.$get=["$dateFormatter","$dateParser","$sce",function(n,i,o){return function(r){var s=r.$scope,a=r.$options,l=a.lang,u=function(e,t){return n.formatDate(e,t,l)},c=i({format:a.dateFormat,lang:l,strict:a.strictFormat}),d=n.weekdaysShort(l),p=d.slice(a.startWeek).concat(d.slice(0,a.startWeek)),h=o.trustAsHtml('<th class="dow text-center">'+p.join('</th><th class="dow text-center">')+"</th>"),f=r.$date||(a.startDate?c.getDateForAttribute("startDate",a.startDate):new Date),g={year:f.getFullYear(),month:f.getMonth(),date:f.getDate()},m=(6e4*f.getTimezoneOffset(),[{format:a.dayFormat,split:7,steps:{month:1},update:function(e,t){!this.built||t||e.getFullYear()!==g.year||e.getMonth()!==g.month?(angular.extend(g,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getDate()!==g.date&&(g.date=r.$date.getDate(),r.$updateSelected())},build:function(){var n=new Date(g.year,g.month,1),i=n.getTimezoneOffset(),o=new Date(+n-864e5*t(n.getDay()-a.startWeek,7)),l=o.getTimezoneOffset(),d=(new Date).toDateString();l!==i&&(o=new Date(+o+6e4*(l-i)));for(var p,f=[],m=0;42>m;m++)p=c.daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth(),o.getDate()+m)),f.push({date:p,isToday:p.toDateString()===d,label:u(p,this.format),selected:r.$date&&this.isSelected(p),muted:p.getMonth()!==g.month,disabled:this.isDisabled(p)});s.title=u(n,a.monthTitleFormat),s.showLabels=!0,s.labels=h,s.rows=e(f,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()&&e.getDate()===r.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(t<a.minDate||t>a.maxDate)return!0;if(-1!==a.daysOfWeekDisabled.indexOf(e.getDay()))return!0;if(a.disabledDateRanges)for(var n=0;n<a.disabledDateRanges.length;n++)if(t>=a.disabledDateRanges[n].start&&t<=a.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(e){if(r.$date){var t,n=r.$date.getTime();37===e.keyCode?t=new Date(n-864e5):38===e.keyCode?t=new Date(n-6048e5):39===e.keyCode?t=new Date(n+864e5):40===e.keyCode&&(t=new Date(n+6048e5)),this.isDisabled(t)||r.select(t,!0)}}},{name:"month",format:a.monthFormat,split:4,steps:{year:1},update:function(e){this.built&&e.getFullYear()===g.year?e.getMonth()!==g.month&&(angular.extend(g,{month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected()):(angular.extend(g,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build())},build:function(){for(var t,n=(new Date(g.year,0,1),[]),i=0;12>i;i++)t=new Date(g.year,i,1),n.push({date:t,label:u(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});s.title=u(t,a.yearTitleFormat),s.showLabels=!1,s.rows=e(n,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()},isDisabled:function(e){var t=+new Date(e.getFullYear(),e.getMonth()+1,0);return t<a.minDate||e.getTime()>a.maxDate},onKeyDown:function(e){if(r.$date){var t=r.$date.getMonth(),n=new Date(r.$date);37===e.keyCode?n.setMonth(t-1):38===e.keyCode?n.setMonth(t-4):39===e.keyCode?n.setMonth(t+1):40===e.keyCode&&n.setMonth(t+4),this.isDisabled(n)||r.select(n,!0)}}},{name:"year",format:a.yearFormat,split:4,steps:{year:12},update:function(e,t){!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(g.year/20,10)?(angular.extend(g,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getFullYear()!==g.year&&(angular.extend(g,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected())},build:function(){for(var t,n=g.year-g.year%(3*this.split),i=[],o=0;12>o;o++)t=new Date(n+o,0,1),i.push({date:t,label:u(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});s.title=i[0].label+"-"+i[i.length-1].label,s.showLabels=!1,s.rows=e(i,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()},isDisabled:function(e){var t=+new Date(e.getFullYear()+1,0,0);return t<a.minDate||e.getTime()>a.maxDate},onKeyDown:function(e){if(r.$date){var t=r.$date.getFullYear(),n=new Date(r.$date);37===e.keyCode?n.setYear(t-1):38===e.keyCode?n.setYear(t-4):39===e.keyCode?n.setYear(t+1):40===e.keyCode&&n.setYear(t+4),this.isDisabled(n)||r.select(n,!0)}}}]);return{views:a.minView?Array.prototype.slice.call(m,a.minView):m,viewDate:g}}}]}),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var e=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,n,i,o){function r(t,r){function l(e){return e.target!==t[0]?e.target!==t[0]&&u.hide():void 0}var u={},c=angular.extend({},e,r);u.$scope=c.scope&&c.scope.$new()||n.$new(),u=i(t,c);var d=t.parent();u.$onKeyDown=function(e){if(/(38|40)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var t=angular.element(u.$element[0].querySelectorAll("li:not(.divider) a"));if(t.length){var n;angular.forEach(t,function(e,t){a&&a.call(e,":focus")&&(n=t)}),38===e.keyCode&&n>0?n--:40===e.keyCode&&n<t.length-1?n++:angular.isUndefined(n)&&(n=0),t.eq(n)[0].focus()}}};var p=u.show;u.show=function(){p(),o(function(){c.keyboard&&u.$element.on("keydown",u.$onKeyDown),s.on("click",l)},0,!1),d.hasClass("dropdown")&&d.addClass("open")};var h=u.hide;u.hide=function(){u.$isShown&&(c.keyboard&&u.$element.off("keydown",u.$onKeyDown),s.off("click",l),d.hasClass("dropdown")&&d.removeClass("open"),h())};var f=u.destroy;return u.destroy=function(){s.off("click",l),f()},u}var s=angular.element(t.document.body),a=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return r}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,t,i){var o={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template"],function(e){angular.isDefined(i[e])&&(o[e]=i[e])}),i.bsDropdown&&e.$watch(i.bsDropdown,function(t){e.content=t},!0),i.bsShow&&e.$watch(i.bsShow,function(e){r&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(dropdown),?/i)),e===!0?r.show():r.hide())});var r=n(t,o);e.$on("$destroy",function(){r&&r.destroy(),o=null,r=null})}}}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(e,t){function n(e){return/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(e).slice(1)}this.getDefaultLocale=function(){return e.id},this.getDatetimeFormat=function(t){return e.DATETIME_FORMATS[t]||t},this.weekdaysShort=function(){return e.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(e){return n(e)[0]},this.minutesFormat=function(e){return n(e)[2]},this.timeSeparator=function(e){return n(e)[1]},this.showAM=function(e){return!!n(e)[3]},this.formatDate=function(e,n){return t(e,n)}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function e(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function t(){}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function i(e,t){for(var n=e.length,i=t.toString().toLowerCase(),o=0;n>o;o++)if(e[o].toLowerCase()===i)return o;return-1}e.prototype.setMilliseconds=function(e){this.milliseconds=e},e.prototype.setSeconds=function(e){this.seconds=e},e.prototype.setMinutes=function(e){this.minutes=e},e.prototype.setHours=function(e){this.hours=e},e.prototype.getHours=function(){return this.hours},e.prototype.setDate=function(e){this.day=e},e.prototype.setMonth=function(e){this.month=e},e.prototype.setFullYear=function(e){this.year=e},e.prototype.fromDate=function(e){return this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this},e.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var o=e.prototype,r=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(s,a){var l=function(l){function u(e){var t,n=Object.keys(v),i=[],o=[],r=e;for(t=0;t<n.length;t++)if(e.split(n[t]).length>1){var s=r.search(n[t]);e=e.split(n[t]).join(""),v[n[t]]&&(i[s]=v[n[t]])}return angular.forEach(i,function(e){e&&o.push(e)}),o}function c(e){return e.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function d(e){var t,n=Object.keys(m),i=e;for(t=0;t<n.length;t++)i=i.split(n[t]).join("${"+t+"}");for(t=0;t<n.length;t++)i=i.split("${"+t+"}").join("("+m[n[t]]+")");return e=c(e),new RegExp("^"+i+"$",["i"])}var p,h,f=angular.extend({},r,l),g={},m={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:f.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:f.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:f.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:f.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:s.DATETIME_FORMATS.DAY.join("|"),EEE:s.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:f.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:s.DATETIME_FORMATS.MONTH.join("|"),MMM:s.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:f.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:f.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},v={sss:o.setMilliseconds,ss:o.setSeconds,s:o.setSeconds,mm:o.setMinutes,m:o.setMinutes,HH:o.setHours,H:o.setHours,hh:o.setHours,h:o.setHours,EEEE:t,EEE:t,dd:o.setDate,d:o.setDate,a:function(e){var t=this.getHours()%12;return this.setHours(e.match(/pm/i)?t+12:t)},MMMM:function(e){return this.setMonth(i(s.DATETIME_FORMATS.MONTH,e))},MMM:function(e){return this.setMonth(i(s.DATETIME_FORMATS.SHORTMONTH,e))},MM:function(e){return this.setMonth(1*e-1)},M:function(e){return this.setMonth(1*e-1)},yyyy:o.setFullYear,yy:function(e){return this.setFullYear(2e3+1*e)},y:o.setFullYear};return g.init=function(){g.$format=s.DATETIME_FORMATS[f.format]||f.format,p=d(g.$format),h=u(g.$format)},g.isValid=function(e){return angular.isDate(e)?!isNaN(e.getTime()):p.test(e)},g.parse=function(t,n,i){i&&(i=s.DATETIME_FORMATS[i]||i),angular.isDate(t)&&(t=a(t,i||g.$format));var o=i?d(i):p,r=i?u(i):h,l=o.exec(t);if(!l)return!1;for(var c=(new e).fromDate(n&&!isNaN(n.getTime())?n:new Date(1970,0,1,0)),f=0;f<l.length-1;f++)r[f]&&r[f].call(c,l[f+1]);var m=c.toDate();return parseInt(c.day,10)!==m.getDate()?!1:m},g.getDateForAttribute=function(e,t){var i;if("today"===t){var o=new Date;i=new Date(o.getFullYear(),o.getMonth(),o.getDate()+("maxDate"===e?1:0),0,0,0,"minDate"===e?0:-1)}else i=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):n(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?"minDate"===e?-1/0:1/0:new Date(t);return i},g.getTimeForAttribute=function(e,t){var i;return i="now"===t?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):n(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?"minTime"===e?-1/0:1/0:g.parse(t,new Date(1970,0,1,0))},g.daylightSavingAdjust=function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},g.init(),g};return l}]}]),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(e){return function(t,n,i){var o=null;return function(){var r=this,s=arguments,a=i&&!o;return o&&e.cancel(o),o=e(function(){o=null,i||t.apply(r,s)},n,!1),a&&t.apply(r,s),o}}}]).factory("throttle",["$timeout",function(e){return function(t,n,i){var o=null;return i||(i={}),function(){var r=this,s=arguments;o||(i.leading!==!1&&t.apply(r,s),o=e(function(){o=null,i.trailing!==!1&&t.apply(r,s)},n,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var t=(angular.element,{}),n=t.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};t.css=function(t,n,i){var o;return o=t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n],i===!0?parseFloat(o)||0:o},t.offset=function(t){var n=t.getBoundingClientRect(),i=t.ownerDocument;return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:n.top+(e.pageYOffset||i.documentElement.scrollTop)-(i.documentElement.clientTop||0),left:n.left+(e.pageXOffset||i.documentElement.scrollLeft)-(i.documentElement.clientLeft||0)}},t.position=function(e){var o,r,s={top:0,left:0};return"fixed"===t.css(e,"position")?r=e.getBoundingClientRect():(o=i(e),r=t.offset(e),n(o,"html")||(s=t.offset(o)),s.top+=t.css(o,"borderTopWidth",!0),s.left+=t.css(o,"borderLeftWidth",!0)),{width:e.offsetWidth,height:e.offsetHeight,top:r.top-s.top-t.css(e,"marginTop",!0),left:r.left-s.left-t.css(e,"marginLeft",!0)}};var i=function(e){var i=e.ownerDocument,o=e.offsetParent||i;if(n(o,"#document"))return i.documentElement;for(;o&&!n(o,"html")&&"static"===t.css(o,"position");)o=o.offsetParent;return o||i.documentElement};return t.height=function(e,n){var i=e.offsetHeight;return n?i+=t.css(e,"marginTop",!0)+t.css(e,"marginBottom",!0):i-=t.css(e,"paddingTop",!0)+t.css(e,"paddingBottom",!0)+t.css(e,"borderTopWidth",!0)+t.css(e,"borderBottomWidth",!0),i},t.width=function(e,n){var i=e.offsetWidth;return n?i+=t.css(e,"marginLeft",!0)+t.css(e,"marginRight",!0):i-=t.css(e,"paddingLeft",!0)+t.css(e,"paddingRight",!0)+t.css(e,"borderLeftWidth",!0)+t.css(e,"borderRightWidth",!0),i},t}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,n){function i(i,o){function r(e,t){return e.map(function(e,n){var i,o,r={};return r[c]=e,i=u(t,r),o=h(t,r),{label:i,value:o,index:n}})}var s={},a=angular.extend({},e,o);s.$values=[];var l,u,c,d,p,h,f;return s.init=function(){s.$match=l=i.match(a.regexp),u=t(l[2]||l[1]),c=l[4]||l[6],d=l[5],p=t(l[3]||""),h=t(l[2]?l[1]:c),f=t(l[7])},s.valuesFn=function(e,t){return n.when(f(e,t)).then(function(t){return s.$values=t?r(t,e):{},s.$values})},s.displayValue=function(e){var t={};return t[c]=e,u(t)},s.init(),s}return i}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!n,r=o?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return r.supported=o,r}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var e=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(n,i,o,r,s,a,l,u,c){function d(t){function n(){_.$emit(d.prefixEvent+".show",u)}function r(){_.$emit(d.prefixEvent+".hide",u),b.removeClass(d.prefixClass+"-open"),d.animation&&b.removeClass(d.prefixClass+"-with-"+d.animation)}function s(e){e.target===e.currentTarget&&("static"===d.backdrop?u.focus():u.hide())}function a(e){e.preventDefault()}var u={},d=u.$options=angular.extend({},e,t);u.$promise=f(d.template);var _=u.$scope=d.scope&&d.scope.$new()||i.$new();d.element||d.container||(d.container="body"),g(["title","content"],function(e){d[e]&&(_[e]=c.trustAsHtml(d[e]))}),_.$hide=function(){_.$$postDigest(function(){u.hide()})},_.$show=function(){_.$$postDigest(function(){u.show()})},_.$toggle=function(){_.$$postDigest(function(){u.toggle()})},u.$isShown=_.$isShown=!1,d.contentTemplate&&(u.$promise=u.$promise.then(function(e){var n=angular.element(e);return f(d.contentTemplate).then(function(e){var i=h('[ng-bind="content"]',n[0]).removeAttr("ng-bind").html(e);return t.template||i.next().remove(),n[0].outerHTML})}));var w,$,k=angular.element('<div class="'+d.prefixClass+'-backdrop"/>');return u.$promise.then(function(e){angular.isObject(e)&&(e=e.data),d.html&&(e=e.replace(y,'ng-bind-html="')),e=m.apply(e),w=o(e),u.init()}),u.init=function(){d.show&&_.$$postDigest(function(){u.show()})},u.destroy=function(){$&&($.remove(),$=null),k&&(k.remove(),k=null),_.$destroy()},u.show=function(){if(!u.$isShown&&!_.$emit(d.prefixEvent+".show.before",u).defaultPrevented){var e,t;angular.isElement(d.container)?(e=d.container,t=d.container[0].lastChild?angular.element(d.container[0].lastChild):null):d.container?(e=h(d.container),t=e[0].lastChild?angular.element(e[0].lastChild):null):(e=null,t=d.element),$=u.$element=w(_,function(){}),$.css({display:"block"}).addClass(d.placement),d.animation&&(d.backdrop&&k.addClass(d.backdropAnimation),$.addClass(d.animation)),d.backdrop&&l.enter(k,b,null);var i=l.enter($,e,t,n);i&&i.then&&i.then(n),u.$isShown=_.$isShown=!0,p(_);var o=$[0];v(function(){o.focus()}),b.addClass(d.prefixClass+"-open"),d.animation&&b.addClass(d.prefixClass+"-with-"+d.animation),d.backdrop&&($.on("click",s),k.on("click",s),k.on("wheel",a)),d.keyboard&&$.on("keyup",u.$onKeyUp)}},u.hide=function(){if(u.$isShown&&!_.$emit(d.prefixEvent+".hide.before",u).defaultPrevented){var e=l.leave($,r);e&&e.then&&e.then(r),d.backdrop&&l.leave(k),u.$isShown=_.$isShown=!1,p(_),d.backdrop&&($.off("click",s),k.off("click",s),k.off("wheel",a)),d.keyboard&&$.off("keyup",u.$onKeyUp)}},u.toggle=function(){u.$isShown?u.hide():u.show()},u.focus=function(){$[0].focus()},u.$onKeyUp=function(e){27===e.which&&u.$isShown&&(u.hide(),e.stopPropagation())
},u}function p(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function h(e,n){return angular.element((n||t).querySelectorAll(e))}function f(e){return _[e]?_[e]:_[e]=r.when(s.get(e)||a.get(e)).then(function(t){return angular.isObject(t)?(s.put(e,t.data),t.data):t})}var g=angular.forEach,m=String.prototype.trim,v=n.requestAnimationFrame||n.setTimeout,b=angular.element(n.document.body),y=/ng-bind="/gi,_={};return d}]}).directive("bsModal",["$window","$sce","$modal",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,i,o){var r={scope:e,element:i,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(o[e])&&(r[e]=o[e])}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(i){e[n]=t.trustAsHtml(i)})}),o.bsModal&&e.$watch(o.bsModal,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var s=n(r);i.on(o.trigger||"click",s.toggle),e.$on("$destroy",function(){s&&s.destroy(),r=null,s=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var e=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:e}}}).directive("bsNavbar",["$window","$location","$navbar",function(e,t,n){var i=n.defaults;return{restrict:"A",link:function(e,n,o){var r=angular.copy(i);angular.forEach(Object.keys(i),function(e){angular.isDefined(o[e])&&(r[e]=o[e])}),e.$watch(function(){return t.path()},function(e){var t=n[0].querySelectorAll("li["+r.routeAttr+"]");angular.forEach(t,function(t){var n=angular.element(t),i=n.attr(r.routeAttr).replace("/","\\/");r.strict&&(i="^"+i+"$");var o=new RegExp(i,["i"]);o.test(e)?n.addClass(r.activeClass):n.removeClass(r.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var e=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(t){function n(n,i){var o=angular.extend({},e,i),r=t(n,o);return o.content&&(r.$scope.content=o.content),r}return n}]}).directive("bsPopover",["$window","$sce","$popover",function(e,t,n){var i=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(e,o,r){var s={scope:e};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass","autoClose"],function(e){angular.isDefined(r[e])&&(s[e]=r[e])}),angular.forEach(["title","content"],function(n){r[n]&&r.$observe(n,function(o,r){e[n]=t.trustAsHtml(o),angular.isDefined(r)&&i(function(){a&&a.$applyPlacement()})})}),r.bsPopover&&e.$watch(r.bsPopover,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t,angular.isDefined(n)&&i(function(){a&&a.$applyPlacement()})},!0),r.bsShow&&e.$watch(r.bsShow,function(e){a&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i)),e===!0?a.show():a.hide())});var a=n(o,s);e.$on("$destroy",function(){a&&a.destroy(),s=null,a=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var e=this.$$spies={},n=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(i,o,r,s,a,l){function u(e,t){return e[0].nodeName&&e[0].nodeName.toLowerCase()===t.toLowerCase()}function c(o){var c=angular.extend({},n,o);c.element||(c.element=h);var f=u(c.element,"body"),g=f?d:c.element,m=f?"window":c.id;if(e[m])return e[m].$$count++,e[m];var v,b,y,_,w,$,k,S,x={},C=x.$trackedElements=[],T=[];return x.init=function(){this.$$count=1,_=a(this.checkPosition,c.debounce),w=l(this.checkPosition,c.throttle),g.on("click",this.checkPositionWithEventLoop),d.on("resize",_),g.on("scroll",w),$=a(this.checkOffsets,c.debounce),v=r.$on("$viewContentLoaded",$),b=r.$on("$includeContentLoaded",$),$(),m&&(e[m]=x)},x.destroy=function(){this.$$count--,this.$$count>0||(g.off("click",this.checkPositionWithEventLoop),d.off("resize",_),g.off("scroll",w),v(),b(),m&&delete e[m])},x.checkPosition=function(){if(T.length){if(S=(f?i.pageYOffset:g.prop("scrollTop"))||0,k=Math.max(i.innerHeight,p.prop("clientHeight")),S<T[0].offsetTop&&y!==T[0].target)return x.$activateElement(T[0]);for(var e=T.length;e--;)if(!angular.isUndefined(T[e].offsetTop)&&null!==T[e].offsetTop&&y!==T[e].target&&!(S<T[e].offsetTop||T[e+1]&&S>T[e+1].offsetTop))return x.$activateElement(T[e])}},x.checkPositionWithEventLoop=function(){setTimeout(x.checkPosition,1)},x.$activateElement=function(e){if(y){var t=x.$getTrackedElement(y);t&&(t.source.removeClass("active"),u(t.source,"li")&&u(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active"))}y=e.target,e.source.addClass("active"),u(e.source,"li")&&u(e.source.parent().parent(),"li")&&e.source.parent().parent().addClass("active")},x.$getTrackedElement=function(e){return C.filter(function(t){return t.target===e})[0]},x.checkOffsets=function(){angular.forEach(C,function(e){var n=t.querySelector(e.target);e.offsetTop=n?s.offset(n).top:null,c.offset&&null!==e.offsetTop&&(e.offsetTop-=1*c.offset)}),T=C.filter(function(e){return null!==e.offsetTop}).sort(function(e,t){return e.offsetTop-t.offsetTop}),_()},x.trackElement=function(e,t){C.push({target:e,source:t})},x.untrackElement=function(e,t){for(var n,i=C.length;i--;)if(C[i].target===e&&C[i].source===t){n=i;break}C=C.splice(n,1)},x.activate=function(e){C[e].addClass("active")},x.init(),x}var d=angular.element(i),p=angular.element(o.prop("documentElement")),h=angular.element(i.document.body);return c}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(e,t,n,i){return{restrict:"EAC",link:function(e,t,n){var o={scope:e};angular.forEach(["offset","target"],function(e){angular.isDefined(n[e])&&(o[e]=n[e])});var r=i(o);r.trackElement(o.target,t),e.$on("$destroy",function(){r&&(r.untrackElement(o.target,t),r.destroy()),o=null,r=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(e){var t=e[0].querySelectorAll("li > a[href]");angular.forEach(t,function(e){var t=angular.element(e);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var e=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(t,n,i,o,r){function s(t,n,i){var s={},a=angular.extend({},e,i);s=o(t,a);var u=s.$scope;u.$matches=[],u.$activeIndex=0,u.$isMultiple=a.multiple,u.$showAllNoneButtons=a.allNoneButtons&&a.multiple,u.$iconCheckmark=a.iconCheckmark,u.$allText=a.allText,u.$noneText=a.noneText,u.$activate=function(e){u.$$postDigest(function(){s.activate(e)})},u.$select=function(e){u.$$postDigest(function(){s.select(e)})},u.$isVisible=function(){return s.$isVisible()},u.$isActive=function(e){return s.$isActive(e)},u.$selectAll=function(){for(var e=0;e<u.$matches.length;e++)u.$isActive(e)||u.$select(e)},u.$selectNone=function(){for(var e=0;e<u.$matches.length;e++)u.$isActive(e)&&u.$select(e)},s.update=function(e){u.$matches=e,s.$updateActiveIndex()},s.activate=function(e){return a.multiple?(u.$activeIndex.sort(),s.$isActive(e)?u.$activeIndex.splice(u.$activeIndex.indexOf(e),1):u.$activeIndex.push(e),a.sort&&u.$activeIndex.sort()):u.$activeIndex=e,u.$activeIndex},s.select=function(e){var t=u.$matches[e].value;u.$apply(function(){s.activate(e),a.multiple?n.$setViewValue(u.$activeIndex.map(function(e){return u.$matches[e].value})):(n.$setViewValue(t),s.hide())}),u.$emit(a.prefixEvent+".select",t,e)},s.$updateActiveIndex=function(){n.$modelValue&&u.$matches.length?u.$activeIndex=a.multiple&&angular.isArray(n.$modelValue)?n.$modelValue.map(function(e){return s.$getIndex(e)}):s.$getIndex(n.$modelValue):u.$activeIndex>=u.$matches.length&&(u.$activeIndex=a.multiple?[]:0)},s.$isVisible=function(){return a.minLength&&n?u.$matches.length&&n.$viewValue.length>=a.minLength:u.$matches.length},s.$isActive=function(e){return a.multiple?-1!==u.$activeIndex.indexOf(e):u.$activeIndex===e},s.$getIndex=function(e){var t=u.$matches.length,n=t;if(t){for(n=t;n--&&u.$matches[n].value!==e;);if(!(0>n))return n}},s.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),l){var t=angular.element(e.target);t.triggerHandler("click")}},s.$onKeyDown=function(e){if(/(9|13|38|40)/.test(e.keyCode)){if(e.preventDefault(),e.stopPropagation(),!a.multiple&&(13===e.keyCode||9===e.keyCode))return s.select(u.$activeIndex);38===e.keyCode&&u.$activeIndex>0?u.$activeIndex--:40===e.keyCode&&u.$activeIndex<u.$matches.length-1?u.$activeIndex++:angular.isUndefined(u.$activeIndex)&&(u.$activeIndex=0),u.$digest()}};var c=s.show;s.show=function(){c(),a.multiple&&s.$element.addClass("select-multiple"),r(function(){s.$element.on(l?"touchstart":"mousedown",s.$onMouseDown),a.keyboard&&t.on("keydown",s.$onKeyDown)},0,!1)};var d=s.hide;return s.hide=function(){s.$element.off(l?"touchstart":"mousedown",s.$onMouseDown),a.keyboard&&t.off("keydown",s.$onKeyDown),d(!0)},s}var a=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),l="createTouch"in t.document&&a;return s.defaults=e,s}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(e,t,n,i,o){var r=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,n,s){var a={scope:e,placeholder:r.placeholder};if(angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","allNoneButtons","maxLength","maxLengthHtml","allText","noneText"],function(e){angular.isDefined(n[e])&&(a[e]=n[e])}),"select"===t[0].nodeName.toLowerCase()){var l=t;l.css("display","none"),t=angular.element('<button type="button" class="btn btn-default"></button>'),l.after(t)}var u=o(n.ngOptions),c=i(t,s,a),d=u.$match[7].replace(/\|.+/,"").trim();e.$watch(d,function(){u.valuesFn(e,s).then(function(e){c.update(e),s.$render()})},!0),e.$watch(n.ngModel,function(){c.$updateActiveIndex(),s.$render()},!0),s.$render=function(){var e,n;a.multiple&&angular.isArray(s.$modelValue)?(e=s.$modelValue.map(function(e){return n=c.$getIndex(e),angular.isDefined(n)?c.$scope.$matches[n].label:!1}).filter(angular.isDefined),e=e.length>(a.maxLength||r.maxLength)?e.length+" "+(a.maxLengthHtml||r.maxLengthHtml):e.join(", ")):(n=c.$getIndex(s.$modelValue),e=angular.isDefined(n)?c.$scope.$matches[n].label:!1),t.html((e?e:a.placeholder)+r.caretHtml)},a.multiple&&(s.$isEmpty=function(e){return!e||0===e.length}),e.$on("$destroy",function(){c&&c.destroy(),a=null,c=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var e=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},t=this.controller=function(t,n,i){var o=this;o.$options=angular.copy(e),angular.forEach(["animation","navClass","activeClass"],function(e){angular.isDefined(i[e])&&(o.$options[e]=i[e])}),t.$navClass=o.$options.navClass,t.$activeClass=o.$options.activeClass,o.$panes=t.$panes=[],o.$activePaneChangeListeners=o.$viewChangeListeners=[],o.$push=function(e){o.$panes.push(e)},o.$remove=function(e){var t=o.$panes.indexOf(e),n=o.$panes.$active;o.$panes.splice(t,1),n>t?n--:t===n&&n===o.$panes.length&&n--,o.$setActive(n)},o.$panes.$active=0,o.$setActive=t.$setActive=function(e){o.$panes.$active=e,o.$activePaneChangeListeners.forEach(function(e){e()})}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(e,t,n,i){var o=n.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",n.controller],templateUrl:function(e,t){return t.template||o.template},link:function(e,t,n,o){var r=o[0],s=o[1];if(r&&(console.warn("Usage of ngModel is deprecated, please use bsActivePane instead!"),s.$activePaneChangeListeners.push(function(){r.$setViewValue(s.$panes.$active)}),r.$formatters.push(function(e){return s.$setActive(1*e),e})),n.bsActivePane){var a=i(n.bsActivePane);s.$activePaneChangeListeners.push(function(){a.assign(e,s.$panes.$active)}),e.$watch(n.bsActivePane,function(e){s.$setActive(1*e)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(e,t,n){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(e,i,o,r){function s(){var n=a.$panes.indexOf(e),o=a.$panes.$active;t[n===o?"addClass":"removeClass"](i,a.$options.activeClass)}var a=(r[0],r[1]);i.addClass("tab-pane"),o.$observe("title",function(t){e.title=n.trustAsHtml(t)}),a.$options.animation&&i.addClass(a.$options.animation),a.$push(e),e.$on("$destroy",function(){a.$remove(e)}),a.$activePaneChangeListeners.push(function(){s()}),s()}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var e=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(n,i,o,r,s,a,l,u,c,d,p){function h(n,r){function s(){I.$emit(P.prefixEvent+".show",O)}function a(){return I.$emit(P.prefixEvent+".hide",O),V&&"focus"===P.trigger?n[0].blur():void D()}function h(){var e=P.trigger.split(" ");angular.forEach(e,function(e){"click"===e?n.on("click",O.toggle):"manual"!==e&&(n.on("hover"===e?"mouseenter":"focus",O.enter),n.on("hover"===e?"mouseleave":"blur",O.leave),"button"===A&&"hover"!==e&&n.on(b?"touchstart":"mousedown",O.$onFocusElementMouseDown))})}function w(){for(var e=P.trigger.split(" "),t=e.length;t--;){var i=e[t];"click"===i?n.off("click",O.toggle):"manual"!==i&&(n.off("hover"===i?"mouseenter":"focus",O.enter),n.off("hover"===i?"mouseleave":"blur",O.leave),"button"===A&&"hover"!==i&&n.off(b?"touchstart":"mousedown",O.$onFocusElementMouseDown))}}function $(){"focus"!==P.trigger?N.on("keyup",O.$onKeyUp):n.on("keyup",O.$onFocusKeyUp)}function k(){"focus"!==P.trigger?N.off("keyup",O.$onKeyUp):n.off("keyup",O.$onFocusKeyUp)}function S(){p(function(){N.on("click",C),_.on("click",O.hide),U=!0},0,!1)}function x(){U&&(N.off("click",C),_.off("click",O.hide),U=!1)}function C(e){e.stopPropagation()}function T(e){e=e||P.target||n;var t=e[0],i=t.getBoundingClientRect();null===i.width&&(i=angular.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o;return o="body"===P.container?c.offset(t):c.position(t),angular.extend({},i,o)}function M(e,t,n,i){var o,r=e.split("-");switch(r[0]){case"right":o={top:t.top+t.height/2-i/2,left:t.left+t.width};break;case"bottom":o={top:t.top+t.height,left:t.left+t.width/2-n/2};break;case"left":o={top:t.top+t.height/2-i/2,left:t.left-n};break;default:o={top:t.top-i,left:t.left+t.width/2-n/2}}if(!r[1])return o;if("top"===r[0]||"bottom"===r[0])switch(r[1]){case"left":o.left=t.left;break;case"right":o.left=t.left+t.width-n}else if("left"===r[0]||"right"===r[0])switch(r[1]){case"top":o.top=t.top-i;break;case"bottom":o.top=t.top+t.height}return o}function E(e,t){N.css({top:e+"px",left:t+"px"})}function D(){clearTimeout(B),O.$isShown&&null!==N&&(P.autoClose&&x(),P.keyboard&&k()),R&&(R.$destroy(),R=null),N&&(N.remove(),N=O.$element=null)}var O={},A=n[0].nodeName.toLowerCase(),P=O.$options=angular.extend({},e,r);O.$promise=m(P.template);var I=O.$scope=P.scope&&P.scope.$new()||i.$new();if(P.delay&&angular.isString(P.delay)){var L=P.delay.split(",").map(parseFloat);P.delay=L.length>1?{show:L[0],hide:L[1]}:L[0]}P.title&&(I.title=u.trustAsHtml(P.title)),I.$setEnabled=function(e){I.$$postDigest(function(){O.setEnabled(e)})},I.$hide=function(){I.$$postDigest(function(){O.hide()})},I.$show=function(){I.$$postDigest(function(){O.show()})},I.$toggle=function(){I.$$postDigest(function(){O.toggle()})},O.$isShown=I.$isShown=!1;var B,q;P.contentTemplate&&(O.$promise=O.$promise.then(function(e){var t=angular.element(e);return m(P.contentTemplate).then(function(e){var n=g('[ng-bind="content"]',t[0]);return n.length||(n=g('[ng-bind="title"]',t[0])),n.removeAttr("ng-bind").html(e),t[0].outerHTML})}));var j,N,G,F,R;O.$promise.then(function(e){angular.isObject(e)&&(e=e.data),P.html&&(e=e.replace(y,'ng-bind-html="')),e=v.apply(e),G=e,j=o(e),O.init()}),O.init=function(){P.delay&&angular.isNumber(P.delay)&&(P.delay={show:P.delay,hide:P.delay}),"self"===P.container?F=n:angular.isElement(P.container)?F=P.container:P.container&&(F=g(P.container)),h(),P.target&&(P.target=angular.isElement(P.target)?P.target:g(P.target)),P.show&&I.$$postDigest(function(){"focus"===P.trigger?n[0].focus():O.show()})},O.destroy=function(){w(),D(),I.$destroy()},O.enter=function(){return clearTimeout(B),q="in",P.delay&&P.delay.show?void(B=setTimeout(function(){"in"===q&&O.show()},P.delay.show)):O.show()},O.show=function(){if(P.bsEnabled&&!O.$isShown){I.$emit(P.prefixEvent+".show.before",O);var e,t;P.container?(e=F,t=F[0].lastChild?angular.element(F[0].lastChild):null):(e=null,t=n),N&&D(),R=O.$scope.$new(),N=O.$element=j(R,function(){}),N.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"}),P.animation&&N.addClass(P.animation),P.type&&N.addClass(P.prefixClass+"-"+P.type),P.customClass&&N.addClass(P.customClass);var i=l.enter(N,e,t,s);i&&i.then&&i.then(s),O.$isShown=I.$isShown=!0,f(I),d(function(){O.$applyPlacement(),N&&N.css({visibility:"visible"})}),P.keyboard&&("focus"!==P.trigger&&O.focus(),$()),P.autoClose&&S()}},O.leave=function(){return clearTimeout(B),q="out",P.delay&&P.delay.hide?void(B=setTimeout(function(){"out"===q&&O.hide()},P.delay.hide)):O.hide()};var V;O.hide=function(e){if(O.$isShown){I.$emit(P.prefixEvent+".hide.before",O),V=e;var t=l.leave(N,a);t&&t.then&&t.then(a),O.$isShown=I.$isShown=!1,f(I),P.keyboard&&null!==N&&k(),P.autoClose&&null!==N&&x()}},O.toggle=function(){O.$isShown?O.leave():O.enter()},O.focus=function(){N[0].focus()},O.setEnabled=function(e){P.bsEnabled=e},O.$applyPlacement=function(){if(N){var i=P.placement,o=/\s?auto?\s?/i,r=o.test(i);r&&(i=i.replace(o,"")||e.placement),N.addClass(P.placement);var s=T(),a=N.prop("offsetWidth"),l=N.prop("offsetHeight");if(r){var u=i,c=P.container?angular.element(t.querySelector(P.container)):n.parent(),d=T(c);u.indexOf("bottom")>=0&&s.bottom+l>d.bottom?i=u.replace("bottom","top"):u.indexOf("top")>=0&&s.top-l<d.top&&(i=u.replace("top","bottom")),("right"===u||"bottom-left"===u||"top-left"===u)&&s.right+a>d.width?i="right"===u?"left":i.replace("left","right"):("left"===u||"bottom-right"===u||"top-right"===u)&&s.left-a<d.left&&(i="left"===u?"right":i.replace("right","left")),N.removeClass(u).addClass(i)}var p=M(i,s,a,l);E(p.top,p.left)}},O.$onKeyUp=function(e){27===e.which&&O.$isShown&&(O.hide(),e.stopPropagation())},O.$onFocusKeyUp=function(e){27===e.which&&(n[0].blur(),e.stopPropagation())},O.$onFocusElementMouseDown=function(e){e.preventDefault(),e.stopPropagation(),O.$isShown?n[0].blur():n[0].focus()};var U=!1;return O}function f(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function g(e,n){return angular.element((n||t).querySelectorAll(e))}function m(e){return w[e]?w[e]:w[e]=r.when(s.get(e)||a.get(e)).then(function(t){return angular.isObject(t)?(s.put(e,t.data),t.data):t})}var v=String.prototype.trim,b="createTouch"in n.document,y=/ng-bind="/gi,_=angular.element(n.document),w={};return h}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(e,t,n,i,o){return{restrict:"EAC",scope:!0,link:function(e,t,r){var s={scope:e};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","backdropAnimation","type","customClass"],function(e){angular.isDefined(r[e])&&(s[e]=r[e])}),e.hasOwnProperty("title")||(e.title=""),r.$observe("title",function(t){if(angular.isDefined(t)||!e.hasOwnProperty("title")){var i=e.title;e.title=n.trustAsHtml(t),angular.isDefined(i)&&o(function(){a&&a.$applyPlacement()})}}),r.bsTooltip&&e.$watch(r.bsTooltip,function(t,n){angular.isObject(t)?angular.extend(e,t):e.title=t,angular.isDefined(n)&&o(function(){a&&a.$applyPlacement()})},!0),r.bsShow&&e.$watch(r.bsShow,function(e){a&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(tooltip),?/i)),e===!0?a.show():a.hide())}),r.bsEnabled&&e.$watch(r.bsEnabled,function(e){a&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|1|,?(tooltip),?/i)),a.setEnabled(e===!1?!1:!0))});var a=i(t,s);e.$on("$destroy",function(){a&&a.destroy(),s=null,a=null})}}}]),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var e=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6,comparator:""};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,n,i,o){function r(t,n,r){var s={},a=angular.extend({},e,r);s=i(t,a);var l=r.scope,u=s.$scope;u.$resetMatches=function(){u.$matches=[],u.$activeIndex=0},u.$resetMatches(),u.$activate=function(e){u.$$postDigest(function(){s.activate(e)})},u.$select=function(e){u.$$postDigest(function(){s.select(e)})},u.$isVisible=function(){return s.$isVisible()},s.update=function(e){u.$matches=e,u.$activeIndex>=e.length&&(u.$activeIndex=0)},s.activate=function(e){u.$activeIndex=e},s.select=function(e){var t=u.$matches[e].value;n.$setViewValue(t),n.$render(),u.$resetMatches(),l&&l.$digest(),u.$emit(a.prefixEvent+".select",t,e)},s.$isVisible=function(){return a.minLength&&n?u.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=a.minLength:!!u.$matches.length},s.$getIndex=function(e){var t=u.$matches.length,n=t;if(t){for(n=t;n--&&u.$matches[n].value!==e;);if(!(0>n))return n}},s.$onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},s.$onKeyDown=function(e){/(38|40|13)/.test(e.keyCode)&&(s.$isVisible()&&(e.preventDefault(),e.stopPropagation()),13===e.keyCode&&u.$matches.length?s.select(u.$activeIndex):38===e.keyCode&&u.$activeIndex>0?u.$activeIndex--:40===e.keyCode&&u.$activeIndex<u.$matches.length-1?u.$activeIndex++:angular.isUndefined(u.$activeIndex)&&(u.$activeIndex=0),u.$digest())};var c=s.show;s.show=function(){c(),o(function(){s.$element.on("mousedown",s.$onMouseDown),a.keyboard&&t.on("keydown",s.$onKeyDown)},0,!1)};var d=s.hide;return s.hide=function(){s.$element.off("mousedown",s.$onMouseDown),a.keyboard&&t.off("keydown",s.$onKeyDown),d()},s}return angular.element(t.document.body),r.defaults=e,r}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(e,t,i,o,r){var s=o.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,i,a){var l={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength","watchOptions","selectMode","comparator"],function(e){angular.isDefined(i[e])&&(l[e]=i[e])});var u=l.filter||s.filter,c=l.limit||s.limit,d=l.comparator||s.comparator,p=i.ngOptions;u&&(p+=" | "+u+":$viewValue"),d&&(p+=":"+d),c&&(p+=" | limitTo:"+c);var h=r(p),f=o(t,a,l);if(l.watchOptions){var g=h.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();e.$watch(g,function(){h.valuesFn(e,a).then(function(e){f.update(e),a.$render()})},!0)}e.$watch(i.ngModel,function(t){e.$modelValue=t,h.valuesFn(e,a).then(function(e){if(l.selectMode&&!e.length&&t.length>0)return void a.$setViewValue(a.$viewValue.substring(0,a.$viewValue.length-1));e.length>c&&(e=e.slice(0,c));var n=f.$isVisible();n&&f.update(e),(1!==e.length||e[0].value!==t)&&(!n&&f.update(e),a.$render())})}),a.$formatters.push(function(e){var t=h.displayValue(e);return t===n?"":t}),a.$render=function(){if(a.$isEmpty(a.$viewValue))return t.val("");var e=f.$getIndex(a.$modelValue),n=angular.isDefined(e)?f.$scope.$matches[e].label:a.$viewValue;n=angular.isObject(n)?h.displayValue(n):n,t.val(n?n.toString().replace(/<(?:.|\n)*?>/gm,"").trim():"")},e.$on("$destroy",function(){f&&f.destroy(),l=null,f=null})}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:1/0,length:5,hourStep:1,minuteStep:5,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(t,n,i,o,r,s,a){function l(t,n,i){function o(e,n){if(t[0].createTextRange){var i=t[0].createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",n),i.select()}else t[0].setSelectionRange?t[0].setSelectionRange(e,n):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=e,t[0].selectionEnd=n)}function l(){t[0].focus()}var d=s(t,angular.extend({},e,i)),p=i.scope,h=d.$options,f=d.$scope,g=h.lang,m=function(e,t){return r.formatDate(e,t,g)},v=0,b=n.$dateValue||new Date,y={hour:b.getHours(),meridian:b.getHours()<12,minute:b.getMinutes(),second:b.getSeconds(),millisecond:b.getMilliseconds()},_=r.getDatetimeFormat(h.timeFormat,g),w=r.hoursFormat(_),$=r.timeSeparator(_),k=r.minutesFormat(_),S=r.showAM(_);f.$iconUp=h.iconUp,f.$iconDown=h.iconDown,f.$select=function(e,t){d.select(e,t)},f.$moveIndex=function(e,t){d.$moveIndex(e,t)},f.$switchMeridian=function(e){d.switchMeridian(e)},d.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())?(d.$date=e,angular.extend(y,{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}),d.$build()):d.$isBuilt||d.$build()},d.select=function(e,t,i){(!n.$dateValue||isNaN(n.$dateValue.getTime()))&&(n.$dateValue=new Date(1970,0,1)),angular.isDate(e)||(e=new Date(e)),0===t?n.$dateValue.setHours(e.getHours()):1===t&&n.$dateValue.setMinutes(e.getMinutes()),n.$setViewValue(angular.copy(n.$dateValue)),n.$render(),h.autoclose&&!i&&a(function(){d.hide(!0)})},d.switchMeridian=function(e){if(n.$dateValue&&!isNaN(n.$dateValue.getTime())){var t=(e||n.$dateValue).getHours();n.$dateValue.setHours(12>t?t+12:t-12),n.$setViewValue(angular.copy(n.$dateValue)),n.$render()}},d.$build=function(){var e,t,n=f.midIndex=parseInt(h.length/2,10),i=[];for(e=0;e<h.length;e++)t=new Date(1970,0,1,y.hour-(n-e)*h.hourStep),i.push({date:t,label:m(t,w),selected:d.$date&&d.$isSelected(t,0),disabled:d.$isDisabled(t,0)});var o,r=[];for(e=0;e<h.length;e++)o=new Date(1970,0,1,0,y.minute-(n-e)*h.minuteStep),r.push({date:o,label:m(o,k),selected:d.$date&&d.$isSelected(o,1),disabled:d.$isDisabled(o,1)});var s=[];for(e=0;e<h.length;e++)s.push([i[e],r[e]]);f.rows=s,f.showAM=S,f.isAM=(d.$date||i[n].date).getHours()<12,f.timeSeparator=$,d.$isBuilt=!0},d.$isSelected=function(e,t){return d.$date?0===t?e.getHours()===d.$date.getHours():1===t?e.getMinutes()===d.$date.getMinutes():void 0:!1},d.$isDisabled=function(e,t){var n;return 0===t?n=e.getTime()+6e4*y.minute:1===t&&(n=e.getTime()+36e5*y.hour),n<1*h.minTime||n>1*h.maxTime},f.$arrowAction=function(e,t){"picker"===h.arrowBehavior?d.$setTimeByStep(e,t):d.$moveIndex(e,t)},d.$setTimeByStep=function(e,t){var n=new Date(d.$date),i=n.getHours(),o=(m(n,w).length,n.getMinutes());m(n,k).length,0===t?n.setHours(i-parseInt(h.hourStep,10)*e):n.setMinutes(o-parseInt(h.minuteStep,10)*e),d.select(n,t,!0)},d.$moveIndex=function(e,t){var n;0===t?(n=new Date(1970,0,1,y.hour+e*h.length,y.minute),angular.extend(y,{hour:n.getHours()})):1===t&&(n=new Date(1970,0,1,y.hour,y.minute+e*h.length*h.minuteStep),angular.extend(y,{minute:n.getMinutes()})),d.$build()},d.$onMouseDown=function(e){if("input"!==e.target.nodeName.toLowerCase()&&e.preventDefault(),e.stopPropagation(),c){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},d.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return d.hide(!0);var t=new Date(d.$date),n=t.getHours(),i=m(t,w).length,r=t.getMinutes(),s=m(t,k).length,a=/(37|39)/.test(e.keyCode),l=2+1*S;a&&(37===e.keyCode?v=1>v?l-1:v-1:39===e.keyCode&&(v=l-1>v?v+1:0));var u=[0,i];0===v?(38===e.keyCode?t.setHours(n-parseInt(h.hourStep,10)):40===e.keyCode&&t.setHours(n+parseInt(h.hourStep,10)),i=m(t,w).length,u=[0,i]):1===v?(38===e.keyCode?t.setMinutes(r-parseInt(h.minuteStep,10)):40===e.keyCode&&t.setMinutes(r+parseInt(h.minuteStep,10)),s=m(t,k).length,u=[i+1,i+1+s]):2===v&&(a||d.switchMeridian(),u=[i+1+s+1,i+1+s+3]),d.select(t,v,!0),o(u[0],u[1]),p.$digest()}};var x=d.init;d.init=function(){return u&&h.useNative?(t.prop("type","time"),void t.css("-webkit-appearance","textfield")):(c&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",l)),void x())};var C=d.destroy;d.destroy=function(){u&&h.useNative&&t.off("click",l),C()};var T=d.show;d.show=function(){T(),a(function(){d.$element.on(c?"touchstart":"mousedown",d.$onMouseDown),h.keyboard&&t.on("keydown",d.$onKeyDown)},0,!1)};var M=d.hide;return d.hide=function(e){d.$isShown&&(d.$element.off(c?"touchstart":"mousedown",d.$onMouseDown),h.keyboard&&t.off("keydown",d.$onKeyDown),M(e))},d}var u=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),c="createTouch"in t.document&&u;return e.lang||(e.lang=r.getDefaultLocale()),l.defaults=e,l}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(e,t,n,i,o,r){var s=r.defaults,a=/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent);return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",require:"ngModel",link:function(e,t,n,l){function u(e){if(angular.isDate(e)){var t=isNaN(d.minTime)||new Date(e.getTime()).setFullYear(1970,0,1)>=d.minTime,n=isNaN(d.maxTime)||new Date(e.getTime()).setFullYear(1970,0,1)<=d.maxTime,i=t&&n;l.$setValidity("date",i),l.$setValidity("min",t),l.$setValidity("max",n),i&&(l.$dateValue=e)}}function c(){return!l.$dateValue||isNaN(l.$dateValue.getTime())?"":f(l.$dateValue,d.timeFormat)}var d={scope:e,controller:l};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","modelTimeFormat","useNative","hourStep","minuteStep","length","arrowBehavior","iconUp","iconDown"],function(e){angular.isDefined(n[e])&&(d[e]=n[e])}),n.bsShow&&e.$watch(n.bsShow,function(e){p&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(timepicker),?/i)),e===!0?p.show():p.hide())}),a&&(d.useNative||s.useNative)&&(d.timeFormat="HH:mm");var p=r(t,l,d);d=p.$options;var h=d.lang,f=function(e,t){return i.formatDate(e,t,h)},g=o({format:d.timeFormat,lang:h});angular.forEach(["minTime","maxTime"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){p.$options[e]=g.getTimeForAttribute(e,t),!isNaN(p.$options[e])&&p.$build(),u(l.$dateValue)
})}),e.$watch(n.ngModel,function(){p.update(l.$dateValue)},!0),l.$parsers.unshift(function(e){if(!e)return l.$setValidity("date",!0),null;var t=angular.isDate(e)?e:g.parse(e,l.$dateValue);return!t||isNaN(t.getTime())?void l.$setValidity("date",!1):(u(t),"string"===d.timeType?f(t,d.modelTimeFormat||d.timeFormat):"number"===d.timeType?l.$dateValue.getTime():"unix"===d.timeType?l.$dateValue.getTime()/1e3:"iso"===d.timeType?l.$dateValue.toISOString():new Date(l.$dateValue))}),l.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:"string"===d.timeType?g.parse(e,null,d.modelTimeFormat):new Date("unix"===d.timeType?1e3*e:e),l.$dateValue=t,c()}),l.$render=function(){t.val(c())},e.$on("$destroy",function(){p&&p.destroy(),d=null,p=null})}}}])}(window,document),!function(){"use strict";angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(e){e.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(e){e.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(e){e.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(e){e.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(e){e.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(e){e.put("popover/popover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(e){e.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(e){e.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li ng-repeat="$pane in $panes track by $index" ng-class="$index == $panes.$active ? $activeClass : \'\'"><a role="tab" data-toggle="tab" ng-click="$setActive($index)" data-index="{{ $index }}" ng-bind-html="$pane.title"></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(e){e.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(e){e.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(e){e.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}])}(window,document),function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var e="$$ngAnimateChildren";return function(n,i,o){var r=o.ngAnimateChildren;t.isString(r)&&0===r.length?i.data(e,!0):n.$watch(r,function(t){i.data(e,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(i,o){function r(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==m)return n}}function s(e){return e&&t.element(e)}function a(e){return t.element(r(e))}function l(e,t){return r(e)==r(t)}var u,c=t.noop,d=t.forEach,p=o.$$selectors,h=t.isArray,f=t.isString,g=t.isObject,m=1,v="$$ngAnimateState",b="$$ngAnimateChildren",y="ng-animate",_={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,i,m,w,$,k,S,x,C){function T(e,t){var n=e.data(v)||{};return t&&(n.running=!0,n.structural=!0,e.data(v,n)),n.disabled||n.running&&n.structural}function M(e){var t,i=n.defer();return i.promise.$$cancelFn=function(){t&&t()},k.$$postDigest(function(){t=e(function(){i.resolve()})}),i.promise}function E(e){return g(e)?(e.tempClasses&&f(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function D(e,t,n){n=n||{};var i={};d(n,function(e,t){d(t.split(" "),function(t){i[t]=e})});var o=Object.create(null);d((e.attr("class")||"").split(/\s+/),function(e){o[e]=!0});var r=[],s=[];return d(t&&t.classes||[],function(e,t){var n=o[t],a=i[t]||{};e===!1?(n||"addClass"==a.event)&&s.push(t):e===!0&&(n&&"removeClass"!=a.event||r.push(t))}),r.length+s.length>0&&[r.join(" "),s.join(" ")]}function O(e){if(e){var t=[],n={},o=e.substr(1).split(".");(m.transitions||m.animations)&&t.push(i.get(p[""]));for(var r=0;r<o.length;r++){var s=o[r],a=p[s];a&&!n[s]&&(t.push(i.get(a)),n[s]=!0)}return t}}function A(e,n,i,o){function r(e,t){var n=e[t],i=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||i?("leave"==t&&(i=n,n=null),$.push({event:t,fn:n}),y.push({event:t,fn:i}),!0):void 0}function s(t,n,r){function s(e){if(n){if((n[e]||c)(),++p<a.length)return;n=null}r()}var a=[];d(t,function(e){e.fn&&a.push(e)});var p=0;d(a,function(t,r){var a=function(){s(r)};switch(t.event){case"setClass":n.push(t.fn(e,l,u,a,o));break;case"animate":n.push(t.fn(e,i,o.from,o.to,a));break;case"addClass":n.push(t.fn(e,l||i,a,o));break;case"removeClass":n.push(t.fn(e,u||i,a,o));break;default:n.push(t.fn(e,a,o))}}),n&&0===n.length&&r()}var a=e[0];if(a){o&&(o.to=o.to||{},o.from=o.from||{});var l,u;h(i)&&(l=i[0],u=i[1],l?u?i=l+" "+u:(i=l,n="addClass"):(i=u,n="removeClass"));var p="setClass"==n,f=p||"addClass"==n||"removeClass"==n||"animate"==n,g=e.attr("class"),m=g+" "+i;if(G(m)){var v=c,b=[],y=[],_=c,w=[],$=[],k=(" "+m).replace(/\s+/g,".");return d(O(k),function(e){var t=r(e,n);!t&&p&&(r(e,"addClass"),r(e,"removeClass"))}),{node:a,event:n,className:i,isClassBased:f,isSetClassOperation:p,applyStyles:function(){o&&e.css(t.extend(o.from||{},o.to||{}))},before:function(e){v=e,s(y,b,function(){v=c,e()})},after:function(e){_=e,s($,w,function(){_=c,e()})},cancel:function(){b&&(d(b,function(e){(e||c)(!0)}),v(!0)),w&&(d(w,function(e){(e||c)(!0)}),_(!0))}}}}}function P(e,n,i,o,r,s,a,l){function p(t){var o="$animate:"+t;k&&k[o]&&k[o].length>0&&$(function(){i.triggerHandler(o,{event:e,className:n})})}function h(){p("before")}function f(){p("after")}function g(){p("close"),l()}function m(){m.hasBeenRun||(m.hasBeenRun=!0,s())}function b(){if(!b.hasBeenRun){w&&w.applyStyles(),b.hasBeenRun=!0,a&&a.tempClasses&&d(a.tempClasses,function(e){u.removeClass(i,e)});var t=i.data(v);t&&(w&&w.isClassBased?L(i,n):($(function(){var t=i.data(v)||{};P==t.index&&L(i,n,e)}),i.data(v,t))),g()}}var _=c,w=A(i,e,n,a);if(!w)return m(),h(),f(),b(),_;e=w.event,n=w.className;var k=t.element._data(w.node);if(k=k&&k.events,o||(o=r?r.parent():i.parent()),B(i,o))return m(),h(),f(),b(),_;var S=i.data(v)||{},x=S.active||{},C=S.totalActive||0,T=S.last,M=!1;if(C>0){var E=[];if(w.isClassBased){if("setClass"==T.event)E.push(T),L(i,n);else if(x[n]){var D=x[n];D.event==e?M=!0:(E.push(D),L(i,n))}}else if("leave"==e&&x["ng-leave"])M=!0;else{for(var O in x)E.push(x[O]);S={},L(i,!0)}E.length>0&&d(E,function(e){e.cancel()})}if(!w.isClassBased||w.isSetClassOperation||"animate"==e||M||(M="addClass"==e==i.hasClass(n)),M)return m(),h(),f(),g(),_;x=S.active||{},C=S.totalActive||0,"leave"==e&&i.one("$destroy",function(){var e=t.element(this),n=e.data(v);if(n){var i=n.active["ng-leave"];i&&(i.cancel(),L(e,"ng-leave"))}}),u.addClass(i,y),a&&a.tempClasses&&d(a.tempClasses,function(e){u.addClass(i,e)});var P=j++;return C++,x[n]=w,i.data(v,{last:w,active:x,index:P,totalActive:C}),h(),w.before(function(t){var o=i.data(v);t=t||!o||!o.active[n]||w.isClassBased&&o.active[n].event!=e,m(),t===!0?b():(f(),w.after(b))}),w.cancel}function I(e){var n=r(e);if(n){var i=t.isFunction(n.getElementsByClassName)?n.getElementsByClassName(y):n.querySelectorAll("."+y);d(i,function(e){e=t.element(e);var n=e.data(v);n&&n.active&&d(n.active,function(e){e.cancel()})})}}function L(e,t){if(l(e,w))_.disabled||(_.running=!1,_.structural=!1);else if(t){var n=e.data(v)||{},i=t===!0;!i&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(i||!n.totalActive)&&(u.removeClass(e,y),e.removeData(v))}}function B(e,n){if(_.disabled)return!0;if(l(e,w))return _.running;var i,o,r;do{if(0===n.length)break;var s=l(n,w),a=s?_:n.data(v)||{};if(a.disabled)return!0;if(s&&(r=!0),i!==!1){var u=n.data(b);t.isDefined(u)&&(i=u)}o=o||a.running||a.last&&!a.last.isClassBased}while(n=n.parent());return!r||!i&&o}u=C,w.data(v,_);var q=k.$watch(function(){return x.totalPendingRequests},function(e){0===e&&(q(),k.$$postDigest(function(){k.$$postDigest(function(){_.running=!1})}))}),j=0,N=o.classNameFilter(),G=N?function(e){return N.test(e)}:function(){return!0};return{animate:function(e,t,n,i,o){return i=i||"ng-inline-animate",o=E(o)||{},o.from=n?t:null,o.to=n?n:t,M(function(t){return P("animate",i,a(e),null,null,c,o,t)})},enter:function(n,i,o,r){return r=E(r),n=t.element(n),i=s(i),o=s(o),T(n,!0),e.enter(n,i,o),M(function(e){return P("enter","ng-enter",a(n),i,o,c,r,e)})},leave:function(n,i){return i=E(i),n=t.element(n),I(n),T(n,!0),M(function(t){return P("leave","ng-leave",a(n),null,null,function(){e.leave(n)},i,t)})},move:function(n,i,o,r){return r=E(r),n=t.element(n),i=s(i),o=s(o),I(n),T(n,!0),e.move(n,i,o),M(function(e){return P("move","ng-move",a(n),i,o,c,r,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,i,o,s){s=E(s);var l="$$animateClasses";if(n=t.element(n),n=a(n),T(n))return e.$$setClassImmediately(n,i,o,s);var u,c=n.data(l),p=!!c;return c||(c={},c.classes={}),u=c.classes,i=h(i)?i:i.split(" "),d(i,function(e){e&&e.length&&(u[e]=!0)}),o=h(o)?o:o.split(" "),d(o,function(e){e&&e.length&&(u[e]=!1)}),p?(s&&c.options&&(c.options=t.extend(c.options||{},s)),c.promise):(n.data(l,c={classes:u,options:s}),c.promise=M(function(t){var i=n.parent(),o=r(n),s=o.parentNode;if(!s||s.$$NG_REMOVED||o.$$NG_REMOVED)return void t();var a=n.data(l);n.removeData(l);var u=n.data(v)||{},c=D(n,a,u.active);return c?P("setClass",c,n,i,null,function(){c[0]&&e.$$addClassImmediately(n,c[0]),c[1]&&e.$$removeClassImmediately(n,c[1])},a.options,t):t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)L(t);else{var n=t.data(v)||{};n.disabled=!0,t.data(v,n)}break;case 1:_.disabled=!e;break;default:e=!_.disabled}return!!e}}}]),o.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,o,s,a){function l(){L||(L=a(function(){K=[],L=null,z={}}))}function p(e,t){L&&L(),K.push(t),L=a(function(){d(K,function(e){e()}),K=[],L=null,z={}})}function g(e,n){var i=r(e);e=t.element(i),J.push(e);var o=Date.now()+n;X>=o||(s.cancel(Y),X=o,Y=s(function(){v(J),J=[]},n,!1))}function v(e){d(e,function(e){var t=e.data(R);t&&d(t.closeAnimationFns,function(e){e()})})}function b(e,t){var n=t?z[t]:null;if(!n){var o=0,r=0,s=0,a=0;d(e,function(e){if(e.nodeType==m){var t=i.getComputedStyle(e)||{},n=t[D+B];o=Math.max(y(n),o);var l=t[D+j];r=Math.max(y(l),r);{t[A+j]}a=Math.max(y(t[A+j]),a);var u=y(t[A+B]);u>0&&(u*=parseInt(t[A+N],10)||1),s=Math.max(u,s)}}),n={total:0,transitionDelay:r,transitionDuration:o,animationDelay:a,animationDuration:s},t&&(z[t]=n)}return n}function y(e){var t=0,n=f(e)?e.split(/\s*,\s*/):[];return d(n,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function _(e){var t=e.parent(),n=t.data(F);return n||(t.data(F,++W),n=W),n+"-"+r(e).getAttribute("class")}function w(e,t,n,i){var o=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,s=_(t),a=s+" "+n,l=z[a]?++z[a].total:0,c={};if(l>0){var d=n+"-stagger",p=s+" "+d,h=!z[p];h&&u.addClass(t,d),c=b(t,p),h&&u.removeClass(t,d)}u.addClass(t,n);var f=t.data(R)||{},g=b(t,a),m=g.transitionDuration,v=g.animationDuration;if(o&&0===m&&0===v)return u.removeClass(t,n),!1;var y=i||o&&m>0,w=v>0&&c.animationDelay>0&&0===c.animationDuration,$=f.closeAnimationFns||[];t.data(R,{stagger:c,cacheKey:a,running:f.running||0,itemIndex:l,blockTransition:y,closeAnimationFns:$});var x=r(t);return y&&(k(x,!0),i&&t.css(i)),w&&S(x,!0),!0}function $(e,t,n,i,o){function a(){t.off(j,l),u.removeClass(t,h),u.removeClass(t,f),B&&s.cancel(B),M(t,n);var e=r(t);for(var i in v)e.style.removeProperty(v[i])}function l(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),o=parseFloat(t.elapsedTime.toFixed(V));Math.max(n-q,0)>=A&&o>=E&&i()}var c=r(t),p=t.data(R);if(-1==c.getAttribute("class").indexOf(n)||!p)return void i();var h="",f="";d(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;h+=n+"-active",f+=n+"-pending"});var m="",v=[],y=p.itemIndex,_=p.stagger,w=0;if(y>0){var $=0;_.transitionDelay>0&&0===_.transitionDuration&&($=_.transitionDelay*y);var x=0;_.animationDelay>0&&0===_.animationDuration&&(x=_.animationDelay*y,v.push(I+"animation-play-state")),w=Math.round(100*Math.max($,x))/100}w||(u.addClass(t,h),p.blockTransition&&k(c,!1));var C=p.cacheKey+" "+h,T=b(t,C),E=Math.max(T.transitionDuration,T.animationDuration);if(0===E)return u.removeClass(t,h),M(t,n),void i();!w&&o&&(T.transitionDuration||(t.css("transition",T.animationDuration+"s linear all"),v.push("transition")),t.css(o));var D=Math.max(T.transitionDelay,T.animationDelay),A=D*H;if(v.length>0){var L=c.getAttribute("style")||"";";"!==L.charAt(L.length-1)&&(L+=";"),c.setAttribute("style",L+" "+m)}var B,q=Date.now(),j=P+" "+O,N=(D+E)*U,G=(w+N)*H;return w>0&&(u.addClass(t,f),B=s(function(){B=null,T.transitionDuration>0&&k(c,!1),T.animationDuration>0&&S(c,!1),u.addClass(t,h),u.removeClass(t,f),o&&(0===T.transitionDuration&&t.css("transition",T.animationDuration+"s linear all"),t.css(o),v.push("transition"))},w*H,!1)),t.on(j,l),p.closeAnimationFns.push(function(){a(),i()}),p.running++,g(t,G),a}function k(e,t){e.style[D+q]=t?"none":""}function S(e,t){e.style[A+G]=t?"paused":""}function x(e,t,n,i){return w(e,t,n,i)?function(e){e&&M(t,n)}:void 0}function C(e,t,n,i,o){return t.data(R)?$(e,t,n,i,o):(M(t,n),void i())}function T(e,t,n,i,o){var r=x(e,t,n,o.from);if(!r)return l(),void i();var s=r;return p(t,function(){s=C(e,t,n,i,o.to)}),function(e){(s||c)(e)}}function M(e,t){u.removeClass(e,t);var n=e.data(R);n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData(R))}function E(e,t){var n="";return e=h(e)?e:e.split(/\s+/),d(e,function(e,i){e&&e.length>0&&(n+=(i>0?" ":"")+e+t)}),n}var D,O,A,P,I="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(I="-webkit-",D="WebkitTransition",O="webkitTransitionEnd transitionend"):(D="transition",O="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(I="-webkit-",A="WebkitAnimation",P="webkitAnimationEnd animationend"):(A="animation",P="animationend");var L,B="Duration",q="Property",j="Delay",N="IterationCount",G="PlayState",F="$$ngAnimateKey",R="$$ngAnimateCSS3Data",V=3,U=1.5,H=1e3,z={},W=0,K=[],Y=null,X=0,J=[];return{animate:function(e,t,n,i,o,r){return r=r||{},r.from=n,r.to=i,T("animate",e,t,o,r)},enter:function(e,t,n){return n=n||{},T("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},T("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},T("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,i,o){o=o||{};var r=E(n,"-remove")+" "+E(t,"-add"),s=x("setClass",e,r,o.from);return s?(p(e,i),s):(l(),void i())},beforeAddClass:function(e,t,n,i){i=i||{};var o=x("addClass",e,E(t,"-add"),i.from);return o?(p(e,n),o):(l(),void n())},beforeRemoveClass:function(e,t,n,i){i=i||{};var o=x("removeClass",e,E(t,"-remove"),i.from);return o?(p(e,n),o):(l(),void n())},setClass:function(e,t,n,i,o){o=o||{},n=E(n,"-remove"),t=E(t,"-add");var r=n+" "+t;return C("setClass",e,r,i,o.to)},addClass:function(e,t,n,i){return i=i||{},C("addClass",e,E(t,"-add"),n,i.to)},removeClass:function(e,t,n,i){return i=i||{},C("removeClass",e,E(t,"-remove"),n,i.to)}}}])}])}(window,window.angular),function(){angular.module("ngCordova",["ngCordova.plugins"]),angular.module("ngCordova.plugins.actionSheet",[]).factory("$cordovaActionSheet",["$q","$window",function(e,t){return{show:function(n){var i=e.defer();return t.plugins.actionsheet.show(n,function(e){i.resolve(e)}),i.promise},hide:function(){return t.plugins.actionsheet.hide()}}}]),angular.module("ngCordova.plugins.adMob",[]).factory("$cordovaAdMob",["$q","$window",function(e,t){return{createBannerView:function(n){var i=e.defer();return t.plugins.AdMob.createBannerView(n,function(){i.resolve()},function(){i.reject()}),i.promise},createInterstitialView:function(n){var i=e.defer();return t.plugins.AdMob.createInterstitialView(n,function(){i.resolve()},function(){i.reject()}),i.promise},requestAd:function(n){var i=e.defer();return t.plugins.AdMob.requestAd(n,function(){i.resolve()},function(){i.reject()}),i.promise},showAd:function(n){var i=e.defer();return t.plugins.AdMob.showAd(n,function(){i.resolve()},function(){i.reject()}),i.promise},requestInterstitialAd:function(n){var i=e.defer();return t.plugins.AdMob.requestInterstitialAd(n,function(){i.resolve()},function(){i.reject()}),i.promise}}}]),angular.module("ngCordova.plugins.appAvailability",[]).factory("$cordovaAppAvailability",["$q",function(e){return{check:function(t){var n=e.defer();return appAvailability.check(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.appRate",[]).provider("$cordovaAppRate",[function(){this.setAppUrl=function(e,t){var n=["ios","android","blackberry","windows8"];-1!==n.indexOf(e)?AppRate.preferences.storeAppURL[e]=t:alert("wrong device type")},this.useLanguage=function(e){AppRate.preferences.useLanguage=e},this.displayAppName=function(e){AppRate.preferences.displayAppName=e},this.promptAgainForEachNewVersion=function(e){AppRate.preferences.promptAgainForEachNewVersion=e},this.usesUntilPrompt=function(e){AppRate.preferences.usesUntilPrompt=e},this.openStoreInApp=function(e){AppRate.preferences.openStoreInApp=e},this.useCustomRateDialog=function(e){AppRate.preferences.useCustomRateDialog=e},this.customLocale=function(e){var t={title:"Rate %@",message:"If you enjoy using %@, would you mind taking a moment to rate it? It wont take more than a minute. Thanks for your support!",cancelButtonLabel:"No, Thanks",laterButtonLabel:"Remind Me Later",rateButtonLabel:"Rate It Now"};t=angular.extend(t,e),AppRate.preferences.customLocale=t},this.$get=["$q",function(e){return{promptForRating:function(t){var n=e.defer(),i=AppRate.promptForRating(t);return n.resolve(i),n.promise},onButtonClicked:function(e){AppRate.onButtonClicked=function(t){e.call(this,t)}},onRateDialogShow:function(e){AppRate.onRateDialogShow=e()}}}]}]),angular.module("ngCordova.plugins.appVersion",[]).factory("$cordovaAppVersion",["$q",function(e){return{getAppVersion:function(){var t=e.defer();return cordova.getAppVersion(function(e){t.resolve(e)}),t.promise}}}]),angular.module("ngCordova.plugins.backgroundGeolocation",[]).factory("$cordovaBackgroundGeolocation",["$q","$window",function(e,t){return{init:function(){t.navigator.geolocation.getCurrentPosition(function(e){return e})},configure:function(n){this.init();var i=e.defer();return t.plugins.backgroundGeoLocation.configure(function(e){i.notify(e),t.plugins.backgroundGeoLocation.finish()},function(e){i.reject(e)},n),this.start(),i.promise},start:function(){var n=e.defer();return t.plugins.backgroundGeoLocation.start(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},stop:function(){var n=e.defer();return t.plugins.backgroundGeoLocation.stop(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.badge",[]).factory("$cordovaBadge",["$q",function(e){return{hasPermission:function(){var t=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?t.resolve(!0):t.reject("You do not have permission")}),t.promise},promptForPermission:function(){return cordova.plugins.notification.badge.promptForPermission()},set:function(t){var n=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?n.resolve(cordova.plugins.notification.badge.set(t)):n.reject("You do not have permission to set Badge")}),n.promise},get:function(){var t=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?cordova.plugins.notification.badge.get(function(e){t.resolve(e)}):t.reject("You do not have permission to get Badge")}),t.promise},clear:function(){var t=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?t.resolve(cordova.plugins.notification.badge.clear()):t.reject("You do not have permission to clear Badge")}),t.promise},configure:function(e){return cordova.plugins.notification.badge.configure(e)}}}]),angular.module("ngCordova.plugins.barcodeScanner",[]).factory("$cordovaBarcodeScanner",["$q",function(e){return{scan:function(){var t=e.defer();return cordova.plugins.barcodeScanner.scan(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},encode:function(t,n){var i=e.defer();return t=t||"TEXT_TYPE",cordova.plugins.barcodeScanner.encode(t,n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.battery-status",[]).factory("$cordovaBatteryStatus",["$rootScope","$window",function(e,t){var n=e.$new();return t.addEventListener("batterystatus",function(e){n.$emit("batterystatus",e.detail)},!1),t.addEventListener("batterycritical",function(e){n.$emit("batterycritical",e.detail)},!1),t.addEventListener("batterylow",function(e){n.$emit("batterylow",e.detail)},!1),n}]),angular.module("ngCordova.plugins.ble",[]).factory("$cordovaBLE",["$q",function(e){return{scan:function(t,n){var i=e.defer();return ble.scan(t,n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},connect:function(t){var n=e.defer();return ble.connect(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},disconnect:function(t){var n=e.defer();return ble.disconnect(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},read:function(t,n,i){var o=e.defer();return ble.read(t,n,i,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},write:function(t,n,i,o){var r=e.defer();return ble.write(t,n,i,o,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},writeCommand:function(t,n,i,o){var r=e.defer();return ble.writeCommand(t,n,i,o,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},notify:function(t,n,i){var o=e.defer();return ble.notify(t,n,i,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},indicate:function(t,n,i){var o=e.defer();return ble.indicate(t,n,i,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},isConnected:function(t){var n=e.defer();return ble.isConnected(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},isEnabled:function(){var t=e.defer();return ble.isEnabled(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.bluetoothSerial",[]).factory("$cordovaBluetoothSerial",["$q","$window",function(e,t){return{connect:function(n){var i=e.defer();return t.bluetoothSerial.connect(n,function(){i.resolve()},function(e){i.reject(e)}),i.promise},connectInsecure:function(n){var i=e.defer();return t.bluetoothSerial.connectInsecure(n,function(){i.resolve()},function(e){i.reject(e)}),i.promise},disconnect:function(){var n=e.defer();return t.bluetoothSerial.disconnect(function(){n.resolve()},function(e){n.reject(e)}),n.promise},list:function(){var n=e.defer();return t.bluetoothSerial.list(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},isEnabled:function(){var n=e.defer();return t.bluetoothSerial.isEnabled(function(){n.resolve()},function(){n.reject()}),n.promise},isConnected:function(){var n=e.defer();return t.bluetoothSerial.isConnected(function(){n.resolve()},function(){n.reject()}),n.promise},available:function(){var n=e.defer();return t.bluetoothSerial.available(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},read:function(){var n=e.defer();return t.bluetoothSerial.read(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},readUntil:function(n){var i=e.defer();return t.bluetoothSerial.readUntil(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},write:function(n){var i=e.defer();return t.bluetoothSerial.write(n,function(){i.resolve()},function(e){i.reject(e)}),i.promise},subscribe:function(n){var i=e.defer();return t.bluetoothSerial.subscribe(n,function(e){i.notify(e)},function(e){i.reject(e)}),i.promise},subscribeRawData:function(){var n=e.defer();return t.bluetoothSerial.subscribeRawData(function(e){n.notify(e)},function(e){n.reject(e)}),n.promise},unsubscribe:function(){var n=e.defer();return t.bluetoothSerial.unsubscribe(function(){n.resolve()},function(e){n.reject(e)}),n.promise},unsubscribeRawData:function(){var n=e.defer();return t.bluetoothSerial.unsubscribeRawData(function(){n.resolve()},function(e){n.reject(e)}),n.promise},clear:function(){var n=e.defer();return t.bluetoothSerial.clear(function(){n.resolve()},function(e){n.reject(e)}),n.promise},readRSSI:function(){var n=e.defer();return t.bluetoothSerial.readRSSI(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.brightness",[]).factory("$cordovaBrightness",["$q","$window",function(e,t){return{get:function(){var n=e.defer();return t.cordova.plugins.brightness.getBrightness(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},set:function(n){var i=e.defer();return t.cordova.plugins.brightness.setBrightness(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},setKeepScreenOn:function(n){var i=e.defer();return t.cordova.plugins.brightness.setKeepScreenOn(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.calendar",[]).factory("$cordovaCalendar",["$q","$window",function(e,t){return{createCalendar:function(n){var i=e.defer(),o=t.plugins.calendar.getCreateCalendarOptions();return"string"==typeof n?o.calendarName=n:o=angular.extend(o,n),t.plugins.calendar.createCalendar(o,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},deleteCalendar:function(n){var i=e.defer();return t.plugins.calendar.deleteCalendar(n,function(e){i.resolve(e)
},function(e){i.reject(e)}),i.promise},createEvent:function(n){var i=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null};return o=angular.extend(o,n),t.plugins.calendar.createEvent(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},createEventWithOptions:function(n){var i=e.defer(),o=[],r=window.plugins.calendar.getCalendarOptions(),s={title:null,location:null,notes:null,startDate:null,endDate:null};o=Object.keys(s);for(var a in n)-1===o.indexOf(a)?r[a]=n[a]:s[a]=n[a];return t.plugins.calendar.createEventWithOptions(s.title,s.location,s.notes,new Date(s.startDate),new Date(s.endDate),r,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},createEventInteractively:function(n){var i=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null};return o=angular.extend(o,n),t.plugins.calendar.createEventInteractively(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},createEventInNamedCalendar:function(n){var i=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null,calendarName:null};return o=angular.extend(o,n),t.plugins.calendar.createEventInNamedCalendar(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),o.calendarName,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},findEvent:function(n){var i=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null};return o=angular.extend(o,n),t.plugins.calendar.findEvent(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},listEventsInRange:function(n,i){var o=e.defer();return t.plugins.calendar.listEventsInRange(n,i,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},listCalendars:function(){var n=e.defer();return t.plugins.calendar.listCalendars(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},findAllEventsInNamedCalendar:function(n){var i=e.defer();return t.plugins.calendar.findAllEventsInNamedCalendar(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},modifyEvent:function(n){var i=e.defer(),o={title:null,location:null,notes:null,startDate:null,endDate:null,newTitle:null,newLocation:null,newNotes:null,newStartDate:null,newEndDate:null};return o=angular.extend(o,n),t.plugins.calendar.modifyEvent(o.title,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),o.newTitle,o.newLocation,o.newNotes,new Date(o.newStartDate),new Date(o.newEndDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},deleteEvent:function(n){var i=e.defer(),o={newTitle:null,location:null,notes:null,startDate:null,endDate:null};return o=angular.extend(o,n),t.plugins.calendar.deleteEvent(o.newTitle,o.location,o.notes,new Date(o.startDate),new Date(o.endDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.camera",[]).factory("$cordovaCamera",["$q",function(e){return{getPicture:function(t){var n=e.defer();return navigator.camera?(navigator.camera.getPicture(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise):(n.resolve(null),n.promise)},cleanup:function(){var t=e.defer();return navigator.camera.cleanup(function(){t.resolve()},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.capture",[]).factory("$cordovaCapture",["$q",function(e){return{captureAudio:function(t){var n=e.defer();return navigator.device.capture?(navigator.device.capture.captureAudio(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise):(n.resolve(null),n.promise)},captureImage:function(t){var n=e.defer();return navigator.device.capture?(navigator.device.capture.captureImage(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise):(n.resolve(null),n.promise)},captureVideo:function(t){var n=e.defer();return navigator.device.capture?(navigator.device.capture.captureVideo(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise):(n.resolve(null),n.promise)}}}]),angular.module("ngCordova.plugins.clipboard",[]).factory("$cordovaClipboard",["$q","$window",function(e,t){return{copy:function(n){var i=e.defer();return t.cordova.plugins.clipboard.copy(n,function(){i.resolve()},function(){i.reject()}),i.promise},paste:function(){var n=e.defer();return t.cordova.plugins.clipboard.paste(function(e){n.resolve(e)},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.contacts",[]).factory("$cordovaContacts",["$q",function(e){return{save:function(t){var n=e.defer(),i=navigator.contacts.create(t);return i.save(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},remove:function(t){var n=e.defer(),i=navigator.contacts.create(t);return i.remove(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},clone:function(e){var t=navigator.contacts.create(e);return t.clone(e)},find:function(t){var n=e.defer(),i=t.fields||["id","displayName"];return delete t.fields,navigator.contacts.find(i,function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},pickContact:function(){var t=e.defer();return navigator.contacts.pickContact(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.datePicker",[]).factory("$cordovaDatePicker",["$window","$q",function(e,t){return{show:function(n){n=n||{date:new Date,mode:"date"};var i=t.defer();return e.datePicker.show(n,function(e){i.resolve(e)}),i.promise}}}]),angular.module("ngCordova.plugins.device",[]).factory("$cordovaDevice",[function(){return{getDevice:function(){return device},getCordova:function(){return device.cordova},getModel:function(){return device.model},getName:function(){return device.name},getPlatform:function(){return device.platform},getUUID:function(){return device.uuid},getVersion:function(){return device.version}}}]),angular.module("ngCordova.plugins.deviceMotion",[]).factory("$cordovaDeviceMotion",["$q",function(e){return{getCurrentAcceleration:function(){var t=e.defer();return navigator.accelerometer.getCurrentAcceleration(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},watchAcceleration:function(t){var n=e.defer(),i=navigator.accelerometer.watchAcceleration(function(e){n.notify(e)},function(e){n.reject(e)},t);return n.promise.cancel=function(){navigator.accelerometer.clearWatch(i)},n.promise.clearWatch=function(e){navigator.accelerometer.clearWatch(e||i)},n.promise.watchID=i,n.promise},clearWatch:function(e){return navigator.accelerometer.clearWatch(e)}}}]),angular.module("ngCordova.plugins.deviceOrientation",[]).factory("$cordovaDeviceOrientation",["$q",function(e){return{getCurrentHeading:function(){var t=e.defer();return navigator.compass.getCurrentHeading(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},watchHeading:function(t){var n=e.defer(),i=navigator.compass.watchHeading(function(e){n.notify(e)},function(e){n.reject(e)},t);return n.promise.cancel=function(){navigator.compass.clearWatch(i)},n.promise.clearWatch=function(e){navigator.compass.clearWatch(e||i)},n.promise.watchID=i,n.promise},clearWatch:function(e){return navigator.compass.clearWatch(e)}}}]),angular.module("ngCordova.plugins.dialogs",[]).factory("$cordovaDialogs",["$q","$window",function(e,t){return{alert:function(n,i,o){var r=e.defer();return t.navigator.notification?navigator.notification.alert(n,function(){r.resolve()},i,o):(t.alert(n),r.resolve()),r.promise},confirm:function(n,i,o){var r=e.defer();return t.navigator.notification?navigator.notification.confirm(n,function(e){r.resolve(e)},i,o):r.resolve(t.confirm(n)?1:2),r.promise},prompt:function(n,i,o,r){var s=e.defer();if(t.navigator.notification)navigator.notification.prompt(n,function(e){s.resolve(e)},i,o,r);else{var a=t.prompt(n,r);s.resolve(null!==a?{input1:a,buttonIndex:1}:{input1:a,buttonIndex:2})}return s.promise},beep:function(e){return navigator.notification.beep(e)}}}]),angular.module("ngCordova.plugins.emailComposer",[]).factory("$cordovaEmailComposer",["$q",function(e){return{isAvailable:function(){var t=e.defer();return cordova.plugins.email.isAvailable(function(e){e?t.resolve():t.reject()}),t.promise},open:function(t){var n=e.defer();return cordova.plugins.email.open(t,function(){n.reject()}),n.promise},addAlias:function(e,t){cordova.plugins.email.addAlias(e,t)}}}]),angular.module("ngCordova.plugins.facebook",[]).provider("$cordovaFacebook",[function(){this.browserInit=function(e,t){this.appID=e,this.appVersion=t||"v2.0",this.appID||facebookConnectPlugin.browserInit(this.appID,this.appVersion)},this.$get=["$q",function(e){return{login:function(t){var n=e.defer();return facebookConnectPlugin.login(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},showDialog:function(t){var n=e.defer();return facebookConnectPlugin.showDialog(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},api:function(t,n){var i=e.defer();return facebookConnectPlugin.api(t,n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},getAccessToken:function(){var t=e.defer();return facebookConnectPlugin.getAccessToken(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},getLoginStatus:function(){var t=e.defer();return facebookConnectPlugin.getLoginStatus(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},logout:function(){var t=e.defer();return facebookConnectPlugin.logout(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]}]),angular.module("ngCordova.plugins.facebookAds",[]).factory("$cordovaFacebookAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.FacebookAds.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.FacebookAds.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.FacebookAds.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.FacebookAds.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var o=e.defer();return t.FacebookAds.showBannerAtXY(n,i,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var n=e.defer();return t.FacebookAds.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.FacebookAds.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.FacebookAds.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.file",[]).factory("$cordovaFile",["$q","$window","$log","$timeout",function(e,t,n,i){function o(e){var t=new FileReader;return t.onloadend=function(){this.error?e.reject(this.error):e.resolve(this.result)},t}function r(t,n){var i=e.defer();return a(t,n).then(function(e){e.file(i.resolve,i.reject)},i.reject),i.promise}function s(t,n){var i=e.defer();return a(t,n).then(function(e){e.createWriter(i.resolve,i.reject)},i.reject),i.promise}function a(t,n){var i=e.defer();return c().then(function(e){e.root.getFile(t,n,i.resolve,i.reject)},i.reject),i.promise}function l(n){var i=e.defer();return t.resolveLocalFileSystemURL(n,function(e){e.file(i.resolve,i.reject)},i.reject),i.promise}function u(t,n){var i=e.defer();return c().then(function(e){e.root.getDirectory(t,n,i.resolve,i.reject)},i.reject),i.promise}function c(){var n=e.defer();try{t.requestFileSystem(t.PERSISTENT,1048576,n.resolve,n.reject)}catch(i){n.reject(i)}return n.promise}return{checkDir:function(e){return u(e,{create:!1})},createDir:function(e,t){return u(e,{create:!0,exclusive:t})},listDir:function(t){var n=e.defer();return u(t,{create:!1}).then(function(e){var i=e.createReader();i.readEntries(function(e){n.resolve(e)},function(){n.reject("DIR_READ_ERROR : "+t)})},function(){n.reject("DIR_NOT_FOUND : "+t)}),n.promise},checkFile:function(e){return 2==arguments.length&&(e="/"+e+"/"+arguments[1]),a(e,{create:!1})},createFile:function(e,t){return 3==arguments.length&&(e="/"+e+"/"+arguments[1],t=arguments[2]),a(e,{create:!0,exclusive:t})},removeFile:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),a(t,{create:!1}).then(function(e){e.remove(n.resolve,n.reject)},n.reject),n.promise},writeFile:function(t,n,i){var o=e.defer();return s(t,{create:!0}).then(function(e){i&&i.append===!0&&e.seek(e.length),e.onwriteend=function(e){this.error?o.reject(this.error):o.resolve(e)},e.write(n)},o.reject),o.promise},readFile:function(e){return n.log("readFile is now deprecated as of v0.1.4-alpha, use readAsText instead"),this.readAsText(e)},readAsText:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),r(t,{create:!1}).then(function(e){o(n).readAsText(e)},n.reject),n.promise},readAsDataURL:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),r(t,{create:!1}).then(function(e){o(n).readAsDataURL(e)},n.reject),n.promise},readAsBinaryString:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),r(t,{create:!1}).then(function(e){o(n).readAsBinaryString(e)},n.reject),n.promise},readAsArrayBuffer:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),r(t,{create:!1}).then(function(e){o(n).readAsArrayBuffer(e)},n.reject),n.promise},readFileMetadata:function(e){return r(e,{create:!1})},readFileAbsolute:function(t){var n=e.defer();return l(t).then(function(e){o(n).readAsText(e)},n.reject),n.promise},readFileMetadataAbsolute:function(e){return l(e)},downloadFile:function(t,n,i,o){var r=e.defer(),s=new FileTransfer,a=encodeURI(t);return s.onprogress=r.notify,s.download(a,n,r.resolve,r.reject,i,o),r.promise},uploadFile:function(t,n,o){var r=e.defer(),s=new FileTransfer,a=encodeURI(t);return void 0!==o.timeout&&null!==o.timeout&&(i(function(){s.abort()},o.timeout),o.timeout=null),s.onprogress=r.notify,s.upload(n,a,r.resolve,r.reject,o),r.promise}}}]),angular.module("ngCordova.plugins.flashlight",[]).factory("$cordovaFlashlight",["$q","$window",function(e,t){return{available:function(){var n=e.defer();return t.plugins.flashlight.available(function(e){n.resolve(e)}),n.promise},switchOn:function(){var n=e.defer();return t.plugins.flashlight.switchOn(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},switchOff:function(){var n=e.defer();return t.plugins.flashlight.switchOff(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},toggle:function(){var n=e.defer();return t.plugins.flashlight.toggle(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.flurryAds",[]).factory("$cordovaFlurryAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.FlurryAds.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.FlurryAds.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.FlurryAds.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.FlurryAds.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var o=e.defer();return t.FlurryAds.showBannerAtXY(n,i,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var n=e.defer();return t.FlurryAds.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.FlurryAds.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.FlurryAds.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.ga",[]).factory("$cordovaGA",["$q","$window",function(e,t){return{init:function(n,i){var o=e.defer();return i=i>=0?i:10,t.plugins.gaPlugin.init(function(e){o.resolve(e)},function(e){o.reject(e)},n,i),o.promise},trackEvent:function(n,i,o,r,s,a){var l=e.defer();return t.plugins.gaPlugin.trackEvent(function(e){l.resolve(e)},function(e){l.reject(e)},o,r,s,a),l.promise},trackPage:function(n,i,o){var r=e.defer();return t.plugins.gaPlugin.trackPage(function(e){r.resolve(e)},function(e){r.reject(e)},o),r.promise},setVariable:function(n,i,o,r){var s=e.defer();return t.plugins.gaPlugin.setVariable(function(e){s.resolve(e)},function(e){s.reject(e)},o,r),s.promise},exit:function(){var n=e.defer();return t.plugins.gaPlugin.exit(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.geolocation",[]).factory("$cordovaGeolocation",["$q",function(e){return{getCurrentPosition:function(t){var n=e.defer();return navigator.geolocation.getCurrentPosition(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},watchPosition:function(t){var n=e.defer(),i=navigator.geolocation.watchPosition(function(e){n.notify(e)},function(e){n.reject(e)},t);return n.promise.cancel=function(){navigator.geolocation.clearWatch(i)},n.promise.clearWatch=function(e){navigator.geolocation.clearWatch(e||i)},n.promise.watchID=i,n.promise},clearWatch:function(e){return navigator.geolocation.clearWatch(e)}}}]),angular.module("ngCordova.plugins.globalization",[]).factory("$cordovaGlobalization",["$q",function(e){return{getPreferredLanguage:function(){var t=e.defer();return navigator.globalization.getPreferredLanguage(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},getLocaleName:function(){var t=e.defer();return navigator.globalization.getLocaleName(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},getFirstDayOfWeek:function(){var t=e.defer();return navigator.globalization.getFirstDayOfWeek(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},dateToString:function(t,n){var i=e.defer();return navigator.globalization.dateToString(t,function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},stringToDate:function(t,n){var i=e.defer();return navigator.globalization.stringToDate(t,function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},getDatePattern:function(t){var n=e.defer();return navigator.globalization.getDatePattern(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},getDateNames:function(t){var n=e.defer();return navigator.globalization.getDateNames(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},isDayLightSavingsTime:function(t){var n=e.defer();return navigator.globalization.isDayLightSavingsTime(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},numberToString:function(t,n){var i=e.defer();return navigator.globalization.numberToString(t,function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},stringToNumber:function(t,n){var i=e.defer();return navigator.globalization.stringToNumber(t,function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},getNumberPattern:function(t){var n=e.defer();return navigator.globalization.getNumberPattern(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},getCurrencyPattern:function(t){var n=e.defer();return navigator.globalization.getCurrencyPattern(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.googleAds",[]).factory("$cordovaGoogleAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.AdMob.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.AdMob.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.AdMob.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.AdMob.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var o=e.defer();return t.AdMob.showBannerAtXY(n,i,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var n=e.defer();return t.AdMob.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.AdMob.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.AdMob.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.googleAnalytics",[]).factory("$cordovaGoogleAnalytics",["$q","$window",function(e,t){return{startTrackerWithId:function(n){var i=e.defer();return t.analytics.startTrackerWithId(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},setUserId:function(n){var i=e.defer();return t.analytics.setUserId(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},debugMode:function(){var n=e.defer();return t.analytics.debugMode(function(e){n.resolve(e)},function(){n.reject()}),n.promise},trackView:function(n){var i=e.defer();return t.analytics.trackView(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},addCustomDimension:function(n,i){var o=e.defer();return t.analytics.addCustomDimension(n,i,function(){o.resolve()},function(e){o.reject(e)}),o.promise},trackEvent:function(n,i,o,r){var s=e.defer();return t.analytics.trackEvent(n,i,o,r,function(e){s.resolve(e)},function(e){s.reject(e)}),s.promise},addTransaction:function(n,i,o,r,s,a){var l=e.defer();return t.analytics.addTransaction(n,i,o,r,s,a,function(e){l.resolve(e)},function(e){l.reject(e)}),l.promise},addTransactionItem:function(n,i,o,r,s,a,l){var u=e.defer();return t.analytics.addTransactionItem(n,i,o,r,s,a,l,function(e){u.resolve(e)},function(e){u.reject(e)}),u.promise}}}]),angular.module("ngCordova.plugins.googleMap",[]).factory("$cordovaGoogleMap",["$q","$window",function(e,t){var n=null;return{getMap:function(i){var o=e.defer();if(t.plugin.google.maps){var r=document.getElementById("map_canvas");n=t.plugin.google.maps.Map.getMap(i),n.setDiv(r),o.resolve(n)}else o.reject(null);return o.promise},isMapLoaded:function(){return!!n},addMarker:function(t){var i=e.defer();return n.addMarker(t,function(e){i.resolve(e)}),i.promise},getMapTypeIds:function(){return t.plugin.google.maps.mapTypeId},setVisible:function(t){var i=e.defer();return n.setVisible(t),i.promise},cleanup:function(){n=null}}}]),angular.module("ngCordova.plugins.httpd",[]).factory("$cordovaHttpd",["$q",function(e){return{startServer:function(t){var n=e.defer();return cordova.plugins.CorHttpd.startServer(t,function(){n.resolve()},function(){n.reject()}),n.promise},stopServer:function(){var t=e.defer();return cordova.plugins.CorHttpd.stopServer(function(){t.resolve()},function(){t.reject()}),t.promise},getURL:function(){var t=e.defer();return cordova.plugins.CorHttpd.getURL(function(e){t.resolve(e)},function(){t.reject()}),t.promise},getLocalPath:function(){var t=e.defer();return cordova.plugins.CorHttpd.getLocalPath(function(e){t.resolve(e)},function(){t.reject()}),t.promise}}}]),angular.module("ngCordova.plugins.iAd",[]).factory("$cordovaiAd",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.iAd.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.iAd.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.iAd.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.iAd.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var o=e.defer();return t.iAd.showBannerAtXY(n,i,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var n=e.defer();return t.iAd.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.iAd.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.iAd.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.imagePicker",[]).factory("$cordovaImagePicker",["$q","$window",function(e,t){return{getPictures:function(n){var i=e.defer();return t.imagePicker.getPictures(function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise}}}]),angular.module("ngCordova.plugins.inAppBrowser",[]).factory("$cordovaInAppBrowser",["$rootScope","$q","$window",function(e,t,n){var i,o,r=e.$new();return{init:function(e){if(angular.isObject(e)){var t=[];for(var n in e)t.push([n+"="+e[n]]);o=t.join()}else o=e;return r},open:function(e,s){var a=t.defer();return i=n.open(e,s,o),i.addEventListener("loadstart",function(e){r.$emit("loadstart",e)},!1),i.addEventListener("loadstop",function(e){a.resolve(e),r.$emit("loadstop",e)},!1),i.addEventListener("loaderror",function(e){a.reject(e),r.$emit("loaderror",e)},!1),i.addEventListener("exit",function(e){r.$emit("exit",e)},!1),a.promise},close:function(){i.close()},executeScript:function(e){var n=t.defer();return i.executeScript(e,function(e){n.resolve(e)}),n.promise},insertCSS:function(e){var n=t.defer();return i.insertCSS(e,function(e){n.resolve(e)}),n.promise}}}]),angular.module("ngCordova.plugins.keyboard",[]).factory("$cordovaKeyboard",[function(){return{hideAccessoryBar:function(e){return cordova.plugins.Keyboard.hideKeyboardAccessoryBar(e)},close:function(){return cordova.plugins.Keyboard.close()},disableScroll:function(e){return cordova.plugins.Keyboard.disableScroll(e)},isVisible:function(){return cordova.plugins.Keyboard.isVisible}}}]),angular.module("ngCordova.plugins.keychain",[]).factory("$cordovaKeychain",["$q",function(e){var t=new Keychain;return{getForKey:function(n,i){var o=e.defer();return t.getForKey(o.resolve,o.reject,n,i),o.promise},setForKey:function(n,i,o){var r=e.defer();return t.setForKey(r.resolve,r.reject,n,i,o),r.promise},removeForKey:function(n,i){var o=e.defer();return t.removeForKey(o.resolve,o.reject,n,i),o.promise}}}]),angular.module("ngCordova.plugins.localNotification",[]).factory("$cordovaLocalNotification",["$q","$window",function(e,t){return{add:function(n,i){var o=e.defer();return t.plugin.notification.local.add(n,function(e){o.resolve(e)},i),o.promise},cancel:function(n,i){var o=e.defer();return t.plugin.notification.local.cancel(n,function(e){o.resolve(e)},i),o.promise},cancelAll:function(n){var i=e.defer();return t.plugin.notification.local.cancelAll(function(e){i.resolve(e)},n),i.promise},isScheduled:function(n,i){var o=e.defer();return t.plugin.notification.local.isScheduled(n,function(e){o.resolve(e)},i),o.promise},hasPermission:function(n){var i=e.defer();return t.plugin.notification.local.hasPermission(function(e){i.resolve(e)},n),i.promise},promptForPermission:function(){t.plugin.notification.local.promptForPermission()},getScheduledIds:function(n){var i=e.defer();return t.plugin.notification.local.getScheduledIds(function(e){i.resolve(e)},n),i.promise},isTriggered:function(n,i){var o=e.defer();return t.plugin.notification.local.isTriggered(n,function(e){o.resolve(e)},i),o.promise},getTriggeredIds:function(n){var i=e.defer();return t.plugin.notification.local.getTriggeredIds(function(e){i.resolve(e)},n),i.promise},getDefaults:function(){return t.plugin.notification.local.getDefaults()},setDefaults:function(e){t.plugin.notification.local.setDefaults(e)},onadd:function(){return t.plugin.notification.local.onadd},ontrigger:function(){return t.plugin.notification.local.ontrigger},onclick:function(){return t.plugin.notification.local.onclick},oncancel:function(){return t.plugin.notification.local.oncancel}}}]),angular.module("ngCordova.plugins.mMediaAds",[]).factory("$cordovaMMediaAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.mMedia.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.mMedia.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.mMedia.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.mMedia.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var o=e.defer();return t.mMedia.showBannerAtXY(n,i,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var n=e.defer();return t.mMedia.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.mMedia.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.mMedia.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.media",[]).factory("$cordovaMedia",["$q",function(e){return{newMedia:function(t){var n,i=e.defer(),o=null;return n=new Media(t,function(e){i.resolve(e)},function(e){i.reject(e)},function(e){o=e}),i.promise.getCurrentPosition=function(){n.getCurrentPosition(function(){},function(){})},i.promise.getDuration=function(){n.getDuration()},i.promise.play=function(e){"object"!=typeof e&&(e={}),n.play(e)},i.promise.pause=function(){n.pause()},i.promise.stop=function(){n.stop()},i.promise.release=function(){n.release()},i.promise.seekTo=function(e){n.seekTo(e)},i.promise.setVolume=function(e){n.setVolume(e)},i.promise.startRecord=function(){n.startRecord()},i.promise.stopRecord=function(){n.stopRecord()},i.promise}}}]),angular.module("ngCordova.plugins.mobfoxAds",[]).factory("$cordovaMobFoxAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.MobFox.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.MobFox.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.MobFox.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.MobFox.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var o=e.defer();return t.MobFox.showBannerAtXY(n,i,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var n=e.defer();return t.MobFox.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.MobFox.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.MobFox.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins",["ngCordova.plugins.actionSheet","ngCordova.plugins.adMob","ngCordova.plugins.appAvailability","ngCordova.plugins.appRate","ngCordova.plugins.appVersion","ngCordova.plugins.backgroundGeolocation","ngCordova.plugins.badge","ngCordova.plugins.barcodeScanner","ngCordova.plugins.brightness","ngCordova.plugins.battery-status","ngCordova.plugins.ble","ngCordova.plugins.bluetoothSerial","ngCordova.plugins.calendar","ngCordova.plugins.camera","ngCordova.plugins.capture","ngCordova.plugins.clipboard","ngCordova.plugins.contacts","ngCordova.plugins.datePicker","ngCordova.plugins.device","ngCordova.plugins.deviceMotion","ngCordova.plugins.deviceOrientation","ngCordova.plugins.dialogs","ngCordova.plugins.emailComposer","ngCordova.plugins.facebook","ngCordova.plugins.facebookAds","ngCordova.plugins.file","ngCordova.plugins.flashlight","ngCordova.plugins.flurryAds","ngCordova.plugins.ga","ngCordova.plugins.geolocation","ngCordova.plugins.globalization","ngCordova.plugins.googleAds","ngCordova.plugins.googleAnalytics","ngCordova.plugins.googleMap","ngCordova.plugins.httpd","ngCordova.plugins.iAd","ngCordova.plugins.imagePicker","ngCordova.plugins.inAppBrowser","ngCordova.plugins.keyboard","ngCordova.plugins.keychain","ngCordova.plugins.localNotification","ngCordova.plugins.media","ngCordova.plugins.mMediaAds","ngCordova.plugins.mobfoxAds","ngCordova.plugins.mopubAds","ngCordova.plugins.nativeAudio","ngCordova.plugins.network","ngCordova.plugins.oauth","ngCordova.plugins.oauthUtility","ngCordova.plugins.pinDialog","ngCordova.plugins.prefs","ngCordova.plugins.printer","ngCordova.plugins.progressIndicator","ngCordova.plugins.push","ngCordova.plugins.sms","ngCordova.plugins.socialSharing","ngCordova.plugins.spinnerDialog","ngCordova.plugins.splashscreen","ngCordova.plugins.sqlite","ngCordova.plugins.statusbar","ngCordova.plugins.toast","ngCordova.plugins.touchid","ngCordova.plugins.vibration","ngCordova.plugins.videoCapturePlus","ngCordova.plugins.zip"]),angular.module("ngCordova.plugins.mopubAds",[]).factory("$cordovaMoPubAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();
return t.MoPub.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.MoPub.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.MoPub.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.MoPub.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var o=e.defer();return t.MoPub.showBannerAtXY(n,i,function(){o.resolve()},function(){o.reject()}),o.promise},hideBanner:function(){var n=e.defer();return t.MoPub.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.MoPub.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.MoPub.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.nativeAudio",[]).factory("$cordovaNativeAudio",["$q","$window",function(e,t){return{preloadSimple:function(n,i){var o=e.defer();return t.plugins.NativeAudio.preloadSimple(n,i,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},preloadComplex:function(n,i,o,r){var s=e.defer();return t.plugins.NativeAudio.preloadComplex(n,i,o,r,function(e){s.resolve(e)},function(e){s.reject(e)}),s.promise},play:function(n,i){var o=e.defer();return t.plugins.NativeAudio.play(n,i,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},stop:function(n){var i=e.defer();return t.plugins.NativeAudio.stop(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},loop:function(n){var i=e.defer();return t.plugins.NativeAudio.loop(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},unload:function(n){var i=e.defer();return t.plugins.NativeAudio.unload(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},setVolumeForComplexAsset:function(n,i){var o=e.defer();return t.plugins.NativeAudio.setVolumeForComplexAsset(n,i,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}}}]),angular.module("ngCordova.plugins.network",[]).factory("$cordovaNetwork",[function(){return{getNetwork:function(){return navigator.connection.type},isOnline:function(){var e=navigator.connection.type;return e!==Connection.UNKNOWN&&e!==Connection.NONE},isOffline:function(){var e=navigator.connection.type;return e===Connection.UNKNOWN||e===Connection.NONE},watchNetwork:function(){}}}]),angular.module("ngCordova.plugins.oauth",["ngCordova.plugins.oauthUtility"]).factory("$cordovaOauth",["$q","$http","$cordovaOauthUtility",function(e,t,n){return{dropbox:function(t){var n=e.defer();if(window.cordova){var i=cordova.require("cordova/plugin_list").metadata;if(i.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var o=window.open("https://www.dropbox.com/1/oauth2/authorize?client_id="+t+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");o.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],i=t.split("&"),r=[],s=0;s<i.length;s++)r[i[s].split("=")[0]]=i[s].split("=")[1];if(void 0!==r.access_token&&null!==r.access_token){var a={access_token:r.access_token,token_type:r.token_type,uid:r.uid};n.resolve(a)}else n.reject("Problem authenticating");o.close()}})}else n.reject("Could not find InAppBrowser plugin")}else n.reject("Cannot authenticate via a web browser");return n.promise},digitalOcean:function(n,i){var o=e.defer();if(window.cordova){var r=cordova.require("cordova/plugin_list").metadata;if(r.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var s=window.open("https://cloud.digitalocean.com/v1/oauth/authorize?client_id="+n+"&redirect_uri=http://localhost/callback&response_type=code&scope=read%20write","_blank","location=no,clearsessioncache=yes,clearcache=yes");s.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var r=e.url.split("code=")[1];t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://cloud.digitalocean.com/v1/oauth/token",data:"client_id="+n+"&client_secret="+i+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+r}).success(function(e){o.resolve(e)}).error(function(){o.reject("Problem authenticating")}),s.close()}})}else o.reject("Could not find InAppBrowser plugin")}else o.reject("Cannot authenticate via a web browser");return o.promise},google:function(t,n){var i=e.defer();if(window.cordova){var o=cordova.require("cordova/plugin_list").metadata;if(o.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var r=window.open("https://accounts.google.com/o/oauth2/auth?client_id="+t+"&redirect_uri=http://localhost/callback&scope="+n.join(" ")+"&approval_prompt=force&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");r.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],n=t.split("&"),o=[],s=0;s<n.length;s++)o[n[s].split("=")[0]]=n[s].split("=")[1];if(void 0!==o.access_token&&null!==o.access_token){{({access_token:o.access_token,token_type:o.token_type,uid:o.uid})}i.resolve({access_token:o.access_token,token_type:o.token_type,expires_in:o.expires_in})}else i.reject("Problem authenticating");r.close()}})}else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},github:function(n,i,o){var r=e.defer();if(window.cordova){var s=cordova.require("cordova/plugin_list").metadata;if(s.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var a=window.open("https://github.com/login/oauth/authorize?client_id="+n+"&redirect_uri=http://localhost/callback&scope="+o.join(","),"_blank","location=no,clearsessioncache=yes,clearcache=yes");a.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var o=e.url.split("code=")[1];t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t.defaults.headers.post.Accept="application/json",t({method:"post",url:"https://github.com/login/oauth/access_token",data:"client_id="+n+"&client_secret="+i+"&redirect_uri=http://localhost/callback&code="+o}).success(function(e){r.resolve(e)}).error(function(){r.reject("Problem authenticating")}),a.close()}})}else r.reject("Could not find InAppBrowser plugin")}else r.reject("Cannot authenticate via a web browser");return r.promise},facebook:function(t,n){var i=e.defer();if(window.cordova){var o=cordova.require("cordova/plugin_list").metadata;if(o.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var r=window.open("https://www.facebook.com/dialog/oauth?client_id="+t+"&redirect_uri=http://localhost/callback&response_type=token&scope="+n.join(","),"_blank","location=no,clearsessioncache=yes,clearcache=yes");r.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],n=t.split("&"),o=[],s=0;s<n.length;s++)o[n[s].split("=")[0]]=n[s].split("=")[1];if(void 0!==o.access_token&&null!==o.access_token){var a={access_token:o.access_token,expires_in:o.expires_in};i.resolve(a)}else i.reject("Problem authenticating");r.close()}})}else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},linkedin:function(n,i,o,r){var s=e.defer();if(window.cordova){var a=cordova.require("cordova/plugin_list").metadata;if(a.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var l=window.open("https://www.linkedin.com/uas/oauth2/authorization?client_id="+n+"&redirect_uri=http://localhost/callback&scope="+o.join(" ")+"&response_type=code&state="+r,"_blank","location=no,clearsessioncache=yes,clearcache=yes");l.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var o=e.url.split("code=")[1];t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://www.linkedin.com/uas/oauth2/accessToken",data:"client_id="+n+"&client_secret="+i+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+o}).success(function(e){s.resolve(e)}).error(function(){s.reject("Problem authenticating")}),l.close()}})}else s.reject("Could not find InAppBrowser plugin")}else s.reject("Cannot authenticate via a web browser");return s.promise},instagram:function(t,n){var i=e.defer();if(window.cordova){var o=cordova.require("cordova/plugin_list").metadata;if(o.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var r=window.open("https://api.instagram.com/oauth/authorize/?client_id="+t+"&redirect_uri=http://localhost/callback&scope="+n.join(" ")+"&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");r.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],n=t.split("&"),o=[],s=0;s<n.length;s++)o[n[s].split("=")[0]]=n[s].split("=")[1];if(void 0!==o.access_token&&null!==o.access_token){var a={access_token:o.access_token};i.resolve(a)}else i.reject("Problem authenticating");r.close()}})}else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},box:function(n,i,o){var r=e.defer();if(window.cordova){var s=cordova.require("cordova/plugin_list").metadata;if(s.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var a=window.open("https://app.box.com/api/oauth2/authorize/?client_id="+n+"&redirect_uri=http://localhost/callback&state="+o+"&response_type=code","_blank","location=no,clearsessioncache=yes,clearcache=yes");a.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var o=e.url.split("code=")[1];t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://app.box.com/api/oauth2/token",data:"client_id="+n+"&client_secret="+i+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+o}).success(function(e){r.resolve(e)}).error(function(){r.reject("Problem authenticating")}),a.close()}})}else r.reject("Could not find InAppBrowser plugin")}else r.reject("Cannot authenticate via a web browser");return r.promise},reddit:function(n,i,o){var r=e.defer();if(window.cordova){var s=cordova.require("cordova/plugin_list").metadata;if(s.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var a=window.open("https://ssl.reddit.com/api/v1/authorize?client_id="+n+"&redirect_uri=http://localhost/callback&duration=permanent&state=ngcordovaoauth&scope="+o.join(",")+"&response_type=code","_blank","location=no,clearsessioncache=yes,clearcache=yes");a.addEventListener("loadstart",function(e){0===e.url.indexOf("http://localhost/callback")&&(requestToken=e.url.split("code=")[1],t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t.defaults.headers.post.Authorization="Basic "+btoa(n+":"+i),t({method:"post",url:"https://ssl.reddit.com/api/v1/access_token",data:"redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+requestToken}).success(function(e){r.resolve(e)}).error(function(){r.reject("Problem authenticating")}),a.close())})}else r.reject("Could not find InAppBrowser plugin")}else r.reject("Cannot authenticate via a web browser");return r.promise},twitter:function(i,o){var r=e.defer();if(window.cordova){var s=cordova.require("cordova/plugin_list").metadata;if(s.hasOwnProperty("org.apache.cordova.inappbrowser")===!0)if("undefined"!=typeof jsSHA){var a=new jsSHA(Math.round((new Date).getTime()/1e3),"TEXT"),l={oauth_consumer_key:i,oauth_nonce:a.getHash("SHA-1","HEX"),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:Math.round((new Date).getTime()/1e3),oauth_version:"1.0"},u=n.createSignature("POST","https://api.twitter.com/oauth/request_token",l,{oauth_callback:"http://localhost/callback"},o);t.defaults.headers.post.Authorization=u.authorization_header,t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://api.twitter.com/oauth/request_token",data:"oauth_callback=http://localhost/callback"}).success(function(e){for(var i=e.split("&"),s={},a=0;a<i.length;a++)s[i[a].split("=")[0]]=i[a].split("=")[1];s.hasOwnProperty("oauth_token")===!1&&r.reject("Oauth request token was not received");var u=window.open("https://api.twitter.com/oauth/authenticate?oauth_token="+s.oauth_token,"_blank","location=no,clearsessioncache=yes,clearcache=yes");u.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var i=e.url.split("?")[1],s=i.split("&"),a={},c=0;c<s.length;c++)a[s[c].split("=")[0]]=s[c].split("=")[1];a.hasOwnProperty("oauth_verifier")===!1&&r.reject("Browser authentication failed to complete.  No oauth_verifier was returned"),delete l.oauth_signature,l.oauth_token=a.oauth_token;var d=n.createSignature("POST","https://api.twitter.com/oauth/access_token",l,{oauth_verifier:a.oauth_verifier},o);t.defaults.headers.post.Authorization=d.authorization_header,t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://api.twitter.com/oauth/access_token",data:"oauth_verifier="+a.oauth_verifier}).success(function(e){for(var t=e.split("&"),n={},i=0;i<t.length;i++)n[t[i].split("=")[0]]=t[i].split("=")[1];n.hasOwnProperty("oauth_token_secret")===!1&&r.reject("Oauth access token was not received"),r.resolve(n)}).error(function(e){r.reject(e)}),u.close()}})}).error(function(e){r.reject(e)})}else r.reject("Missing jsSHA JavaScript library");else r.reject("Could not find InAppBrowser plugin")}else r.reject("Cannot authenticate via a web browser");return r.promise},meetup:function(t){var n=e.defer();if(window.cordova){var i=cordova.require("cordova/plugin_list").metadata;if(i.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var o=window.open("https://secure.meetup.com/oauth2/authorize/?client_id="+t+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");o.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],i=t.split("&"),r={},s=0;s<i.length;s++)r[i[s].split("=")[0]]=i[s].split("=")[1];void 0!==r.access_token&&null!==r.access_token?n.resolve(r):n.reject("Problem authenticating"),o.close()}})}else n.reject("Could not find InAppBrowser plugin")}else n.reject("Cannot authenticate via a web browser");return n.promise},foursquare:function(t){var n=e.defer();if(window.cordova){var i=cordova.require("cordova/plugin_list").metadata;if(i.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var o=window.open("https://foursquare.com/oauth2/authenticate?client_id="+t+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");o.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],i=t.split("&"),r=[],s=0;s<i.length;s++)r[i[s].split("=")[0]]=i[s].split("=")[1];if(void 0!==r.access_token&&null!==r.access_token){var a={access_token:r.access_token,expires_in:r.expires_in};n.resolve(a)}else n.reject("Problem authenticating");o.close()}})}else n.reject("Could not find InAppBrowser plugin")}else n.reject("Cannot authenticate via a web browser");return n.promise}}}]),angular.module("ngCordova.plugins.oauthUtility",[]).factory("$cordovaOauthUtility",["$q",function(){return{createSignature:function(e,t,n,i,o){if("undefined"!=typeof jsSHA){for(var r=angular.copy(n),s=Object.keys(i),a=0;a<s.length;a++)r[s[a]]=encodeURIComponent(i[s[a]]);var l=e+"&"+encodeURIComponent(t)+"&",u=Object.keys(r).sort();for(a=0;a<u.length;a++)l+=encodeURIComponent(a==u.length-1?u[a]+"="+r[u[a]]:u[a]+"="+r[u[a]]+"&");var c=new jsSHA(l,"TEXT");n.oauth_signature=encodeURIComponent(c.getHMAC(encodeURIComponent(o)+"&","TEXT","SHA-1","B64"));var d=Object.keys(n),p="OAuth ";for(a=0;a<d.length;a++)p+=a==d.length-1?d[a]+'="'+n[d[a]]+'"':d[a]+'="'+n[d[a]]+'",';return{signature_base_string:l,authorization_header:p,signature:n.oauth_signature}}return"Missing jsSHA JavaScript library"}}}]),angular.module("ngCordova.plugins.pinDialog",[]).factory("$cordovaPinDialog",["$q","$window",function(e,t){return{prompt:function(n,i,o){var r=e.defer();return t.plugins.pinDialog.prompt(n,function(e){r.resolve(e)},i,o),r.promise}}}]),angular.module("ngCordova.plugins.prefs",[]).factory("$cordovaPreferences",["$window","$q",function(e,t){return{set:function(n,i){var o=t.defer();return e.appgiraffe.plugins.applicationPreferences.set(n,i,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},get:function(n){var i=t.defer();return e.appgiraffe.plugins.applicationPreferences.get(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.printer",[]).factory("$cordovaPrinter",["$q","$window",function(e,t){return{isAvailable:function(){var n=e.defer();return t.plugin.printer.isAvailable(function(e){n.resolve(e)}),n.promise},print:function(n,i){var o=e.defer();return t.plugin.printer.print(n,i,function(){o.resolve()}),o.promise}}}]),angular.module("ngCordova.plugins.progressIndicator",[]).factory("$cordovaProgress",["$q",function(){return{showSimple:function(e){var t=e||!1;return ProgressIndicator.showSimple(t)},showSimpleWithLabel:function(e,t){var n=e||!1,i=t||"Loading...";return ProgressIndicator.showSimpleWithLabel(n,i)},showSimpleWithLabelDetail:function(e,t,n){var i=e||!1,o=t||"Loading...",r=n||"Please wait";return ProgressIndicator.showSimpleWithLabelDetail(i,o,r)},showDeterminate:function(e,t){var n=e||!1,i=t||5e4;return ProgressIndicator.showDeterminate(n,i)},showDeterminateWithLabel:function(e,t,n){var i=e||!1,o=t||5e4,r=n||"Loading...";return ProgressIndicator.showDeterminateWithLabel(i,o,r)},showAnnular:function(e,t){var n=e||!1,i=t||5e4;return ProgressIndicator.showAnnular(n,i)},showAnnularWithLabel:function(e,t,n){var i=e||!1,o=t||5e4,r=n||"Loading...";return ProgressIndicator.showAnnularWithLabel(i,o,r)},showBar:function(e,t){var n=e||!1,i=t||5e4;return ProgressIndicator.showBar(n,i)},showBarWithLabel:function(e,t,n){var i=e||!1,o=t||5e4,r=n||"Loading...";return ProgressIndicator.showBarWithLabel(i,o,r)},showSuccess:function(e,t){var n=e||!1,i=t||"Success";return ProgressIndicator.showSuccess(n,i)},showText:function(e,t,n){var i=e||!1,o=t||"Warning",r=n||"center";return ProgressIndicator.showText(i,o,r)},hide:function(){return ProgressIndicator.hide()}}}]),angular.module("ngCordova.plugins.push",[]).factory("$cordovaPush",["$q","$window","$rootScope",function(e,t,n){return{onNotification:function(e){n.$apply(function(){n.$broadcast("pushNotificationReceived",e)})},register:function(n){var i=e.defer();return void 0!==n&&void 0===n.ecb&&(n.ecb="angular.element(document.querySelector('[ng-app]')).injector().get('$cordovaPush').onNotification"),t.plugins.pushNotification.register(function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},unregister:function(n){var i=e.defer();return t.plugins.pushNotification.unregister(function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},setBadgeNumber:function(n){var i=e.defer();return t.plugins.pushNotification.setApplicationIconBadgeNumber(function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise}}}]),angular.module("ngCordova.plugins.sms",[]).factory("$cordovaSms",["$q",function(e){return{send:function(t,n,i){var o=e.defer();return sms.send(t,n,i,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}}}]),angular.module("ngCordova.plugins.socialSharing",[]).factory("$cordovaSocialSharing",["$q","$window",function(e,t){return{share:function(n,i,o,r){var s=e.defer();return t.plugins.socialsharing.share(n,i,o,r,function(){s.resolve(!0)},function(){s.reject(!1)}),s.promise},shareViaTwitter:function(n,i,o){var r=e.defer();return t.plugins.socialsharing.shareViaTwitter(n,i,o,function(){r.resolve(!0)},function(){r.reject(!1)}),r.promise},shareViaWhatsApp:function(n,i,o){var r=e.defer();return t.plugins.socialsharing.shareViaWhatsApp(n,i,o,function(){r.resolve(!0)},function(){r.reject(!1)}),r.promise},shareViaFacebook:function(n,i,o){var r=e.defer();return t.plugins.socialsharing.shareViaFacebook(n,i,o,function(){r.resolve(!0)},function(){r.reject(!1)}),r.promise},shareViaSMS:function(n,i){var o=e.defer();return t.plugins.socialsharing.shareViaSMS(n,i,function(){o.resolve(!0)},function(){o.reject(!1)}),o.promise},shareViaEmail:function(n,i,o,r,s,a){var l=e.defer();return t.plugins.socialsharing.shareViaEmail(n,i,o,r,s,a,function(){l.resolve(!0)},function(){l.reject(!1)}),l.promise},canShareViaEmail:function(){var n=e.defer();return t.plugins.socialsharing.canShareViaEmail(function(){n.resolve(!0)},function(){n.reject(!1)}),n.promise},canShareVia:function(n,i,o,r,s){var a=e.defer();return t.plugins.socialsharing.canShareVia(n,i,o,r,s,function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise},shareVia:function(n,i,o,r,s){var a=e.defer();return t.plugins.socialsharing.shareVia(n,i,o,r,s,function(){a.resolve(!0)},function(){a.reject(!1)}),a.promise}}}]),angular.module("ngCordova.plugins.spinnerDialog",[]).factory("$cordovaSpinnerDialog",["$window",function(e){return{show:function(t,n,i){return i=i||!1,e.plugins.spinnerDialog.show(t,n,i)},hide:function(){return e.plugins.spinnerDialog.hide()}}}]),angular.module("ngCordova.plugins.splashscreen",[]).factory("$cordovaSplashscreen",[function(){return{hide:function(){return navigator.splashscreen.hide()},show:function(){return navigator.splashscreen.show()}}}]),angular.module("ngCordova.plugins.sqlite",[]).factory("$cordovaSQLite",["$q","$window",function(e,t){return{openDB:function(e,n){return"undefined"==typeof n&&(n=0),t.sqlitePlugin.openDatabase({name:e,bgType:n})},execute:function(t,n,i){var o=e.defer();return t.transaction(function(e){e.executeSql(n,i,function(e,t){o.resolve(t)},function(e,t){o.reject(t)})}),o.promise},insertCollection:function(t,n,i){var o=e.defer(),r=i.slice(0);return t.transaction(function(e){!function t(){var i=r.splice(0,1)[0];try{e.executeSql(n,i,function(e,n){0===r.length?o.resolve(n):t()},function(e,t){o.reject(t)})}catch(s){o.reject(s)}}()}),o.promise},nestedExecute:function(t,n,i,o,r){var s=e.defer();return t.transaction(function(e){e.executeSql(n,o,function(e,t){s.resolve(t),e.executeSql(i,r,function(e,t){s.resolve(t)})})},function(e,t){s.reject(t)}),s.promise},deleteDB:function(n){var i=e.defer();return t.sqlitePlugin.deleteDatabase(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.statusbar",[]).factory("$cordovaStatusbar",[function(){return{overlaysWebView:function(e){return StatusBar.overlaysWebView(!!e)},style:function(e){switch(e){case 0:return StatusBar.styleDefault();case 1:return StatusBar.styleLightContent();case 2:return StatusBar.styleBlackTranslucent();case 3:return StatusBar.styleBlackOpaque();default:return StatusBar.styleDefault()}},styleColor:function(e){return StatusBar.backgroundColorByName(e)},styleHex:function(e){return StatusBar.backgroundColorByHexString(e)},hide:function(){return StatusBar.hide()},show:function(){return StatusBar.show()},isVisible:function(){return StatusBar.isVisible}}}]),angular.module("ngCordova.plugins.toast",[]).factory("$cordovaToast",["$q","$window",function(e,t){return{showShortTop:function(n){var i=e.defer();return t.plugins.toast.showShortTop(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showShortCenter:function(n){var i=e.defer();return t.plugins.toast.showShortCenter(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showShortBottom:function(n){var i=e.defer();return t.plugins.toast.showShortBottom(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showLongTop:function(n){var i=e.defer();return t.plugins.toast.showLongTop(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showLongCenter:function(n){var i=e.defer();return t.plugins.toast.showLongCenter(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showLongBottom:function(n){var i=e.defer();return t.plugins.toast.showLongBottom(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},show:function(n,i,o){var r=e.defer();return t.plugins.toast.show(n,i,o,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.touchid",[]).factory("$cordovaTouchID",["$q",function(e){return{checkSupport:function(){var t=e.defer();return window.cordova?touchid.checkSupport(function(e){t.resolve(e)},function(e){t.reject(e)}):t.reject("Not supported without cordova.js"),t.promise},authenticate:function(t){var n=e.defer();return window.cordova?touchid.authenticate(function(e){n.resolve(e)},function(e){n.reject(e)},t):n.reject("Not supported without cordova.js"),n.promise}}}]),angular.module("ngCordova.plugins.vibration",[]).factory("$cordovaVibration",[function(){return{vibrate:function(e){return navigator.notification.vibrate(e)},vibrateWithPattern:function(e,t){return navigator.notification.vibrateWithPattern(e,t)},cancelVibration:function(){return navigator.notification.cancelVibration()}}}]),angular.module("ngCordova.plugins.videoCapturePlus",[]).provider("$cordovaVideoCapturePlus",[function(){var e={};this.setLimit=function(t){e.limit=t},this.setMaxDuration=function(t){e.duration=t},this.setHighQuality=function(t){e.highquality=t},this.useFrontCamera=function(t){e.frontcamera=t},this.setPortraitOverlay=function(t){e.portraitOverlay=t},this.setLandscapeOverlay=function(t){e.landscapeOverlay=t},this.setOverlayText=function(t){e.overlayText=t},this.$get=["$q","$window",function(t,n){return{captureVideo:function(i){var o=t.defer();return n.plugins.videocaptureplus?(n.plugins.videocaptureplus.captureVideo(o.resolve,o.reject,angular.extend({},e,i)),o.promise):(o.resolve(null),o.promise)}}}]}]),angular.module("ngCordova.plugins.zip",[]).factory("$cordovaZip",["$q","$window",function(e,t){return{unzip:function(n,i){var o=e.defer();return t.zip.unzip(n,i,function(e){0===e?o.resolve():o.reject()},function(e){o.notify(e)}),o.promise}}}])}(),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ProgressBar=e()}}(function(){var e;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,n,i){!function(t){"undefined"==typeof SHIFTY_DEBUG_NOW&&(SHIFTY_DEBUG_NOW=function(){return+new Date});var o=function(){"use strict";function o(){}function r(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n)}function s(e,t){return r(t,function(n){e[n]=t[n]}),e}function a(e,t){r(t,function(n){"undefined"==typeof e[n]&&(e[n]=t[n])})}function l(e,t,n,i,o,r,s){var a,l=(e-r)/o;for(a in t)t.hasOwnProperty(a)&&(t[a]=u(n[a],i[a],f[s[a]],l));return t}function u(e,t,n,i){return e+(t-e)*n(i)}function c(e,t){var n=h.prototype.filter,i=e._filterArgs;r(n,function(o){"undefined"!=typeof n[o][t]&&n[o][t].apply(e,i)})}function d(e,t,n,i,o,r,s,a,u){w=t+n,$=Math.min(_(),w),k=$>=w,e.isPlaying()&&!k?(u(e._timeoutHandler,b),c(e,"beforeTween"),l($,i,o,r,n,t,s),c(e,"afterTween"),a(i)):k&&(a(r),e.stop(!0))}function p(e,t){var n={};return"string"==typeof t?r(e,function(e){n[e]=t}):r(e,function(e){n[e]||(n[e]=t[e]||m)}),n}function h(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=g,"undefined"!=typeof t&&this.setConfig(t)}var f,g,m="linear",v=500,b=1e3/60,y=Date.now?Date.now:function(){return+new Date},_=SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:y;g="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var w,$,k;return h.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._start(this.get()),this.resume())},h.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._pausedAtTime=null,this._start=e.start||o,this._step=e.step||o,this._finish=e.finish||o,this._duration=e.duration||v,this._currentState=e.from||this.get(),this._originalState=this.get(),this._targetState=e.to||this.get(),this._timestamp=_();var t=this._currentState,n=this._targetState;return a(n,t),this._easing=p(t,e.easing||m),this._filterArgs=[t,this._originalState,n,this._easing],c(this,"tweenCreated"),this},h.prototype.get=function(){return s({},this._currentState)},h.prototype.set=function(e){this._currentState=e},h.prototype.pause=function(){return this._pausedAtTime=_(),this._isPaused=!0,this},h.prototype.resume=function(){this._isPaused&&(this._timestamp+=_()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0;var e=this;return this._timeoutHandler=function(){d(e,e._timestamp,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)},this._timeoutHandler(),this},h.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=o,e&&(s(this._currentState,this._targetState),c(this,"afterTweenEnd"),this._finish.call(this,this._currentState)),this},h.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},h.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},h.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},h.prototype.filter={},h.prototype.formula={linear:function(e){return e}},f=h.prototype.formula,s(h,{now:_,each:r,tweenProps:l,tweenProp:u,applyFilter:c,shallowCopy:s,defaults:a,composeEasingObject:p}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=d),"object"==typeof i?n.exports=h:"function"==typeof e&&e.amd?e(function(){return h}):"undefined"==typeof t.Tweenable&&(t.Tweenable=h),h}();!function(){o.shallowCopy(o.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375
},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin(2*(6*e-1)*Math.PI/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?2-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}})}(),function(){function e(e,t,n,i,o,r){function s(e){return((h*e+f)*e+g)*e}function a(e){return((m*e+v)*e+b)*e}function l(e){return(3*h*e+2*f)*e+g}function u(e){return 1/(200*e)}function c(e,t){return a(p(e,t))}function d(e){return e>=0?e:0-e}function p(e,t){var n,i,o,r,a,u;for(o=e,u=0;8>u;u++){if(r=s(o)-e,d(r)<t)return o;if(a=l(o),d(a)<1e-6)break;o-=r/a}if(n=0,i=1,o=e,n>o)return n;if(o>i)return i;for(;i>n;){if(r=s(o),d(r-e)<t)return o;e>r?n=o:i=o,o=.5*(i-n)+n}return o}var h=0,f=0,g=0,m=0,v=0,b=0;return g=3*t,f=3*(i-t)-g,h=1-g-f,b=3*n,v=3*(o-n)-b,m=1-b-v,c(e,u(r))}function t(t,n,i,o){return function(r){return e(r,t,n,i,o,1)}}o.setBezierFunction=function(e,n,i,r,s){var a=t(n,i,r,s);return a.x1=n,a.y1=i,a.x2=r,a.y2=s,o.prototype.formula[e]=a},o.unsetBezierFunction=function(e){delete o.prototype.formula[e]}}(),function(){function e(e,t,n,i,r){return o.tweenProps(i,t,e,n,1,0,r)}var t=new o;t._filterArgs=[],o.interpolate=function(n,i,r,s){var a=o.shallowCopy({},n),l=o.composeEasingObject(n,s||"linear");t.set({});var u=t._filterArgs;u.length=0,u[0]=a,u[1]=n,u[2]=i,u[3]=l,o.applyFilter(t,"tweenCreated"),o.applyFilter(t,"beforeTween");var c=e(n,a,i,r,l);return o.applyFilter(t,"afterTween"),c}}(),function(e){function t(e,t){T.length=0;var n,i=e.length;for(n=0;i>n;n++)T.push("_"+t+"_"+n);return T}function n(e){var t=e.match(w);return t?(1===t.length||e[0].match(_))&&t.unshift(""):t=["",""],t.join(C)}function i(t){e.each(t,function(e){var n=t[e];"string"==typeof n&&n.match(x)&&(t[e]=o(n))})}function o(e){return l(x,e,r)}function r(e){var t=s(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function s(e){return e=e.replace(/#/,""),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),M[0]=a(e.substr(0,2)),M[1]=a(e.substr(2,2)),M[2]=a(e.substr(4,2)),M}function a(e){return parseInt(e,16)}function l(e,t,n){var i=t.match(e),o=t.replace(e,C);if(i)for(var r,s=i.length,a=0;s>a;a++)r=i.shift(),o=o.replace(C,n(r));return o}function u(e){return l(k,e,c)}function c(e){for(var t=e.match($),n=t.length,i=e.match(S)[0],o=0;n>o;o++)i+=parseInt(t[o],10)+",";return i=i.slice(0,-1)+")"}function d(i){var o={};return e.each(i,function(e){var r=i[e];if("string"==typeof r){var s=v(r);o[e]={formatString:n(r),chunkNames:t(s,e)}}}),o}function p(t,n){e.each(n,function(e){for(var i=t[e],o=v(i),r=o.length,s=0;r>s;s++)t[n[e].chunkNames[s]]=+o[s];delete t[e]})}function h(t,n){e.each(n,function(e){var i=t[e],o=f(t,n[e].chunkNames),r=g(o,n[e].chunkNames);i=m(n[e].formatString,r),t[e]=u(i)})}function f(e,t){for(var n,i={},o=t.length,r=0;o>r;r++)n=t[r],i[n]=e[n],delete e[n];return i}function g(e,t){E.length=0;for(var n=t.length,i=0;n>i;i++)E.push(e[t[i]]);return E}function m(e,t){for(var n=e,i=t.length,o=0;i>o;o++)n=n.replace(C,+t[o].toFixed(4));return n}function v(e){return e.match($)}function b(t,n){e.each(n,function(e){for(var i=n[e],o=i.chunkNames,r=o.length,s=t[e].split(" "),a=s[s.length-1],l=0;r>l;l++)t[o[l]]=s[l]||a;delete t[e]})}function y(t,n){e.each(n,function(e){for(var i=n[e],o=i.chunkNames,r=o.length,s="",a=0;r>a;a++)s+=" "+t[o[a]],delete t[o[a]];t[e]=s.substr(1)})}var _=/(\d|\-|\.)/,w=/([^\-0-9\.]+)/g,$=/[0-9.\-]+/g,k=new RegExp("rgb\\("+$.source+/,\s*/.source+$.source+/,\s*/.source+$.source+"\\)","g"),S=/^.*\(/,x=/#([0-9]|[a-f]){3,6}/gi,C="VAL",T=[],M=[],E=[];e.prototype.filter.token={tweenCreated:function(e,t,n){i(e),i(t),i(n),this._tokenData=d(e)},beforeTween:function(e,t,n,i){b(i,this._tokenData),p(e,this._tokenData),p(t,this._tokenData),p(n,this._tokenData)},afterTween:function(e,t,n,i){h(e,this._tokenData),h(t,this._tokenData),h(n,this._tokenData),y(i,this._tokenData)}}}(o)}(this)},{}],2:[function(e,t){var n=e("./shape"),i=e("./utils"),o=function(){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",n.apply(this,arguments)};o.prototype=new n,o.prototype.constructor=o,o.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return i.render(this._pathTemplate,{radius:n,"2radius":2*n})},o.prototype._trailString=function(e){return this._pathString(e)},t.exports=o},{"./shape":6,"./utils":8}],3:[function(e,t){var n=e("./shape"),i=e("./utils"),o=function(){this._pathTemplate="M 0,{center} L 100,{center}",n.apply(this,arguments)};o.prototype=new n,o.prototype.constructor=o,o.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},o.prototype._pathString=function(e){return i.render(this._pathTemplate,{center:e.strokeWidth/2})},o.prototype._trailString=function(e){return this._pathString(e)},t.exports=o},{"./shape":6,"./utils":8}],4:[function(e,t){var n=e("./line"),i=e("./circle"),o=e("./square"),r=e("./path");t.exports={Line:n,Circle:i,Square:o,Path:r}},{"./circle":2,"./line":3,"./path":5,"./square":7}],5:[function(e,t){var n=e("shifty"),i=e("./utils"),o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},r=function(e,t){t=i.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},t);var n;n=i.isString(e)?document.querySelector(e):e,this.path=n,this._opts=t,this._tweenable=null;var o=this.path.getTotalLength();this.path.style.strokeDasharray=o+" "+o,this.set(0)};r.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength(),n=1-e/t;return parseFloat(n.toFixed(6),10)},r.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(i.isFunction(t)){var n=this._easing(this._opts.easing),o=this._calculateTo(e,n);t(o,this._opts.shape||this,this._opts.attachment)}},r.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},r.prototype.animate=function(e,t,o){t=t||{},i.isFunction(t)&&(o=t,t={});var r=i.extend({},t),s=i.extend({},this._opts);t=i.extend(s,t);var a=this._easing(t.easing),l=this._resolveFromAndTo(e,a,r);this.stop(),this.path.getBoundingClientRect();var u=this._getComputedDashOffset(),c=this._progressToOffset(e),d=this;this._tweenable=new n,this._tweenable.tween({from:i.extend({offset:u},l.from),to:i.extend({offset:c},l.to),duration:t.duration,easing:a,step:function(e){d.path.style.strokeDashoffset=e.offset,t.step(e,t.shape||d,t.attachment)},finish:function(){i.isFunction(o)&&o()}})},r.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},r.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},r.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},r.prototype._calculateFrom=function(e){return n.interpolate(this._opts.from,this._opts.to,this.value(),e)},r.prototype._calculateTo=function(e,t){return n.interpolate(this._opts.from,this._opts.to,e,t)},r.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable.dispose(),this._tweenable=null)},r.prototype._easing=function(e){return o.hasOwnProperty(e)?o[e]:e},t.exports=r},{"./utils":8,shifty:1}],6:[function(e,t){var n=e("./path"),i=e("./utils"),o="Object is destroyed",r=function s(e,t){if(!(this instanceof s))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=i.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{autoStyle:!0,color:null,value:"",className:"progressbar-text"}},t,!0);var o,r=this._createSvgView(this._opts);if(o=i.isString(e)?document.querySelector(e):e,!o)throw new Error("Container does not exist: "+e);this._container=o,this._container.appendChild(r.svg),this.text=null,this._opts.text.value&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.svg=r.svg,this.path=r.path,this.trail=r.trail;var a=i.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new n(r.path,a)}};r.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error(o);this._progressPath.animate(e,t,n)},r.prototype.stop=function(){if(null===this._progressPath)throw new Error(o);void 0!==this._progressPath&&this._progressPath.stop()},r.prototype.destroy=function(){if(null===this._progressPath)throw new Error(o);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},r.prototype.set=function(e){if(null===this._progressPath)throw new Error(o);this._progressPath.set(e)},r.prototype.value=function(){if(null===this._progressPath)throw new Error(o);return void 0===this._progressPath?0:this._progressPath.value()},r.prototype.setText=function(e){if(null===this._progressPath)throw new Error(o);null===this.text&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.text.removeChild(this.text.firstChild),this.text.appendChild(document.createTextNode(e))},r.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var i=this._createPath(e);return t.appendChild(i),{svg:t,path:i,trail:n}},r.prototype._initializeSvg=function(e){e.setAttribute("viewBox","0 0 100 100")},r.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},r.prototype._createTrail=function(e){var t=this._trailString(e),n=i.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},r.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},r.prototype._createTextElement=function(e,t){var n=document.createElement("p");return n.appendChild(document.createTextNode(e.text.value)),e.text.autoStyle&&(t.style.position="relative",n.style.position="absolute",n.style.top="50%",n.style.left="50%",n.style.padding=0,n.style.margin=0,i.setStyle(n,"transform","translate(-50%, -50%)"),n.style.color=e.text.color?e.text.color:e.color),n.className=e.text.className,n},r.prototype._pathString=function(){throw new Error("Override this function for each progress bar")},r.prototype._trailString=function(){throw new Error("Override this function for each progress bar")},t.exports=r},{"./path":5,"./utils":8}],7:[function(e,t){var n=e("./shape"),i=e("./utils"),o=function(){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",n.apply(this,arguments)};o.prototype=new n,o.prototype.constructor=o,o.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return i.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},o.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return i.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},t.exports=o},{"./shape":6,"./utils":8}],8:[function(e,t){function n(e,t,i){e=e||{},t=t||{},i=i||!1;for(var o in t)if(t.hasOwnProperty(o)){var r=e[o],s=t[o];e[o]=i&&u(r)&&u(s)?n(r,s,i):s}return e}function i(e,t){var n=e;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],r="\\{"+i+"\\}",s=new RegExp(r,"g");n=n.replace(s,o)}return n}function o(e,t,n){for(var i=0;i<c.length;++i){var o=c[i];e.style[o+r(t)]=n}e.style[t]=n}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){return"string"==typeof e||e instanceof String}function a(e){return"function"==typeof e}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(e){if(l(e))return!1;var t=typeof e;return"object"===t&&!!e}var c="Webkit Moz O ms".split(" ");t.exports={extend:n,render:i,setStyle:o,capitalize:r,isString:s,isFunction:a,isObject:u}},{}]},{},[4])(4)});var LOCAL=!1,BASE_URL="http://uguru-rest.herokuapp.com/production/app/",REST_URL="http://uguru-rest.herokuapp.com",BASE="";LOCAL?(BASE="remote/",BASE_URL="http://192.168.42.66:8100",REST_URL="http://192.168.42.66:5000"):img_base="/static/",mixpanel.track("App Launch"),angular.module("uguru",["ionic","ionic.utils","ngCordova","restangular","fastMatcher","ngAnimate","uguru.onboarding.controllers","uguru.student.controllers","uguru.guru.controllers","uguru.version","uguru.util.controllers","uguru.rest","uguru.user","uguru.root.services","uiGmapgoogle-maps","uguru.directives","mgcrea.ngStrap","ionic.device","ui.bootstrap"]).run(["$ionicPlatform","$cordovaStatusbar","$localstorage","$cordovaNetwork","$state","$cordovaAppVersion","$ionicHistory","$cordovaDialogs","Version","$rootScope","$cordovaSplashscreen","$templateCache","Device","User","$cordovaLocalNotification","$cordovaGeolocation",function(e,t,n,i,o,r,s,a,l,u,c){e.ready(function(){document.addEventListener("deviceready",function(){c.hide();u.platform={ios:ionic.Platform.isIOS(),android:ionic.Platform.isAndroid(),mobile:ionic.Platform.isIOS()||ionic.Platform.isAndroid(),web:!(ionic.Platform.isIOS()||ionic.Platform.isAndroid()),device:ionic.Platform.device()},!window.cordova,window.cordova&&u.platform.mobile&&(navigator.splashscreen&&navigator.splashscreen.hide(),i&&(u.network_speed=getNetworkSpeed()),u.current_device=ionic.Platform.device(),window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),u.platform.ios&&window.StatusBar&&(StatusBar.styleDefault(),StatusBar.overlaysWebView(!0)))})})}]).config(["$stateProvider","$urlRouterProvider","$popoverProvider","RestangularProvider","$cordovaFacebookProvider","$ionicConfigProvider","$compileProvider",function(e,t,n,i,o,r){if(!window.cordova){var s=0x5082f9fa7ad0d,a="v2.2";o.browserInit(s,a)}r.views.swipeBackEnabled(!1),r.tabs.position("bottom"),i.setBaseUrl(REST_URL+"/api/v1"),e.state("root",{url:"","abstract":!0,templateUrl:"templates/root.html",controller:["$ionicPlatform","$scope","$state","$localstorage","User","RootService","Version","$ionicHistory","$templateCache","$ionicLoading","$rootScope","CordovaPushWrapper","$cordovaPush","University","$cordovaStatusbar","$cordovaSplashscreen","$timeout","Geolocation","$cordovaPush",function(e,t,n,i,o,r,s,a,l,u,c,d,p,h,f,g,m,v,p){t.network_speed=null,t.platform_ready=!1,t.user=o.getLocal(),t.user.updateAttr=o.updateAttrUser,t.user.createObj=o.createObj,t.user.updateObj=o.updateObj,t.popupScope={},t.user&&t.user.id&&o.getUserFromServer(t,null,n),t.img_base=LOCAL?"remote/":"",t.rootUser=o,t.root=r,t.root.vars={},t.root.vars.onboarding=!1,t.root.vars.guru_mode=t.user.guru_mode,t["static"]={},t["static"].nearest_universities=[],t["static"].universities=[],console.log("getting most up to date universities + user from server..");var b=i.getObject("universities");b&&0!==b.length?(t["static"].universities=i.getObject("universities"),console.log(t["static"].universities&&t["static"].universities.length>0?"universities already loaded":"something funky is going on...")):(o.getUserFromServer(t,null,n),on_app_open_retrieve_objects(t,n,i,h,null,v)),t.loader={show:function(){u.show({template:'<ion-spinner icon="lines" class="spinner-positive"></ion-spinner>'})},hide:function(){u.hide()}},t.success={show:function(e,t,n){n||(n="Saved!"),u.show({template:n,delay:e,duration:t})},hide:function(){u.hide()}},t.platform={mobile:!1,web:!0,device:!1,android:!1,ios:!1},e.ready(function(){function e(e){console.log();var t=e.uri;console.log("channelHandler uri: "+t)}function o(e){console.log("Error Handle :",e)}t.platform={ios:ionic.Platform.isIOS(),android:ionic.Platform.isAndroid(),windows:ionic.Platform.isWindowsPhone(),mobile:ionic.Platform.isIOS()||ionic.Platform.isAndroid()||ionic.Platform.isWindowsPhone(),web:!(ionic.Platform.isIOS()||ionic.Platform.isAndroid()),device:ionic.Platform.device()},t.platform.android&&(c.$on("pushNotificationReceived",function(e,t){d.received(c,e,t)}),on_app_open_retrieve_objects(t,n,i,h,null,v)),t.platform.windows&&cordovaPush&&p.register(e,o,{channelName:"123723560",ecb:"onNotificationWP8",uccb:"channelHandler",errcb:"jsonErrorHandler"}),t.platform&&t.user&&(t.user.current_device=ionic.Platform.device(),t.user.current_device.user_id=t.user.id,t.user.createObj(t.user,"device",t.user.current_device,t))}),document.addEventListener("deviceready",function(){document.addEventListener("resume",function(){o.getUserFromServer(t,null,n)},!1),document.addEventListener("online",function(){o.getUserFromServer(t,null,n)},!1),document.addEventListener("offline",function(){},!1),document.addEventListener("pause",function(){},!1)})}]}).state("root.student-home",{url:"/home",templateUrl:BASE+"templates/student.home.new.html",controller:"StudentHomeController"}).state("root.onboarding-loading",{url:"/onboarding-loading",templateUrl:BASE+"templates/onboarding.loading.html",controller:"OnboardingLoadingController"}).state("root.onboarding-location",{url:"/onboarding-location",templateUrl:BASE+"templates/onboarding.request-location.html",controller:"OnboardingRequestLocationController"}).state("root.prompt-location",{url:"/prompt-location",templateUrl:BASE+"templates/prompt.location.html",controller:"PromptLocationController"}).state("root.onboarding-nearest-university",{url:"/onboarding-nearest",templateUrl:BASE+"templates/onboarding.nearest-university.html",controller:"OnboardingNearestUniversityController"}).state("root.onboarding-university",{url:"/onboarding-university",templateUrl:BASE+"templates/onboarding.university.html",controller:["$scope","$cordovaStatusbar",function(e){e.$on("$ionicView.beforeEnter",function(){console.log("before view has entered"),e.universities=e["static"].universities,e.platform.ios&&window.StatusBar&&StatusBar.styleLightContent()})}]}).state("root.student-request",{url:"/student-request:courseObj",templateUrl:BASE+"templates/student.request.new.html",controller:"StudentRequestController"}).state("root.request-guru-type",{url:"/request-guru-type",templateUrl:BASE+"templates/student.request.guru-type.html",controller:"StudentRequestGuruTypeController"}).state("root.request-session-length",{url:"/request-session-length",templateUrl:BASE+"templates/student.request.session-length.html",controller:"StudentRequestSessionLengthController"}).state("root.request-calendar",{url:"/request-calendar:proposalObj",templateUrl:BASE+"templates/student.request.calendar.html",controller:"CalendarModalController"}).state("root.request-contact-method",{url:"/request-contact-method",templateUrl:BASE+"templates/student.contact.method.html",controller:"StudentRequestContactController"}).state("root.request-location",{url:"/request-location",templateUrl:BASE+"templates/student.request.location.html",controller:"RequestLocationController"}).state("root.request-description",{url:"/request-description",templateUrl:BASE+"templates/student.request.description.html",controller:"AddNoteController"}).state("root.guru-wizard",{url:"/wizard",templateUrl:BASE+"templates/guru.onboarding.html",controller:"BecomeGuruController"}).state("root.guru-home",{url:"/guru-home",templateUrl:BASE+"templates/guru.home.new.html",controller:"GuruHomeController"}).state("root.guru-verification",{url:"/guru-verification",templateUrl:BASE+"templates/guru.verification.html",controller:"GuruVerificationController"}).state("root.guru-opportunities",{url:"/guru-opportunities",templateUrl:BASE+"templates/guru.opportunities.html",controller:"GuruOpportunitiesController"}).state("root.guru-student-available",{url:"/guru-student-available/:requestObj:proposalObj",templateUrl:BASE+"templates/guru.student-request.html",controller:"GuruIncomingRequestController"}).state("root.active-student-session",{url:"/student-active-session/:sessionObj",templateUrl:BASE+"templates/student.active-session.html",controller:"StudentActiveSession"}).state("root.guru-session-start",{url:"/start-session/:sessionObj",templateUrl:BASE+"templates/guru.session-start.html",controller:"GuruSessionStartController"}).state("root.guru-active-session",{url:"/guru-active-session/:sessionObj",templateUrl:BASE+"templates/guru.active-session.html",controller:"GuruActiveSession"}).state("root.student-settings",{url:"/settings",templateUrl:BASE+"templates/student.settings.html"}).state("root.student-settings-cards",{url:"/settings-cards",templateUrl:BASE+"templates/student.settings.cards.html",controller:"SettingsCardController"}).state("root.settings-profile",{url:"/settings-profile",templateUrl:BASE+"templates/student.settings.profile.html",controller:"SettingsProfileController"}).state("root.settings-transactions",{url:"/settings-transactions",templateUrl:BASE+"templates/student.settings.transactions.html",controller:"SettingsTransactionsController"}).state("root.settings-transfer",{url:"/settings-transfer",templateUrl:BASE+"templates/student.settings.transfers.html",controller:"SettingsTransfersController"}).state("root.settings-notifications",{url:"/settings-notifications",templateUrl:BASE+"templates/student.settings.notifications.html",controller:"SettingsNotificationsController"}).state("root.settings-edit-courses",{url:"/settings-edit-courses",templateUrl:BASE+"templates/student.settings.edit-courses.html",controller:"SettingsEditCoursesController"}).state("root.settings-edit-university",{url:"/settings-edit-university",templateUrl:BASE+"templates/student.settings.edit-university.html",controller:"SettingsEditUniversityController"}).state("root.add-payment",{url:"/payment/:cardObj:debitCardOnly",templateUrl:BASE+"templates/add-payment.html"}).state("root.student-request-status",{url:"/request-status/:requestObj",templateUrl:BASE+"templates/student.request-status.html",controller:"RequestStatusController"}).state("root.guru-proposal-details",{url:"/guru-proposal-details/:proposalObj",templateUrl:BASE+"templates/guru.proposal-details.html",controller:"ProposalDetailsActionController"}).state("root.guru-previous-session-details",{url:"/previous-session-details-guru/:sessionObj",templateUrl:BASE+"templates/student.previous-session-details.html",controller:"PreviousSessionDetailsController"}).state("root.messages",{url:"/messages/:sessionObj",templateUrl:BASE+"templates/student.messages.html",controller:"StudentMessagesController"}).state("root.student.guru-available",{url:"/guru-available/:requestObj",templateUrl:BASE+"templates/student.guru-available.html",controller:"GuruAvailableController"}).state("root.guru-confirm-proposal",{url:"/guru-confirm-proposal/:proposalObj",templateUrl:BASE+"templates/guru.confirm-proposal.html",controller:"GuruConfirmProposalController"}).state("root.guru-profile-edit",{url:"/guru-profile-edit",templateUrl:BASE+"templates/guru.edit-profile.html",controller:"GuruEditProfileController"}).state("root.guru-profile",{url:"/guru-profile",templateUrl:BASE+"templates/guru.profile.html",controller:"GuruProfileController"}).state("root.student-guru-profile",{url:"/student-guru-profile/:guruObj:showContactGuru",templateUrl:BASE+"templates/student.view-guru-profile.html",controller:"StudentViewGuruProfileController"}).state("root.student.guru-home-page",{url:"/guru-home-page",templateUrl:BASE+"templates/student.guru-home-page.html"}).state("root.student.guru-timer",{url:"/guru-timer",templateUrl:BASE+"templates/student.guru-timer.html"}).state("root.student.new-settings",{url:"/new-settings",templateUrl:BASE+"templates/student.new-settings.html"}).state("root.guru-mode",{url:"/guru-mode",templateUrl:BASE+"templates/student.guru-mode.html"}),t.otherwise("/onboarding-loading")}]);var checkForAppUpdates=function(e,t,n,i){e.getUpdatedVersionNum().then(function(o){var r=JSON.parse(o).version,s=e.getVersion();"undefined"==typeof s&&(s=1,e.setVersion(1)),console.log("user v:"+s.toString()+". Server v:"+r),LOCAL&&(console.log("it gets here"),n.removeAll()),r!=s&&(t.clearCache(),t.clearHistory(),window.localStorage.clear(),n.removeAll(),e.setVersion(r),i.set("recently_updated",!0),console.log("V"+r+"stored to user"),window.location=BASE_URL,window.location.reload(!0))},function(e){console.log(e),console.log("Version not loaded")})},on_app_open_retrieve_objects=function(e,t,n,i,o,r){console.log("getting university from server"),i.get().then(function(i){console.log("universities successfully loaded"),i=JSON.parse(i),e["static"].universities=i,n.setObject("universities",e["static"].universities),console.log(e["static"].universities.length+" universities successfully loaded"),e.user&&e.user.position&&e.user.position.coords?getNearestUniversity(e.user.position.coords.latitude,e.user.position.coords.longitude,e["static"].universities,100,n,e,o,t):e&&e.platform&&e.platform.android&&r.getUserPosition(e,null,null,t)},function(){console.log("Universities NOT successfully loaded")})},getNetworkSpeed=function(){var e=navigator.connection.type,t={};return t[Connection.UNKNOWN]="Unknown connection",t[Connection.ETHERNET]="Ethernet connection",t[Connection.WIFI]="WiFi connection",t[Connection.CELL_2G]="Cell 2G connection",t[Connection.CELL_3G]="Cell 3G connection",t[Connection.CELL_4G]="Cell 4G connection",t[Connection.CELL]="Cell generic connection",t[Connection.NONE]="No network connection",console.log("Connection type: "+t[e]),e};!function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t){(function(){function e(e,t){this.source=e.slice(0),this.options=t||{},this.matches=this.options.matches||[],this.selectors=this.createSelectors();var n=this.source,t=this.options,o=[];this.selectors.forEach(function(e){var r=0,a=n.map(function(n,o){var s={i:o,val:n,selectedVal:e(n)};return t.anyWord&&(s.segments=i(s.selectedVal),r=Math.max(r,s.segments.length)),s});if(t.anyWord)for(var l=0;r>l;++l)o.push(a.filter(function(e){return l<e.segments.length}).map(function(e){return{i:e.i,val:e.val,selectedVal:e.segments[l]}}).sort(function(e,t){return s(e.selectedVal,t.selectedVal)}));else a.sort(function(e,t){return s(e.selectedVal,t.selectedVal)}),o.push(a)}),this.lists=o}function n(e){return"function"==typeof e?e:e?function(t){return t[e]||""}:function(e){return e}}function i(e){e=e.replace(/^\s+/,"");for(var t,n=[e],i=/\s[^\s]/g;t=i.exec(e);)n.push(e.substring(t.index+1));return n}function o(e,t){var n=t.length;e.length=n;for(var i=0;n>i;++i)e[i]=t[i]}function r(e,t){for(var n={},i=[],o=0;i.length<t&&o<e.length;++o)n[e[o].i]||(n[e[o].i]=!0,i.push(e[o].val));return i}function s(e,t){return e==t?0:e>t?1:-1}function a(e,t){return 0===e.lastIndexOf(t,t.length-1)}e.prototype.createSelectors=function(){var e=this.options,t=e.selector;return t instanceof Array||(t=[t]),t.map(function(t){var i=n(t);return e.caseInsensitive?function(e){return i(e).toLowerCase()}:i})},e.prototype.getMatches=function(e){this.options.caseInsensitive&&(e=e.toLowerCase());for(var t,n,i,l,u=Number(this.options.limit||25),c=u,d=this.lists,p=[],h=0;h<d.length&&p.length!==c;++h){for(t=d[h],n=this.findIndex(t,e),l=0;n<t.length&&p.length!==c&&(i=t[n].selectedVal,this.options.caseInsensitive&&(i=i.toLowerCase()),a(i,e));)p.push(t[n++]),++l;c+=l}return this.options.preserveOrder&&p.sort(function(e,t){return s(e.i,t.i)}),o(this.matches,r(p,u)),this.matches},e.prototype.findIndex=function(e,t){for(var n,i,o=0,r=e.length;r>o;)n=o+r>>>1,i=e[n].selectedVal,this.options.caseInsensitive&&(i=i.toLowerCase()),-1===s(i,t)?o=n+1:r=n;return o},"object"==typeof t&&t&&t.exports&&(t.exports=e),this.FastMatcher=e}).call(this)},{}],2:[function(e){!function(t){var n=e("fast-matcher"),i=t.module("fastMatcher",[]);i.directive("fastMatcher",["$q",function(e){function t(e){return e?Number(e):void 0}function i(e){return/^true$/i.test(e)}function o(e,t,n){var i=e.$parent.$new();for(var o in t)i[o]=t[o];return i.$eval(n)}return{scope:{source:"=fastMatcherSource",matches:"=fastMatcherOutput",currentCallback:"=fastMatcherCurrentCallback",selectionCallback:"=fastMatcherSelectionCallback"},link:function(r,s,a){function l(e){v=e,g?o(r,{index:e},g):r.currentCallback&&r.currentCallback(e)}function u(e){m?o(r,{item:e},m):f&&f(e)}var c=r.$parent,d=a.fastMatcherProperty,p=t(a.fastMatcherLimit),h=i(a.fastMatcherAnyWord),f=r.selectionCallback,g=a.fastMatcherIndexChanged,m=a.fastMatcherItemSelected;d||(d=(a.fastMatcherProperties||"").split(/[\s,]+/)),r.matches||(r.matches=[]);var v=-1;e.when(r.source).then(function(e){function t(e){e!==i&&(r.matches.length=0,l(-1),e&&o.getMatches(e)),i=e}var i,o=new n(e,{selector:d,matches:r.matches,limit:p,anyWord:h,caseInsensitive:!0,preserveOrder:!0});a.ngModel?c.$watch(a.ngModel,function(){t(c[a.ngModel])}):s.on("keyup",function(){r.$apply(function(){t(s.val())})}),s.on("keydown",function(e){switch(e.keyCode){case 13:v>=0&&v<r.matches.length?u(r.matches[v]):1===r.matches.length&&u(r.matches[0]),l(-1);break;case 38:l((v||r.matches.length)-1);break;case 40:l(++v%r.matches.length)}r.$apply()})})}}}])}(angular)},{"fast-matcher":1}]},{},[2]),angular.module("uguru.directives",[]),angular.module("uguru.directives").directive("focusMe",["$timeout",function(e){return{link:function(t,n){e(function(){n[0].focus()},500)}}}]).directive("isFocused",["$timeout",function(e){return{scope:{trigger:"@isFocused"},link:function(t,n){t.$watch("trigger",function(t){"true"===t&&e(function(){n[0].focus(),n.on("blur",function(){n[0].focus()})})})}}}]).directive("disableTap",["$timeout",function(e){return{link:function(){e(function(){container=document.getElementsByClassName("pac-container"),angular.element(container).attr("data-tap-disabled","true"),angular.element(container).on("click",function(){document.getElementById("type-selector").blur()})},500)}}}]),angular.module("ionic.utils",[]).factory("$localstorage",["$window",function(e){return{set:function(t,n){e.localStorage[t]=n},get:function(t,n){return e.localStorage[t]||n},setObject:function(t,n){e.localStorage[t]=JSON.stringify(n)},getObject:function(t){return JSON.parse(e.localStorage[t]||"[]")},removeObject:function(t){e.localStorage.removeItem(t)}}}]),angular.module("ionic.card",[]).factory("card",["Restangular",function(e){var t;
return t={post:function(t){return e.one("card").customPOST(JSON.stringify(t))}}}]),angular.module("ionic.course",[]).factory("Course",["Restangular",function(e){var t;return t={get:function(){return e.one("courses").get()}}}]),angular.module("ionic.device",[]).factory("Device",["Restangular",function(e){var t;return t={post:function(t){return e.one("devices").customPOST(JSON.stringify(t))}}}]),angular.module("ionic.major",[]).factory("Major",["Restangular",function(e){var t;return t={get:function(){return e.one("majors").get()}}}]),angular.module("ionic.phone",[]).factory("Phone",["Restangular",function(e){var t;return t={post:function(t){return e.one("phone").customPOST(JSON.stringify(t))}}}]),angular.module("uguru").factory("Session",["Restangular",function(e){var t;return t={create:function(t,n){return e.one("sessions").withHttpConfig({bypassErrorInterceptor:n}).customPOST(t)}}}]),angular.module("uguru.static",[]).factory("StaticDataService",["$state","$localstorage","University","Major","Course",function(e,t,n,i,o){console.log("Getting static data from the "+e.current.name+" state...");var r=function(e){n.get().then(function(e){e=JSON.parse(e),t.setObject("universities",e),console.log(e.length+" universities successfully loaded")},function(){console.log("Universities NOT successfully loaded")}),e.university_id?n.getMajors(e.university_id).then(function(t){console.log(t),majors=JSON.parse(t),console.log(majors.length+" majors uploaded from "+e.university.title),e.university.majors=majors},function(e){console.log("Majors NOT successfully loaded"),console.log(e)}):i.get().then(function(e){console.log("Majors successfully loaded"),t.setObject("majors",JSON.parse(e).majors)},function(){console.log("Majors NOT successfully loaded")}),e.university_id?n.getCourses(e.university_id).then(function(t){var t=JSON.parse(t);console.log(t.length+" courses uploaded from "+e.university.title),e.university.courses=t},function(e){console.log("Courses NOT successfully loaded"),console.log(e)}):o.get().then(function(e){console.log("Courses successfully loaded"),t.setObject("courses",JSON.parse(e).courses)},function(){console.log("Courses NOT successfully loaded")})};return{getStaticData:r}}]),angular.module("uguru").factory("Support",["Restangular",function(e){var t;return t={create:function(t){return e.one("support").customPOST(JSON.stringify(t))}}}]),angular.module("uguru.rest",[]).factory("University",["Restangular",function(e){var t;return t={get:function(){return e.one("universities").get()},getMajors:function(t){return e.one("universities",t).customGET("majors")},getCourses:function(t){return e.one("universities",t).customGET("courses")}}}]),angular.module("uguru.user",[]).factory("User",["$localstorage","Restangular","$state","$timeout","$ionicModal","$ionicHistory",function(e,t,n,i){var o,r=function(e){if(0===e.length)return 0;result=0;for(var t=0;t<e.length;t++)result+=e[t].student_rating;return result=(result/e.length).toFixed(2),result},s=function(e){e.active_requests=[],e.pending_guru_ratings=[],e.pending_student_ratings=[],e.incoming_requests=[],e.previous_requests=[],e.active_student_sessions=[],e.previous_student_sessions=[],e.payment_cards=[],e.transfer_cards=[],e.course_guru_dict={},e.gurus=[],e.current_hourly=10;for(var t=e.cards,o=0;o<t.length;o++){var s=t[o];s.is_default_payment&&(e.default_payment_card=s),s.is_payment_card&&e.payment_cards.push(s),s.is_transfer_card&&e.transfer_cards.push(s),s.is_default_transfer&&(e.default_transfer_card=s)}var a=e.requests;if(a&&a.length>0)for(var o=0;o<a.length;o++){var l=a[o];0===l.status?e.active_requests.push(l):1===l.status?e.incoming_requests.push(l):e.previous_requests.push(l)}var u=e.student_sessions;if(u&&u.length>0)for(var o=0;o<u.length;o++){var c=u[o];0===c.status||1===c.status||2===c.status?e.active_student_sessions.push(c):(6===c.status||7===c.status||8===c.status)&&e.previous_student_sessions.push(c)}var d=e.guru_relationships;if(e.gurus=e.guru_relationships,d&&d.length>0)for(var o=0;o<d.length;o++){var p=d[o],h=p.sessions[0].course;e.course_guru_dict[h.short_name]?e.course_guru_dict[h.short_name].push(p):e.course_guru_dict[h.short_name]=[p]}var f=e.student_ratings;if(f&&f.length>0)for(var o=0;o<f.length;o++){var g=f[o];0===g.guru_rating&&e.id===g.student_id&&(g.session&&g.session.transaction&&(g.session.transaction.student_amount=parseFloat(g.session.transaction.student_amount).toFixed(2),g.session.transaction.guru_amount=parseFloat(g.session.transaction.guru_amount).toFixed(2)),e.pending_guru_ratings.push(g))}e.student_avg_rating=r(f);var m=e.student_transactions;MONTHS=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];for(var o=0;o<m.length;o++){var v=Date.parse(m[0].time_created),b=new Date(v);e.student_transactions[o].time={date:b.getDate(),month:MONTHS[b.getMonth()]},e.student_transactions[o].student_amount=parseFloat(e.student_transactions[o].student_amount).toFixed(2),e.student_transactions[o].guru_amount=parseFloat(e.student_transactions[o].guru_amount).toFixed(2),e.student_transactions[o].student_rate=5}for(var y=e.guru_transactions,o=0;o<y.length;o++){var v=Date.parse(y[0].time_created),b=new Date(v);e.guru_transactions[o].time={date:b.getDate(),month:MONTHS[b.getMonth()]},e.guru_transactions[o].student_amount=parseFloat(e.guru_transactions[o].student_amount).toFixed(2),e.guru_transactions[o].guru_amount=parseFloat(e.guru_transactions[o].guru_amount).toFixed(2),e.guru_transactions[o].guru_rate=5}for(var _=e.transfer_transactions,o=0;o<_.length;o++){var v=Date.parse(_[0].time_created),b=new Date(v);e.transfer_transactions[o].time={date:b.getDate(),month:MONTHS[b.getMonth()]},e.transfer_transactions[o].student_amount=parseFloat(e.transfer_transactions[o].student_amount).toFixed(2),e.transfer_transactions[o].guru_amount=parseFloat(e.transfer_transactions[o].guru_amount).toFixed(2)}if(e.is_a_guru){console.log("processing guru"),e.active_proposals=[],e.pending_proposals=[],e.active_guru_sessions=[],e.previous_guru_proposals=[],e.pending_student_ratings=[],e.previous_guru_sessions=[];var w=e.guru_ratings;if(e.guru_avg_rating=r(w),console.log(),e.guru_avg_rating||(e.guru_avg_rating=0),w&&w.length>0)for(var o=0;o<w.length;o++){var g=w[o];0===g.student_rating&&e.id===g.guru_id&&(g.session&&g.session.transaction&&(g.session.transaction.student_amount=parseFloat(g.session.transaction.student_amount).toFixed(2),g.session.transaction.guru_amount=parseFloat(g.session.transaction.guru_amount).toFixed(2)),e.pending_student_ratings.push(g))}for(var $=e.grade_dict,k=e.university.num_gurus,o=0;o<$.length;o++){var S=$[o][0],x=$[o][1],C=e.official_guru_rank/k*100;if(C>=x){e.official_guru_grade=S;break}}var T=e.guru_sessions;if(T&&T.length>0)for(var o=0;o<T.length;o++){var c=T[o];0===c.status||1===c.status||2===c.status?e.active_guru_sessions.push(c):(6===c.status||7===c.status||8===c.status)&&e.previous_guru_sessions.push(c)}var M=e.proposals;if(e.proposals&&e.proposals.length>0){for(var o=0;o<M.length;o++){var E=M[o];0===E.status&&0!==E.request.status&&e.previous_guru_proposals.push(E),0===E.status&&0===E.request.status&&e.active_proposals.push(E),2===E.status&&e.pending_proposals.push(E)}e.active_proposals&&e.active_proposals.length>0&&i(function(){var t=e.active_proposals[0],i={requestObj:JSON.stringify(t.request),proposalObj:JSON.stringify(t)};"root.guru.home"===n.current.name&&n.go("^.student-available",i)},500)}}return e},a=function(t,n){var i=n;t.user||t.user===u(),t.user.updateAttr=o.updateAttrUser,t.user.createObj=o.createObj,t.user.updateObj=o.updateObj,t.user.id=i.id,t.user.name=i.name,t.user.profile_url=i.profile_url,t.user.is_a_guru=i.is_a_guru,t.user.gender=i.gender,t.user.customer_id=i.customer_id,t.user.recipient_id=i.recipient_id,t.user.auth_token=i.auth_token,t.user.fb_id=i.fb_id,t.user.files=i.files,t.user.default_card=i.default_card,t.user.password=i.password,t.user.guru_introduction=i.guru_introduction,t.user.tos_version=i.tos_version,t.user.university_id=i.university_id,t.user.university=i.university,t.user.recent_latitude=i.recent_latitude,t.user.recent_longitude=i.recent_longitude,t.user.location_services_enabled=i.location_services_enabled,t.user.majors=i.majors,t.user.guru_courses=i.guru_courses,t.user.student_courses=i.student_courses,t.user.student_sessions=i.student_sessions,t.user.guru_sessions=i.guru_sessions,t.user.push_notifications=i.push_notifications,t.user.push_notifications_enabled=i.push_notifications_enabled,t.user.guru_score=i.guru_score,t.user.last_position=i.last_position,t.user.requests=i.requests,t.user.sessions=i.sessions,t.user.proposals=i.proposals,t.user.cards=i.cards,t.user.student_transactions=i.student_transactions,t.user.guru_transactions=i.guru_transactions,t.user.transfer_transactions=i.transfer_transactions,t.user.transfer_cards=i.transfer_cards,t.user.payment_cards=i.payment_cards,t.user.default_payment_card=i.default_payment_card,t.user.default_transfer_card=i.default_transfer_card,t.user.course_guru_dict=i.course_guru_dict,t.user.gurus=i.gurus,t.user.guru_relationships=i.guru_relationships,t.user.referred_by=i.referred_by,t.user.current_device=i.current_device,t.user.devices=i.devices,t.user.current_hourly=i.current_hourly,t.user.previous_guru_proposals=i.previous_guru_proposals,t.user.text_notifications=i.text_notifications,t.user.email_notifications=i.email_notifications,t.user.email=i.email,t.user.push_notifications=i.push_notifications,t.user.phone_number=i.phone_number,t.user.active_proposals=i.active_proposals,t.user.impact_events=i.impact_events,t.user.pending_proposals=i.pending_proposals,t.user.active_guru_sessions=i.active_guru_sessions,t.user.pending_student_ratings=i.pending_student_ratings,t.user.previous_guru_sessions=i.previous_guru_sessions,t.user.active_requests=i.active_requests,t.user.pending_guru_ratings=i.pending_guru_ratings,t.user.pending_student_ratings=i.pending_student_ratings,t.user.incoming_requests=i.incoming_requests,t.user.previous_requests=i.previous_requests,t.user.active_student_sessions=i.active_student_sessions,t.user.previous_student_sessions=i.previous_student_sessions,t.user.balance=i.balance,t.user.estimated_guru_rank=i.estimated_guru_rank,t.user.official_guru_rank=i.official_guru_rank,t.user.estimated_guru_score=i.estimated_guru_score,t.user.official_guru_score=i.official_guru_score,t.user.estimated_guru_rank_last_updated=i.estimated_guru_rank_last_updated,t.user.official_guru_rank_last_updated=i.official_guru_rank_last_updated,t.user.guru_avg_rating=i.guru_avg_rating,t.user.student_avg_rating=i.student_avg_rating,t.user.student_ratings=i.student_ratings,t.user.guru_ratings=i.guru_ratings,t.user.summer_15=i.summer_15,t.user.uber_friendly=i.uber_friendly,t.user.outside_university=i.outside_university,t.user.official_guru_grade=i.official_guru_grade,t.user.grade_dict=i.grade_dict,t.user.guru_score_opportunities=i.guru_score_opportunities,e.setObject("user",t.user)},l=function(e){if(e.user.impact_events.length>0){var t=e.user.impact_events[0];if(t.impacted_user_id===e.user.id&&!t.impacted_user_notified){var n=function(){e.user.updateAttr("impact_event",e.user,t.id,null,e)};4===t.status&&t.session_id?e.root.dialog.alert("Unfortunately your student canceled on you","Sorry!","OK",n):5===t.status&&t.session_id&&e.root.dialog.alert("Unfortunately your student canceled on you","Sorry!","OK",n),e.user.impact_events.splice(0,1)}}},u=function(e){var t={};e=["name","email","last_position","deactivated","university","university_id","onboarding","current_device","auth_token","majors","guru_mode","is_a_guru","active_requests"],one_to_many_properties=["all_positions","active_sessions","student_sessions","guru_sessions","conversations","devices","gurus","cards","requests","student_ratings","guru_ratings","student_courses","cashout_cards"];for(var n=0;n<e.length;n++){var i=e[n];t[i]=null}for(var n=0;n<one_to_many_properties.length;n++){var i=one_to_many_properties[n];t[i]=[]}return t};return o={create:function(e){return t.one("user").customPOST(JSON.stringify(e))},login:function(e){return t.one("user").customPUT(JSON.stringify(e))},initUser:function(){var e=u();return e},process_results:function(e){return e=s(e)},assign_properties_to_root_scope:function(e,t){a(e,t)},delegate_actions_from_processed_user:function(e){return l(e)},update:function(e){return console.log("user saved remotely!"),t.one("user").customPUT(JSON.stringify(e))},updateAttr:function(e,n){return t.one("user",n).customPUT(JSON.stringify(e))},updateLocal:function(t){e.setObject("user",t)},getPayload:function(e,t,n){return"add_student_course"===e?{course:n,add_student_course:!0}:"add_guru_course"===e?{course:n,add_guru_course:!0}:"remove_guru_course"===e?{course:n,remove_guru_course:!0}:"remove_student_course"===e?{course:n,remove_student_course:!0}:"email"===e?{email:n,email:!0}:"phone_number"===e?{phone_number:n,phone_number:!0}:"add_user_major"===e?{major:n,add_user_major:!0}:"add_guru_intro"===e?{introduction:n,add_guru_intro:!0}:"impact_event"===e?{event_id:n,impact_event:!0}:"university_id"===e?{university_id:n}:"is_a_guru"===e?{is_a_guru:n}:"guru_mode"===e?{guru_mode:n}:"profile_info"===e?{profile_info:n}:"change_password"===e?{change_password:n}:"push_notifications"===e?{push_notifications:n}:"email_notifications"===e?{email_notifications:n}:"text_notifications"===e?{text_notifications:n}:"phone_number"===e?{phone_number:n}:"uber_friendly"===e?{uber_friendly:n}:"summer_15"===e?{summer_15:n}:"outside_university"===e?{outside_university:n}:"devices"===e?n:void 0},getUserFromServer:function(n,i,o){if(!(n&&n.root&&n.root.vars.fetch_user_server_mutex)){if(n&&n.root&&!n.root.vars.fetch_user_server_mutex&&(n.root.vars.fetch_user_server_mutex=!0),n)var r=n.user.id;else console.log("accessing user from local.."),r=e.getObject("user").id;if(!r)return void console.log("Cant fetch user, user not logged in");t.one("user",r).customGET().then(function(e){var t=s(e.plain());console.log("retrieved user from server"),n&&(n.root.vars.fetch_user_server_mutex=!1,a(n,t),l(n),n.loader&&n.loader.hide(),i&&i(n))},function(e){console.log(e),console.log("err...something went wrong")}),"root.student.home"===o.current.name||"root.guru.home"===o.current.name}},createObj:function(i,o,r,u,c,d){"requests"===o?t.one("user",i.id).one(o).customPOST(JSON.stringify(r)).then(function(e){var t=s(e.plain());a(u,t),l(u),c&&c(u,n),u.loader.hide()},function(e){409===e.status?c&&(c(u),alert("already have an active request for this course!")):(console.log(JSON.stringify(e)),d&&d(u),console.log("error...something happened with the server;"))}):"cards"===o?t.one("user",i.id).one(o).customPOST(JSON.stringify(r)).then(function(t){var n=s(t);a(u,n),l(u),e.setObject("user",u.user)},function(e){console.log(e),console.log("error...something happened with the server;")}):"transactions"===o?t.one("user",i.id).one(o).customPOST(JSON.stringify(r)).then(function(t){var n=s(t);a(u,n),l(u),e.setObject("user",u.user)},function(e){console.log(e),console.log("error...something happened with the server;")}):"files"===o?t.one(o).withHttpConfig({transformRequest:angular.identity}).customPOST(r,"",void 0,{"Content-Type":void 0}).then(function(t){console.log(JSON.stringify(t.plain())),u.root.vars.request||"root.student-request"===n.current.name?u.root.vars.request.files.push(t.plain()):(u.user.profile_url=t.plain().url,e.setObject("user",u.user)),u.loader.hide(),"root.request-description"!==n.current.name&&u.success.show(0,1500)},function(e){console.log(e),console.log("error...something happened with the server;")}):"sessions"===o?t.one("user",i.id).one(o).customPOST(JSON.stringify(r)).then(function(t){var n=s(t.plain());e.setObject("user",n),console.log("student has accepted guru"),console.log(n),c&&c(u,n)},function(e){console.log(e),console.log("error...something happened with the server;")}):"messages"===o?t.one("user",i.id).one("sessions",r.message.session_id).one(o).customPOST(JSON.stringify(r)).then(function(t){var n=s(t);e.setObject("user",n),c&&c(u,n)},function(e){console.log(e),console.log("error...something happened with the server;")}):"device"===o&&t.one(o).customPOST(JSON.stringify(r)).then(function(t){u.user.current_device=t,e.setObject("user",u.user)},function(e){console.log(e),console.log("error...something happened with the server;")})},updateObj:function(n,i,o,r,u){"requests"===i&&t.one("user",n.id).one(i).customPUT(JSON.stringify(o)).then(function(t){var n=s(t);a(r,n),l(r),e.setObject("user",r.user),u&&u(r,n)},function(e){409===e.status?console.log("already have an active request"):(console.log(e),console.log("error...something happened with the server;"))}),"sessions"===i&&t.one("user",n.id).one(i).customPUT(JSON.stringify(o)).then(function(e){var t=s(e);a(r,t),l(r),u&&u()},function(e){409===e.status?console.log("already have an active request"):(console.log(e),console.log("error...something happened with the server;"))}),"ratings"===i&&t.one("user",n.id).one(i).customPUT(JSON.stringify(o)).then(function(t){var n=s(t);e.setObject("user",n),u&&u(r,n)},function(e){409===e.status?console.log("already have an active request"):(console.log(e),console.log("error...something happened with the server;"))}),"cards"===i&&t.one("user",n.id).one(i).customPUT(JSON.stringify(o)).then(function(t){var n=s(t.plain());console.log(n),a(r,n),l(r),e.setObject("user",r.user),u&&u(r,n)},function(e){409===e.status?console.log("already have an active request"):(console.log(e),console.log("error...something happened with the server;"))}),"devices"===i&&t.one("devices",n.id).customPUT(JSON.stringify(o)).then(function(t){r.user.current_device=t,e.setObject("user",r.user)},function(e){409===e.status?console.log("already have an active request"):(console.log(e),console.log("error...something happened with the server;"))})},updateAttrUser:function(t,n,i,r,u){if(!n.id)return void console.log("user has not created an account yet.");var c=o.getPayload(t,n,i);o.updateAttr(c,n.id).then(function(t){var n=s(t.plain());console.log(n),a(u,n),l(u),e.setObject("user",u.user),r&&r()},function(e){r?r(e):(console.log(e),console.log("error...something happened with the server;"))})},getLocal:function(){var t=e.getObject("user");if(0===t.length){var n=u();if(e.setObject("user",n),!n.devices||!n.current_device){var i=e.getObject("device");i&&(n.devices.push(i),n.current_device=i)}return n}return t},logout:function(){e.removeObject("user")}}}]),angular.module("uguru.version",[]).factory("Version",["$localstorage","Restangular",function(e,t){var n;return n={setVersion:function(t){e.set("version",t)},getVersion:function(){return e.get("version")},getUpdatedVersionNum:function(){return t.one("version").get()}}}]),angular.module("uguru.root.services",[]).service("RootService",["$cordovaKeyboard","$localstorage","$timeout","$cordovaProgress","$cordovaDialogs","$ionicHistory","$ionicViewSwitcher","$state",function(e,t,n,i,o,r,s,a){return this.util={objectFindByKey:function(e,t,n){for(var i=0;i<e.length;i++)if(e[i][t]===n)return e[i];return null},objectFindByIndexByKey:function(e,t,n){for(var i=0;i<e.length;i++)if(e[i][t]===n)return i;return null},updateObjectByKey:function(e,t,n,i,o){for(var r=0;r<e.length;r++)if(e[r][t]===n)return e[r][i]=o,!0;return console.log("object not found for key",t,"value",n),null},removeObjectByKey:function(e,t,n){for(var i=0;i<e.length;i++)if(e[i][t]===n)return void e.splice(i,1);return console.log("object not found for key",t,"value",n),null}},this.keyboard={close:function(){window.cordova&&window.cordova.plugins.Keyboard&&e.close()},isVisible:function(){return e.isVisible()},show:function(e,t){var i=t||.1;this.forceOff()||n(function(){document.getElementsByName(e)[0].focus()},i)},forceOff:function(e){var n=t.get("keyboard_force_off",null);return n||null!==e?null===e?n:void t.setObject("keyboard_force_off",e):(t.setObject("keyboard_force_off",!1),!1)}},this.progress={showSuccess:function(){return!1},isVisible:function(e){var n=t.get("is_progress_visible",null);return n||null!==e?null===e?n:void t.setObject("is_progress_visible",e):(t.setObject("is_progress_visible",!1),!1)}},this.button={showButtonPressedAndHide:function(e){e.classList.add("active"),n(function(){e.classList.remove("active")},250)}},this.nav={goBack:function(){console.log("root nav go back was clicked"),s.nextDirection("back"),a.go("^.student-home")}},this.dialog={alert:function(e,t,n,i){o.alert(e,t,n).then(function(){i&&i()})},confirm:function(e,t,n,i){o.confirm(e,t,n).then(function(e){1===e&&i[0]&&i[0](),2===e&&i[1]()})}},this}]),angular.module("uguru.services",[]).service("AuthService",AuthService=function(e,t,n){return this.login=function(t){var i=this;return deferred=e.defer(),n.create(t,!0).then(function(e){return i.setToken(t),deferred.resolve(e)},function(e){if(401==e.status)return deferred.reject(!1);throw new Error("No handler for status code "+e.status)}),deferred.promise},this.logout=function(){t.clearAll()},this.isAuthenticated=function(){var e=this.getToken();return e?!0:!1},this.setToken=function(e){t.set("token",btoa(e.email+":"+e.password))},this.getToken=function(){return t.get("token")},this}),angular.module("uguru.root.services").service("Popover",["$localstorage","$timeout","$popover",function(e,t,n){return this.tutorial={init:function(e,t){var i=angular.element(document.querySelector(t.targetElement)),o={animation:t.animation,placement:t.placement,template:BASE+"templates/generalPopover.html",delay:t.delay||500,scope:e};return e.templateOptions={title:t.title,buttonText:t.buttonText,body:t.body},n(i,o)}},this}]),angular.module("uguru.root.services").service("Popup",["$localstorage","$timeout","$ionicPopup",function(e,t,n){return this.options={show:function(e,i){var o={templateUrl:BASE+"templates/generalConfirmPopup.html",cssClass:"popup-uguru",scope:e};e.confirmPopupOptions={header:i.header,body:i.body,positiveBtnText:i.positiveBtnText,negativeBtnText:i.negativeBtnText},e.popup,t(function(){e.popup=n.show(o),t(function(){document.getElementById("popup-cancel-btn").addEventListener("click",function(){i.onFailure&&i.onFailure(),e.popup.close()}),document.getElementById("popup-positive-btn").addEventListener("click",function(){i.onSuccess&&i.onSuccess(),e.popup.close()})},i.delay)},i.pre_delay)}},this}]);var processFileType=function(e){return-1!==e.indexOf("image/")?e.split("/")[1]:void 0},processFileSize=function(e){return Math.round(parseInt(e)/1e3,2)};angular.module("uguru.root.services").service("Camera",["$localstorage","$timeout","$cordovaCamera","$state",function(e,t,n,i){return deviceCamera={takePicture:function(e,o){if(e.platform.mobile);var r={quality:15,destinationType:Camera.DestinationType.DATA_URL,sourceType:o,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:500,targetHeight:500,saveToPhotoAlbum:!1};n.getPicture(r).then(function(n){if("root.guru-profile-edit"===i.current.name)var o=document.getElementsByClassName("guru-profile-container")[0];else if("root.guru-profile"===i.current.name)var o=document.getElementsByClassName("guru-prof-pic")[0];else if("root.student-home"===i.current.name)var o=document.getElementsByClassName("student-prof-pic")[0];else{e.attached_files.push({type:"jpeg",size:processFileSize(n.length)}),e.initTimer(e.file_index);var o=document.getElementsByClassName("attachment-container")[e.file_index]}o.src="data:image/jpeg;base64,"+n;var r=new FormData;r.append("file",n);var s=(new Date).getTime().toString();r.append("filename",s),"root.request-description"!==i.current.name?r.append("profile_url",e.user.id):(e.file_index+=1,t(function(){e.attached_files[e.file_index-1].show=!0},3e3)),e.user.createObj(e.user,"files",r,e)},function(e){console.log(e),"No camera available"===e&&alert("Sorry! It appears that there is no Camera or Photo Library Accessible. Please contact support.")})}},deviceCamera}]),angular.module("uguru.root.services").service("Geolocation",["$localstorage","$timeout","$cordovaGeolocation","RootService","Popup","University",function(e,t,n,i,o,r){var s=function(e,t){e.loader.hide(),t.go("^.onboarding-nearest-university")},a=function(t,i,o,a){var l={timeout:1e4,enableHighAccuracy:!1};t.platform.android||"root.onboarding-loading"===a.current.name||t.loader.show(),n.getCurrentPosition(l).then(function(o){console.log("user is at "+o.coords.latitude+","+o.coords.longitude),t.user.position=o,t.requestPosition=o,t.location_error=null,t.user&&t.user.current_device&&(t.user.current_device.location_enabled=!0,t.user.updateObj(t.user.current_device,"devices",t.user.current_device,t)),t["static"].universities&&t["static"].universities.length>0?(console.log("universities already loaded! Calculating nearest university..."),i||(i=s),getNearestUniversity(o.coords.latitude,o.coords.longitude,t["static"].universities,100,e,t,i,a)):(console.log("universities not loaded :( :( trying to get again.."),on_app_open_retrieve_objects(t,a,e,r,s,n))},function(e){t.loader.hide(),console.log(e),o&&o(t,a),1===e.code&&(console.log("user denied permission"),t.location_error="denied",t.user.current_device.location_enabled=!1,t.user.updateObj(t.user.current_device,"devices",t.user.current_device,t)),2===e.code&&(console.log("user position is unavailable"),t.user.current_device.location_enabled=!1,t.user.updateObj(t.user.current_device,"devices",t.user.current_device,t),t.location_error="unavailable"),3===e.code&&(console.log("GPS timed out"),t.user.current_device.location_enabled=!1,t.user.updateObj(t.user.current_device,"devices",t.user.current_device,t),t.location_error="timeout")})};return deviceGPS={getUserPosition:function(e,t,n,i){e.platform.ios&&!e.user.current_device.location_enabled?o.options.show(e,{header:"Mind if we use your location?",body:"uGuru uses your location to match you up with students on campus.",positiveBtnText:"SURE",negativeBtnText:"NO THANKS",delay:500,onFailure:function(){console.log("failed to get device location"),e.user.current_device.location_enabled=!1,"root.onboarding-location"!==i.current.name&&e.user.updateObj(e.user,"devices",e.user.current_device,e),n(e,i)},onSuccess:function(){console.log("succeeded in getting device location"),a(e,t,n,i)}}):e.user&&e.user.current_device&&e.user.current_device.location_enabled?a(e,t,n,i):e.platform.android?a(e,t,n,i):e.platform.web&&navigator.geolocation&&(console.log("user is on desktop"),a(e,t,n,i))}},deviceGPS}]),angular.module("uguru.root.services").service("CordovaPushWrapper",["$localstorage","$timeout","$cordovaPush","$cordovaMedia","$cordovaDialogs","Popup",function(e,t,n,i,o,r){function s(e,t){e.platform.ios&&!e.user.current_device.push_notif_enabled?(e.popupScope.push_options={header:"Be notified immediately",body:"Gurus will reply to your request and are also busy. We want to make sure that you never miss any opportunity to connect.",positiveBtnText:"OK",negativeBtnText:"Nah",delay:500,pre_delay:1500,onFailure:function(){e.user.current_device.push_notif_enabled=!1,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),t&&t()},onSuccess:function(){c(e,t)}},r.options.show(e.popupScope,e.popupScope.push_options)):c(e)}function a(e,t){if(console.log("In foreground "+e.foreground+" Coldstart "+e.coldstart),"registered"==e.event){var n=e.regid;t.user.current_device.push_notif=n,t.user.current_device.push_notif_enabled=!0,console.log(n)}else"message"==e.event?o.alert(e.message,"Push Notification Received"):"error"==e.event?o.alert(e.msg,"Push notification error event"):o.alert(e.event,"Push notification handler - Unprocessed Event")}var l={badge:!0,sound:!0,alert:!0},u={senderID:"413826461390",ecb:"angular.element(document.body).injector().get('$cordovaPush').onNotification"},c=function(e,t){var i;i=e.platform.ios?l:u,n.register(i).then(function(n){console.log("Register success "+n),console.log(JSON.stringify(n)),e.platform.ios&&(e.user.push_notifications=!0,e.user.current_device.push_notif=n,e.user.current_device.push_notif_enabled=!0,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),t&&t())},function(n){e.user.push_notifications=!1,e.user.current_device.push_notif_enabled=!1,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),console.log("Register error "+n),t&&t()})};return cordovaPushWrapper={register:function(e,t){s(e,t)},received:function(e,t,n){e.platform.ios?handleiOS(n,e):a(n,e)}},cordovaPushWrapper}]),angular.module("uguru.student.controllers",[]).controller("StudentHomeController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$cordovaKeyboard","$q","University","$templateCache","$ionicHistory","$ionicBackdrop","User","$ionicHistory","CordovaPushWrapper","$ionicPlatform","$rootScope","$cordovaPush","$ionicPlatform","$ionicBackdrop","$document","$ionicPopover","$cordovaStatusbar","$ionicViewSwitcher","Camera",function(e,t,n,i,o,r,s,a,l,u,c,d,p,h,f,g,m,v,b,m,p,y,_,w,$,k){console.log(e.user),m.ready(function(){e.turnStatusBarWhite=function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))},e.turnStatusBarBlack=function(){window.StatusBar&&(StatusBar.styleDefault(),StatusBar.overlaysWebView(!0))}}),_.fromTemplateUrl("templates/gettingStartedPopover.html",{scope:e}).then(function(t){e.popover=t}),_.fromTemplateUrl("templates/gettingStartedRequestHelpPopover.html",{scope:e}).then(function(t){e.popoverTwo=t}),e.openGeneralPopover=function(t,n){e.genPopup={options:n},_.fromTemplateUrl("templates/generalPopup.html",{scope:e}).then(function(n){e.genPopup.popover=n,e.genPopup.popover.show(t)})},e.closeGenPopup=function(){e.genPopup.popover.hide()},e.openPopover=function(t){e.popover.show(t)},e.closePopover=function(){e.popover.hide()},e.openPopoverTwo=function(t){e.popoverTwo.show(t)},e.closePopoverTwo=function(){e.popoverTwo.hide()},e.testBackdrop=function(){},e.getNumber=function(e){return new Array(e)},e.tabClicked=function(){console.log("sup")},e.getNumber=function(e){return new Array(e)},e.checkForRatings=function(){(e.user.pending_guru_ratings||e.user.pending_student_ratings)&&(e.user.pending_guru_ratings.length>0&&!e.user.guru_mode||e.user.pending_student_ratings.length>0&&e.user.guru_mode)&&(r.fromTemplateUrl(BASE+"templates/ratings.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.ratingModal=t}),i(function(){e.ratingModal.isShown()||e.ratingModalShown||e.ratingModal.show()},1e3))},e.getActiveRequestByCourse=function(t){for(var n=e.user.active_requests,i=0;i<n.length;i++){var o=n[i];if(o.course.short_name===t.short_name)return o}return!1},r.fromTemplateUrl(BASE+"templates/add-course.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addCourseModal=t}),r.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),r.fromTemplateUrl(BASE+"templates/signup.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.signupModal=t}),r.fromTemplateUrl(BASE+"templates/become-guru.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.becomeGuruModal=t}),e.closeKeyboard=function(){(window.cordova&&window.cordova.plugins.Keyboard||e.platform&&e.platform.android)&&a.close()},e.switchToGuruMode=function(){e.bottomTabsDelegate.select(1),$.nextDirection("forward"),e.user.guru_mode=!0,mixpanel.track("Guru.home"),t.go("^.guru-home")},e.goToRequest=function(n){e.loader.show(),$.nextDirection("forward"),e.root.vars.request={type:{in_person:!0,online:!0},_length:{hours:2,minutes:1},calendar_selected:!1,description:null,location:null,files:[],calendar:{data:{},calendar_selected:!1},contact:{email:!1,phone:!1,push_notif:!1,email_address:"",phone_number:""}},e.root.vars.request.course=n,mixpanel.track("Student.request"),t.go("^.student-request",{courseObj:JSON.stringify(n)})},e.showButtonPressed=function(e,t){document.getElementsByClassName(t)[0].classList.add("active")},e.showButtonReleased=function(e,t){document.getElementsByClassName(t)[0].classList.remove("active")},e.goToRequestStatus=function(n,i){$.nextDirection("forward"),e.root.vars.request_status_callback=i,$.nextDirection("forward"),mixpanel.track("Student.request.status"),t.go("^.student-request-status",{requestObj:JSON.stringify(n)})
},e.goToActiveSession=function(e){mixpanel.track("Student.session"),t.go("^.active-student-session",{sessionObj:JSON.stringify(e)})},e.goToBecomeGuru=function(){mixpanel.track("Guru.wizard"),t.go("^.guru-wizard"),e.bottomTabsDelegate.select(0),i(function(){e.becomeGuruModal.hide()},300)},e.goToNotifications=function(){$.nextDirection("forward"),mixpanel.track("Settings.notifications"),t.go("^.settings-notifications")},e.goToGuruMode=function(){e.user.auth_token?(e.turnStatusBarWhite&&e.turnStatusBarWhite(),e.becomeGuruModal.show()):(e.becomeGuruButtonClicked=!0,e.signupModal.show())},e.goToTransferFunds=function(){e.user.auth_token?(mixpanel.track("Setting.transfer"),t.go("^.settings-transfer")):e.signupModal.show()},e.goToCards=function(){e.user.auth_token?e.user.payment_cards&&0===e.user.payment_cards.length?($.nextDirection("forward"),mixpanel.track("Add.payment"),t.go("^.add-payment")):(mixpanel.track("Student.setting.cards"),t.go("^.student-settings-cards")):e.signupModal.show()},e.showLoginModal=function(){e.userClickedLoginModal=!0,e.signupModal.show()},e.showSignupModal=function(){e.userClickedLoginModal=!1,e.signupModal.show()},e.takePhoto=function(){if(e.platform.mobile)k.takePicture(e);else{var t=document.getElementById("guru-file-input-web");t.click()}},e.file_changed=function(t){var n=t.files[0],i=new FileReader,o=document.getElementsByClassName("Settings-prof-pic")[0];i.onload=function(e){o.src=e.target.result},i.readAsDataURL(n);var r=new FormData;r.append("file",n),r.append("profile_url",e.user.id),e.user.createObj(e.user,"files",r,e)},e.goToEditProfile=function(){$.nextDirection("forward"),mixpanel.track("Setting.profile"),t.go("^.settings-profile")},e.clearCache=function(){e.user={},o.removeObject("courses"),o.removeObject("universities"),e.rootUser.logout(e.user),f.clearCache(),f.clearHistory(),window.localStorage.clear(),e.bottomTabsDelegate.select(0),e.success.show(0,1e4,"Cache successfully cleared! Please close the app completely & open again.")},e.logoutUser=function(){o.setObject("user",[]),e.user=h.getLocal(),e.user.updateAttr=h.updateAttrUser,e.user.createObj=h.createObj,e.user.updateObj=h.updateObj,alert("You have been logged out!"),e.signupModal.show()},e.goToPreviousSessionDetails=function(e){mixpanel.track("Previous.session.details"),t.go("^.previous-session-details",{sessionObj:JSON.stringify(e)})},e.goToSettingsTab=function(){e.root.vars.select_bottom_three=!0,e.bottomTabsDelegate.select(2)},e.$on("$ionicView.beforeEnter",function(){e.topTabsDelegate||(e.topTabsDelegate=s.$getByHandle("student-home-tabs-top")),e.bottomTabsDelegate||(e.bottomTabsDelegate=s.$getByHandle("student-home-tabs-bottom")),e.root.vars.select_bottom_one?(console.log("view before enter"),e.bottomTabsDelegate.select(0),e.root.vars.select_bottom_one=null):e.root.vars.select_bottom_three?(e.bottomTabsDelegate.select(2),e.root.vars.select_bottom_three=null):e.root.vars.select_bottom_two&&(e.bottomTabsDelegate.select(1),e.root.vars.select_bottom_two=null),e.loader.hide()}),e.$on("$ionicView.enter",function(){console.log("view has entered",e.root.vars.recent_switched_modes),o.setObject("user",e.user),h.getUserFromServer(e,null,t),e.root.vars.fetch_user_server_mutex=!0,e.user.guru_mode=!1,e.root.vars.guru_mode=!1}),e.$on("$ionicView.loaded",function(){h.getUserFromServer(e,null,t),e.topTabsDelegate=s.$getByHandle("student-home-tabs-top"),e.bottomTabsDelegate=s.$getByHandle("student-home-tabs-bottom"),e.bottomTabsDelegate.select(1),1===e.bottomTabsDelegate.selectedIndex()&&e.showOnboardingAddClass(),window.StatusBar&&StatusBar.styleDefault(),e.base_url=BASE,e.progress_active=!1,e.checkForRatings()}),e.$on("$ionicView.beforeLeave",function(){console.log(t.current.name,"leaving...")}),e.$on("$ionicView.afterEnter",function(){e.loader.hide()}),e.showBouncingRedAlert=function(e,t){i(function(){console.log("this is when the animation should happen"),document.querySelectorAll(".badge-danger")[0].className="badge badge-danger animated bounce infinite",i(function(){document.querySelectorAll(".badge-danger")[0].className="badge badge-danger"},t)},e)},e.showOnboardingAddClass=function(){e.user.student_courses&&0===e.user.student_courses.length&&i(function(){var t=document.getElementById("add-course-item");e.openPopover(t)},1e3)},e.showOnboardingRequestHelp=function(){e.user.student_courses&&0===e.user.student_courses.length&&i(function(){var t=document.getElementById("add-course-item");e.openPopover(t)},1e3)},e.$on("modal.shown",function(){e.turnStatusBarWhite&&e.turnStatusBarWhite(),window.StatusBar&&(console.log("status bar exists"),StatusBar.styleLightContent()),e.ratingModalShown=!1}),e.showFirstTimeRequestSessionPopup=function(){var t={header:"Sit back and relax",body:"Anytime you request help, click here to check your status",closeButtonText:"Got it",targetName:"bottom-sessions-tab"},n=document.getElementById("bottom-sessions-tab");i(function(){e.openGeneralPopover(n,t)},3e3)}}]),angular.module("uguru.student.controllers").controller("StudentActiveSession",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$stateParams","Geolocation","$cordovaGeolocation","Restangular","$ionicPlatform","$cordovaActionSheet",function(e,t,n,i,o,r,s,a,l,u,c,d){c.ready(function(){var t={title:"Session Options",buttonLabels:["Request Details"],addCancelButtonWithLabel:"Close",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0,addDestructiveButtonWithLabel:"Cancel Request"};e.showOptions=function(){d.show(t).then(function(t){1===t&&e.session&&cancelSession(e.session)})}}),e.getCurrentDate=function(){var e=new Date,t=e.getHours()%12,n=e.getMinutes();return ending=e.getHours()>=12?"PM":"AM",result=t+":"+n+" "+ending,result},e.cancelSession=function(){var n=function(){e.session.status=4;var n={session:e.session};e.user.previous_student_sessions.push(e.session),e.root.util.removeObjectByKey(e.user.active_student_sessions,"id",e.session.id),e.root.util.updateObjectByKey(e.user.student_sessions,"id",e.session.id,"status",4),mixpanel.track("Home"),t.go("^.home"),e.user.updateObj(e.user,"sessions",n,e)},i={message:"Are you sure? This will be closely investigated by us and may impact your Student ranking.",title:"Cancel Session",button_arr:["Never Mind","Cancel Session"],callback_arr:[null,n]};e.root.dialog.confirm(i.message,i.title,i.button_arr,i.callback_arr)},e.getCurrentPositionAndSync=function(i){var o={timeout:1e4,enableHighAccuracy:!1};return"root.active-student-session"!==t.current.name?void console.log("do not run background script anymore... quitting"):void l.getCurrentPosition(o).then(function(o){console.log("syncing new location wit the server"),e.syncPositionWithServer(o),e.student_position=o,console.log("results returned student position, which is",JSON.stringify(o)),i&&"root.student-active-session"===t.current.name&&(console.log("we are still in state",t.current.name,"so lets sync again in",i,"seconds"),n(function(){e.getCurrentPositionAndSync(i)},i))},function(e){console.log(e)})},e.sortPositionComparator=function(e,t){return e.id-t.id},e.syncPositionWithServer=function(n,i){if(i)var o={session_position_student:!0,position:n,session:e.session};else var o={session_position_student:!0,position:n.coords,session:e.session};u.one("user",e.user.id).one("sessions").customPUT(JSON.stringify(o)).then(function(o){return pos=o.plain().student_sessions.map(function(e){return e.student_id}).indexOf(o.id),-1!==pos&&(e.session=o.student_sessions[pos]),e.session.student_positions.sort(e.sortPositionComparator),e.session.guru_positions.sort(e.sortPositionComparator),e.guru_position=e.session.guru_positions[(e.session.guru_positions.length-2,e.session.guru_positions.length-1)],e.student_position=e.session.student_positions[(e.session.student_positions.length-2,e.session.student_positions.length-1)],e.last_updated=e.getCurrentDate(),console.log("drawing map with both student & guru"),e.drawGoogleMap(e.student_position,e.guru_position),"root.active-student-session"!==t.current.name?void console.log("do not run background script anymore"):void(i&&i(n))},function(e){console.log(e),console.log("error...something happened with the server;")})},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.drawGoogleMap=function(t,n,i){t||(t={latitude:e.user.university.latitude,longitude:e.user.university.longitude});var o=document.getElementById("map_canvas"),r=e.createGoogleLatLng(parseFloat(t.latitude),parseFloat(t.longitude)),s={center:r,zoom:15,disableDefaultUI:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}};e.platform.web&&(s.zoomControl=!0);var a=new google.maps.Map(o,s);e.actual_map=a,i&&e.drawGoogleMarkers(t,n,a)},e.drawGoogleMarkers=function(t,n,i){if(t){var o=e.createGoogleLatLng(t.latitude,t.longitude);e.map.student_marker=new google.maps.Marker({position:o,map:i,draggable:!0})}if(n){var r=e.createGoogleLatLng(n.latitude,n.longitude);e.map.guru_marker=new google.maps.Marker({position:r,map:i,draggable:!0})}if(t&&n){var s=new google.maps.LatLngBounds;s.extend(r),s.extend(o),i.fitBounds(s)}},e.drawMapWithSchoolCoordinates=function(){var t=document.getElementById("map_canvas"),n=e.createGoogleLatLng(parseFloat(e.user.university.latitude),parseFloat(e.user.university.longitude)),i={center:n,zoom:15,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}},o=new google.maps.Map(t,i);e.actual_map=o;var r=e.createGoogleLatLng(parseFloat(e.user.university.latitude),parseFloat(e.user.university.longitude));e.map.student_marker=new google.maps.Marker({position:r,map:o,draggable:!0})},e.getUserRecentLocation=function(i){e.geoOptions={timeout:1e4,enableHighAccuracy:!1},l.getCurrentPosition(e.geoOptions).then(function(o){return e.user.last_position=o.coords,console.log("user is at "+e.user.last_position.latitude+","+e.user.last_position.longitude),e.drawGoogleMap(e.user.last_position,e.guru.last_position,!0),e.loader.hide(),"root.active-student-session"!==t.current.name?void console.log("do not run background script anymore"):(console.log("rechecking the location in",i,"seconds"),void(i&&n(function(){e.getUserRecentLocation(i)},i)))},function(t){console.log("error from gps",t),e.drawMapWithSchoolCoordinates()})},e.goToSessionMessages=function(e){mixpanel.track(".Message"),t.go("^.messages",{sessionObj:JSON.stringify(e)})},e.goToGuruProfile=function(e){mixpanel.track("Student.guru.profile"),t.go("^.student-guru-profile",{guruObj:JSON.stringify(e)})},e.$on("$ionicView.enter",function(){e.session=JSON.parse(s.sessionObj),e.recursive_delay=6e4,e.guru=e.session.guru,console.log(e.guru),e.student_position=null,e.guru_position=null,e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1},e.loader.show(),n(function(){e.getUserRecentLocation(e.recursive_delay),n(function(){e.loader.hide()},500)},1e3)})}]),angular.module("uguru.student.controllers").controller("StudentRequestContactController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$ionicHistory","$cordovaPush","$ionicViewSwitcher",function(e,t,n,i,o,r,s,a,l){e.user.current_device.push_notif_enabled&&(e.root.vars.request.contact.push=!0),e.saveAndGoToRequest=function(){e.user.phone_number&&e.user.phone_number.length>0&&(e.user.updateAttr("phone_number",e.user,e.user.phone_number,null,e),e.root.vars.request.contact.phone=!0),e.user.email&&e.user.email.length>0&&(e.user.updateAttr("email",e.user,e.user.email,null,e),e.root.vars.request.contact.email=!0),l.nextDirection("forward"),mixpanel.track("Student.request"),t.go("^.student-request")},e.requestPushNotifications=function(){var t={badge:!0,sound:!0,alert:!0};a.register(t).then(function(t){console.log("deviceToken: "+t),console.log("Register success "+t),e.platform.ios&&(console.log("updating the server..."),e.user.push_notifications=!0,e.user.current_device.push_notif=t,e.user.current_device.push_notif_enabled=!0,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e))},function(e){console.log(e)})}}]),angular.module("uguru.student.controllers").controller("GuruAvailableController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$stateParams","$cordovaDialogs",function(e,t,n,i,o,r){e.request=JSON.parse(r.requestObj),e.guru=e.request.guru,e.guru&&!e.guru.profile_url&&(e.guru.profile_url="https://graph.facebook.com/10152573868267292/picture?width=100&height=100"),e.getNumber=function(e){return new Array(e)},e.goToGuruProfile=function(){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(e.guru)})},e.acceptGuru=function(){if(0===e.user.cards.length)return mixpanel.track("Add.payment"),void t.go("^.add-payment");var n=function(){e.request.guru_id=e.guru.id,e.request.status=1,e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.request.id);var n=function(){mixpanel.track("Home"),t.go("^.home")};e.user.createObj(e.user,"sessions",e.request,e,n)};dialog_title="Accept this Guru",dialog_message="You will not be billed until the end of the session & 100% satisfaction guaranteed",button_arr=["Not ready","Yes"],e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,n])},e.guruRejectConfirmDialog=function(){var t=function(){requestObj=e.request,requestObj.status=3,e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.request.id),e.root.util.updateObjectByKey(e.user.requests,"id",e.request.id,"status",0),e.user.updateObj(e.user,"requests",requestObj,e)};dialog_title="Are you sure?",dialog_message="You may not hear from this Guru again for this request",button_arr=["Cancel","Sure"],e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,t])},e.rejectGuru=function(){e.guruRejectConfirmDialog()};var s=document.getElementById("lightSpeedIn");setTimeout(function(){s.classList.add("animated"),s.classList.add("lightSpeedIn")},5500)}]),angular.module("uguru.student.controllers").controller("StudentViewGuruProfileController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory",function(e,t,n,i,o,r,s,a){e.showContactGuru=null,s&&(e.guru=JSON.parse(s.guruObj),console.log(e.guru),s.showContactGuru&&(e.showContactGuru=JSON.parse(s.showContactGuru))),e.goBack=function(){a.goBack()},e.getNumber=function(e){return new Array(e)}}]),angular.module("uguru.student.controllers").controller("StudentHomeSessionsController",["$scope","$state","$ionicHistory",function(){}]),angular.module("uguru.student.controllers").controller("PreviousSessionDetailsController",["$scope","$state","$timeout","$ionicHistory","$ionicModal","$cordovaKeyboard","$stateParams",function(e,t,n,i,o,r,s){e.session=JSON.parse(s.sessionObj),e.goToSessionMessages=function(n){e.user.guru_mode?(mixpanel.track("Student.messages"),t.go("^.^.student.messages",{sessionObj:JSON.stringify(n)})):(mixpanel.track("Message"),t.go("^.messages",{sessionObj:JSON.stringify(n)}))}}]),angular.module("uguru.student.controllers").controller("StudentRequestBudgetController",["$scope","$state","$timeout","$localstorage","$ionicHistory",function(e){e.hourly_price=20}]),angular.module("uguru.student.controllers").controller("StudentRequestGuruTypeController",["$scope","$state","$timeout","$localstorage","$ionicHistory",function(e,t,n,i,o){e.validateForm=function(){e.root.vars.request.type.in_person||e.root.vars.request.type.online?o.goBack():alert("Please select at least one option")},e.goBackToRequests=function(){o.goBack()}}]),angular.module("uguru.student.controllers").controller("StudentRequestSessionLengthController",["$scope","$state","$timeout","$localstorage","$ionicHistory",function(e,t,n,i,o){e.indexToValueMinutes=[0,15,30,45],e.validateForm=function(){null!==e.root.vars.request._length.hours&&null!==e.root.vars.request._length.minutes?o.goBack():alert("Please select at least one option")},e.root.vars.request._length.hours||(e.root.vars.request._length.hours=2),e.root.vars.request._length.minutes||(e.root.vars.request._length.minutes=1),e.incrementHour=function(){e.root.vars.request._length.hours<=9&&(e.root.vars.request._length.hours+=1)},e.decrementHour=function(){e.root.vars.request._length.hours>0&&(e.root.vars.request._length.hours-=1)},e.decrementMinute=function(){e.root.vars.request._length.minutes>0&&(e.root.vars.request._length.minutes-=1)},e.incrementMinute=function(){e.root.vars.request._length.minutes<=2&&(e.root.vars.request._length.minutes+=1)},e.goBackToGuruType=function(){o.goBack()}}]),angular.module("uguru.student.controllers").controller("RequestStatusController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","$ionicViewSwitcher","$cordovaStatusbar",function(e,t,n,i,o,r,s,a){e.requestObj=JSON.parse(r.requestObj),e.request=e.requestObj,e.request.files&&e.request.files.length>0&&o.fromTemplateUrl(BASE+"templates/view-files.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.viewFilesModal=t}),e.course=e.requestObj.course,e.progress_active=!1;var l=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=new Date(e.request.time_created);e.formatted_time_created=u[c.getDay()]+", "+l[c.getMonth()]+" "+c.getDate(),e.formatted_time_estimated_hours=Math.round(e.request.time_estimate/60,2),e.request.online&&e.request.in_person?e.formatted_request_type="In-person and online":e.request.online?e.formatted_request_type="Online only":e.request.in_person&&(e.formatted_request_type="In-person only"),e.root.vars.request_status_callback&&(console.log("sup"),n(function(){e.success.show(0,5e3,"You already have a request for this class. Please cancel before you make a new one.")},2e3)),e.$on("modal.shown",function(){window.StatusBar&&StatusBar.styleLightContent()}),e.$on("modal.hidden",function(){window.StatusBar&&StatusBar.styleDefault()}),e.goBack=function(){a.nextDirection("back"),e.root.vars.select_bottom_one=!0,mixpanel.track("Student.home"),t.go("^.student-home")},e.openAttachment=function(e){window.open(e,"_system","location=yes");return!1},e.goToGuruProfile=function(e){mixpanel.track("Student.guru.profile"),t.go("^.student-guru-profile",{guruObj:JSON.stringify(e)})},e.goToStudentCalendar=function(){a.nextDirection("forward"),mixpanel.track("Request.calendar"),t.go("^.request-calendar",{proposalObj:JSON.stringify(e.request)})},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.convertTimeEstimate=function(e){var t=["30 minutes","1 Hour","1.5 hours","2+ hours"];return t[e]},e.acceptGuru=function(){if(0===e.user.cards.length)return mixpanel.track("Add.payment"),void t.go("^.add-payment");var n=function(){e.request.guru_id=e.request.guru.id,e.request.status=1,e.loader.show();var t=function(e,t){e.request.guru_id=e.request.guru.id,e.request.status=2,e.loader.hide(),e.root.vars.select_bottom_one,t.go("^.student-home")};e.user.createObj(e.user,"sessions",e.request,e,t)};dialog_title="Accept this Guru",dialog_message="You will not be billed until the end of the session & 100% satisfaction guaranteed",button_arr=["Not ready","Yes"],e.platform.web?confirm("Are you sure? \n"+dialog_message)&&n():e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,n]),e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.request.id)},e.guruRejectConfirmDialog=function(){var t=function(){requestObj=e.request,requestObj.status=3,e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.request.id),e.root.util.updateObjectByKey(e.user.requests,"id",e.request.id,"status",0),e.user.updateObj(e.user,"requests",requestObj,e),e.show.success(0,2e3,"Guru successfully rejected")};dialog_title="Are you sure?",dialog_message="You may not hear from this Guru again for this request",button_arr=["Cancel","Sure"],e.platform.web?confirm("Are you sure? \n"+dialog_message)&&t():e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,t])},e.rejectGuru=function(){e.guruRejectConfirmDialog()},e.removeRequestFromActive=function(t){for(var n=e.user.active_requests,i=0;i<n.length;i++){var o=n[i];o.id===t.id&&e.user.active_requests.splice(i,i+1)}},e.updateUserRequest=function(t){for(var n=e.user.requests,i=0;i<n.length;i++){var o=n[i];o.id===t.id&&(e.user.requests[i].status=3)}},e.cancelRequest=function(){e.requestObj.status=4,e.user.updateObj(e.user,"requests",e.requestObj,e);var i=e.course.short_name+" request canceled";e.success.show(0,2e3,i),e.root.util.removeObjectByKey(e.user.active_requests,"id",e.request.id),n(function(){mixpanel.track("Student.home"),t.go("^.student-home")},1e3)},e.showGoogleMap=function(){if(!e.request.position||!e.request.position.latitude||!e.request.position.longitude)return void console.log("no coordinates... forget about it");e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1};var t,n=document.getElementById("map_canvas");t=e.createGoogleLatLng(parseFloat(e.request.position.latitude),parseFloat(e.request.position.longitude));var i={center:t,zoom:17,disableDefaultUI:!0,draggable:!1,zoomControl:!1};actual_map=new google.maps.Map(n,i),e.marker=new google.maps.Marker({position:t,map:actual_map}),e.actual_map=actual_map},e.map_loaded=!1,e.$on("$ionicView.enter",function(){e.loader.show(),n(function(){e.showGoogleMap(),e.loader.hide()},1e3)}),e.loadMapDelayed=function(){n(function(){0===document.getElementsByClassName("gm-style").length&&(console.log("500-loaded: map hasn't been drawn yet, attempting to redraw"),e.showGoogleMap(),e.loader.hide())},500),n(function(){0===document.getElementsByClassName("gm-style").length&&(console.log("1000-loaded: map hasn't been drawn yet, attempting to redraw"),e.showGoogleMap(),e.loader.hide())},1e3),n(function(){0===document.getElementsByClassName("gm-style").length&&(console.log("1500-loaded: map hasn't been drawn yet, attempting to redraw"),e.showGoogleMap(),e.loader.hide())},1500)}}]),angular.module("uguru.student.controllers").controller("StudentRequestController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$stateParams","$ionicNavBarDelegate","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicHistory","CordovaPushWrapper","$ionicPlatform","User",function(e,t,n,i,o,r,s,a,l,u,c,d,p,h){e.isRequestFormComplete=!1,o.fromTemplateUrl(BASE+"templates/signup.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.signupModal=t}),o.fromTemplateUrl(BASE+"templates/contact-guru.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.contactingGuruModal=t}),e.checkboxClicked=function(t){e.time_checkbox=t},e.toggleVirtualGuru=function(){e.virtual_guru_checkbox=!e.virtual_guru_checkbox},e.togglePersonGuru=function(){e.person_guru_checkbox=!e.person_guru_checkbox,e.person_guru_checkbox&&(e.requestPosition||e.user.current_device.location_enabled?e.requestMapModal.show():l.getUserPosition(e,e.showRequestMapModal))},e.checkLocationStatus=function(){if(console.log("current location status is..",e.location_error),"turned-off"===e.location_error)return void console.log("skipping status check upon user request...");var t={timeout:1e4,enableHighAccuracy:!1};console.log("checking status of user location services..."),d.getCurrentPosition(t).then(function(){e.location_error=null,console.log("user has it turned on")},function(t){1===t.code&&(e.location_error="denied",console.log("user has denied...")),2===t.code&&(e.location_error="unavailable",console.log("it is unavailable...")),3===t.code&&(console.log("it is unavailable..."),e.location_error="timeout")})},e.showRequestMapModal=function(){e.requestMapModal.show()},e.goBackFromRequestsToHome=function(){confirm("Are you sure? Request progress will be lost")&&(e.root.vars.calendar_should_be_empty=!0,mixpanel.track("Student.home"),t.go("^.student-home"))},e.initRequestObj=function(){var t=new Date;return t=t.getTime(),{position:null,photo:null,status:0,proposals:null,time_estimate:0,note:null,time_created:t,location:null,course:e.course,online:!0,in_person:!1}},e.calendar={width:2,height:24,num_selected:0},e.saveRequestToUser=function(){e.request.status=0,e.request._file=null,e.request.online=e.root.vars.request.type.online,e.request.in_person=e.root.vars.request.type.in_person,e.request.time_estimate=60*parseInt(e.root.vars.request._length.hours)+parseInt(e.valueToMinutes[e.root.vars.request._length.minutes]),e.request.address=e.root.vars.request.address,e.request.position=e.root.vars.request.location,e.request.calendar=e.root.vars.request.calendar,e.request.calendar_events=e.root.vars.request.calendar.data,e.request.course=e.root.vars.request.course,e.request.note=e.root.vars.request.description,e.request.files=e.root.vars.request.files,e.contactingGuruModal.show(),n(function(){e.user.createObj(e.user,"requests",e.request,e,null,e.failureFunction),console.log("going home..."),p.clearHistory(),p.clearCache(),mixpanel.track("Student.home"),t.go("^.student-home")},1e3),n(function(){e.contactingGuruModal.hide(),e.root.vars.request=null,e.root.vars.request_form_recently_hidden=!0,e.root.vars.files_should_be_cleared=!0,e.root.vars.calendar_should_be_empty=!0},1e4),e.failureFunction=function(e){e.contactingGuruModal.hide()}};var f=function(){return e.root.vars.request.description&&e.root.vars.request.location&&(e.root.vars.request.type.in_person||e.root.vars.request.type.online)&&e.root.vars.request._length.hours&&e.root.vars.request.calendar_selected?!0:(alert("Please fill in all fields"),!1)};e.requestHelp=function(){return e.user.id?f()?void e.saveRequestToUser():void console.log("form is not validated"):(console.log(e.root.vars.request),e.signupModal.show(),void console.log("show form they are not signed in yet"))},e.showDialog=function(e,t,n,i){c.alert(e,t,n).then(function(){i&&i()})},e.toggleLocationService=function(){if(e.location_error){var t=e.location_error;if("denied"==t){var n=function(){e.requestMapModal.hide()};e.showDialog("Please go to privacy settings, turn on location services for Uguru, and try again","Location Error","OK",n)}else"unavailable"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):"timeout"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):(l.getUserPosition(e,e.showRequestMapModal),e.location_error=null)}else e.location_error="turned-off"},e.time_checkbox=0,e.location_error=null,e.virtual_guru_checkbox=!0,e.person_guru_checkbox=!1,e.requestPosition=null,e.request=e.initRequestObj(),e.root.vars.request?(e.course=e.root.vars.request.course,e.platform.mobile&&(e.root.vars.request.contact.push_notif=e.user.current_device.push_notif)):e.root.vars.request={type:{in_person:!0,online:!0},_length:{hours:2,minutes:1},calendar_selected:!1,course:e.course||JSON.parse(s.courseObj),description:null,location:null,files:[],calendar:{data:{},calendar_selected:!1},contact:{email:e.user.email_notifications,phone:e.user.text_notifications,push_notif:e.user.push_notifications,email_address:"",phone_number:""}},e.valueToMinutes=[null,"15","30","45"],e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1},e.searchbox={template:BASE+"templates/searchbox.tpl.html",options:{autocomplete:!0,types:["(cities)"],componentRestrictions:{country:"us"}},events:{place_changed:function(e){place=e.getPlace()}}},e.$on("$ionicView.Enter",function(){console.log(t.current.name,"enter")}),e.$on("$ionicView.beforeEnter",function(){e.loader.show(),console.log(t.current.name,"before enter")}),e.pushToggle={checked:!1},e.checkPush=function(){e.platform.mobile&&(e.user.current_device=ionic.Platform.device(),h.register(e)),e.user.current_device.push_token?e.pushToggle.checked=!0:e.root.dialog.alert("Go to your settings & enable push notifications","Please Enable","Got it",function(){e.pushToggle.checked=!1})},e.$on("$ionicView.afterEnter",function(){console.log(t.current.name,"after enter"),console.log("device",JSON.stringify(e.user.current_device)),e.loader.hide()}),e.$on("$ionicView.loaded",function(){})}]),angular.module("uguru.guru.controllers",[]).controller("BecomeGuruController",["$scope","$state","$timeout","$localstorage","$ionicModal","$cordovaKeyboard","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,o,r,s,a){e.progressMax=4,e.user.majors||(e.user.majors=[]),e.user.guru_courses||(e.user.guru_courses=[]),a.ready(function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),e.calculateProgress=function(t){return count=0,t.university_id&&(count+=1),e.user.majors.length>0&&t.majors[0].id&&(count+=1),e.user.guru_courses.length>0&&(count+=1),e.user.guru_introduction&&(count+=1),e.progressValue=count,count},e.progressValue=e.calculateProgress(e.user),console.log(e.user.guru_courses),o.fromTemplateUrl(BASE+"templates/add-course.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addCourseModal=t}),o.fromTemplateUrl(BASE+"templates/add-major.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addMajorModal=t}),o.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),o.fromTemplateUrl(BASE+"templates/guru-intro.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addGuruIntroModal=t}),e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&r.close()},e.goToGuruHome=function(){mixpanel.track("Home"),t.go("^.home")},e.submitGuruOnboarding=function(){e.user.is_a_guru=!0,i.setObject("user",e.user),mixpanel.track("Guru.home"),t.go("^.guru-home"),e.user.updateAttr("is_a_guru",e.user,!0,null,e)},e.uberFriendlyChange=function(){e.user.updateAttr("uber_friendly",e.user,e.user.uber_friendly,null,e)},e.outsideSchoolChange=function(){e.user.updateAttr("outside_university",e.user,e.user.outside_university,null,e)},e.summer15Change=function(){e.user.updateAttr("summer_15",e.user,e.user.summer_15,null,e)},e.$on("$ionicView.beforeEnter",function(){console.log("before view enter..."),window.StatusBar&&StatusBar.styleLightContent()})}]),angular.module("uguru.guru.controllers").controller("GuruActiveSession",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$stateParams","Geolocation","$cordovaGeolocation","Restangular","$ionicHistory","$ionicPlatform","$cordovaStatusbar","$cordovaActionSheet","$ionicPlatform",function(e,t,n,i,o,r,s,a,l,u,c,d,p,h,d){d.ready(function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0));var t={title:"Session Options",buttonLabels:["Request Details"],addCancelButtonWithLabel:"Close",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0,addDestructiveButtonWithLabel:"Cancel Request"};e.showOptions=function(){h.show(t).then(function(t){1===t&&e.session&&cancelSession(e.session)})}}),e.$on("$ionicView.enter",function(){e.session=JSON.parse(s.sessionObj),e.recursive_delay=6e4,e.guru=e.session.guru,e.student_position=null,e.guru_position=null,e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1},n(function(){e.getUserRecentLocation(e.recursive_delay)},1e3)}),e.goToSessionMessages=function(e){mixpanel.track("Message"),t.go("^.messages",{sessionObj:JSON.stringify(e)})},e.goToGuruProfile=function(){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(session.student)})},e.goBack=function(){c.goBack()},e.cancelSession=function(){var n=function(){e.session.status=5;var n={session:e.session};e.user.previous_guru_sessions.push(e.session),e.root.util.removeObjectByKey(e.user.active_guru_sessions,"id",e.session.id),e.root.util.updateObjectByKey(e.user.guru_sessions,"id",e.session.id,"status",5),mixpanel.track("Home"),t.go("^.home"),e.user.updateObj(e.user,"sessions",n,e)},i={message:"Are you sure? This will be closely investigated by us and may impact your Guru ranking.",title:"Cancel Session",button_arr:["Never Mind","Cancel Session"],callback_arr:[null,n]};
e.root.dialog.confirm(i.message,i.title,i.button_arr,i.callback_arr)},e.continueSession=function(e){mixpanel.track("Guru.session.start"),t.go("^.guru-session-start",{sessionObj:JSON.stringify(e)})},e.startSessionTimer=function(n){console.log(n);var i=function(){var i=function(){mixpanel.track("Guru.session.start"),t.go("^.guru-session-start",{sessionObj:JSON.stringify(n)})};e.session.status=2,e.session.minutes=0,e.session.hours=0,e.session.seconds=0;var o={session:e.session};e.user.updateObj(e.user,"sessions",o,e,i)},o={message:"Only start if the student is around you and you're good to go",title:"Are you sure?",button_arr:["Cancel","Yes"],callback_arr:[null,i]};e.platform.web?confirm("Are you sure? \n"+o.message)&&i():e.root.dialog.confirm(o.message,o.title,o.button_arr,o.callback_arr)},e.getCurrentDate=function(){var e=new Date,t=e.getHours()%12,n=e.getMinutes();return ending=e.getHours()>=12?"PM":"AM",result=t+":"+n+" "+ending,result},e.getCurrentPositionAndSync=function(t){var i={timeout:1e4,enableHighAccuracy:!1};l.getCurrentPosition(i).then(function(i){e.syncPositionWithServer(i),e.guru_position=i,t&&n(function(){e.getCurrentPositionAndSync(t)},t)},function(e){console.log(e)})},e.sortPositionComparator=function(e,t){return e.id-t.id},e.syncPositionWithServer=function(n,i){if(i)var o={session_position_guru:!0,position:n,session:e.session};else var o={session_position_guru:!0,position:n,session:e.session};u.one("user",e.user.id).one("sessions").customPUT(JSON.stringify(o)).then(function(o){return pos=o.plain().student_sessions.map(function(e){return e.student_id}).indexOf(o.id),-1!==pos&&(e.session=o.student_sessions[pos]),e.session.student_positions.sort(e.sortPositionComparator),e.session.guru_positions.sort(e.sortPositionComparator),e.guru_position=e.session.guru_positions[(e.session.guru_positions.length-2,e.session.guru_positions.length-1)],e.student_position=e.session.student_positions[(e.session.student_positions.length-2,e.session.student_positions.length-1)],console.log(e.guru_position,e.student_position),e.last_updated=e.getCurrentDate(),e.drawGoogleMap(e.guru_position,e.student_position),e.loader.hide(),"root.guru-active-session"!==t.current.name?void console.log("do not run background script anymore"):void(i&&i(n))},function(e){console.log(e),console.log("error...something happened with the server;")})},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.drawMapWithSchoolCoordinates=function(){var t=document.getElementById("map_canvas"),n=e.createGoogleLatLng(parseFloat(e.user.university.latitude),parseFloat(e.user.university.longitude)),i={center:n,zoom:15,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}},o=new google.maps.Map(t,i);e.actual_map=o;var r=e.createGoogleLatLng(parseFloat(e.user.university.latitude),parseFloat(e.user.university.longitude));e.map.student_marker=new google.maps.Marker({position:r,map:o,draggable:!0})},e.drawGoogleMap=function(t,n,i){t||(t={latitude:e.user.university.latitude,longitude:e.user.university.longitude});var o=document.getElementById("map_canvas"),r=e.createGoogleLatLng(parseFloat(t.latitude),parseFloat(t.longitude)),s={center:r,zoom:15,disableDefaultUI:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}},a=new google.maps.Map(o,s);e.actual_map=a,i&&e.drawGoogleMarkers(t,n,a)},e.drawGoogleMarkers=function(t,n,i){if(t){var o=e.createGoogleLatLng(t.latitude,t.longitude);e.map.student_marker=new google.maps.Marker({position:o,map:i,draggable:!0})}if(n){var r=e.createGoogleLatLng(n.latitude,n.longitude);e.map.guru_marker=new google.maps.Marker({position:r,map:i,draggable:!0})}if(t&&n){var s=new google.maps.LatLngBounds;s.extend(r),s.extend(o),i.fitBounds(s)}},e.goToSessionMessages=function(e){mixpanel.track("Messages"),t.go("^.messages",{sessionObj:JSON.stringify(e)})},e.showGeoLocationError=function(t){1===t.code&&(alert("Please change your settings"),e.location_error="denied"),(2===t.code||3===t.code)&&(alert("GPS strength isnt strong enough"),e.location_error="unavailable")},e.getUserRecentLocation=function(){e.geoOptions={timeout:1e4,enableHighAccuracy:!1},l.getCurrentPosition(e.geoOptions).then(function(n){if(e.user.last_position=n.coords,console.log("user is at "+e.user.last_position.latitude+","+e.user.last_position.longitude),e.drawGoogleMap(e.user.last_position,e.guru.last_position,!0),e.loader.hide(),"root.guru-active-session"!==t.current.name)return void console.log("do not run background script anymore");console.log("synchronize server locations in 15minutes");e.syncPositionWithServer(e.user.last_position)},function(t){console.log("error from gps",t),e.drawMapWithSchoolCoordinates()})}}]),angular.module("uguru.guru.controllers").controller("GuruConfirmProposalController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory",function(e,t,n,o,r,s,a){e.proposal=JSON.parse(s.proposalObj),console.log("confirm proposal",e.proposal),e.goBack=function(){a.goBack()},e.acceptStudent=function(){console.log("this button was clicked"),proposalObj=e.proposal,proposalObj.status=2,proposalObj.proposal=!0,e.deleteProposalFromList(e.proposal,e.user.active_proposals),e.user.pending_proposals||(e.user.pending_proposals=[]),e.user.pending_proposals.push(proposalObj),console.log("server-ready-calendar",JSON.stringify(proposalObj.guru_calendar)),e.user.updateObj(e.user,"requests",proposalObj,e),alert("Student request accepted. We'll let you know if they choose you! \n See below for progress"),mixpanel.track("Guru.home"),t.go("^.guru-home")},e.deleteProposalFromList=function(e,t){for(i=0;i<t.length;i++)if(t[i].id===e.id)return void t.splice(i,i+1)}}]),angular.module("uguru.student.controllers").controller("GuruEditProfileController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","Camera","$ionicPlatform","$cordovaStatusbar",function(e,t,n,i,o,r,s,a,l){e.uberFriendlyChange=function(){e.user.updateAttr("uber_friendly",e.user,e.user.uber_friendly,null,e)},e.getNumber=function(e){return new Array(e)},e.outsideSchoolChange=function(){e.user.updateAttr("outside_university",e.user,e.user.outside_university,null,e)},e.summer15Change=function(){e.user.updateAttr("summer_15",e.user,e.user.summer_15,null,e)},e.saveProfile=function(){e.user.updateAttr("add_guru_intro",e.user,e.user.guru_introduction,null,e),e.success.show(0,1500,"Saved! Great job."),t.go("^.root.guru-profile")},r.fromTemplateUrl(BASE+"templates/add-major.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addMajorModal=t}),e.takePhoto=function(){if(e.platform.mobile)l.takePicture(e);else{var t=document.getElementById("guru-file-input-web");t.click()}},e.file_changed=function(t){var n=t.files[0],i=new FileReader,o=document.getElementsByClassName("guru-profile-container")[0];i.onload=function(e){o.src=e.target.result},i.readAsDataURL(n);var r=new FormData;r.append("file",n),r.append("profile_url",e.user.id),e.loader.show(),e.user.createObj(e.user,"files",r,e)}}]),angular.module("uguru.guru.controllers").controller("GuruHomeController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$cordovaKeyboard","$q","University","$templateCache","$ionicHistory","Popup","$popover","Popover","$ionicBackdrop","User","Camera","$cordovaPush","$ionicViewSwitcher","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,o,r,s,a,l,u,c,d,p,h,f,g,m,v,b,y,_,w){console.log(e.user),e.topTabsDelegate=s.$getByHandle("student-home-tabs-top"),e.bottomTabsDelegate=s.$getByHandle("student-home-tabs-bottom"),e.base_url=BASE,e.progress_active=!1,w.ready(function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),r.fromTemplateUrl(BASE+"templates/add-course.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addCourseModal=t}),r.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),r.fromTemplateUrl(BASE+"templates/signup.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.signupModal=t}),r.fromTemplateUrl(BASE+"templates/become-guru.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.becomeGuruModal=t}),e.user.summmer_15=!1,e.user.uber_friendly=!1,e.measureCompletedProfile=function(e){var t=["name","email","majors","guru_courses","push_notifications","guru_description","summmer_15","uber_friendly","profile_url"];return count=0,e.name.length>0&&(count+=1),e.email&&e.email.length>0&&(count+=1),e.majors&&e.majors.length>0&&(count+=1),e.guru_courses&&e.guru_courses.length>0&&(count+=1),e.current_device&&e.current_device.push_notif_enabled&&(count+=1),e.guru_description&&e.guru_description.length>0&&(count+=1),e.summer_15&&(count+=1),e.uber_friendly&&(count+=1),e.profile_url&&"https://graph.facebook.com/10152573868267292/picture?width=100&height=100"!==e.profile_url&&(count+=1),parseInt(count/t.length*100)},e.completedProfilePercentage=e.measureCompletedProfile(e.user),e.registerPush=function(){if(e.user.current_device.push_notif_enabled||e.user.current_device.push_notif||(console.log("user turning OFF first time, never even said yes"),e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e)),!e.user.current_device.push_notif_enabled&&e.user.current_device.push_notif&&(console.log("user turning OFF push by choice"),e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e)),e.user.current_device.push_notif_enabled&&e.user.current_device.push_notif){console.log("user turning on push.. again");var t={badge:!0,sound:!0,alert:!0};console.log("user turning on push for the first time"),b.register(t).then(function(t){console.log("deviceToken: "+t),console.log("Register success "+t),e.platform.ios&&(console.log("updating the server..."),e.user.push_notifications=!0,e.user.current_device.push_notif=t,e.user.current_device.push_notif_enabled=!0,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e))},function(){console.log("there is an error"),alert("Please go to your Settings > Notifications > Uguru and 'Allow Notifications'")})}if(e.user.current_device.push_notif_enabled&&!e.user.current_device.push_notif){var t={badge:!0,sound:!0,alert:!0};console.log("user turning on push for the first time"),b.register(t).then(function(t){console.log("deviceToken: "+t),console.log("Register success "+t),e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),e.platform.ios&&(e.user.push_notifications=!0,e.user.current_device.push_notif=t,e.user.current_device.push_notif_enabled=!0,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e))},function(){console.log("there is an error"),alert("Please go to your Settings > Notifications > Uguru and 'Allow Notifications'")})}},e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&a.close()},e.allProposals=function(){},e.switchToStudentMode=function(){e.root.vars.recent_switched_modes=!0,e.user.guru_mode=!1,mixpanel.track("Student.home"),t.go("^.student-home")},e.goToTransferFunds=function(){e.user.auth_token?(mixpanel.track("Setting.transfer"),t.go("^.settings-transfer")):e.signupModal.show()},e.showButtonPressed=function(e,t){document.getElementsByClassName(t)[0].classList.add("active")},e.showButtonReleased=function(e,t){document.getElementsByClassName(t)[0].classList.remove("active")},e.goToIncreaseRanking=function(){y.nextDirection("forward"),mixpanel.track("Guru.verification"),t.go("^.guru-verification")},e.goToProfileEdit=function(){y.nextDirection("forward"),mixpanel.track("Guru.profile.edit"),t.go("^.guru-profile-edit")},e.goToRequestStatus=function(e){mixpanel.track("Reqiest.status"),t.go("^.request-status",{courseObj:JSON.stringify(e)})},e.goToActiveSession=function(e){mixpanel.track("Guru.active.session"),t.go("^.guru-active-session",{sessionObj:JSON.stringify(e)})},e.addGreenbar=function(){console.log("this was clicked")},e.goToBecomeGuru=function(){mixpanel.track("Guru.wizard"),t.go("^.guru.wizard"),i(function(){e.becomeGuruModal.hide()},300)},e.goToNotifications=function(){e.user.auth_token?e.user.guru_mode?(mixpanel.track("Settings.notifications"),t.go("^.settings-notifications")):(mixpanel.track("Settings.notifications"),t.go("^.settings-notifications")):e.signupModal.show()},e.goToTransactions=function(){e.user.auth_token?e.user.guru_mode?(mixpanel.track("Settings.notifications"),t.go("^.settings-transactions")):(mixpanel.track("Settings.notifications"),t.go("^.settings-transactions")):e.signupModal.show()},e.goToCards=function(){e.user.auth_token?e.user.guru_mode?(mixpanel.track("Settings.cards"),t.go("^.settings-cards")):(mixpanel.track("Settings.cards"),t.go("^.settings-cards")):e.signupModal.show()},e.goToEditProfile=function(){e.user.auth_token?e.user.guru_mode?(mixpanel.track("Settings.profile"),t.go("^.settings-profile")):(mixpanel.track("Settings.profile"),t.go("^.settings-profile")):e.signupModal.show()},e.clearCache=function(){e.user={},o.removeObject("courses"),o.removeObject("universities"),e.rootUser.logout(e.user),d.clearCache(),d.clearHistory(),window.localStorage.clear(),e.bottomTabsDelegate.select(0),alert("Cache Cleared! Please close the app & open again")},e.guruDiscoverabilityChange=function(){e.rootUser.updateLocal(e.user)},e.logoutUser=function(){e.user=m.initUser(),e.user.updateAttr=m.updateAttrUser,e.user.createObj=m.createObj,e.user.updateObj=m.updateObj,o.removeObject("courses"),o.removeObject("universities"),o.removeObject("user"),alert("You have been logged out!"),e.signupModal.show(),mixpanel.track("Stidemt.home"),t.go("^.student-home")},e.goToProposalDetails=function(e){mixpanel.track("Guru.proposal.detail"),t.go("^.guru-proposal-details",{proposalObj:JSON.stringify(e)})},e.goToPreviousSessionDetails=function(e){mixpanel.track("Previous.session.details"),t.go("^.previous-session-details",{sessionObj:JSON.stringify(e)})},e.showPopupDev=function(){var t={header:"Welcome!",body:"We'd like your location to help locate a nearby Guru. Allow us to request for your location?",positiveBtnText:"Sure!",negativeBtnText:"No Thanks",delay:1500};p.options.show(e,t)},e.calculateGuruProfilePercentage=function(){return 50},e.$on("modal.shown",function(){e.backgroundRefresh=!1,e.ratingModalShown=!0,console.log("stopping background refresh")}),e.onCardInputSelect=function(){console.log("it detects its ebeen tapped")},e.$on("modal.hidden",function(){e.backgroundRefresh=!0,e.ratingModalShown=!1,console.log("starting background refresh")}),e.checkForRatings=function(){(e.user.pending_guru_ratings||e.user.pending_student_ratings)&&(e.user.pending_guru_ratings.length>0&&!e.user.guru_mode||e.user.pending_student_ratings.length>0&&e.user.guru_mode)&&(r.fromTemplateUrl(BASE+"templates/ratings.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.ratingModal=t}),i(function(){e.ratingModal.isShown()||e.ratingModalShown||e.ratingModal.show()},1e3))},e.$on("$ionicView.beforeEnter",function(){e.loader.show(),m.getUserFromServer(e,null,t),e.root.vars.guru_selected_index&&e.bottomTabsDelegate.select(e.root.vars.guru_selected_index),console.log("guru home view before Enter"),window.StatusBar&&StatusBar.styleLightContent(),console.log(JSON.stringify(e.user.current_device))}),e.$on("$ionicView.enter",function(){e.user.guru_mode=!0,e.root.vars.guru_mode=!0,o.setObject("user",e.user),console.log("printing guru stuff",e.user.active_proposals)}),e.$on("$ionicView.loaded",function(){e.loader.hide(),console.log(e.user.guru_proposals)}),e.$on("$ionicView.afterEnter",function(){e.loader.hide(),e.checkForRatings()}),e.$on("$ionicView.beforeLeave",function(){e.loader.hide(),e.bottomTabsDelegate&&(e.root.vars.guru_selected_index=e.bottomTabsDelegate.selectedIndex()),e.checkForRatings()})}]),angular.module("uguru.guru.controllers").controller("GuruOpportunitiesController",["$scope","$state","$timeout","$localstorage","$ionicTabsDelegate",function(e){e.process_guru_opportunities=function(e){result=[];for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];result.push(e[i+""])}return result},e.$on("$ionicView.loaded",function(){e.guru_opportunities=e.process_guru_opportunities(e.user.guru_score_opportunities)})}]),angular.module("uguru.guru.controllers").controller("GuruProfileController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","Camera",function(e,t,n,i,o,r,s,a,l){e.takePhoto=function(){if(e.platform.mobile)l.takePicture(e);else{var t=document.getElementById("guru-file-input-web");t.click()}},e.file_changed=function(t){{var n=t.files[0],i=new FileReader;document.getElementsByClassName("guru-profile-container")[0]}i.onload=function(t){e.user.profile_url=t.target.result},i.readAsDataURL(n);var o=new FormData;o.append("file",n),o.append("profile_url",e.user.id),o.append("profile_url",e.user.id),e.loader.show(),e.user.createObj(e.user,"files",o,e)}}]),angular.module("uguru.guru.controllers").controller("ProposalDetailsActionController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","$ionicViewSwitcher",function(e,t,n,o,r,s,a,l){if(r.fromTemplateUrl(BASE+"templates/view-files.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.viewFilesModal=t}),e.getNumber=function(e){return new Array(e)},e.proposal=JSON.parse(s.proposalObj),e.request=e.proposal.request,e.proposal.request.files&&e.proposal.request.files.length>0)var u=e.proposal.request.files[0].url;e.course=e.proposal.request,e.progress_active=!1,e.openAttachment=function(){window.open(u,"_system","location=yes");return!1},e.convertTimeEstimate=function(e){var t=["30 minutes","1 Hour","1.5 hours","2+ hours"];return t[e]},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)};var c=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=new Date(e.proposal.request.time_created);e.formatted_time_created=d[p.getDay()]+", "+c[p.getMonth()]+" "+p.getDate(),e.formatted_time_estimated_hours=Math.round(e.proposal.request.time_estimate/60,2),e.proposal.request.online&&e.proposal.request.in_person?e.formatted_request_type="In-person and online":e.proposal.request.online?e.formatted_request_type="Online only":e.proposal.request.in_person&&(e.formatted_request_type="In-person only"),e.removeRequestFromActive=function(t){for(var n=e.user.active_requests,i=0;i<n.length;i++){var o=n[i];o.id===t.id&&e.user.active_requests.splice(i,i+1)}},e.updateUserRequest=function(t){for(var n=e.user.requests,i=0;i<n.length;i++){var o=n[i];o.id===t.id&&(e.user.requests[i].status=3)}},e.acceptStudent=function(){console.log("this button was clicked"),proposalObj=e.proposal,proposalObj.status=2,proposalObj.proposal=!0,e.deleteProposalFromList(e.proposal,e.user.active_proposals),e.user.pending_proposals||(e.user.pending_proposals=[]),e.user.pending_proposals.push(proposalObj),e.user.updateObj(e.user,"requests",proposalObj,e);var t=function(){a.goBack()};e.root.dialog.alert("Student request accepted. We'll let you know if they choose you! \n See below for progress","Sweet!","OK",t)},e.deleteProposalFromList=function(e,t){for(i=0;i<t.length;i++)if(t[i].id===e.id)return void t.splice(i,i+1)},e.rejectStudent=function(){var n=function(){proposalObj=e.proposal,e.deleteProposalFromList(e.proposal,e.user.active_proposals),proposalObj.status=3,proposalObj.proposal=!0,e.user.updateObj(e.user,"requests",proposalObj,e),e.success.show(0,2e3,"Success!"),mixpanel.track("Guru.home"),t.go("^.guru-home")};e.platform.mobile?e.root.dialog.confirm("You cannot undo this!","Are you sure?",["Cancel","Yes"],[null,n]):confirm("Are you sure? You cannot undo this!")&&n()},e.showGoogleMap=function(){if(console.log(e.request),!e.proposal.request.position||!e.proposal.request.position.latitude||!e.proposal.request.position.longitude)return void console.log("no coordinates... forget about it");e.map={center:{latitude:e.proposal.request.position.latitude,longitude:e.proposal.request.position.longitude},zoom:14,control:{}},e.options={scrollwheel:!1};var t,n=document.getElementById("map_canvas");t=e.createGoogleLatLng(e.proposal.request.position.latitude,e.proposal.request.position.longitude);var i={center:t,zoom:17,disableDefaultUI:!0,draggable:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}};actual_map=new google.maps.Map(n,i),e.marker=new google.maps.Marker({position:t,map:actual_map}),e.actual_map=actual_map},e.$on("$ionicView.enter",function(){console.log("entering..."),n(function(){e.showGoogleMap()},1e3)}),e.goToStudentCalendar=function(){l.nextDirection("forward"),mixpanel.track("Request.calendar"),t.go("^.request-calendar",{proposalObj:JSON.stringify(e.proposal)})},e.goToConfirmProposal=function(e){mixpanel.track("Guru.confirm.proposal"),t.go("^.guru-confirm-proposal",{proposalObj:JSON.stringify(e)})}}]),angular.module("uguru.guru.controllers").controller("GuruSessionStartController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$stateParams","Geolocation","$ionicHistory","$cordovaActionSheet",function(e,t,n,i,o,r,s,a,l,u){e.session=JSON.parse(s.sessionObj),e.set_timer_mode=!1,e.max_hour=new Array(10),e.max_minutes=new Array(60),e.timer={minutes:e.session.minutes,seconds:e.session.seconds,hours:e.session.hours,active:!1},e.goToSessionMessages=function(e){mixpanel.track("Student.messages"),t.go("^.^.student.messages",{sessionObj:JSON.stringify(e)})},e.goBack=function(){l.goBack()},e.goToGuruProfile=function(){mixpanel.track("Student.guru.profile"),t.go("^.^.student.guru-profile",{guruObj:JSON.stringify(session.student)})},e.goToSessionTimer=function(e){mixpanel.track("Student.guru.session"),t.go("^.guru-session",{sessionObj:JSON.stringify(e)})},e.startTimer=function(){e.timer.active=!0,e.addOneSecond(),e.session.start_timer=!0,e.user.updateObj(e.user,"sessions",e.session,e)},e.startTimerFromZero=function(){setInterval(function(){var e=(new Date).getSeconds();seconds.animate(e/60,function(){})},1e3)};var c={title:"What do you want with this image?",buttonLabels:["Share via Facebook","Share via Twitter"],addCancelButtonWithLabel:"Cancel",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0,addDestructiveButtonWithLabel:"Delete it"};document.addEventListener("deviceready",function(){e.showTimerActionSheet=function(){c={title:"Options",buttonLabels:["Reset","Set Timer"],addCancelButtonWithLabel:"Cancel",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0},u.show(c).then(function(t){var n=t;console.log(n),1===n?e.resetTimer():2===n&&e.setTimer(59,59,59)})}},!1),e.startTimerFromX=function(t){e.timer_seconds.animate(t/60,{duration:1e3})},e.incrementMinute=function(){e.timer.minutes+=1},e.decrementMinute=function(){e.timer.minutes-=1},e.incrementHour=function(){e.timer.hours+=1},e.decrementHour=function(){e.timer.hours-=1},e.resetTimer=function(){var t=function(){e.timer.seconds=0,e.timer.hours=0,e.timer.minutes=0,e.pauseTimer(),e.session.reset_timer=!0,e.startTimerFromX(-1),e.user.updateObj(e.user,"sessions",e.session,e)},n=[null,t];e.platform.web?confirm("Are you sure? \n You will lose track of all progress")&&t():e.root.dialog.confirm("You will lose track of all progress","Are you sure?",["Cancel","Yes"],n)},e.addOneSecond=function(){n(function(){e.timer.seconds+=1,e.updateTimer(),e.timer.active&&(e.startTimerFromX(e.timer.seconds),e.addOneSecond())},1e3)},e.updateTimer=function(){e.timer.seconds>59&&(e.timer.seconds=0,e.timer.minutes+=1),e.timer.minutes>59&&(e.timer.minutes=0,e.timer.hours+=1)},e.$on("$ionicView.beforeEnter",function(){e.timer_seconds||e.initTimer(),console.log("timer initializer")}),e.$on("$ionicView.loaded",function(){e.timer_seconds||e.initTimer()}),e.initTimer=function(){e.timer_seconds=new ProgressBar.Circle("#timer-container",{color:"#FFFFFF",strokeWidth:3.1,trailColor:"#A1D5CC"}),n(function(){e.timer_seconds.animate(1,function(){e.timer_seconds.set(.001)})},1e3)},e.pauseTimer=function(){e.timer.active=!1,e.timer_seconds.stop()},e.setTimer=function(t,n,i){e.timer.hours=i,e.timer.minutes=n,e.timer.seconds=t,e.session.update_timer=e.timer,e.user.updateObj(e.user,"sessions",e.session,e)},e.submitTimeToServer=function(){e.session.status=3,e.session.minutes=e.timer.minutes,e.session.seconds=e.timer.seconds,e.session.hours=e.timer.hours;var n={session:e.session},i=function(){e.root.vars.check_for_ratings_modal=!0,e.loader.hide(),mixpanel.track("Giri.home"),t.go("^.guru-home")};e.loader.show(),e.user.updateObj(e.user,"sessions",n,e,i)},e.submitTime=function(){var t=function(){e.submitTimeToServer()},n=[null,t];e.platform.web?confirm("Are you sure? \n The student will be billed.")&&t():e.root.dialog.confirm("The student will be billed","Are you sure?",["Cancel","Yes"],n)}}]),angular.module("uguru.guru.controllers").controller("GuruIncomingRequestController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$stateParams","User","$ionicModal",function(e,t,n,o,r,s,a,l){e.request=JSON.parse(s.requestObj),e.proposal=JSON.parse(s.proposalObj),e.user.cashout_cards=[],e.getNumber=function(e){return new Array(e)},e.goToGuruProfile=function(){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(e.guru)})},e.declineRequest=function(){mixpanel.track("Guru.home"),t.go("^.guru.home")},e.goToGuruRequestDetails=function(){},e.deleteProposalFromList=function(e,t){for(i=0;i<t.length;i++)if(t[i].id===e.id)return void t.splice(i,i+1)},e.calendar={width:2,height:24,num_selected:0},e.updateProposalFromList=function(e,t){for(i=0;i<t.length;i++)if(t[i].id===e.id)return void(t[i].status=e.status)},l.fromTemplateUrl(BASE+"templates/calendar.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.calendarModal=t}),e.showCalendar=function(){},e.acceptStudent=function(){return 0===e.user.transfer_cards.length?(mixpanel.track("Student.add-payment"),void t.go("^.^.student.add-payment")):(proposalObj=e.proposal,proposalObj.status=2,proposalObj.proposal=!0,e.deleteProposalFromList(e.proposal,e.user.active_proposals),e.user.pending_proposals||(e.user.pending_proposals=[]),e.user.pending_proposals.push(proposalObj),e.user.updateObj(e.user,"requests",proposalObj,e),void e.root.dialog.alert("Student request accepted. We'll let you know if they choose you! \n See below for progress","Sweet!","OK"))},e.rejectStudent=function(){proposalObj=e.proposal,e.deleteProposalFromList(e.proposal,e.user.active_proposals),proposalObj.status=3,proposalObj.proposal=!0,e.user.updateObj(e.user,"requests",proposalObj,e),e.root.dialog.alert("Student request rejected. This increases your response rate!","Maybe Next Time","OK")},e.convertPythonDateStrToJsDate=function(e){for(var t=0;t<e.length;t++){var n=e[t].start_time,i=new Date(Date.parse(n));e[t].start_time=i.getHours(),e[t].end_time=i.getHours()}return e};var u=document.getElementById("lightSpeedIn");setTimeout(function(){u.classList.add("animated"),u.classList.add("lightSpeedIn")},5500),e.$on("$ionicView.beforeEnter",function(){var t=e.proposal.student_calendar[0].calendar_events,n=e.convertPythonDateStrToJsDate(t);e.student_calendar=n,console.log(JSON.stringify(e.student_calendar))})}]),angular.module("uguru.guru.controllers").controller("GuruVerificationController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","$cordovaOauth",function(e,t,n,i,o,r,s,a){var l="f6pThzslRv6jZomDd4npfQfejIeY7pHc";e.$on("modal.shown",function(){e.becomeGuruModal.isShown()&&StatusBar.styleLightContent()}),e.fireUberApi=function(){a.uber(l,e,{}).then(function(e){console.log(e)},function(e){console.log(e)})}}]),angular.module("uguru.student.controllers").controller("SettingsCardController",["$scope","$state","$ionicHistory","$ionicViewSwitcher",function(e,t,n,i){e.goBack=function(){i.nextDirection("back"),e.root.vars.select_bottom_three=!0,t.go(e.user.guru_mode?"^.student-home":"^.guru-home")},e.goToEditCard=function(e){mixpanel.track("add.payment"),t.go("^.add-payment",{cardObj:JSON.stringify(e)})},e.deleteCard=function(){},e.goToAddTransferMethod=function(e){mixpanel.track("add.payment"),t.go("^.add-payment",{debitCardOnly:JSON.stringify(e)})}}]),angular.module("uguru.student.controllers").controller("SettingsEditCoursesController",["$scope","$state","$timeout","$ionicHistory","$ionicModal","$cordovaKeyboard","$ionicViewSwitcher",function(e,t,n,i,o,r,s){e.editMode=!1,e.progress_active=!1,e.saveCourses=function(){e.rootUser.updateLocal(e.user),e.success.show(0,1500)},e.goBack=function(){s.nextDirection("back"),e.root.vars.select_bottom_three=!0,t.go(e.user.guru_mode?"^.guru-home":"^.student-home")},e.toggleEditMode=function(){e.editMode=!e.editMode,e.editMode?e.shouldShowDelete=!0:(e.shouldShowDelete=!1,e.rootUser.updateLocal(e.user),e.success.show(0,1500))},o.fromTemplateUrl(BASE+"templates/add-course.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addCourseModal=t}),o.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&r.close()},e.studentCourseDeleteUpdate=function(t){var n=e.user.student_courses[t];e.user.student_courses.splice(t,1),e.user.updateAttr("remove_student_course",e.user,n,null,e),e.success.show(0,1500)},e.guruCourseDeleteUpdate=function(t){var n=e.user.guru_courses[t];e.user.guru_courses.splice(t,1),e.user.updateAttr("remove_guru_course",e.user,n,null,e),e.success.show(0,1500)}}]),angular.module("uguru.student.controllers").controller("SettingsEditUniversityController",["$scope","$state","$timeout","$ionicHistory","$ionicModal","$cordovaKeyboard","$ionicViewSwitcher",function(e,t,n,i,o,r,s){e.editMode=!1,e.progress_active=!1,e.goBack=function(){s.nextDirection("back"),e.user.guru_mode&&(mixpanel.track("Guru.home"),t.go("^.guru-home")),e.user.guru_mode||(mixpanel.track("Student.home"),t.go("^.student-home"))},e.saveUniversity=function(){e.rootUser.updateLocal(e.user)},o.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&r.close()}}]),angular.module("uguru.student.controllers").controller("SettingsNotificationsController",["$scope","$state","$ionicViewSwitcher","$timeout","$cordovaPush",function(e,t,n,i,o){e.goBack=function(){n.nextDirection("back"),e.root.vars.select_bottom_three=!0,t.go(e.user.guru_mode?"^.guru-home":"^.student-home")},e.textNotificationChange=function(){e.success.show(0,1e3,"Coming Soon!"),i(function(){e.user.text_notifications=!1},1500)},e.emailNotifiationChange=function(){e.user.updateAttr("email_notifications",e.user,e.user.email_notifications,null,e)},e.pushNotificationChange=function(){var t={badge:!0,sound:!0,alert:!0};o.register(t).then(function(t){console.log("deviceToken: "+t),console.log("Register success "+t),e.platform.ios&&(console.log("updating the server..."),e.user.push_notifications=!0,e.user.current_device.push_notif=t,e.user.current_device.push_notif_enabled=!0,e.user.updateAttr("devices",e.user.current_device,e.user.current_device,null,e))},function(t){console.log(t),e.user.updateAttr("devices",e.user.current_device,e.user.current_device,null,e)})}}]),angular.module("uguru.student.controllers").controller("SettingsProfileController",["$scope","$state","$timeout","$ionicHistory","$ionicViewSwitcher",function(e,t,n,i,o){e.progress_active=!1,e.changePasswordForm={new_password:"",old_password:""},e.goBack=function(){o.nextDirection("back"),e.root.vars.select_bottom_three=!0,e.user.guru_mode&&(mixpanel.track("Guru.home"),t.go("^.guru-home")),e.user.guru_mode||(mixpanel.track("Student.home"),t.go("^.student-home"))},e.saveProfile=function(){if(!e.user.email||!e.user.first_name||!e.user.last_name)return void e.success.show(0,1500,"Success\n\n!");
var t=function(e){alert(e&&e.status&&401===e.status?"Incorrect username & password":"Profile successfully saved!")};payload={email:e.user.email,first_name:e.user.first_name,last_name:e.user.last_name},e.user.updateAttr("profile_info",e.user,payload,t,e)},e.changePassword=function(){if(!e.changePasswordForm.old_password||!e.changePasswordForm.new_password)return void alert("please fill in all fields");var t=function(t){t&&t.status&&401===t.status?(alert("Incorrect old password. Try again?"),e.changePasswordForm.old_password="",e.changePasswordForm.new_password=""):alert("Password successfully saved!")};payload={email:e.user.email,old_password:e.changePasswordForm.old_password,new_password:e.changePasswordForm.new_password},e.user.updateAttr("change_password",e.user,payload,t,e)}}]),angular.module("uguru.student.controllers").controller("SettingsTransactionsController",["$scope","$state","$ionicTabsDelegate","$ionicHistory",function(e,t,n,i){e.goBack=function(){i.goBack()}}]),angular.module("uguru.student.controllers").controller("SettingsTransfersController",["$scope","$state",function(e,t){e.goToSelectDebitCard=function(){},e.selectedTransferCard=e.user.default_transfer_card,e.cashoutAndSendToServer=function(){var n={card_id:e.selectedTransferCard.id,transaction:!0},i=new Date;MONTHS=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],e.user.transfer_transactions.push({card:e.selectedTransferCard,guru_amount:e.user.balance,guru:{name:e.user.name,profile_url:e.user.profile_url},time:{date:i.getDate(),month:MONTHS[i.getMonth()]},transfer_status:"pending"}),e.user.balance=0,e.user.createObj(e.user,"transactions",n,e),mixpanel.track("Setting.transactions"),t.go("^.settings-transactions")}}]),angular.module("uguru.util.controllers",[]).controller("AddUniversityController",["$scope","$state","$timeout","$localstorage","$ionicModal","$cordovaProgress","$q","University","$cordovaKeyboard","$ionicLoading","$cordovaStatusbar",function(e,t,n,i,o,r,s,a,l){e.search_text="",e.keyboard_force_off=!1,e.setFocus=function(){0!==e.search_text.length||e.keyboard_force_off||document.getElementsByName("university-input")[0].focus()};var u=function(){var t=s.defer();return e.$on("modal.shown",function(){window.StatusBar&&StatusBar.styleLightContent(),e.addUniversityModal.isShown()&&0===i.getObject("universities").length&&e.getUniversitiesFromServer(t),e.addUniversityModal.isShown()&&i.getObject("universities").length>0&&(e.keyboard_force_off=!1,n(function(){e.setFocus()},500))}),i.getObject("universities").length>0?i.getObject("universities"):t.promise};e.$on("modal.hidden",function(){window.StatusBar&&StatusBar.styleDefault()}),e.universities=u(),e.getUniversitiesFromServer=function(t){e.loader.show(),a.get().then(function(o){e.loader.hide(),e.keyboard_force_off=!1,n(function(){e.setFocus()},1e3),o=JSON.parse(o),t&&t.resolve(o),e.universities=o,i.setObject("universities",e.universities),console.log(e.universities.length+" universities successfully loaded")},function(){console.log("Universities NOT successfully loaded")})},e.clearSearchInput=function(){e.search_text=""},e.universitySelected=function(t,o){if(e.onboarding===!0)return void e.nearestUniversitySelected(o,t);window.StatusBar&&StatusBar.styleDefault();var r=function(){console.log("callback executed"),console.log("cleared previous universities courses from the cache"),e.user.guru_courses=[],e.user.student_courses=[],i.removeObject("courses")};if(e.user.university_id&&t.id!==e.user.university_id){var s={msg:"Are you sure you want to change universities? This will deactive your current courses.",title:"Warning",button_arr:["No Thanks","I'm sure"]};s.arr_callback=e.platform.mobile?[null,r]:[r,r],e.root.dialog.confirm(s.msg,s.title,s.button_arr,s.arr_callback)}e.user.university_id=t.id,e.user.university=t,e.user.university.latitude=t.location.latitude,e.user.university.longitude=t.location.longitude,e.search_text="",e.keyboard_force_off=!0,e.rootUser.updateLocal(e.user),e.user.updateAttr("university_id",e.user,e.user.university_id),e.closeKeyboard(),n(function(){e.addUniversityModal.hide()},1e3)},e.hideUniversityModal=function(){window.StatusBar&&StatusBar.styleDefault(),e.platform.mobile&&l.isVisible()?(e.keyboard_force_off=!0,e.closeKeyboard(),n(function(){e.addUniversityModal.hide()},300)):e.addUniversityModal.hide()}}]),angular.module("uguru.util.controllers").controller("AddCourseController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$q","$cordovaKeyboard","University","Popover","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,o,r,s,a,l,u,c,d){e.course_search_text="",e.keyboard_force_off=!1,d.ready(function(){e.turnStatusBarWhiteText=function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}}),e.setCourseFocus=function(){0!==e.course_search_text.length||e.keyboard_force_off||document.getElementsByName("course-input")[0].focus(),e.platform&&e.platform.android&&n(function(){a.isVisible||a.show()},500)},e.clearSearchInput=function(){e.course_search_text=""},e.getCoursesFromServer=function(t){e.user.university.title;e.loader.show(),l.getCourses(e.user.university_id).then(function(o){e.loader.hide(),e.progress=!1,console.log(o.length+" courses uploaded from "+e.user.university.title),t&&t.resolve(o),n(function(){e.setCourseFocus()},1e3),e.courses=o,i.setObject("courses",e.courses)},function(e){console.log("Courses NOT successfully loaded"),console.log(e)})};var p=function(){if(i.getObject("courses").length>0)return e.$on("modal.shown",function(){e.addCourseModal.isShown()&&!e.addUniversityModal.isShown()&&i.getObject("courses").length>0&&(e.turnStatusBarWhiteText&&e.turnStatusBarWhiteText(),e.keyboard_force_off=!1,n(function(){e.setCourseFocus()},500))}),i.getObject("courses");var t=s.defer();return e.$on("modal.hidden",function(){!e.addUniversityModal.isShown()&&e.addCourseModal.isShown()&&e.user.university_id&&(0===i.getObject("courses").length?e.getCoursesFromServer(t):n(function(){e.setCourseFocus()},500))}),d.ready(function(){e.switchStatusBariOS=function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}}),e.$on("modal.shown",function(){(e.switchStatusBariOS||e.turnStatusBarWhiteText())&&(e.switchStatusBariOS(),e.turnStatusBarWhiteText()),e.addCourseModal.isShown()&&!e.addUniversityModal.isShown()&&i.getObject("courses").length>0?(e.keyboard_force_off=!1,n(function(){e.setCourseFocus()},500)):e.addCourseModal.isShown()&&!e.addUniversityModal.isShown()&&e.user.university_id&&0===i.getObject("courses").length&&e.getCoursesFromServer(t)}),t.promise};e.courses=p(),e.hideCourseModal=function(){e.platform.mobile&&a.isVisible()?(e.keyboard_force_off=!0,e.course_search_text="",e.closeKeyboard(),n(function(){e.addCourseModal.hide()},300)):e.addCourseModal.hide()},e.courseSelected=function(i){var o=e.user.guru_mode||"root.guru-wizard"===t.current.name;e.user.student_courses||o||(e.user.student_courses=[]),!e.user.guru_courses&&o&&(e.user.guru_courses=[]),o?(e.user.guru_courses.push(i),e.user.updateAttr("add_guru_course",e.user,i,null,e)):(e.user.student_courses.push(i),1===e.user.student_courses.length&&0===e.user.requests.length&&n(function(){document.getElementsByClassName("course-item")[0]},2e3),e.user.updateAttr("add_student_course",e.user,i,null,e)),document.getElementsByName("course-input")[0].blur(),e.keyboard_force_off=!0,e.rootUser.updateLocal(e.user),payload={add_student_course:!0,course:i},serverSuccess=function(e){console.log(e)},e.course_search_text="",n(function(){e.closeKeyboard()},500),n(function(){e.addCourseModal.hide(),e.success.show(0,1500)},1e3)}}]),angular.module("uguru.util.controllers").controller("GuruIntroController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$q","$cordovaKeyboard","University",function(e,t,n){e.guru_introduction="",e.guruBioForm=null,e.keyboard_force_off=!1,e.submitGuruBio=function(){e.user.updateAttr("add_guru_intro",e.user,e.user.guru_introduction,null,e),n(function(){e.addGuruIntroModal.hide()},1e3)},e.setInputFocus=function(){0!==e.guru_introduction.length||e.keyboard_force_off||document.getElementsByName("bio-input")[0].focus()},e.$on("modal.shown",function(){e.addGuruIntroModal.isShown()&&(e.keyboard_force_off=!1,n(function(){e.setInputFocus()},500))})}]),angular.module("uguru.util.controllers").controller("AddMajorController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$q","$cordovaKeyboard","University",function(e,t,n,i,o,r,s,a,l){e.major_search_text="",e.keyboard_force_off=!1,e.setMajorFocus=function(){0!==e.major_search_text.length||e.keyboard_force_off||document.getElementsByName("major-input")[0].focus()},e.clearSearchInput=function(){e.major_search_text=""},e.getMajorsFromServer=function(t){e.user.university.title;e.loader.show(),l.getMajors(e.user.university_id).then(function(o){e.loader.hide(),e.progress=!1,console.log(o.length+" majors uploaded from "+e.user.university.title),n(function(){o.length+" majors Found!"},500),t&&t.resolve(o),n(function(){e.setMajorFocus()},1e3),e.majors=o,i.setObject("majors",e.majors)},function(e){console.log("majors NOT successfully loaded"),console.log(e)})};var u=function(){if(i.getObject("majors").length>0)return e.$on("modal.shown",function(){e.addMajorModal.isShown()&&i.getObject("majors").length>0&&(e.keyboard_force_off=!1,n(function(){e.setMajorFocus()},500))}),i.getObject("majors");var t=s.defer();return e.$on("modal.hidden",function(){!e.addUniversityModal.isShown()&&e.addMajorModal.isShown()&&e.user.university_id&&(0===i.getObject("majors").length?e.getMajorsFromServer(t):n(function(){e.setMajorFocus()},500))}),e.$on("modal.shown",function(){e.addMajorModal.isShown()&&!e.addUniversityModal.isShown()&&i.getObject("majors").length>0?(e.keyboard_force_off=!1,n(function(){e.setMajorFocus()},500)):e.addMajorModal.isShown()&&0===i.getObject("majors").length&&e.getMajorsFromServer(t)}),t.promise};e.majors=u(),e.hidemajorModal=function(){e.platform.mobile&&a.isVisible()?(e.keyboard_force_off=!0,e.major_search_text="",e.closeKeyboard(),n(function(){e.addMajorModal.hide()},300)):e.addMajorModal.hide()},e.majorSelected=function(t){e.user.majors||(e.user.majors=[]),e.user.updateAttr("add_user_major",e.user,t,null,e),e.keyboard_force_off=!0,e.user.majors.push(t),e.success.show(0,1e3),e.major_search_text="",n(function(){e.addMajorModal.hide()},1e3)}}]),angular.module("uguru.util.controllers").controller("AddNoteController",["$scope","$state","$timeout","$localstorage","$ionicModal","Camera","$ionicHistory","$ionicTabsDelegate","$cordovaActionSheet","$ionicActionSheet",function(e,t,n,i,o,r,s,a,l,u){e.topTabsDelegate=a.$getByHandle("student-home-tabs-top"),e.file_index=0,e.root.vars.request&&(e.root.vars.request.attached_files=[]),e.attached_files=[],document.addEventListener("deviceready",function(){e.showTimerActionSheet=function(){e.platform.mobile&&(options={title:"Options",buttonLabels:["Use Camera","Choose from Library"],addCancelButtonWithLabel:"Cancel",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0},l.show(options).then(function(t){var n=t;1===n?e.takePhoto(1):2===n&&e.takePhoto(0)}))}}),e.promptActionBar=function(){e.platform.mobile?e.showTimerActionSheet():e.showIonicActionSheet()},e.showIonicActionSheet=function(){e.hideSheet=u.show({buttons:[{text:"Attach Local File"}],titleText:"File Options",cancelText:"Cancel",cancel:function(){e.hideSheet()},buttonClicked:function(t){console.log(t),0===t&&(e.takePhoto(),n(function(){e.hideSheet()},500))}})},e.hideAddNoteModal=function(){e.root.keyboard.isVisible()?(e.root.keyboard.close(),n(function(){e.addRequestNoteModal.hide()},300)):e.addRequestNoteModal.hide()},e.goBackToRequests=function(){s.goBack()},e.root.vars.request.description="",e.validateForm=function(){e.root.vars.request.description.length>0?s.goBack():alert("Please fill out description.")},e.saveNote=function(){e.addRequestNoteModal.hide()},e.toggleShowTextArea=function(){e.showAddNoteTextArea=!e.showAddNoteTextArea,e.showAddNoteTextArea&&e.root.keyboard.show("note-input",500)},e.goToStudentRequest=function(){mixpanel.track("Student.request"),t.go("^.student-request",{courseObj:JSON.stringify(e.root.vars.request.course)})},e.showAddNoteTextArea=function(){e.root.keyboard.show("note-input",500)},e.$on("$ionicView.beforeEnter",function(){if(e.root.vars.files_should_be_cleared){var t=document.getElementsByClassName("attachment-container")[0];t.src=null,e.root.vars.files_should_be_cleared=!1}}),e.takePhoto=function(t){if(e.platform.mobile)r.takePicture(e,t);else{var n=document.getElementById("file-input-web");n.click()}};var c=function(e){return-1!==e.indexOf("image/")?e.split("/")[1]:void 0},d=function(e){return Math.round(parseInt(e)/1e3,2)};e.initTimer=function(t){e.timer_seconds=new ProgressBar.Circle("#file-loader-container-"+t.toString(),{color:"#68b2a5",strokeWidth:10,trailColor:"#FFFFFF",easing:"easeInOut",duration:2500}),e.timer_seconds.animate(1,function(){e.timer_seconds.destroy()})},e.file_changed=function(t){var i=t.files[0];e.attached_files.push({type:c(i.type),size:d(i.size)}),e.root.vars.request.attached_files.push({type:c(i.type),size:d(i.size)}),e.initTimer(e.file_index);var o=new FileReader,r=document.getElementsByClassName("attachment-container")[e.file_index];o.onload=function(e){r.src=e.target.result},o.readAsDataURL(i);var s=new FormData;s.append("file",i),s.append("filename",name),e.file_index+=1,n(function(){e.attached_files[e.file_index-1].show=!0},3e3),e.user.createObj(e.user,"files",s,e)},e.saveImgToTag=function(e){var t=document.getElementsByClassName("attachment-container")[0];t.src=e}}]),angular.module("uguru.util.controllers").controller("AddPaymentController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicHistory","$stateParams","$ionicViewSwitcher",function(e,t,n,i,o,r,s,a){e.clearCard=function(){e.card=null,e.cardInput.value="",e.ccvInput.value="",e.rootUser.updateLocal(e.user),e.root.keyboard.show("card-input",500)},e.goBack=function(){a.nextDirection("back"),e.root.vars.select_bottom_three=!0,e.user.guru_mode?(mixpanel.track("Guru.home"),t.go("^.guru-home")):(mixpanel.track("Student.home"),t.go("^.student-home"))},e.addPaymentActionBtn=function(){"save"===e.actionButtonText.toLowerCase()?e.savePayment():e.clearCard(),e.setActionButtonText()},e.setActionButtonText=function(){e.actionButtonText=e.card?"clear":"save"},e.showSuccess=function(t){e.progress_active?console.log("Show success cannot be shown because progress bar is already active"):(e.progress_active=!0,$cordovaProgress.showSuccess(!0,t),n(function(){$cordovaProgress.hide(),e.progress_active=!1,r.goBack()},1e3))},e.savePayment=function(){var t=e.cardInput.value.split(" ").join(""),i=e.cardMM.value,o=e.cardYY.value,r=(e.getCardType(t),function(t,i){if(i.error)e.error_msg=!0,e.progress_active=!0,e.success.show(0,2e3,i.error.message),n(function(){e.error_msg=null},2e3),e.cardYY.value="",e.cardMM.value="",e.cardInput.value="";else if(e.debitCardOnly&&"debit"!==i.card.funding)e.success.show(0,2e3,"Please Enter a Debit Card. This one appears to be credit."),e.cardYY.value="",e.cardMM.value="",e.cardInput.value="";else{var o={stripe_token:i.id,card_last4:i.card.last4,card_type:i.card.brand};e.debitCardOnly?(o.debit_card=!0,o.is_transfer_card=!0,e.user.transfer_cards.push(o)):(o.card=!0,o.is_payment_card=!0,e.user.payment_cards.push(o)),e.user.cards.push(o),e.user.createObj(e.user,"cards",o,e),e.success.show(500,2e3,"Your card was successfully added!"),e.goBack()}});Stripe.card.createToken({number:t,exp_month:i,exp_year:o},r)},e.removeCard=function(){var t=e.root.util.objectFindByIndexByKey(e.user.cards,"last_4",e.card.last_4);e.user.cards.splice(t,1);var n={card:{id:e.card.id,remove_card:!0}};e.user.updateObj(e.user,"cards",n,e),alert("Card Successfully Deleted"),r.goBack()},e.setDefault=function(){var t={card:{id:e.card.id}},n=e.card;if(e.debitCardOnly){for(var i=0;i<e.user.transfer_cards.length;i++)n.id!=e.user.transfer_cards[i].id&&(e.user.transfer_cards[i].is_default_transfer=!1);t.default_transfer=!0}else{for(var i=0;i<e.user.payment_cards.length;i++)n.id!=e.user.payment_cards[i].id&&(e.user.payment_cards[i].is_default_payment=!1);t.default_payment=!0}e.user.updateObj(e.user,"cards",t,e),alert("Card Default Set!"),r.goBack()},e.injectCardPngClass=function(){},e.getCardType=function(){return"visa"},e.validatedAddCardForm=function(){return!0};var l=function(){var t=e.cardInput.value.split(" ").join(""),n=e.cardMM.value,i=e.getCardType(t);i.length>0&&console.log,t.length>0&&(t=t.match(new RegExp(".{1,4}","g")).join(" ")),e.cardInput.value=t,19===t.length&&e.cardInput===document.activeElement&&e.cardMM.focus(),2===n.length&&e.cardMM===document.activeElement&&e.cardYY.focus()};e.getCardType=function(e){var t=new RegExp("^4");return null!=e.match(t)?"visa":(t=new RegExp("^(34|37)"),null!=e.match(t)?"amex":(t=new RegExp("^5[1-5]"),null!=e.match(t)?"master":(t=new RegExp("^6011"),null!=e.match(t)?"discover":"")))},e.$on("$ionicView.beforeEnter",function(){e.loader.show(),n(function(){e.loader.hide()},3e3),e.debitCardOnly=s&&s.debitCardOnly||e.user.guru_mode,e.cardFormComplete=!1,e.progress_active=!1,e.actionButtonText="save",e.headerText="Add payment",e.placeholderValue="4242 4242 4242 4242",(e.user.guru_mode||e.debitCardOnly)&&(e.headerText="Add debit card",e.placeholderValue="4000 0566 5566 5556"),e.card=null,s.cardObj&&(e.card=JSON.parse(s.cardObj),e.actionButtonText="clear"),console.log("entering view..."),e.cardInput=document.getElementById("card-input"),e.cardMM=document.getElementById("mm-input"),e.cardYY=document.getElementById("yy-input"),console.log(e.cardInput),e.card?(e.cardInput.value="**** **** **** "+e.card.card_last4,e.cardMM.value="**",e.cardYY.value="**"):e.root.keyboard.show("card-input",500),e.cardInput.addEventListener("keyup",l),e.cardMM.addEventListener("keyup",l)}),e.$on("$ionicView.afterEnter",function(){e.loader.hide()})}]),angular.module("uguru.util.controllers").controller("AppsController",["$scope","$state","$timeout","$localstorage","$ionicViewSwitcher",function(e,t,n,i,o){e.goToFiles=function(){console.log("this works")},e.goToRequest=function(){o.nextDirection("forward"),e.success.show(0,1500,"Coming Soon!")},e.goToSearch=function(){e.success.show(0,1500,"Coming Soon!")},e.goToAskQuestion=function(){e.success.show(0,1500,"Coming Soon!")},e.goToBakery=function(){e.success.show(0,1500,"Coming Soon!")}}]),angular.module("uguru.util.controllers").controller("CalendarModalController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$ionicHistory","$stateParams",function(e,t,n,i,o,r,s,a){e.day_split_segments=24,e.default_num_days=2,e.day_rows=[],e.modalShown=!1,e.proposal=null,e.hideModal=function(){e.modalShown&&(e.modalShown=!1,e.calendarModal.hide())},e.paint=function(t,i){t||(t=e.calendar.data),e.user.guru_mode&&console.log("calendar_grid",t);var o=(new Date).getUTCDate();n(function(){for(var r=0;r<t.length;r++){js_time=new Date(t[r].start_time),event_date=js_time.getUTCDate(),event_hours=js_time.getUTCHours(),offset_date=event_date-o,console.log(event_date,offset_date);var s=e.getElementbyCalenderWidthHeight(offset_date,event_hours);i||(s.style.background="grey",s.style.color="white",s.childNodes[0].background="grey",e.user.proposals.length<2&&n(function(){var t='<span style="background-color:grey; padding:0px 15px;">&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;Times student has chosen</br><br>Tap any of these that you can also make!</span>';e.success.show(1e3,2e3,t)}))}},1e3)},e.processStudentCalendar=function(e){num_columns=e.length;for(var t=0;t<num_columns;t++)start_time=e[t].start_time,end_time=e[t].end_time,console.log(start_time,end_time);return e},e.getElementbyCalenderWidthHeight=function(e,t){var n=e+","+t,i=document.getElementById(n);return i},e.goBackToRequests=function(){s.goBack()},e.validateForm=function(){e.calendar.num_selected>0?s.goBack():alert("Please select at least one option")},e.goBack=function(){s.goBack()},e.initCalendar=function(){e.user.guru_mode&&a&&a.proposalObj?(e.calendar={width:2,height:24,num_selected:0},e.proposal=JSON.parse(a.proposalObj),console.log("proposal",e.proposal),e.student_calendar=e.processStudentCalendar(e.proposal.student_calendar[0].calendar_events),e.paint(e.student_calendar),e.root.vars.request={},e.root.vars.request.calendar=e.calendar):!e.user.guru_mode&&a.proposalObj&&(e.calendar={width:2,height:24,num_selected:0},e.request=JSON.parse(a.proposalObj),console.log("request",e.request),e.student_calendar=e.processStudentCalendar(e.request.student_calendar[0].calendar_events),e.paint(e.student_calendar),e.viewOnly=!0,e.root.vars.request={},e.root.vars.request.calendar=e.calendar),e.calendar||(e.calendar={width:2,height:24,num_selected:0})},e.goToConfirmProposal=function(){e.proposal.guru_calendar=e.formatCalendarEventJson(e.calendar.data).slice(),console.log("guru calendar",JSON.stringify(e.proposal.guru_calendar[0][3])),mixpanel.track("Guru.confirm.proposal"),t.go("^.guru-confirm-proposal",{proposalObj:JSON.stringify(e.proposal)})};var l=function(e,t){for(var n=new Array(e),i=0;e>i;i++)n[i]=new Array(t);return n};e.initCalendar(),e.calendar.data=l(e.calendar.width,e.calendar.height),e.root.vars.request.calendar.data=l(e.calendar.width,e.calendar.height),e.day_rows=l(e.calendar.height,1),e.day_columns=l(e.calendar.width,1);for(var u=0;u<e.day_rows.length;u++)e.day_rows[u]=u;for(var u=0;u<e.day_columns.length;u++)e.day_columns[u]=u;e.clear=function(t){t=e.calendar.data,e.calendar.num_selected=0;for(var n=0,i=0;i<t[0].length;i++)for(var o=0;o<t.length;o++)if(t[o][i]){t[o][i]=!1;var r=e.getElementbyCalenderWidthHeight(o,i);r.style.background="white",r.style.color="inherit",r.childNodes[0].background="white"}else{t[o][i]=!1;var r=e.getElementbyCalenderWidthHeight(o,i);r.style.background="white",r.style.color="inherit",r.childNodes[0].background="white"}return e.root.vars.request.calendar_selected=!1,e.root.vars.calendar_should_be_empty=null,n},e.hideModalAndSave=function(){return e.calendar.num_selected?void(e.modalShown&&(e.modalShown=!1,e.formatCalendarEventJson(e.calendar.data),e.calendarModal.hide())):void e.root.dialog.alert("Please select at least one time","Oops!","OK",null)},e.generateDaySegmentArr=function(e){for(var t=new Array(e),n=0;e>n;n++)t[n]=n;return t},e.getTimeFromHourInt=function(e){var t;return 0===e?t="12 am":11>=e?t=e+" am":12===e?t="12 pm":e>12&&25>e&&(t=e-12+" pm"),t},e.isStudentMode=function(){return e.user.guru_mode?!1:!0},e.isMutual=function(){return!1},e.formatCalendarEventJson=function(t){for(var n=0;n<t[0].length;n++)for(var i=0;i<t.length;i++)t[i][n]=t[i][n]?{start_time:n,end_time:n+1,is_student:e.isStudentMode(),is_guru:!e.isStudentMode(),is_mutual:e.isMutual()}:{};return t},e.getDayTimeFromNumDays=function(){},e.$on("modal.shown",function(){console.log(e.student_calendar),e.student_calendar&&(e.calendar.student_request=e.student_calendar,e.processStudentCalendar(e.calendar.student_request)),e.calendarModal.isShown()&&!e.modalShown&&(e.modalShown=!0)}),e.countCalendarSelected=function(t){for(var n=0,i=0;i<t[0].length;i++)for(var o=0;o<t.length;o++)!e.user.guru_mode&&t[o][i]&&(n+=1),e.user.guru_mode&&"boolean"==typeof t[o][i]&&t[o][i]&&(n+=1);return n},e.triggerCalendarClick=function(t,n,i){console.log(t.target.parentNode),e.clickCalendarGridElement(null,n,i,t.target.parentNode)},e.clickCalendarGridElement=function(t,n,i,o){if(!e.viewOnly){if(t)var r=t.target,s=r.style.background;else var r=o,s=r.style.background;console.log(s),e.user.guru_mode||s&&"white"!==s?e.user.guru_mode&&"rgb(128, 128, 128)"===s?(e.calendar.data[n][i]=!0,e.root.vars.request.calendar.data[n][i]=!0,r.style.background="#6C87B0",r.style.color="white",r.childNodes[0].background="#6C87B0"):e.user.guru_mode&&"rgb(108, 135, 176)"===s?(e.calendar.data[n][i]=!1,e.root.vars.request.calendar.data[n][i]=!1,r.style.background="rgb(128, 128, 128)",r.style.color="white",r.childNodes[0].background="rgb(128, 128, 128)"):(e.calendar.data[n][i]=!1,e.root.vars.request.calendar.data[n][i]=!1,r.style.background="white",r.style.color="rgba(0,0,0,0.8)",r.childNodes[0].background="white"):(e.calendar.data[n][i]=!0,e.root.vars.request.calendar.data[n][i]=!0,r.style.background="#6C87B0",r.style.color="white",r.childNodes[0].background="#6C87B0"),e.calendar.num_selected=e.countCalendarSelected(e.calendar.data),console.log(e.calendar.num_selected),e.root.vars.request.calendar_selected=!0}},e.$on("$ionicView.beforeEnter",function(){e.root.vars.calendar_should_be_empty&&(e.clear(),e.initCalendar(),e.calendar.data=l(e.calendar.width,e.calendar.height),e.root.vars.request.calendar.data=l(e.calendar.width,e.calendar.height))})}]),angular.module("uguru.util.controllers").controller("ContactGuruController",["$scope","$state","$timeout","$localstorage","$ionicModal","User","CordovaPushWrapper","$timeout",function(e,t,n,i,o,r,s,n){e.$on("modal.shown",function(){e.contactingGuruModal.isShown()&&e.platform.mobile&&e.platform.ios&&n(function(){s.register(e,function(){setTimeout(function(){pulse.classList.add("animated","pulse"),setTimeout(function(){console.log("shit is pulsating 3 second has passed"),pulse.classList.remove("animated","pulse"),e.closeContactGuruModal()},2e3)},2e3)})},2500),e.closeContactGuruModal=function(){n(function(){mixpanel.track("Home"),t.go("^.home"),e.contactingGuruModal.hide()},500)}})}]),angular.module("uguru.util.controllers").controller("GuruBookController",["$scope","$state","$timeout","$localstorage","$ionicTabsDelegate",function(e,t,n,i,o){if(e.goToGuruProfile=function(e){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(e),showContactGuru:!0})},e.user.gurus)for(var r=0;r<e.user.gurus.length;r++)e.user.gurus[r].profile_url||(e.user.gurus[r].profile_url="https://graph.facebook.com/10152573868267292/picture?width=100&height=100",console.log(e.user.gurus[r].profile_url),console.log(e.user.gurus[r].name));e.topGuruBookTabsDelegate=o.$getByHandle("student-guru-book-tabs-top")}]),angular.module("uguru.student.controllers").controller("StudentMessagesController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$cordovaProgress","$stateParams","$cordovaKeyboard","$ionicScrollDelegate","Restangular","$ionicHistory","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,o,r,s,a,l,u,c,d,p,h){e.hide_footer=!1,e.session=JSON.parse(a.sessionObj),e.new_message={content:""},e.default_profile_url="https://graph.facebook.com/10152573868267292/picture?width=100&height=100",e.message_name=e.session.guru.id===e.user.id?e.session.request.student.name.split(" ")[0]:e.session.guru.name.split(" ")[0],h.ready(function(){window.StatusBar&&e.user.guru_mode&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),e.goBack=function(){d.goBack()},e.getCurrentDate=function(){var e=new Date,t=e.getHours()%12,n=e.getMinutes();return ending=e.getHours()>=12?"PM":"AM",result=t+":"+n+" "+ending,result},e.last_updated=e.getCurrentDate(),e.sortMessageComparator=function(e,t){return e.id-t.id},e.processMessages=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.profile_url=t[n].sender.profile_url,i["class"]=i.sender.id===e.user.id?"item-avatar-right":"item-avatar-left"}return t.sort(e.sortMessageComparator),e.loader.hide(),t},e.setFocus=function(){e.hide_footer||(e.hide_footer=!1,document.getElementsByName("message-input")[0].focus(),u.$getByHandle("message-scroll").scrollBottom())},e.setUnfocus=function(){e.hide_footer=!0,e.platform.mobile&&l&&(l.close(),u.$getByHandle("message-scroll").scrollTop()),n(function(){e.hide_footer=!1},500)},e.sendMessage=function(t){u.$getByHandle("message-scroll").scrollBy(0,200,!0);var n=e.getMessagePayload(t);e.sendMessageToServer(n),n.message["class"]="item-avatar-right",n.message.profile_url=e.user.profile_url,console.log(n.message["class"],n.message.profile_url),e.new_message.content="",e.messages.push(n.message)},e.getMessagePayload=function(t){var n={message:{contents:t,relationship_id:e.session.relationship_id,receiver_id:e.session.guru.id,sender_id:e.user.id,session_id:e.session.id}};return n},e.getMessagesFromServer=function(i,o,r){console.log("getting message from server"),c.one("user",e.user.id).one("sessions",e.session.id).one("messages").customGET().then(function(s){console.log("response from server",JSON.stringify(s.plain()));var a=e.processMessages(s.messages);a.sort(e.sortMessageComparator),a.length>e.messages.length&&u.$getByHandle("message-scroll").scrollBottom(),e.messages=a,"root.student-messages"!==t.current.name||o||n(function(){e.getMessagesFromServer(i)},i),r&&r()},function(e){console.log(e),console.log("error...something happened with the server;")})},e.sortedListByObjKey=function(e){return e},e.processMessagesFromServer=function(e,t){return t},e.sendMessageToServer=function(t){var n=function(e,t){e.user.active_student_sessions=t.active_student_sessions;for(var n=0;n<t.active_student_sessions.length;n++)if(e.session.id===t.active_student_sessions[n].id){var i=e.processMessages(t.active_student_sessions[n].messages);i.sort(e.sortMessageComparator),e.messages=i}};e.user.createObj(e.user,"messages",t,e,n)},e.hideKeyboard=function(){e.root.keyboard.close(),e.hide_footer=!0,u.$getByHandle("message-scroll").resize(),n(function(){e.hide_footer=!1},500)},e.$on("$ionicView.beforeEnter",function(){console.log("view has entered"),e.platform.mobile&&window.cordova&&window.cordova.plugins.Keyboard&&(console.log("keyboard exists!"),window.cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.cordova.plugins.Keyboard.disableScroll(!0)),n(function(){u.$getByHandle("message-scroll").scrollBottom()},500)}),e.doRefresh=function(){var t=function(){e.$broadcast("scroll.refreshComplete"),u.$getByHandle("message-scroll").scrollBottom()};console.log("getting message from server"),e.getMessagesFromServer(null,!0,t),n(function(){console.log("shutting off anyways incase its not"),e.$broadcast("scroll.refreshComplete"),u.$getByHandle("message-scroll").scrollBottom()},3e3)},e.$on("$ionicView.beforeEnter",function(){e.loader.show(),e.messages=e.processMessages(e.session.messages),n(function(){e.getMessagesFromServer(3e4)},5e3)}),e.$on("$ionicView.afterEnter",function(){n(function(){e.platform.ios?e.setFocus():e.platform.android&&l.show()},1e3)})}]),angular.module("uguru.util.controllers").controller("RatingsController",["$scope","$state","$timeout","$localstorage","$ionicModal","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,o,r,s){function a(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}e.starsSelected,s.ready(function(){window.StatusBar&&e.user.guru_mode&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),e.rating=e.user.guru_mode?e.user.pending_student_ratings[0]:e.user.pending_guru_ratings[0],e.saveInfo=function(){e.ratingModal.hide()},e.starClicked=function(t){var n=t.target.getAttribute("value");e.showGreenStars(n,t.target),e.starsSelected=n,console.log(n),e.showSubmitButton=!0},e.submitRating=function(){e.submitRatingToServer()},e.submitRatingToServer=function(){e.loader.show();var i=function(e){e.user.guru_mode?(mixpanel.track("Guru.home"),t.go("^.guru-home")):(mixpanel.track("Guru.home"),t.go("^.student-home")),n(function(){e.ratingModal.hide(),e.loader.hide()},500)};e.user.guru_mode?(e.rating.guru_rate_student=!0,e.rating.student_rating=e.starsSelected,e.root.util.removeObjectByKey(e.user.pending_student_ratings,"id",e.rating.id)):(e.rating.student_rate_guru=!0,e.rating.guru_rating=e.starsSelected,e.root.util.removeObjectByKey(e.user.pending_guru_ratings,"id",e.rating.id));var o=e.rating;e.user.updateObj(e.user,"ratings",o,e,i)},e.showGreenStars=function(e,t){for(var n=t.parentNode.parentNode.querySelectorAll(":scope > .pure-u-1-5"),i=0;e>i;i++){var o=n[i];a(o,"green")||(o.className=o.className+" green")}for(var r=e;5>r;r++){var o=n[r];a(o,"green")&&(o.className=o.className.replace("green",""))
}},e.closeRatingsModal=function(){e.root.keyboard.isVisible()?(e.root.keyboard.close(),n(function(){e.ratingModal.hide()},300)):e.ratingModal.hide()}}]),angular.module("uguru.util.controllers").controller("RequestLocationController",["$scope","$state","$timeout","$localstorage","$ionicModal","$compile","$ionicHistory","$cordovaGeolocation",function(e,t,n,i,o,r,s,a){e.goBackToRequests=function(){s.goBack()},e.validateForm=function(){e.root.vars.request.location?s.goBack():alert("Please select a location")},e.refresh_map=!1,e.random=null,e.hideRequestMapModal=function(){e.request.location||e.togglePersonGuru(),e.root.keyboard.isVisible()?(e.root.keyboard.close(),n(function(){e.requestMapModal.hide()},300)):e.requestMapModal.hide()},e.setLocation=function(){e.root.vars.request.position=e.requestPosition,s.goBack()},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.setMarkerPosition=function(t,n,i){t.setPosition(e.createGoogleLatLng(n,i))},e.getAddressFromLatLng=function(t,i,o){var r=e.createGoogleLatLng(i,o);t.geocode({latLng:r},function(t,r){if(r==google.maps.GeocoderStatus.OK)if(t[0]){var s=t[0].formatted_address;e.root.vars.request.address=s,console.log(e.root.vars.request.location),e.requestPosition.coords.latitude=i,e.requestPosition.coords.longitude=o,n(function(){e.root.vars.request.address=s},500),e.setMarkerPosition(e.marker,i,o)}else alert("No results found");else alert("Geocoder failed due to: "+r)})},e.setMapCenter=function(t,n,i){e.map.setCenter(e.createGoogleLatLng(n,i))},e.fixInput=function(){n(function(){container=document.getElementsByClassName("pac-container"),console.log(container),angular.element(container).attr("data-tap-disabled","true"),angular.element(container).on("click",function(){console.log("it was clicked"),document.getElementById("type-selector").blur()})},1500)},e.showGoogleMap=function(){e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1};var t,n=document.getElementsByTagName("ion-pane")[0];e.requestPosition&&(t=e.createGoogleLatLng(e.requestPosition.coords.latitude,e.requestPosition.coords.longitude),e.root.vars.request.location={latitude:e.requestPosition.coords.latitude,longitude:e.requestPosition.coords.longitude});var i={center:t,zoom:17,disableDefaultUI:!0,zoomControl:!1};actual_map=new google.maps.Map(n,i),e.actual_map=actual_map,e.marker=new google.maps.Marker({position:t,map:actual_map,draggable:!0}),e.geocoder=new google.maps.Geocoder,e.requestPosition&&e.getAddressFromLatLng(e.geocoder,e.requestPosition.coords.latitude,e.requestPosition.coords.longitude),google.maps.event.addListener(e.marker,"dragend",function(){e.getAddressFromLatLng(e.geocoder,e.marker.getPosition().lat(),e.marker.getPosition().lng())})},e.$on("$ionicView.enter",function(){console.log("entering view");var t={timeout:1e4,enableHighAccuracy:!1};e.loader.show(),a.getCurrentPosition(t).then(function(t){e.loader.hide(),e.user.last_position=t.coords,e.requestPosition=t,e.showGoogleMap()},function(t){e.loader.hide(),console.log(JSON.stringify(t)),e.requestPosition={coords:{latitude:e.user.university.latitude,longitude:e.user.university.longitude}},e.success.show(0,2e3,"Sorry! We couldn't detect a strong enough GPS signal."),e.showGoogleMap()})})}]),angular.module("uguru.util.controllers").controller("SignupController",["$scope","$state","$timeout","$localstorage","$ionicModal","$cordovaProgress","$cordovaFacebook","User","$rootScope",function(e,t,n,i,o,r,s,a){e.loginMode||(e.loginMode=!1),e.toggleLoginMode=function(){e.loginMode=!e.loginMode},e.signupForm={first_name:null,last_name:null,email:null,password:null},e.resetSignupForm=function(){e.signupForm={first_name:null,last_name:null,email:null,password:null}},e.closeSignupModal=function(t){e.loader.hide(),e.platform.mobile&&e.root.keyboard.isVisible()?(e.root.keyboard.close(),n(function(){e.signupModal.hide(),t&&t()},300)):(e.signupModal.hide(),t&&t()),e.resetSignupForm()},e.login=function(){e.loader.show(),s.login(["email","public_profile","user_friends"]).then(function(t){e.loginInfo=t,e.getMe(),console.log("Getting Facebook information...")},function(t){e.error=t,console.log("FB CONNECT FAILED..."),console.log("Error from logging from facebook:"+JSON.stringify(t)),e.logout()})},e.getMe=function(){s.api("/me",null).then(function(t){e.user.first_name=t.first_name,e.user.last_name=t.last_name,e.user.name=t.name,e.user.email=t.email,e.user.fb_id=t.id,console.log(e.user.profile_url),e.signupForm.email=t.email,e.signupForm.first_name=e.user.first_name,e.signupForm.last_name=e.user.last_name,e.signupForm.fb_id=t.id,e.signupForm.profile_url="https://graph.facebook.com/"+t.id+"/picture?width=100&height=100",e.signupForm.gender=t.gender,e.completeSignup()},function(t){e.error=t,console.log(t)})},e.fbConnect=function(){console.log("Attempting to login through facebook..."),e.login()},e.$on("modal.shown",function(){window.StatusBar&&StatusBar.styleDefault(),e.signupModal.isShown()&&(e.loginMode=e.userClickedLoginModal?!0:!1)}),e.signupFacebook=function(){e.login()},e.validateLoginForm=function(){function t(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var n=e.signupForm;if(!n.email){e.success.show(0,2e3,"Please enter your email"),document.getElementsByName("login-email")[0].focus();var i=document.getElementById("input_email_login");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(!t(n.email)){document.getElementsByName("login-email")[0].focus();var i=document.getElementById("input_email_login");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(e.user.email=e.signupForm.email,!n.password){document.getElementsByName("login-password")[0].focus();var i=document.getElementById("input_password_login");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}return e.user.password=e.signupForm.password,e.user.last_name=e.signupForm.last_name,e.user.email=e.signupForm.email,e.user.password=e.signupForm.password,!0},e.validateSignupForm=function(){function t(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var n=e.signupForm;if(!n.first_name){e.success.show(0,2e3,"Please fill in all fields!"),document.getElementsByName("signup-first-name")[0].focus();var i=document.getElementById("input_first");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(e.user.first_name=e.signupForm.first_name,!n.last_name){e.success.show(0,2e3,"Please fill in all fields!"),document.getElementsByName("signup-last-name")[0].focus();var i=document.getElementById("input_last");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(e.user.last_name=e.signupForm.last_name,!n.email){e.success.show(0,2e3,"Please fill in all fields!"),document.getElementsByName("signup-email")[0].focus();var i=document.getElementById("input_email");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(!t(n.email)){e.success.show(0,2e3,"Please fill in all fields!"),document.getElementsByName("signup-email")[0].focus();var i=document.getElementById("input_email");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(e.user.email=e.signupForm.email,!n.password){e.success.show(0,2e3,"Please fill in all fields!"),e.user.password=e.signupForm.password,document.getElementsByName("signup-password")[0].focus();var i=document.getElementById("input_password");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}return e.user.password=e.signupForm.password,e.user.last_name=e.signupForm.last_name,e.user.email=e.signupForm.email,e.user.password=e.signupForm.password,!0},e.loginUser=function(){(e.validateLoginForm()||e.user.fb_id)&&(console.log("login attmepted"),e.loginPayload={email:e.signupForm.email,password:e.signupForm.password},e.loginPayload.student_courses=e.user.student_courses,e.loginPayload.university_id=e.user.university_id,e.loginPayload.current_device=e.user.current_device,e.user.current_device&&e.user.current_device.id&&(e.loginPayload.current_device_id=e.user.current_device.id),a.login(e.loginPayload).then(function(t){var n=a.process_results(t.plain());a.assign_properties_to_root_scope(e,n),e.user.guru_mode=!1,i.setObject("user",e.user);var o=function(){e.success.show(0,2e3,"Login Successful!")};e.closeSignupModal(o)},function(t){401===t.status&&(e.signupForm.password="",e.success.show(0,1e3,"Incorrect username or password"))}))},e.completeSignup=function(){(e.user.fb_id||e.validateSignupForm())&&(e.signupForm.name=e.signupForm.first_name+" "+e.signupForm.last_name,e.signupForm.student_courses=e.user.student_courses,e.signupForm.university_id=e.user.university_id,e.signupForm.current_device=e.user.current_device,e.user.current_device&&e.user.current_device.id&&(e.signupForm.current_device_id=e.user.current_device.id),e.signupForm.guru_mode=!1,e.loader.show(),a.create(e.signupForm).then(function(o){var r=a.process_results(o.plain());if(console.log(JSON.stringify(e.user)),a.assign_properties_to_root_scope(e,r),e.user.guru_mode=!1,i.setObject("user",e.user),"root.student-request"===t.current.name){var s=function(){e.requestHelp(),e.loader.hide()};e.closeSignupModal(s)}e.becomeGuruButtonClicked?e.closeSignupModal(function(){e.loader.hide(),e.becomeGuruModal.show()}):(a.getUserFromServer(e,null,t),e.closeSignupModal(function(){n(function(){e.loader.hide()},500)}))},function(t){console.log(t),409===t.status&&(alert("Email already exists in our system! Login?"),e.toggleLoginMode(),e.signupForm.password="")}))},e.showComingSoon=function(){e.progress_active=!0,r.showText(!1,"Coming Soon!","center"),n(function(){r.hide(),e.progress_active=!1},1e3)}}]),angular.module("uguru.util.controllers").controller("StudentBookController",["$scope","$state","$timeout","$localstorage","$ionicTabsDelegate",function(e,t,n,i,o){e.ionicTabsStudentBookDelegate=o.$getByHandle("student-book-tabs-top"),e.getNumber=function(e){return new Array(e)},e.goToGuruProfile=function(e){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(e),showContactGuru:!0})}}]),angular.module("uguru.onboarding.controllers",[]).controller("OnboardingRequestLocationController",["$scope","$state","$timeout","$localstorage","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicPlatform","$cordovaStatusbar",function(e,t,n,i,o,r,s,a){e.$on("$ionicView.loaded",function(){document.getElementById("header"),document.getElementById("body"),document.getElementById("footer_1"),document.getElementById("footer_2")}),e.togglePersonGuru=function(){console.log("we are about to launch the location picker and are on the platform",JSON.stringify(e.platform)),e.platform.mobile?e.platform.android?e.nearest_universities&&e.nearest_universities.length>0?(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):e.platform.ios?(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):e.platform.web?console.log("I am testing through the web."):(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university"))},e.checkLocationStatus=function(){if(console.log("current location status is..",e.location_error),"turned-off"===e.location_error)return void console.log("skipping status check upon user request...");var t={timeout:1e4,enableHighAccuracy:!1};console.log("checking status of user location services..."),a.getCurrentPosition(t).then(function(){e.location_error=null,console.log("user has it turned on")},function(t){1===t.code&&(e.location_error="denied",console.log("user has denied...")),2===t.code&&(e.location_error="unavailable",console.log("it is unavailable...")),3===t.code&&(console.log("it is unavailable..."),e.location_error="timeout")})},e.toggleLocationService=function(){if(e.location_error){var t=e.location_error;if("denied"==t){var n=function(){e.requestMapModal.hide()};e.showDialog("Please go to privacy settings, turn on location services for Uguru, and try again","Location Error","OK",n)}else"unavailable"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):"timeout"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):(o.getUserPosition(e,e.showRequestMapModal),e.location_error=null)}else e.location_error="turned-off"}}]),mixpanel.track("Onboarding.loading"),angular.module("uguru.onboarding.controllers").controller("OnboardingLoadingController",["$scope","$state","$timeout","$localstorage","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicPlatform","$cordovaSplashscreen","$cordovaStatusbar",function(e,t,n){if(e.user.university_id&&e.user.guru_mode)return console.log("going to guru mode"),mixpanel.track("Guru.home"),void t.go("^.guru-home");if(e.user.university_id&&!e.user.guru_mode)return console.log("going to student mode"),mixpanel.track("Student.home"),void t.go("^.student-home");e.intervals=10,e.time_length=700,e.root.vars.onboarding=!0,e.extra_delay=3500,e.img_components=[];var i="<p id='typewriter-1' class='typewriter-text'>College is known to be the <br><b>BEST 4 years of your life</b>.</p>",o="<p id='typewriter-2' class='typewriter-text'>Let Uguru help you stay on top of your academic life.</p>";e.startIntervals=function(t,n,o,r){for(var s=0;t>s;s++)showTargetComponentAtIndex(o[s],s,n*(s+1),r),e.typerwriter(i)},n(function(){var i=getComponents();e.startIntervals(e.intervals,e.time_length,i,n),n(function(){e.user.university_id?(mixpanel.track("Student.home"),t.go("^.student-home")):(mixpanel.track("Onboarding.location"),t.go("^.onboarding-location"))},e.intervals*e.time_length+1e3)},1e3),e.typerwriter=function(t){var i,r,t=t,s=0;!function a(){if(r=t.slice(0,++s),r===t)return void(e.runSecondScript||(e.runSecondScript=!0,n(function(){e.typerwriter(o)},1500)));document.getElementById("typewriter").innerHTML=r;var l=r.slice(-1);return"<"===l&&(i=!0),">"===l&&(i=!1),i?a():void setTimeout(a,30)}()}}]);var showTargetComponentAtIndex=function(e,t,n,i){i(function(){e.style.display="block"},n)},getComponents=function(){return document.getElementsByClassName("component")};angular.module("uguru.onboarding.controllers").controller("OnboardingNearestUniversityController",["$scope","$state","$timeout","$localstorage","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicPlatform","$ionicModal","$cordovaKeyboard","$cordovaStatusbar","$ionicViewSwitcher",function(e,t,n,i,o,r,s,a,l,u,c,d,p){e.search_text="",e.header_text="Nearby Schools",e.$on("$ionicView.beforeEnter",function(){console.log("before view has entered"),e.universities=e["static"].universities,e.platform.ios&&window.StatusBar&&StatusBar.styleDefault()}),e.$on("$ionicView.afterEnter",function(){console.log("after view has entered"),e.setFocus=function(){0!==e.search_text.length||e.keyboard_force_off?e.search_active=!1:(document.getElementsByName("university-input")[0].focus(),e.search_active=!0)},e.clearSearchInput=function(){e.search_text=""},0===e["static"].nearest_universities.length&&(console.log(document.getElementsByName("university-input")[0].focus()),e.search_active=e["static"].universities&&e["static"].universities.length>0,e.search_active&&(e.header_text="Select University",e.setFocus()))}),e.hideKeyboard=function(){e.closeKeyboard()},e.nearest_universities=e["static"].nearest_universities,e.n_universities=e.nearest_universities.slice(0,10),e.onboarding=!0,e.nearestUniversitySelected=function(i,o){var r=document.querySelectorAll(".selected");[].forEach.call(r,function(e){e.checked===!0&&(e.classList.remove("selected"),e.checked=!1)}),i.target.classList.add("selected"),e.user.university_id=o.id,e.user.university=o,e.user.university.latitude=o.location.latitude,e.user.university.longitude=o.location.longitude,e.search_text="",e.keyboard_force_off=!0,e.user.updateAttr("university_id",e.user,e.user.university_id,null,e),e.platform.mobile&&e.closeKeyboard(),e.loader.show(),n(function(){e.loader.hide(),p.nextDirection("forward"),mixpanel.track("Student.home"),t.go("^.student-home")},1e3)},e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&c.close()}}]),angular.module("uguru.onboarding.controllers").controller("PromptLocationController",["$scope","$state","$timeout","$localstorage","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicPlatform","$cordovaStatusbar","$cordovaPreferences",function(e,t,n,i,o,r,s,a){var l=function(e,t){e.loader.hide(),mixpanel.track("Onboarding.prompt"),t.go("^.prompt-location")};e.goToSettings=function(){s.alert("Go to your iOS Settings > Privacy > Uguru ","GO TO SETTINGS")};var u=function(e,t){e.loader.hide(),mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")};e.togglePersonGuru=function(){e.platform.ios||!e.platform.mobile?o.getUserPosition(e,u,l,t):e.platform.android&&(e.nearest_universities&&e.nearest_universities.length>0?(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")))},e.checkLocationStatus=function(){if(console.log("current location status is..",e.location_error),"turned-off"===e.location_error)return void console.log("skipping status check upon user request...");var t={timeout:1e4,enableHighAccuracy:!1};console.log("checking status of user location services..."),a.getCurrentPosition(t).then(function(){e.location_error=null,console.log("user has it turned on")},function(t){1===t.code&&(e.location_error="denied",console.log("user has denied...")),2===t.code&&(e.location_error="unavailable",console.log("it is unavailable...")),3===t.code&&(console.log("it is unavailable..."),e.location_error="timeout")})},e.toggleLocationService=function(){if(e.location_error){var t=e.location_error;if("denied"==t){var n=function(){e.requestMapModal.hide()};e.showDialog("Please go to privacy settings, turn on location services for Uguru, and try again","Location Error","OK",n)}else"unavailable"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):"timeout"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):(o.getUserPosition(e,e.showRequestMapModal),e.location_error=null)}else e.location_error="turned-off"},e.$on("$ionicView.beforeEnter",function(){console.log("before view has entered"),e.platform.ios&&window.StatusBar&&StatusBar.styleLightContent()}),n(function(){e.loader&&e.loader.hide()},500)}]),angular.module("uguru").run(["$templateCache",function(e){e.put("templates/root.html",'<ion-nav-view animation="slide-left-right">\n\n      </ion-nav-view>\n      <ion-nav-back-button class="button-clear" style="width:75px;">\n          <img src="./img/left-chevron.png" class=\'uguru-back-button\'/>\n      </ion-nav-back-button>'),e.put("templates/student.home.html",'\n<ion-view hide-nav-bar="true">\n      <ion-nav-back-button class="button-clear" style="width:75px;">\n          <img src="./img/left-chevron.png" class=\'uguru-back-button\'/>\n      </ion-nav-back-button>\n\n  <!-- <div class="bar bar-footer uguru-footer">\n      <div class="row">\n        <div class="col center border-bottom"><img src=\'./img/glass.png\' class=\'width\'></div>\n        <div class="col center"><img src=\'./img/book.png\' class=\'width\'></div>\n        <div class="col center"><img src=\'./img/setting.png\' class=\'width\'></div>\n      </div>\n  </div> -->\n  <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-home-tabs-bottom" style="background-color: rgb(43,50,52)">\n\n    <ion-tab title="Home" icon-on="ion-ios7-home" icon-off="ion-ios7-home-outline" style="color:white; text-decoration:none;">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 0" ng-include="base_url + \'templates/student.home.body.html\'"></div>\n    </ion-tab>\n\n  <ion-tab title="Guru Book" icon-on="ion-ios7-bookmarks" icon-off="ion-ios7-bookmarks-outline">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 1" ng-include="base_url + \'templates/student.guru-book.html\'"></div>\n  </ion-tab>\n\n  <ion-tab class=\'tabs-home-bottom\' title="Settings" icon-on="ion-ios7-gear" icon-off="ion-ios7-gear-outline">\n    <div ng-show="bottomTabsDelegate.selectedIndex() === 2"ng-include="base_url + \'templates/student.settings.html\'"></div>\n  </ion-tab>\n\n  </ion-tabs>\n\n  <script id="templates/welcomePopup.html" type="text/ng-template">\n    <div class=\'row\'>\n      <div class="col">\n        <div class="center">\n            <img style="background:rgba(105, 179, 165, 1)" src=\'./img/uguru-04.png\' width="60%" class="uguru_glass center">\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col">\n        <p style="font-size:2.25em; color:rgba(0,0,0,0.7)"class="bold-font center font-24 line-height-120">Welcome!</p>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <p style="font-size:15px;"class="osreg-font center grey">\n        We d like to notify you when your Guru s<br>\n        accept your request for help.<br>\n        Turn norifications on?\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <button class="button button-full button-positive footer-button" id="popup-positive-btn">\n          YES\n        </button>\n        <a class="button button-full button-outline" ng-click="goToStudentAction();" style="background-color:white; border:0px;color:rgba(105, 179, 165, 1); min-height:0px !important;height:30px;" id="popup-cancel-btn">\n          No Thanks\n        </a>\n      </div>\n    </div>\n  </script>\n  <div ng-init="init()"></div>\n</ion-view>\n'),e.put("templates/student.home.body.html",'    <ion-header-bar class=\'header-bar\'>\n        <h1 class="title">FIND A GURU</h1>\n    </ion-header-bar>\n\n    <div class="bar bar-subheader">\n        <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-home-tabs-top">\n          <ion-tab title="My Classes">\n          </ion-tab>\n          <ion-tab title="My Sessions" on-select="addGreenbar()">\n          </ion-tab>\n        </ion-tabs>\n    </div>\n\n    <ion-content ng-show="topTabsDelegate.selectedIndex() === 0">\n      <div class="add-class margin-top-40" ng-show="user.active_student_sessions && user.active_student_sessions.length > 0">\n        <div class="session-progress" ng-repeat="session in user.active_student_sessions" ng-click="goToActiveSession(session)">\n          <li class="item padding-0 no-border">\n            <div class="course padding-10-15">\n              <div class="box-1">\n                <span class="name">{{session.request.course.short_name}}</span>\n                <span class="session">Session</span>\n              </div>\n              <div class="message">\n                <span ng-show="session.status === 1">GURU EN ROUTE</span>\n                <span ng-show="session.status === 2">SESSION IN PROGRESS</span>\n              </div>\n            </div>\n          </li>\n          <li class="item padding-6-15">\n            <div class="icon"><img ng-src="{{session.guru.profile_url}}" class=\'width\'></div>\n            <div class="box-2 margin-top">\n              <div class="name">{{session.request.guru.name.split(" ")[0]}}\n                <span class="profile" style="font-size:14px !important;" >Details</span>\n              </div>\n              <div class="stars" ng-show="guru.guru_avg_rating">\n                <span class="icon ion-star" ng-repeat="i in getNumber(guru.student_avg_rating) track by $index"></span>\n              </div>\n              <div class="stars" ng-show="!session.request.guru.guru_avg_rating">\n                First Time Guru\n              </div>\n\n            </div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"><span class="icon ion-navigate"></span><span class="bold">Location:</span> {{session.address}}</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="tag"><span class="icon ion-pricetag"></span><span class="bold">$4</span> for every <span class="bold">15 minutes</span></div>\n          </li>\n        </div>\n      </div>\n      <div class="add-class margin-top-40" >\n\n        <div class="lg-box student-course" ng-repeat="course in user.student_courses" animation="slide-left-right">\n          <div class="course-name-box" on-touch="showButtonPressed($event, \'course-name-box\')" on-release="showButtonReleased($event, \'course-name-box\')">\n            <div class="text" ng-hide="checkCourseInActiveRequests(course)" ng-click="goToRequest(course)">\n              {{course.short_name}}\n            </div>\n            <div class="text" ng-show="checkCourseInActiveRequests(course)" style="border-left: 4px solid gold;" ng-click="goToRequestStatus(course)">\n              {{course.short_name}}\n              <span style="position:absolute; font-size:10px; right:5%;text-transform:uppercase; font-family:\'OpenSans-Semibold\';color:rgba(0,0,0,0.5);">SEE REQUEST STATUS</span>\n            </div>\n          </div>\n        </div>\n\n        <div class="add-item-box" ng-click="addCourseModal.show()" id="home-header">\n          <div class="green-box"><span class="icon ion-plus"></span>\n          </div>\n          <div class="md-box"> <!-- add active later -->\n            <div class="text">\n              Add a class ...\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </ion-content>\n    <ion-content ng-show="topTabsDelegate.selectedIndex() === 1">\n        <div class="no-session margin-150-10 center" ng-show="!user.previous_student_sessions">\n          <h2>No sessions yet.</h2>\n          <div class="gray">Add a class to get started.</div>\n          <div class="green" ng-click="addCourseModal.show()">+Add a class</div>\n        </div>\n\n        <div class="guru-book margin-top-40" ng-repeat="session in user.previous_student_sessions" ng-click="goToPreviousSessionDetails(session)" ng-show="user.previous_student_sessions.length && user.previous_student_sessions.length > 0 && !user.guru_mode">\n          <li class="item padding-6-15">\n            <div class="icon"><img ng-src="{{session.guru.profile_url}}" class=\'width\'></div>\n            <div class="box-2 margin-top">\n              <div class="box-3">\n                <span class="name">{{session.guru.name.split(" ")[0]}}\n                </span>\n                <div class="stars" ng-show="session.guru.guru_avg_rating">\n                  <span class="icon ion-star" ng-repeat="i in getNumber(session.guru.guru_avg_rating) track by $index"></span>\n                </div>\n              </div>\n            </div>\n          </li>\n        </div>\n    </ion-content>'),e.put("templates/student.guru-book.html",'    <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title">Guru Book</h1>\n    </ion-header-bar>\n    <div class="bar bar-subheader" ng-show="user.student_courses.length > 0">\n        <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-guru-book-tabs-top">\n          <ion-tab title="My Classes"></ion-tab>\n          <ion-tab title="{{course.short_name}}" ng-repeat="course in user.student_courses">\n          </ion-tab>\n        </ion-tabs>\n      </div>\n    </div>\n\n    <ion-content ng-show="user.gurus && user.gurus.length > 0 && topGuruBookTabsDelegate.selectedIndex() === 0" ng-controller="GuruBookController">\n      <div class="guru-book margin-top-40">\n        <li class="item padding-6-15" ng-repeat="guru in user.gurus" ng-click="goToGuruProfile(guru)">\n          <div class="icon"><img src=\'{{guru.profile_url}}\' class=\'width\'></div>\n          <div class="box-2 margin-top">\n            <div class="box-3">\n              <span class="name">{{guru.name}} <br>{{guru.sessions[0].course.short_name}}\n              </span>\n              <div class="stars">\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>&nbsp;&nbsp;\n                <span style="color:grey;"class="icon ion-chevron-right"></span>\n              </div>\n            </div>\n          </div>\n        </li>\n      </div>\n    </ion-content>\n    <ion-content ng-repeat="course in user.student_courses" ng-controller="GuruBookController">\n      <div class="guru-book margin-top-40" ng-show="user.course_guru_dict[course.short_name].length > 0 && (root.util.objectFindByIndexByKey(user.student_courses, \'short_name\', course.short_name) === (topGuruBookTabsDelegate.selectedIndex() - 1)) ">\n        <li class="item padding-6-15" ng-repeat="guru in user.course_guru_dict[course.short_name]" ng-click="goToGuruProfile(guru)">\n          <div class="icon"><img src=\'{{guru.profile_url}}\' class=\'width\'></div>\n          <div class="box-2 margin-top">\n            <div class="box-3">\n              <span class="name">{{guru.name}} <br>{{guru.sessions[0].course.short_name}}\n              </span>\n              <div class="stars">\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>&nbsp;&nbsp;\n                <span style="color:grey;"class="icon ion-chevron-right"></span>\n              </div>\n            </div>\n          </div>\n        </li>\n      </div>\n      <div class="no-session margin-150-10 center" ng-show="user.course_guru_dict.course.length === 0">\n          <h2>No gurus yet.</h2>\n          <div ng-show="user.student_courses.length == 0">\n            <div class="gray">Add a course to be matched with a Guru</div>\n            <div class="green" ng-click="addCourseModal.show()">+Add A Course</div>\n          </div>\n          <div ng-show="user.student_courses.length > 0">\n            <div class="gray">Request help to be matched with a Guru</div>\n            <div class="green" ng-click="bottomTabsDelegate.select(0);">+Request Help</div>\n          </div>\n      </div>\n    </ion-content>\n    <ion-content ng-show="user.gurus.length === 0"ng-controller="GuruBookController">\n        <div class="no-session margin-150-10 center">\n          <h2>No gurus yet.</h2>\n          <div ng-show="user.student_courses.length == 0">\n            <div class="gray">Add a course to be matched with a Guru</div>\n            <div class="green" ng-click="addCourseModal.show()">+Add A Course</div>\n          </div>\n          <div ng-show="user.student_courses.length > 0">\n            <div class="gray">Request help to be matched with a Guru</div>\n            <div class="green" ng-click="bottomTabsDelegate.select(0);">+Request Help</div>\n          </div>\n        </div>\n    </ion-content>'),e.put("templates/student.settings.html",'    <ion-view show-nav-bar=\'false\' class="settings-mobile student-settings support-button ng-class:{\'bar-dark\': user.guru_mode}">\n      <ion-header-bar class=\'header-bar item-button-right\'>\n\n        <h5 class="title bold sans-bold" style=\'left:0px !important; right:0px !important;\'>My Profile & Settings</h5>\n        <!-- <a id=\'support-button\' class=\'button button-clear button-positive uppercase bold\'>Support</a> -->\n      </ion-header-bar>\n      <ion-content>\n        <div class=\'pure-g-c flex-column flex-space-between\'>\n        <ion-list>\n          <div class=\'item item-avatar-left student-profile-item item-icon-right relative\' ng-show=\'user.id && !user.guru_mode\'>\n            <img class=\'pure-img student-prof-pic\' src=\'{{user.profile_url}}\'/>\n            <span class="sans-bold user-name">{{user.name}}</span>&nbsp;</span>\n\n\n            <span ng-show=\'!user.student_ratings.length\'>\n            <i class=\'ion-star gold-student-star\' ng-repeat=\'star in getNumber(5) track by $index\' ng-show=\'!user.student_ratings.length\'></i>\n\n<!--\n            <span class=\'ratings-student-length\'>{{user.student_ratings.length}}</span> -->\n\n\n            <!-- <span class=\'role-tag\'> student </span> -->\n            <p> {{user.university.title}} </p>\n            <a class=\'camera-icon-link\' ng-click=\'takePhoto()\'><i class=\'icon ion-camera\'></i></a>\n\n          </div>\n            <!-- guru settings only -->\n           <!--  <div class="item settings-divider-item uppercase" ng-show="user.guru_mode">\n              Notification Settings\n            </div>\n            <ion-toggle ng-model="user.current_device.push_notif_enabled" ng-show="(platform.ios || platform.android) && user.current_device.push_notif_enabled && user.guru_mode" ng-change="registerPush()" toggle-class="toggle-positive" class=\'settings-item item-icon-right\'>Turn off notifications\n            <p> This will put your public profile in <span class=\'sans-bold\'> invisible mode </span></p>\n            </ion-toggle>\n\n            <ion-toggle ng-model="user.current_device.push_notif_enabled" ng-show=\'(platform.ios || platform.android) && !user.current_device.push_notif_enabled && user.guru_mode\' ng-change="registerPush()" toggle-class="toggle-positive" class=\'settings-item item-icon-right\'>Turn on notifications\n              <p> This will put make your profile <span class=\'sans-bold\'> public </span></p>\n            </ion-toggle> -->\n\n            <a class="item settings-item item-icon-right" href="#/settings-edit-university" nav-direction=\'forward\' ng-show=\'user.student_ratings && user.student_ratings.length > 0 && !user.guru_mode\'>\n              Student Rating\n              {{user.student_avg_rating}}\n            </a>\n            <a class="item settings-item item-icon-right" nav-direction=\'forward\' ng-show=\'user.guru_mode && user.guru_ratings && user.guru_ratings.length > 0\'>\n              Guru Rating\n              {{user.guru_avg_rating}}\n            </a>\n            <a class="item settings-item item-icon-right" href="#/settings-edit-university" nav-direction=\'forward\'>\n              My university\n              <i style="font-size:14px;" class="icon item-note ion-chevron-right positive"></i>\n            </a>\n            <a class="item settings-item item-icon-right" href="#/settings-edit-courses" nav-direction=\'forward\' ng-show=\'!user.guru_mode\'>\n              My courses\n              <i style="font-size:14px;" class="icon item-note ion-chevron-right positive"></i>\n            </a>\n              <div class="item settings-divider-item" ng-show="user.id">\n                  MY ACCOUNT\n              </div>\n              <a class="item item-icon-right settings-item" ng-show="user.guru_mode"  href=\'#/home\' nav-direction="forward">\n                Switch Student Mode\n                <i style="font-size:14px;" class="icon item-note ion-chevron-right positive"></i>\n              </a>\n              <a class="item item-icon-right settings-item"  ng-click=\'switchToGuruMode()\' ng-show="user.is_a_guru && !user.guru_mode" nav-direction="forward">\n                Switch to Guru Mode\n                <i style="font-size:14px;" class="icon item-note ion-chevron-right positive"></i>\n              </a>\n              <a class="item settings-item item-icon-right" ng-click=\'goToNotifications()\'>\n                  Notification Settings\n                  <i style="font-size:14px;" class="icon item-note ion-chevron-right positive"></i>\n              </a>\n              <a class="item settings-item item-icon-right" ng-click=\'goToEditProfile()\'>\n                Account Info\n                <i style="font-size:14px;" class="icon item-note ion-chevron-right positive"></i>\n              </a>\n            <div class=\'container\' ng-show=\'user.id\'>\n              <div class="item settings-divider-item" ng-show=\'!user.guru_mode\'>\n                  PAYMENT SETTINGS\n              </div>\n              <a class="item gray settings-item" ng-click="goToTransferFunds()" ng-show="user.balance">\n                Cash Out <strong class="positive">${{user.balance}}</strong>\n              </a>\n              <a class="item gray settings-item item-icon-right" ng-show=\'user && user.id && !user.guru_mode\'ng-click="goToCards()">\n                <span ng-show=\'user.cards.length === 0\'>Add a Payment Card</span>\n                <span ng-show=\'user.cards.length >= 0\'>Your Payment Cards</span>\n                <i style="font-size:14px;" class="icon item-note ion-chevron-right positive"></i>\n              </a>\n              <a class="item gray settings-item item-icon-right" ng-show="user.student_transactions && user.student_transactions.length > 0" href="#/settings-transactions" nav-direction="forward">\n              Transaction History\n              <i style="font-size:14px;" class="icon item-note ion-chevron-right positive"></i>\n              </a>\n            </div>\n            <div class="item settings-divider-item">\n               OTHER\n            </div>\n            <a class="item gray settings-item" ng-show="user.id && user.auth_token" ng-click="logoutUser()">Logout</a>\n            <a class="item gray settings-item" ng-click="clearCache()">Clear Cache</a>\n            </ul>\n          </ul>\n        </ion-list>\n      </div>\n        <div class=\'pure-g\'>\n          <div class=\'pure-u-1-2 padding-half\' ng-show=\'!user.id\'>\n            <button class=\'button button-positive button-full button-outline\' href="#" ng-click="showSignupModal()" ng-show="!user.auth_token">\n              Signup\n            </button>\n          </div>\n          <div class=\'pure-u-1-2 padding-half\' ng-show=\'!user.id\'>\n            <a href="#" ng-click="showLoginModal()" ng-show="!user.auth_token" class=\'button button-positive button-full button-outline\'>\n              Login\n            </a>\n          </div>\n        </div>\n\n\n        <div class=\'pure-u-1 become-guru-wrapper\' ng-show=\'!user.is_a_guru\'>\n            <button class=\'button button-dark button-full\' ng-click=\'goToGuruMode()\'>\n              Become a Guru\n            </button>\n        </div>\n\n      </ion-content>\n      <input type="file" id="guru-file-input-web" class=\'hide\' onchange="angular.element(this).scope().file_changed(this)"></input>\n    </ion-view>\n\n  <!-- </ion-content> -->\n  <!-- <div class="bar bar-footer uguru-footer">\n    <div class="row">\n      <div class="col center"><img src=\'./img/glass.png\' class=\'width\'></div>\n      <div class="col center"><img src=\'./img/book.png\' class=\'width\'></div>\n      <div class="col center border-bottom"><img src=\'./img/setting.png\' class=\'width\'></div>\n    </div>\n  </div> -->'),e.put("templates/add-course.modal.html",'<ion-modal-view ng-controller="AddCourseController" class=\'university-modal\'>\n      <ion-header-bar>\n        <h1 class="title">Add a Class</h1>\n        <a class=\'button button-clear\'ng-click="hideCourseModal()">Cancel</a>\n      </ion-header-bar>\n      <!-- <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title">Add a class</h1>\n        <button ng-click="hideCourseModal()" class="button button-clear button-positive">Cancel</button>\n      </ion-header-bar> -->\n      <ion-content>\n        <div class="add-class margin-top-20" ng-click="addUniversityModal.show()" ng-show="!user.university">\n          <div style="color: rgba(0, 0, 0, 0.6); margin:10px 10px 10px 0px; font-size:16px; text-align:left"> First, tell us where you go to school.\n          </div>\n          <div class="add-item-box" ng-click="addCourseModal.show()">\n            <div class="green-box"><span class="icon ion-plus"></span>\n            </div>\n            <div class="md-box">\n              <div class="text">\n                Select University\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="list-class">\n          <ul class="list">\n            <li class="item bold" ng-repeat="course in matchingCourses" ng-click="courseSelected(course)">\n              {{course.short_name}} <span class="gray">{{course.title}}</span>\n            </li>\n            <li class="item green" ng-show="user.university && false">\n              Class not listed?</span>\n            </li>\n          </ul>\n\n        </div>\n      </ion-content>\n\n      <ion-footer-bar class="bar-footer item-input-inset" keyboard-attach ng-show="user.university">\n\n          <label class="item-input-wrapper">\n              <i class="icon ion-search placeholder-icon"></i>\n\n              <input type="search" name="course-input" class="form-control"\n                      fast-matcher\n                      fast-matcher-source="courses"\n                      fast-matcher-output="matchingCourses"\n                      fast-matcher-properties="short_name, long_name"\n                      fast-matcher-any-word="true"\n                      fast-matcher-limit="10"\n                      fast-matcher-preserve-order="true"\n                      fast-matcher-case-insensitive="true"\n                      placeholder="Search {{courses.length}} Available Courses"\n                      ng-model="course_search_text"\n                      ng-blur="setCourseFocus()"\n              />\n          </label>\n\n          <button class="button button-clear button-positive" ng-show="course_search_text.length" ng-click="clearSearchInput()">\n          Clear\n          </button>\n\n      </ion-footer-bar>\n  </ion-modal-view>\n'),e.put("templates/university.modal.html",'<ion-modal-view ng-controller=\'AddUniversityController\' class=\'university-modal\'>\n      <ion-header-bar>\n        <h1 class="title">Select University</h1>\n        <a class=\'button button-clear\'ng-click="hideUniversityModal()">Cancel</a>\n      </ion-header-bar>\n      <ion-content>\n\n        <div class="list">\n          <li class="item" ng-repeat="university in matchingUniversities" ng-click="universitySelected(university, $event)">\n            <h2>{{university.title}}</h2>\n            <p>{{university.city}}, {{university.state}}</p>\n          </li>\n        </div>\n\n      <!-- <div class="list list-inset" ng-show="nearest_universities" style="margin-top:15%">\n           <label class="item item-radio" ng-repeat="university in nearest_universities | limitTo:10" style="margin:0px 5px;">\n              <input name="university_radio" ng-change="onSubmitUniversity(university)" ng-model="university.checked" value="{{university}}" type="radio">\n              <div class="item-content">\n                <h2>{{university.title}}</h2>\n                <p>\n                  {{university.location.city}}, {{university.location.state}}\n                </p>\n              </div>\n              <i class="radio-icon ion-checkmark"></i>\n            </label>\n            <li class="item item-icon-left" ng-click="toggleNearestUniversities()" style="margin-top:0px;">\n              <i class="icon ion-search"></i>\n              <span class="regular-text">Search a university</span>\n            </li>\n      </div> -->\n\n\n    </ion-content>\n\n\n    <ion-footer-bar class="bar-footer item-input-inset" keyboard-attach>\n\n          <label class="item-input-wrapper">\n              <i class="icon ion-search placeholder-icon"></i>\n\n              <input type="search" name="university-input" class="form-control"\n                      fast-matcher\n                      fast-matcher-source="universities"\n                      fast-matcher-output="matchingUniversities"\n                      fast-matcher-properties="title, keywords"\n                      fast-matcher-any-word="true"\n                      fast-matcher-limit="10"\n                      fast-matcher-preserve-order="true"\n                      fast-matcher-case-insensitive="true"\n                      placeholder="Search {{universities.length}} Available Universities"\n                      ng-model="search_text"\n                      ng-blur="setFocus()"\n              />\n          </label>\n\n          <button class="button button-clear button-positive search-button" ng-show="search_text.length" ng-click="clearSearchInput()">\n          Clear\n          </button>\n\n    </ion-footer-bar>\n  </ion-modal-view>'),e.put("templates/signup.modal.html",' <ion-modal-view ng-controller="SignupController" class=\'signup-form\'>\n      <ion-header-bar class=\'header-bar\'>\n        <h5 class="title">WELCOME</h5>\n        <a class="button button-clear button-back"ng-click=\'closeSignupModal()\'>Cancel</a>\n      </ion-header-bar>\n\n      <!-- <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title" ng-show="!loginMode">Create Account</h1>\n        <h1 class="title" ng-show="loginMode">Login</h1>\n        <button ng-click="closeSignupModal()" class="button button-clear button-positive">Cancel</button>\n      </ion-header-bar> -->\n      <ion-content>\n\n        <div class="account">\n          <div class="account-box center">\n            <div class="list-inset margin-bottom-10" ng-show="loginMode">\n              <label class="item item-inset item-input" id="input_email_login">\n                <div class="signup-tag">email</div><input type="text" name="login-email" ng-model="signupForm.email" placeholder="peter.parker@berkeley.edu">\n              </label>\n              <label class="item item-inset item-input" id="input_password_login">\n                <div class="signup-tag">password</div><input type="password" name="login-password" ng-model="signupForm.password" placeholder="at least 6 characters">\n              </label>\n            </div>\n            <div class="list list-inset margin-bottom-10" ng-show="!loginMode">\n              <label class="item item-input" id="input_first">\n                <div class="signup-tag">First</div><input name="signup-first-name" type="text" ng-model="signupForm.first_name" placeholder="your first name">\n              </label>\n              <label class="item item-inset item-input" id="input_last">\n                <div class="signup-tag">last</div><input name="signup-last-name" type="text" ng-model="signupForm.last_name" placeholder="your last name">\n              </label>\n              <label class="item item-inset item-input" id="input_email">\n                <div class="signup-tag">email</div><input type="text" name="signup-email" ng-model="signupForm.email" placeholder="peter.parker@berkeley.edu">\n              </label>\n            </div>\n            <div class="list list-inset" ng-show="!loginMode">\n              <label class="item item-inset item-input" id="input_password">\n                <div class="signup-tag">password</div><input type="password" name="signup-password" ng-model="signupForm.password" placeholder="at least 6 characters">\n              </label>\n            </div>\n            <button ng-show="!loginMode" ng-click="completeSignup()"class="button button-positive-outline button-full button-positive">\n              join uguru\n            </button>\n            <button ng-show="loginMode" ng-click="loginUser()"class="button button-positive-outline button-positive button-full">\n              Login\n            </button>\n            <div class="fb-message">\n              Uguru will NEVER post to your Facebook.\n            </div>\n            <button ng-click="signupFacebook()" class="button facebook-button button-full icon-left ion-social-facebook">\n              Connect With Facebook\n            </button>\n            <button ng-click="toggleLoginMode()" ng-show="!loginMode" class="button button-positive-outline button-full button-positive">\n              Login\n            </button>\n            <button ng-click="toggleLoginMode()" ng-show="loginMode" class="button button-positive-outline button-full button-positive">\n              Create an Account\n            </button>\n          </div>\n        </div>\n      </ion-content>\n  </ion-modal-view>'),e.put("templates/become-guru.modal.html",'<ion-modal-view class=\'become-guru\'>\n    <ion-header-bar class="header-bar dark-header">\n            <h5 class="title">Become a Guru</h5>\n        <a class=\'button button-clear positive\' ng-click=\'becomeGuruModal.hide()\'>CLOSE</a>\n    </ion-header-bar>\n\n    <ion-content scroll="false">\n        <div class=\'pure-g-c flex-column flex-space-between center\'>\n\n            <!-- <div class=\'flex-item-c a-c\'> -->\n\n        <img src=\'./img/uguru_splash.png\' class="pure-img padding-2em">\n            <!-- </div> -->\n\n            <div class="pure-g flex-item-c guru-content">\n                <div class=\'pure-u-1 padding-1em center\'>\n                    <h1>Ready to make<br>some moolah?</h1>\n                    <p> We\'re looking for smart people like <br> you to tutor students at your university </p>\n                </div>\n            </div>\n\n            <div class="pure-g flex-item-c j-end guru-footer-buttons">\n                <div class=\'pure-u-1\'>\n                    <button class=\'button button-full button-positive\' ng-click=\'goToBecomeGuru()\'>\n                    Get Started\n                    </button>\n                    <button class=\'button button-full button-positive button-outline\' ng-click=\'becomeGuruModal.hide()\'>\n                    I don\'t want to be a guru\n                    </button>\n                </div>\n            </div>\n        </div>\n\n\n    <!-- <ion-content class="" scroll="false" style="padding-bottom:44px; bottom:0px;"> -->\n\n                <!-- <div class=\'row absolute-center\' style="height:40%">\n                  <div class="col col-offset-33 col-33 padding" style="margin-top:5%">\n                    <img src=\'./img/uguru_splash.png\' class=\'inherit-width\'>\n                  </div>\n                </div>\n                <div class="row" style="height:60%;">\n\n                </div> -->\n\n      </ion-content>\n\n      <!-- <ion-footer-bar style="height:auto; background-color:transparent !important; background-image:none;background-color: rgba(0,0,0,0.04); z-index:12;">\n\n                <div class=\'row\'>\n                    <div class="col">\n                        <button class="button button-full button-positive footer-button" ng-click="goToBecomeGuru()">\n                                    Get Started\n                        </button>\n                        <button ng-click="becomeGuruModal.hide()" class="button button-full button-outline button-positive footer-button" style="margin-bottom:0px;">\n                                    No Thanks\n                        </button>\n                    </div>\n                </div>\n\n        </ion-footer-bar> -->\n</ion-modal-view>'),e.put("templates/offline.html",'<ion-view hide-nav-bar="true">\n      \n      <ion-content>\n        <div class=\'row\' style="margin-top:10%"> \n          <div class="col col-offset-10 col-80 padding" style="padding:1.5em">\n            <img src=\'./img/guru-body.svg\' class=\'inherit-width\'>\n          </div>\n        </div>\n        <div class="row" style="margin-top:0%">\n          <div class="col center">\n            <h2 class="regular-text" style="font-size:3em"> You are <strong class="regular-text bold">offline<strong> </h2>\n            <p class="regular-text" style="font-size:1em"> Please check your connectivity <br>and try again </p>\n          </div>\n        </div>\n      </ion-content>\n      <ion-footer-bar style="height: auto; background-image:none;" class="extra-padding-sides">\n        <button ng-click="redirectHome()" style="height:4em"class="button button-positive button-full button-outline"> Try again </button>\n      </ion-footer-bar>\n\n</ion-view>'),e.put("templates/add-major.modal.html",'<ion-modal-view ng-controller="AddMajorController">\n      <ion-header-bar class="header-bar dark-header">\n        <h5 class="title">Add a major</h5>\n        <a class=\'button button-clear positive\' ng-click="addMajorModal.hide()">Cancel</a>\n      </ion-header-bar>\n\n      <!-- <ion-header-bar class="header-bar bar-dark">\n\n      </ion-header-bar> -->\n\n      <!-- <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title">Add a major</h1>\n        <button ng-click="addMajorModal.hide()" class="button button-clear button-positive">Cancel</button>\n      </ion-header-bar> -->\n      <ion-content>\n        <div class="add-class margin-top-20" ng-click="addUniversityModal.show()" ng-show="!user.university">\n          <div style="color: rgba(0, 0, 0, 0.6); margin:10px 10px 10px 0px; font-size:16px; text-align:left"> First, tell us where you go to school.\n          </div>\n          <div class="add-item-box" ng-click="addMajorModal.show()">\n            <div class="green-box"><span class="icon ion-plus"></span>\n            </div>\n            <div class="md-box">\n              <div class="text">\n                Select University\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="list-class">\n          <ul class="list">\n            <li class="item bold" ng-repeat="major in matchingMajors" ng-click="majorSelected(major)">\n              {{major.name}}\n            </li>\n            <li class="item green" ng-show="user.university && false">\n              Class not listed?</span>\n            </li>\n          </ul>\n\n        </div>\n      </ion-content>\n\n      <ion-footer-bar class="bar-footer item-input-inset" keyboard-attach ng-show="user.university">\n\n          <label class="item-input-wrapper">\n              <i class="icon ion-search placeholder-icon"></i>\n\n              <input type="search" name="major-input" class="form-control"\n                      fast-matcher\n                      fast-matcher-source="majors"\n                      fast-matcher-output="matchingMajors"\n                      fast-matcher-properties="name"\n                      fast-matcher-any-word="true"\n                      fast-matcher-limit="10"\n                      fast-matcher-preserve-order="true"\n                      fast-matcher-case-insensitive="true"\n                      placeholder="Search {{majors.length}} Available Courses"\n                      ng-model="major_search_text"\n                      ng-blur="setMajorFocus()"\n                      ng-focus="setMajorFocus()"\n              />\n          </label>\n\n          <button class="button button-clear button-positive" ng-show="course_search_text.length" ng-click="clearSearchInput()">\n          Clear\n          </button>\n\n      </ion-footer-bar>\n  </ion-modal-view>\n'),e.put("templates/add-note.modal.html",'<ion-modal-view ng-controller="AddNoteController">\n\n  <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n      <button ng-click="hideAddNoteModal()" class="button button-clear"><i class="icon ion-ios7-close-empty"></i></button>\n      <h1 class="title">Additional Details</h1>\n      <button ng-click="saveNote()" class="button button-clear button-positive">Save</button>\n  </ion-header-bar>\n\n  <!-- <ion-content class="lightest-grey" scroll="false" style="font-size:1em; line-height:1em;">\n    <div style="height:100%">\n      <div style="height:20%; display:table;" class="width-100">\n        <p class="font-bold mid-grey center" style="font-size:160%; line-height:150%; display:table-cell; vertical-align:middle; align:center">\n        Is there anything else your <br>\n        guru shoud know?\n      </p>\n      </div>\n      <div style="height:55%" class="extra-padding no-padding-top no-padding-bottom">\n        <div class="container extra-padding" style="background-color:white; width:100%; height:100%; border-radius:16px;">\n          <a ng-click="toggleShowTextArea()" href="#" ng-show="!showAddNoteTextArea">\n            <span class="positive font-bold" style="font-size:130%;"> <i class="icon ion-plus positive"></i> &nbsp;Add a note\n          </a>\n          <textarea name="note-input" ng-model="request.note"ng-show="showAddNoteTextArea" class="font-regular" style="font-size:120%;"></textarea>\n\n        </div>\n      </div>\n      <div style="height:25%;" class="padding">\n        <div style="margin: 7% 0%;  font-size:150%;" class="center font-bold mid-grey">\n          or\n        </div>\n        <div style="width:100%;">\n          <button ng-click="takePhoto()"class="button button-positive button-full"> Add a photo </button>\n        </div>\n      </div>\n    </div> -->\n  <ion-content scroll="false">\n    <div class="list">\n       <div class="item bio-list-item" style="border:0px; padding: 20% 10%; z-index:10;" ng-hide="request.note" ng-click="root.keyboard.show(\'note-input\')">\n        <p class="center" style="color:rgba(255, 255, 255, 0.8); line-height: 1.4em; font-size:100%">\n          <span style="white-space:normal">\n            What do you need help in? The more descriptive, the better!\n          </span>\n\n        </p>\n      </div>\n      <div ng-show="!request.note" class="item item-icon-right bio-list-item" style="border:0px; border-top:1px solid rgba(255,255,255, 0.1); color:rgba(255, 255, 255, 0.6)" ng-click="takePhoto()">\n          <div ng-show="!request.photo">\n            Add a photo\n            <i class="icon ion-ios7-camera-outline"></i>\n          </div>\n          <div ng-show="request.photo">\n            <img id="requestPhotoImg" style=\'width:30px; height:30px;\'></img>\n            1 Attachment\n            <i class="icon ion-edit"></i>\n          </div>\n      </div>\n      <div ng-show="request.photo && !root.keyboard.isVisible() && !request.note" >\n          <img id="requestPhotoImg" style=\'width:100%\'></img>\n      </div>\n      <div class="item bio-list-item" style="border:0px;padding-left:10px;">\n          <textarea  style="resize:none;width:100%; padding: 20% 10%; color:rgba(255, 255, 255, 0.8); line-height: 1.4em; font-size:100%; white-space:normal; background-color: #363C3E !important"  name="note-input" ng-model="request.note"></textarea>\n      </div>\n      <div ng-show="request.note" class="item item-icon-right bio-list-item" style="border:0px; border-top:1px solid rgba(255,255,255, 0.1); color:rgba(255, 255, 255, 0.6);" ng-click="takePhoto()">\n         <div ng-show="!request.photo">\n            Add a photo\n            <i class="icon ion-ios7-camera-outline"></i>\n          </div>\n          <div ng-show="request.photo">\n            <img id="requestPhotoImgNoteExists" style=\'width:30px; height:30px;\'></img>\n            1 Attachment\n            <i class="icon ion-edit"></i>\n          </div>\n      </div>\n      <input type=\'file\' id=\'file-input-web\' onchange="angular.element(this).scope().file_changed(this)">\n\n\n\n    <!-- </div> -->\n\n  </ion-content>\n\n</ion-modal-view>\n'),e.put("templates/add-payment.html",' <ion-view ng-controller="AddPaymentController" hide-nav-bar="true" class=\'payment-card\'>\n  <ion-header-bar class=\'header-bar\' ng-click=\'goBack()\'>\n\n        <a class=\'button button-clear button-back\' ng-click=\'goBack()\'>Back</a>\n        <h5 class="title bold sans-bold" style=\'left:0px !important; right:0px !important;\'>{{headerText}}</h5>\n        <a class="button button-clear button-back positive uppercase" ng-click="addPaymentActionBtn()">{{actionButtonText}}</a>\n  </ion-header-bar>\n\n  <ion-content>\n    <div class="payment">\n      <div class="list list-inset">\n        <label class="item item-icon-left">\n          <i class="icon ion-card placeholder-icon font-size ng-class:{\'positive animated tada\':cardYY.value.length > 0, \'negative animated shake\':error_msg}"></i>\n          <div class=\'pure-g\'>\n            <div class=\'pure-u-3-5\'>\n\n                <input maxlength="20"name="card-input" id="card-input" type="tel"class="payment-box positive" placeholder="{{placeholderValue}}" data-tap-disabled="true"></input>\n            </div>\n            <div class=\'pure-u-1-5\'>\n              <input maxlength="2" style="border:0px; margin-left:20px;" id="mm-input" placeholder="MM" type="tel" class="payment-box positive">\n            </div>\n            <div class=\'pure-u-1-5\'>\n              <input maxlength="2" style="border:0px; margin-left:5px;" id="yy-input" placeholder="YY" type="tel"  class="payment-box positive">\n            </div>\n          </div>\n        </label>\n      </div>\n\n      <div ng-show="user.guru_mode"class="message center">Your Uguru balance will be <br> updated after this session.</div>\n    </div>\n    <br>\n    <button ng-show="card" class="button button-positive button-full" ng-click="setDefault()"> Set Default </button>\n    <button ng-show="card" class="credit-card-remove-button button button-positive-outline button-full" ng-click="removeCard()"> Remove Card </button>\n  </ion-content>\n\n</ion-view>'),e.put("templates/add-payment.modal.html",' <ion-view ng-controller="AddPaymentController">\n  <ion-nav-buttons side="secondary">\n      <button ng-click="submitSupport()" class="button button-clear button-positive">save</button>\n  </ion-nav-buttons>\n  \n  <ion-content>\n    <div class="payment">\n      <div class="list list-inset">\n        <label class="item item-input margin-0">\n          <i class="icon ion-card placeholder-icon font-size"></i>\n          <input type="text" placeholder="1234 5678 9012 3456" class="payment-box">\n        </label>\n      </div>\n      <div class="message green">OR SCAN YOUR CARD</div>\n      <div class="message center">his payment method will only be charged<br>when you request a Guru.</div>\n    </div>\n  </ion-content>\n\n</ion-view>'),e.put("templates/calendar.modal.html",' <ion-modal-view ng-controller="CalendarModalController">\n    <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title">Your Availability</h1>\n    </ion-header-bar>\n    <ion-content>\n      <ion-list>\n        <ion-item class="item" ng-repeat="hour_int in day_rows" style="padding:0px; margin:0px;">\n          <div class="row" style="padding:0px; margin:2px 0px; height:30px">\n            <div class="col-33">{{getTimeFromHourInt(hour_int)}}</div>\n            <div style="padding:0px; background-color:white; margin:0px;border:1px solid green;" class="col" ng-repeat="day_int in day_columns" id="{{day_int}},{{hour_int}}"ng-click="clickCalendarGridElement($event, day_int, hour_int)">\n            </div>\n            <div class="col-10 center">\n              <i class="icon ion-chevron-right"> </i>\n            </div>\n          </div>\n        </ion-item>\n      </ion-list>\n   </ion-content>\n   <ion-footer>\n    <div class="tabs tabs-icon-only">\n      <a class="tab-item">\n        <i class="icon ion-close positive" ng-click="hideModal()"></i>\n      </a>\n      <a class="tab-item" ng-click="clear()">\n        <i class="icon ion-refresh positive" ng-click="clear()"></i>\n      </a>\n      <a class="tab-item">\n        <i class="icon ion-checkmark positive" ng-click="hideModalAndSave()"></i>\n      </a>\n    </div>\n   </ion-footer>\n  </ion-modal-view>'),e.put("templates/contact-guru.modal.html"," <ion-modal-view ng-controller=\"ContactGuruController\">\n    <!-- <ion-content style=\"background-color:#f2f2f2; border-top:20px solid black;\"> -->\n    <ion-content class='contacting-guru' scroll=\"false\">\n      <div class='pure-g-c flex-column flex-space-between'>\n\n        <div class='flex-item-c center padding-2em'>\n          <h1> Sit tight </h1>\n          <h4> We'll notify you when your Guru replies. </h4>\n        </div>\n\n        <div class='pure-g-c padding-1em'>\n          <img src='{{img_base}}./img/Rocket-body.svg' class='pure-img sleeping-guru padding-2em self-flex-start animated slideInUp contact-guru-sleeping-guru'>\n        </div>\n        <img src='{{img_base}}./img/Puffy-cloud.svg' class='pure-img puffy-cloud flex-self-send animated slideInUp'>\n        <img src='{{img_base}}./img/Fire.svg' class='pure-img rocket-fire flex-self-send animated slideInUp'>\n      </div>\n  </ion-content>"),e.put("templates/generalConfirmPopup.html",'\n  <div class=\'confirm-popover-prompt\'>\n    <div class=\'row\'>\n      <div class="col padding-2em">\n        <div class="center img-container padding-2em">\n            <img src=\'./img/uguru-04.png\' class=\'pure-img\'>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col">\n        <h1 id=\'popover-header\' class=\'center\'>{{confirmPopupOptions.header}}\n          </h1>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <p ng-bind-html="confirmPopupOptions.body" class=\'center margin-half\'>\n        </p>\n      </div>\n    </div>\n    <div class=\'row call-to-action\'>\n      <div class="col">\n        <button class="button button-full button-positive button-prompt" id="popup-positive-btn">\n          {{confirmPopupOptions.positiveBtnText}}!\n        </button>\n        <a class="prompt-cancel" id="popup-cancel-btn">\n          {{confirmPopupOptions.negativeBtnText}}\n        </a>\n      </div>\n    </div>\n  </div>'),e.put("templates/generalPopover.html",'\n<div class="popover" ng-controller="StudentHomeController" style="margin-top:-33px; width:90%; max-width:none; padding:12px; border-radius:16px;">\n  <div class="arrow"></div>\n  <!-- <h3 class="popover-title" ng-bind="templateOptions.title" ng-show="templateOptions.title"></h3> -->\n  <div class="popover-content">\n  	<div class="row">\n      <div class="col">\n        <p style="font-size:7vmin; color:rgba(0,0,0,0.7)"class="bold-font center font-24 line-height-120">{{templateOptions.title}}</p>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <p style="font-size:15px;"class="osreg-font center grey" ng-bind-html="templateOptions.body">\n        </p>\n      </div>\n    </div>\n	<button class="button button-full button-positive" ng-click="hideTooltip()"\n  	ng-show="templateOptions.buttonText">{{templateOptions.buttonText}}</button>\n  </div>\n</div>'),e.put("templates/guru-intro.modal.html",'<ion-modal-view ng-controller="GuruIntroController">\n\n    <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title">INTRODUCTION</h1>\n        <button ng-click="submitGuruBio()" class="button button-clear button-positive">Save</button>\n    </ion-header-bar>\n\n  <ion-content style="background-color: #363C3E !important" scroll="false">\n\n    <div class="list">\n      <div class="item item-thumbnail-left bio-list-item first-item-bio">\n        <img ng-hide="user.profile_url"ng-src="{{user.profile_url}}" style="max-width:65px; max-height:65px; margin:5px; border-radius:4px;">\n        <div class="white-bio-name-text" ng-show="user.name">{{user.name}}\n          <span class="guru-tag">Guru</span>\n        </div>\n        <p class="grey-bio-major-text" ng-show="user.majors.length > 0">\n          <b>\n            {{user.university.title}}\n          </b>\n          ({{user.majors[0].name}} major)\n        </p>\n      </div>\n\n      <div class="item bio-list-item" style="border:0px; border-top:1px solid rgba(255,255,255, 0.1); padding:10%; border-top: 1px solid rgba(255,255,255, 0.1); padding: 20% 10%;" ng-hide="user.guru_introduction">\n        <p class="center" style="color:rgba(255, 255, 255, 0.8); line-height: 1.4em; font-size:100%">\n          <span style="white-space:normal">\n            What should a student know about you?\n          </span>\n          <!-- <span ng-show="user.guru_introduction" style="color:rgba(255, 255, 255, 0.8); line-height: 1.4em; font-size:100%; white-space:normal">\n            {{user.guru_introduction}}\n          </span> -->\n        </p>\n      </div>\n\n      <div class="item" style="background-color: #363C3E !important; width:100%; border:0px; border-top: 1px solid rgba(255,255,255, 0.1);">\n        <textarea name="bio-input" style="resize:none;width:100%; padding:40px; color:rgba(255, 255, 255, 0.8); line-height: 1.4em; font-size:100%; white-space:normal; background-color: #363C3E !important;"  placeholder="Got a perfect score on the final?" name="prefix" ng-model="user.guru_introduction" ng-blur="setFocus(user.guru_introduction)"></textarea>\n      </div>\n\n\n\n    </div>\n\n</ion-modal-view>\n'),e.put("templates/guru.active-session.html",'<ion-view hide-nav-bar=\'true\' class=\'guru-active-session\'>\n    <ion-header-bar class="header-bar bar-dark">\n\n        <a class="button button-clear button-back button-white"  nav-direction=\'back\' href=\'#/guru-home\'>Back</a>\n        <h5 class="title uppercase">{{session.request.course.short_name}} </h5>\n        <a class="button button-clear button-back uppercase positive" ng-click=\'showOptions()\'>Options</a>\n    </ion-header-bar>\n    <!-- <ion-header-bar style="height:30px; text-align:center;" class="bar-subheader bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)" >\n\n      <div style="margin-top:5px; width:100%; white-space:no-wrap; overflow: hidden; text-overflow: ellipsis;text-transform:none; font-size:12px;">\n        Last updated: {{last_updated}}\n      </div>\n\n    </ion-header-bar>\n -->\n\n  <ion-content class="has-header" scroll=\'false\'>\n    <div class=\'pure-g-c flex-column flex-space-between\'>\n      <div class=\'flex-item-c\'>\n        <ion-pane id="map_canvas" style="auto;width: 100%;margin: 0px;">\n              <ui-gmap-google-map center="map.center" control="map.control" zoom="map.zoom"  pan="true" options="options">\n              </ui-gmap-google-map>\n        </ion-pane>\n      </div>\n      <div class=\'pure-g flex-item-c j-end\' style=\'height:40%;\'>\n        <div class=\'pure-u-1\'>\n        <ul>\n          <li class="item padding-0-4">\n            <button class="button button-full button-positive" ng-click="startSessionTimer(session)" ng-show=\'session.status===1\'>\n              Start\n            </button>\n            <button class="button button-full button-positive" ng-click="continueSession(session)" ng-show=\'session.status===2\'>\n              Continue Session\n            </button>\n            <button class="button button-full button-positive button-outline" ng-click="goToSessionMessages(session)">\n              Message {{session.guru.first_name}}\n            </button>\n          </li>\n        </ul>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>'),e.put("templates/guru.confirm-proposal.html","<ion-view class='request-status' hide-nav-bar='true'>\n\n  <ion-header-bar class=\"header-bar header-bar-dark\">\n\n        <a class=\"button button-clear button-back\" ng-click='goBack()'>Back</a>\n        <h5 class=\"title uppercase\">Confirm {{proposal.request.course.short_name}} </h5>\n  </ion-header-bar>\n\n  <ion-content scroll=\"false\" class='guru-background'>\n    <a class='button button-full button-positive button-positive-outline' href='#/payment/' ng-show=\"user.transfer_cards && user.transfer_cards.length === 0\" nav-direction=\"forward\">Debit Card</a>\n    <a class='button button-full button-positive' ng-click = 'acceptStudent()'>Accept Request</a>\n  </ion-content>\n</ion-view>"),e.put("templates/guru.confirm-session-details.html",'<ion-view title="{{session.course.short_name}} Session">\n    <ion-nav-buttons side="secondary">\n\n      <button ng-click="goToSupport()" class="button button-clear button-positive">\n      	Support\n      </button>\n    </ion-nav-buttons>\n    <ion-content>\n        <div class="session-progress">\n          <li class="item padding-10-15 item-icon-right" ng-click="goToSessionMessages(session)">\n            <div class="location"><span class="bold">See Messages</span>\n              <i style="font-size:15px;"class="icon ion-chevron-right positive"></i>\n            </div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location"><span class="bold">Course:</span> {{session.course.short_name}}</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location"><span class="bold">Location:</span> {{session.location.address}}</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="tag"><span class="bold">Rate:</span> ${{session.price.amount}} for every {{session.price.minutes}} minutes</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location"><span class="bold">Session Length:</span> 23 minutes </div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="tag"><span class="bold">Total Cost:</span> $8</div>\n          </li>\n        </div>\n\n\n    </ion-content>\n  </ion-view>'),e.put("templates/guru.edit-profile.html","\n\n<ion-view hide-nav-bar=\"true\" class='edit-guru-profile'>\n    <ion-header-bar class=\"header-bar dark-header\">\n      <a class='button button-clear button-back button-white' nav-direction=\"back\" href=\"#/guru-profile\">Back</a>\n        <h5 class=\"title\">Your Details</h5>\n      <a class='button button-clear positive bold uppercase' ng-click='saveProfile()'>Save</a>\n    </ion-header-bar>\n  <ion-content>\n      <div class='list'>\n\n        <div class='item item-avatar-left item-button-right'>\n          <img ng-src='{{user.profile_url}}' class='guru-profile-container'></img>\n          <span class='capitalize'>{{user.name.split(' ')[0] + ' ' +  user.name.split(' ')[1][0]}}.</span>\n          <span class='pure-u-1'><i class='ion-star gold-student-star' ng-repeat='star in getNumber(5) track by $index'></i>\n          </span>\n          <button class='button button-clear button-positive' ng-click='takePhoto()'>edit</button>\n          <p style='font-size:12px;'>{{user.university.title}} </p>\n        </div>\n\n        <div class='item description-item'>\n          <div class='pure-g'>\n            <div class='pure-u-1'>\n            Description\n            </div>\n          </div>\n          <div class='pure-g'>\n            <textarea class='pure-u-1' ng-model='user.guru_introduction'placeholder=\"you have 144 characters to sell yourself\">{{user.guru_introduction}}</textarea>\n          </div>\n        </div>\n        <ion-item style='padding-right:0px;'class='icon item-button-right' href='#/settings-edit-courses' nav-direction=\"forward\">\n          Guru Courses\n          <p ng-show='user.guru_courses && user.guru_courses.length > 0'>{{user.guru_courses.length}} total</p>\n          <button class='button button-clear button-positive'>edit</button>\n        </ion-item>\n        <ion-item class='icon item-button-right' ng-click='addMajorModal.show()'>\n          My Majors\n          <p ng-show='user.majors && user.majors.length > 0'> <div ng-repeat=\"major in user.majors\">{{major.name}} </div></p>\n          <button class='button button-clear button-positive'>ADD</button>\n        </ion-item>\n        <ion-toggle ng-model=\"user.uber_friendly\" class='item item-thumbnail-right toggle-right first-toggle' ng-change='uberFriendlyChange()' toggle-class=\"toggle-positive\">\n          <img class='uber-logo' src='{{img_base}}./img/uber_logo.svg'/>\n          <div class='avatar-text' style='padding-left:30px; padding-right:50px;'>\n              I'm cool with <span class='sans-bold'>Uber</span> driving me to student sessions.\n          </div>\n        </ion-toggle>\n        <ion-toggle ng-model=\"user.summer_15\" ng-change='summer15Change()' class='item padding-2em second-toggle' toggle-class=\"toggle-positive\">  <div class='toggle-text'> I'm around school during Summer 2015 </div>\n        </ion-toggle>\n        <ion-toggle ng-model=\"user.outside_university\" ng-change='outsideSchoolChange()' class='padding-2em' toggle-class=\"toggle-positive\">\n        <div class='toggle-text'>I'm interested tutoring outside of school (SAT, MCAT, etc).</div>\n        </ion-toggle>\n        <!-- <a class='item white item-badge-right item-icon-right' href='#/guru-verification' nav-direction=\"forward\" >\n              How to increase your ranking\n              <i class='icon ion-chevron-right icon-small'></i>\n        </a> -->\n      </div>\n      <input type=\"file\" id=\"guru-file-input-web\" class='hide' onchange=\"angular.element(this).scope().file_changed(this)\"></input>\n  </ion-content>\n</ion-view>\n"),e.put("templates/guru.home.body.html","    <ion-header-bar class=\"bar-dark header-bar\">\n        <h5 class=\"title uppercase\">Guru Mode</h5>\n    </ion-header-bar>\n\n   <!--  <ion-header-bar class=\"header-bar header-bar-dark\">\n\n        <a class=\"button button-clear button-back\"  nav-direction='back' href='#/home'>Back</a>\n        <h5 class=\"title uppercase\">{{proposal.request.course.short_name}} Request</h5>\n    </ion-header-bar> -->\n\n    <ion-content class='guru-home-content'>\n\n        <div class='profile-percent-wrapper pure-g flex-column'>\n          <span class='pure-u-1 white your-ranking-header-text center opacity-3-4'> Your ranking </span>\n          <h1 class='positive profile-complete-percentage center'>\n            B\n          </h1>\n        </div>\n        <div class='pure-g-c flex-column space-between'>\n\n          <p class='pure-subheader-text center j-start'> You can charge <span class='sans-bold white price-range'>$0 - $10</span><br>with 0 reviews and 0 sessions.</p>\n\n          <div class='list list-guru-profile j-end'>\n            <a class='item white item-badge-right item-icon-right' href=\"#/guru-profile\" nav-direction=\"forward\" >\n              Complete your profile\n              <span class='complete-profile-badge badge badge-danger'>{{(100 - completedProfilePercentage)}}%</span>\n              <i class='icon ion-chevron-right icon-small'></i>\n            </a>\n            <ion-toggle ng-model=\"user.current_device.push_notif_enabled\" ng-show='(platform.ios || platform.android) && !user.current_device.push_notif_enabled' ng-change=\"registerPush()\" toggle-class=\"toggle-positive\" class='white'>Turn on notifications\n            <p class='white push-body'> And we can start advertising you!</p>\n            </ion-toggle>\n          </div>\n        </div>\n    </ion-content>\n\n"),e.put("templates/guru.home.html",'\n\n<ion-view hide-nav-bar="true">\n      <ion-nav-back-button class="button-clear" style="width:75px;">\n          <img src="./img/left-chevron.png" class=\'uguru-back-button\'/>\n      </ion-nav-back-button>\n\n  <!-- <div class="bar bar-footer uguru-footer">\n      <div class="row">\n        <div class="col center border-bottom"><img src=\'./img/glass.png\' class=\'width\'></div>\n        <div class="col center"><img src=\'./img/book.png\' class=\'width\'></div>\n        <div class="col center"><img src=\'./img/setting.png\' class=\'width\'></div>\n      </div>\n  </div> -->\n  <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-home-tabs-bottom" style="background-color: rgb(43,50,52)">\n\n    <ion-tab title="Home" icon-on="ion-ios7-home" icon-off="ion-ios7-home-outline" style="color:white; text-decoration:none;">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 0" ng-include="base_url + \'templates/guru.home.body.html\'"></div>\n    </ion-tab>\n\n  <ion-tab title="Guru Book" icon-on="ion-ios7-bookmarks" icon-off="ion-ios7-bookmarks-outline" badge="user.pending_proposals.length || user.active_guru_sessions.length" badge-style="badge-positive">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 1" ng-include="base_url + \'templates/guru.student-book.html\'"></div>\n  </ion-tab>\n\n  <ion-tab title="Settings" icon-on="ion-ios7-gear" icon-off="ion-ios7-gear-outline">\n    <div ng-show="bottomTabsDelegate.selectedIndex() === 2"ng-include="base_url + \'templates/student.settings.html\'"></div>\n  </ion-tab>\n\n  </ion-tabs>\n\n  <script id="templates/welcomePopup.html" type="text/ng-template">\n    <div class=\'row\'>\n      <div class="col">\n        <div class="center">\n            <img style="background:rgba(105, 179, 165, 1)" src=\'./img/uguru-04.png\' width="60%" class="uguru_glass center">\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col">\n        <p style="font-size:2.25em; color:rgba(0,0,0,0.7)"class="bold-font center font-24 line-height-120">Welcome!</p>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <p style="font-size:15px;"class="osreg-font center grey">\n        We d like to notify you when your Guru s<br>\n        accept your request for help.<br>\n        Turn norifications on?\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <button class="button button-full button-positive footer-button" id="popup-positive-btn">\n          YES\n        </button>\n        <a class="button button-full button-outline" ng-click="goToStudentAction();" style="background-color:white; border:0px;color:rgba(105, 179, 165, 1); min-height:0px !important;height:30px;" id="popup-cancel-btn">\n          No Thanks\n        </a>\n      </div>\n    </div>\n  </script>\n  <div ng-init="init()"></div>\n</ion-view>\n'),e.put("templates/guru.home.new.html",'\n\n<ion-view hide-nav-bar="true" class=\'guru-home\' cache-view=\'false\'>\n\n\n    <ion-tabs class="bottom-tabs tabs-dark" delegate-handle="student-home-tabs-bottom">\n\n        <ion-tab title="Home" badge="user.active_requests.length" badge-style=\'badge-danger\' icon-on="session-icon" icon-off="session-icon" style="color:white; text-decoration:none;">\n        <div ng-show="bottomTabsDelegate.selectedIndex() === 0" ng-include="base_url + \'templates/guru.home.body.html\'"></div>\n        </ion-tab>\n\n        <ion-tab title="Sessions" icon-on="request-icon" icon-off="request-icon" badge="user.active_proposals.length + user.active_guru_sessions.length" badge-style="badge-positive">\n          <div ng-show="bottomTabsDelegate.selectedIndex() === 1" ng-include="base_url + \'templates/guru.home.sessions.html\'"></div>\n        </ion-tab>\n\n        <ion-tab title="Settings" ng-show="bottomTabsDelegate.selectedIndex() === 2" icon-on="settings-icon" icon-off="settings-icon">\n          <div ng-show="bottomTabsDelegate.selectedIndex() === 2"ng-include="base_url + \'templates/student.settings.html\'"></div>\n        </ion-tab>\n    </ion-tabs>\n\n</ion-view>'),e.put("templates/guru.home.sessions.html","\n<ion-view class='guru-sessions' cache-view='false'>\n  <ion-header-bar class='header-bar header-bar-dark bar-dark'>\n    <h5 class=\"title uppercase\">Guru Sessions</h5>\n    <a class='button button-clear' ng-click=\"addCourseModal.show()\"></a>\n  </ion-header-bar>\n  <ion-tabs class=\"tabs-stable tabs-striped tabs-top session-tabs\" delegate-handle=\"student-home-tabs-top\">\n    <ion-tab title=\"Incoming\" >\n    </ion-tab>\n\n    <ion-tab title=\"Scheduled\">\n    </ion-tab>\n    <ion-tab title=\"Past\">\n    </ion-tab>\n  </ion-tabs>\n\n  <!-- incoming proposals -->\n  <ion-content class='has-subheader' ng-show='topTabsDelegate.selectedIndex() === 0'>\n\n    <!-- No sessions yet -->\n    <div class='scroll pure-g-c flex-column center full-height' ng-show='(!user.active_proposals && !user.pending_proposals) || (user.active_proposals.length === 0 && user.pending_proposals.length===0)'>\n      <div class='padding-1em padding-1em flex-item-c'> </div>\n      <div class='flex-item-c sleeping-guru light-opacity'>\n        <img class='pure-img animated swing' ng-src='{{img_base}}./img/guru-sleeping-guru-mode.svg' >\n      </div>\n      <div class='flex-item-c light-opacity padding-1em flex-direction-init '>\n        No sessions yet!\n      </div>\n    </div>\n\n    <!-- Incoming Student Proposal -->\n    <div class=\"list\" ng-show='user.active_proposals.length > 0'>\n      <a class=\"item item-avatar-right upcoming-session-card\" ng-repeat='proposal in user.active_proposals' ng-click='goToProposalDetails(proposal)'>\n        <img ng-src=\"{{proposal.request.student.profile_url}}\">\n        <h2>{{proposal.request.student.name}} {{proposal.request.course.short_name}}</h2>\n        <h4 class='pending'> EXPIRING SOON</h4>\n      </a>\n\n\n    <!-- Guru is waiting for student response -->\n    <div ng-show='user.pending_proposals.length > 0'>\n      <a class=\"item item-avatar-right upcoming-session-card\" ng-repeat='proposal in user.pending_proposals' ng-click='goToProposalDetails(proposal)'>\n        <img ng-src=\"{{proposal.request.student.profile_url}}\">\n        <h2>{{proposal.request.student.name}} {{proposal.request.course.short_name}}</h2>\n        <h4 class='pending'> WAITING FOR STUDENT </h4>\n      </a>\n    </div>\n  </div>\n  </ion-content>\n\n  <!-- scheduled sessions -->\n  <ion-content class='has-subheader' ng-show='topTabsDelegate.selectedIndex() === 1'>\n    <div class=\"list\" ng-show='user.active_guru_sessions.length > 0'>\n        <a class=\"item item-avatar-right upcoming-session-card\" ng-repeat='session in user.active_guru_sessions' ng-click='goToActiveSession(session)'>\n          <img ng-src=\"{{session.request.student.profile_url}}\">\n          <h2>{{session.request.student.name}} <strong>{{session.request.course.short_name}}</strong></h2>\n          <h4 class='pending'> Starting Soon! </h4>\n        </a>\n      </div>\n\n  </ion-content>\n\n  <ion-content class='has-subheader' ng-show='topTabsDelegate.selectedIndex() === 2'>\n\n    <div class=\"list\" ng-show='user.previous_guru_proposals.length > 0'>\n        <a class=\"item item-avatar-right upcoming-session-card\" ng-repeat='proposal in user.previous_guru_proposals' ng-click='goToProposalDetails(proposal)'>\n        <img ng-src=\"{{proposal.request.student.profile_url}}\">\n        <h2>{{proposal.request.student.name}} {{proposal.request.course.short_name}}</h2>\n        <h4 ng-show='proposal.request.status === 4'class='danger'>User Canceled Request</h4>\n        <h4 ng-show='proposal.request.status !== 4'class='danger'>User Chose Another Guru</h4>\n        </a>\n      </div>\n\n\n  </ion-content>\n\n</ion-view>"),e.put("templates/guru.onboarding.html",'\n<ion-view hide-nav-bar=\'true\' class=\'guru-onboarding\'>\n\n    <ion-header-bar class="header-bar dark-header">\n        <a class=\'button button-clear button-white button-back positive\' nav-direction="back" href="#/home">Back</a>\n        <h5 class="title">Become a Guru</h5>\n    </ion-header-bar>\n\n        <!-- <ion-nav-bar class="bar-dark nav-bar-text bold-font" animation="slide-left-right">\n            <ion-nav-buttons side="primary">\n                <button ui-sref="^.^.student.home" animation="false" style="width:75px;" class="button-clear">\n                    <img src="img/left-chevron.png" class="uguru-back-button" style="bottom:11px;top:auto !important;"/>\n                </button>\n            </ion-nav-buttons>\n        </ion-nav-bar> -->\n\n        <!-- <ion-header-bar class="bar-dark bar-subheader padding black-subheader" style="padding-left:16px; padding-right:16px;">\n            <p class="subheader-text"> Steps to become a guru <span class="counters-text">({{progressValue}}/{{progressMax}})</span></p>\n            <progressbar class="progress-striped active" animate="true"\n            max="progressMax" value="progressValue" style="height:0.5em; margin-top:-0.5em">\n            </progressbar>\n        </ion-header-bar> -->\n\n        <ion-content>\n\n        <div class="list list-inset">\n\n            <a class="item item-button-right" ng-click="addUniversityModal.show()">\n                <span ng-show="!user.university_id">\n                        What university are you attending?\n                </span>\n                    <span class=\'list-text\' ng-show="user.university_id">\n                    Attending <span class=\'sans-bold\'>{{user.university.title}}</span>\n                    </span>\n                <button ng-click=\'addUniversityModal.show()\'  ng-show=\'user.university_id\'class=\'button button-clear button-positive list-edit\'>edit</button>\n            </a>\n\n            <a class="item item-button-right" ng-click="addMajorModal.show()">\n                <span ng-show="!user.majors[0].id">\n                            What\'s your major?\n                </span>\n                <span class=\'list-text\' ng-show="user.majors[0].id">\n                        Studying\n                        <span class=\'sans-bold\'>{{user.majors[0].name}}<span ng-show="user.majors.length > 1">...</span>\n                        </span>\n                </span>\n                <button ng-click=\'addMajorModal.show()\' ng-show=\'user.majors.length > 0\'class=\'button button-clear button-positive list-edit\'>edit</button>\n            </a>\n\n            <a class="item item-button-right no-margin-bottom" ng-click="addCourseModal.show()">\n                <span>\n                            What courses have you aced?\n                </span>\n                <button ng-click=\'addCourseModal.show()\' ng-show=\'user.guru_courses.length > 0\'class=\'button button-clear edit-guru-course-button button-positive list-edit\'>edit</button>\n            </a>\n\n            <a ng-show=\'user.guru_courses.length > 0\' class="item no-margin-top" ng-click="addCourseModal.show()">\n\n                <span class=\'course-tag\' ng-repeat="course in user.guru_courses.slice(0, 2)">\n                    {{course.short_name}}\n                </span>\n                <span ng-show=\'user.guru_courses.length >= 3\' class=\'course-tag\'>\n                    + {{user.guru_courses.length - 2}} more\n                </span>\n\n            </a>\n\n            <ion-toggle ng-model="user.uber_friendly" class=\'item\' ng-change=\'uberFriendlyChange()\' toggle-class="toggle-positive">\n            <img class=\'uber-logo\' src=\'{{img_base}}./img/uber_logo.svg\'/>\n            <div class=\'avatar-text\'>\n                I\'m cool with <span class=\'sans-bold\'>Uber</span> driving <br> me to student sessions.\n            </div>\n            </ion-toggle>\n\n            <ion-toggle ng-model="user.summer_15" ng-change=\'summer15Change()\' toggle-class="toggle-positive">I\'m around school during Summer 2015\n            </ion-toggle>\n\n            <ion-toggle ng-model="user.outside_university" ng-change=\'outsideSchoolChange()\' toggle-class="toggle-positive">I\'m interested tutoring outside of school (SAT, MCAT, etc).\n            </ion-toggle>\n\n             <!-- <a class="item item-icon-right item-thumbnail-right"  ng-click="addGuruIntroModal.show()">\n\n                <div ng-show="!user.guru_introduction" class="regular-text">\n                Edit your Guru bio\n                </div>\n\n                <div ng-show="user.guru_introduction" class="regular-text">\n                Bio <stro>edited</strong>. Looking good.\n                </div>\n                <i class=\'icon ion-chevron-right\'></i>\n            </a> -->\n        </div>\n\n    </ion-content>\n    <ion-footer-bar style="height:auto; background-image:none; background-color:transparent;margin-bottom:-10px;padding:10px 16px;" class="padding">\n\n        <!-- <button ng-click="submitGuruOnboarding()" class="button button-full button-positive padding wizard-footer" ng-disabled="false!(user.guru_introduction && user.guru_courses.length > 0 && user.majors.length > 0 && user.university_id)" style="height:3.5em;">\n            Finish\n        </button> -->\n\n        <button ng-click="submitGuruOnboarding()" class="button button-full button-positive padding wizard-footer" ng-disabled="false" style="height:3.5em;">\n            Finish\n        </button>\n\n\n    </ion-footer-bar>\n</ion-view>\n'),e.put("templates/guru.opportunities.html",'\n\n<ion-view title="Guru Opportunities">\n  <div class="bar bar-subheader">\n        <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-home-tabs-top">\n          <ion-tab title="Incomplete">\n          </ion-tab>\n          <ion-tab title="Completed">\n          </ion-tab>\n        </ion-tabs>\n  </div>\n  <ion-content class="has-subheader">\n    <ion-list>\n      <ion-item ng-repeat="opportunity in guru_opportunities">\n        {{opportunity.details.title}}\n        <p style="white-space:normal;">{{opportunity.details.description}}</p>\n        <span class="badge badge-positive">{{opportunity.impact_level}}</span>\n      </ion-item>\n    </ion-list>\n  </ion-content>\n</ion-view>\n'),e.put("templates/guru.profile.html","\n\n<ion-view hide-nav-bar=\"true\" class='edit-guru-profile'>\n    <ion-header-bar class=\"header-bar dark-header\">\n      <a class='button button-clear button-back button-white' nav-direction=\"back\" href=\"#/guru-home\">Back</a>\n        <h5 class=\"title\">YOUR PROFILE</h5>\n      <a class='button button-clear positive bold' nav-direction=\"forward\" href=\"#/guru-profile-edit\">EDIT</a>\n    </ion-header-bar>\n  <ion-content>\n    <div class='pure-g-c flex-column flex-space-between'>\n      <div class='pure-g flex-item-c relative'>\n        <div class='guru-prof-pic' style='background-image: url(\"{{user.profile_url}}\");'> </div>\n        <a class='camera-icon absolute' ng-click='takePhoto()'><i class='icon ion-camera white-text'></i></a>\n      </div>\n    </div>\n    <div class='pure-g center'>\n      <div class='pure-u-1-3 padding-1em'>\n        <span class='guru-profile-number' ng-hide='!user.guru_avg_rating'>\n        {{user.guru_avg_rating}}</span>\n        <span class='guru-profile-number' ng-show='!user.guru_avg_rating'>\n        0</span>\n        <br>\n        <span class='number-subheader'>\n        rating\n        </span>\n      </div>\n      <div class='pure-u-1-3 padding-1em'>\n        <span class='guru-profile-number'>\n        {{user.guru_sessions.length}} </span>\n        <br>\n        <span class='number-subheader'>\n        sessions\n        </span>\n      </div>\n      <div class='pure-u-1-3 padding-1em'>\n        <span class='guru-profile-number'>\n        ${{user.current_hourly}}</span>\n        <br>\n        <span class='number-subheader'>\n          hourly\n        </span>\n      </div>\n    </div>\n    <div class='pure-g-c center'>\n      <div class='pure-u-1 align-left padding-1em'>\n        <!-- <span class='course-tag' ng-repreat=\"course in user.guru_courses\">{{course.short_name}}</span> -->\n\n        <span class='course-tag' ng-repeat='course in user.guru_courses'> {{course.short_name}} </span>\n      </div>\n    </div>\n    <div class='pure-g-c center guru-intro-wrapper'>\n      <div class='pure-u-1 white-text align-left'>\n        <p>\n        {{user.guru_introduction}}</p>\n      </div>\n    </div>\n  </ion-content>\n  <input type=\"file\" id=\"guru-file-input-web\" class='hide' onchange=\"angular.element(this).scope().file_changed(this)\"></input>\n</ion-view>\n"),e.put("templates/guru.proposal-details.html","<ion-view class='request-status' hide-nav-bar='true'>\n\n  <ion-header-bar class=\"header-bar header-bar-dark\">\n\n        <a class=\"button button-clear button-back\"  nav-direction='back' href='#/guru-home'>Back</a>\n        <h5 class=\"title uppercase\">{{proposal.request.course.short_name}} Request</h5>\n  </ion-header-bar>\n\n  <ion-content class='guru-background'>\n    <div class='pure-g-c flex-column flex-space-between'>\n      <div class='margin-2em flex-item-c j-start guru-incoming-request-card'>\n\n        <a class='item item-avatar-left item-icon-right pure-g row-details no-border guru-background' ng-show='proposal.request.student.name'>\n          <img ng-src=\"{{proposal.request.student.profile_url}}\">\n          <span class='pure-u-1 white-text'>{{proposal.request.student.name.split(' ')[0]}}\n          </span>\n          <span class='pure-u-1-2'>\n            <span class='pure-u-1-5'><i class='ion-star gray-star' ng-repeat='star in getNumber(5) track by $index'></i>&nbsp;{{proposal.request.student.student_ratings.length}}</span>\n          </span>\n        </a>\n\n        <!-- <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Time</div>\n        <div class='pure-u-4-5'> <a ng-click= 'goToStudentCalendar(proposal.student_calendar)'>See Student Availability &nbsp;&nbsp;&nbsp;<i class='icon ion-chevron-right positive icon-small'></i></a></div>\n        </div> -->\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Length</div>\n          <div class='pure-u-4-5'>{{formatted_time_estimated_hours}} hours, {{proposal.request.time_estimate % 60}} minutes</div>\n        </div>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Type</div>\n          <div class='pure-u-4-5'>{{formatted_request_type}}</div>\n        </div>\n        <div class='pure-g row-details' ng-show='proposal.request.status === 1 && user.cards.length > 0'>\n          <div class='pure-u-1-5 grey-subject-text'>Card Info</div>\n          <div class='pure-u-4-5'>{{user.cards[0].card_last4}}, {{user.cards[0].card_type}}</div>\n        </div>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Details</div>\n          <div class='pure-u-4-5'>{{proposal.request.description}}</div>\n          <div class='pure-u-1-5 grey-subject-text'></div>\n          <div ng-show=\"proposal.request.files && proposal.request.files.length > 0\" class='pure-u-4-5'><span class='opacity-3-4'><i class='icon ion-paperclip'></i>&nbsp;{{proposal.request.files.length}} Attachment <a class='positive' style='text-align:right;' ng-click='viewFilesModal.show()'>View</a></span></div>\n        </div>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Location</div>\n          <div class='pure-u-4-5'>{{proposal.request.address.split(', ').slice(0,3).join(', ')}}</div>\n          <!-- <div class='pure-u-1 padding-1em'>\n            <div class='map-container'>\n            </div>\n          </div> -->\n          <div class='pure-u-1' style='margin-top:1em;'>\n            <div id=\"map_canvas\" style=\"height: 100px;width: 100%;\">\n              <ui-gmap-google-map center=\"map.center\" control=\"map.control\" zoom=\"map.zoom\"  pan=\"true\" options=\"options\">\n                <!-- <ui-gmap-search-box options=\"searchbox.options\" template=\"searchbox.template\" events=\"searchbox.events\" parentdiv=\"searchbox.parentdiv\"></ui-gmap-search-box> -->\n              </ui-gmap-google-map>\n            </div>\n          </div>\n          <div class='pure-u-1 padding-1em' ng-show='session.request.files && session.request.files.length > 0'>\n            <a ng-click=\"openAttachment()\" class='button button-stable button-full'> View Attachment </a>\n          </div>\n        </div>\n      </div>\n        <!-- <button class='button button-full button-light'> Cancel Session </button> -->\n        <div class='cancel-session-container pure-g' ng-show='proposal.status === 0'>\n          <div class='pure-u-1-2'>\n              <button class='button button-full button-thin button-guru' ng-click='rejectStudent()'> Reject </button>\n          </div>\n          <div class='pure-u-1-2'>\n              <button class='button button-full button-guru button-semibold' ng-click='goToStudentCalendar(proposal.student_calendar)'> Accept\n              </button>\n          </div>\n        </div>\n        <div class='cancel-session-container pure-g' ng-show='proposal.status === 2'>\n          <div class='pure-u-1 padding-1em center white-text'>\n              Proposal Accepted! We'll keep you updated\n          </div>\n        </div>\n    </div>\n  </ion-content>\n</ion-view>"),e.put("templates/guru.session-start.html","<ion-view hide-nav-bar='true' class='session-start-timer'>\n\n    <ion-header-bar class=\"header-bar positive-header timer-bar\">\n      <a class=\"button button-clear button-back button-white\" nav-direction='back' ng-click='goBack()'>Back</a>\n      <h5 class=\"title uppercase white-text\">Timer </h5>\n      <a class=\"button button-clear button-back bold uppercase button-white\" nav-direction='back' ng-click='showTimerActionSheet()'>Options</a>\n    </ion-header-bar>\n\n  <ion-content scroll='false'>\n    <div class='main-timer-view' ng-show='!set_timer_mode'>\n      <div class='pure-g-c flex-column center'>\n        <div class='flex-item-c white-text padding-2em relative' style='margin-left:0.2em;'>\n          <div id=\"timer-container\"></div>\n\n            <a ng-click='startTimer()' class='timer-icon-link'> <i class='icon icon-xl ion-play absolute timer-icon'></i> </a>\n            <a class='timer-icon-link' ng-show='timer.active' ng-click='pauseTimer()'> <i class='icon icon-xl ion-pause absolute timer-icon'></i> </a>\n        </div>\n        <div class='pure-g'>\n            <div class='pure-u-1'>\n              <span ng-show='timer.hours && timer.hours > 0'class='timer-hours'>{{timer.hours}}</span>\n              <span ng-show='timer.hours && timer.hours > 0' class='timer-hours-h'>h</span>\n              <span ng-show='timer.minutes && timer.minutes > 0' class='timer-minutes'>{{timer.minutes}}</span>\n              <span ng-show='timer.minutes && timer.minutes > 0' class='timer-minutes-m'>m</span> &nbsp;\n              <span class='timer-minutes'>{{timer.seconds}}</span>\n              <span class='timer-minutes-m'>s</span>\n            </div>\n        </div>\n      </div>\n      <button ng-show='!timer.active' class=\"absolute button button-full button-positive\" ng-click=\"startTimer()\" style='position:absolute;bottom:0px;'>\n            Start Timer\n      </button>\n      <button ng-show='timer.seconds > 0' class=\"absolute button button-full button-positive\" ng-click=\"submitTime()\" ng-show=\"!timer.active\" style='position:absolute;bottom:0px;'>\n            Submit Time\n      </button>\n    </div>\n\n\n    <!-- <div class='set-timer-view' ng-show='set_timer_mode'>\n\n      <div class=\"pure-g\">\n          <div class='pure-u-1 padding-1em'>\n          </div>\n            <div class='pure-u-1-2'>\n                <ion-scroll class='hour-scroll'>\n                  <ion-list>\n                      <ion-item class='white-text sans-bold transparent-background no-border' ng-repeat=\"i in max_hour track by $index\">\n                          <span class='timer-hours'>{{$index}}</span>\n                          <span class='timer-hours-h'>h</span>\n                      </ion-item>\n                  </ion-list>\n                </ion-scroll>\n            </div>\n            <div class='pure-u-1-2'>\n                <ion-scroll class='minute-scroll'>\n                  <ion-list>\n                      <ion-item class='white-text sans-bold transparent-background no-border' ng-repeat=\"i in max_minutes track by $index\">\n                          <span class='timer-hours'>{{$index}}</span>\n                          <span class='timer-hours-h'>m</span>\n                      </ion-item>\n                  </ion-list>\n                </ion-scroll>\n            </div>\n        </div>\n\n        <button class=\"absolute button button-full button-positive\" ng-click=\"submitTime()\" ng-show=\"!timer.active\" style='position:absolute;bottom:0px;'>\n            Set Timer\n        </button>\n\n    </div> -->\n  </ion-content>\n</ion-view>"),e.put("templates/guru.street-cred.html","    <ion-view hide-nav-bar=\"true\" class='guru-verification'>\n    <ion-header-bar class=\"bar-dark header-bar\">\n        <a class='button button-clear button-back button-white' nav-direction=\"back\" href=\"#/guru-home\">Back</a>\n        <h5 class=\"title uppercase\">Trust and Verification</h5>\n    </ion-header-bar>\n\n   <!--  <ion-header-bar class=\"header-bar header-bar-dark\">\n\n        <a class=\"button button-clear button-back\"  nav-direction='back' href='#/home'>Back</a>\n        <h5 class=\"title uppercase\">{{proposal.request.course.short_name}} Request</h5>\n    </ion-header-bar> -->\n\n    <ion-content class='guru-verification-content guru'>\n\n\n        <div class='pure-g-c flex-column'>\n\n          <div class='header-area flex-item-c padding-2em center verification-explaination'>\n            These will <span class='sans-bold'> ONLY </span> be used to increase your ranking and earnings.\n          </div>\n\n          <div class='pure-u-1'>\n            <div class='list list-guru-profile'>\n              <div class=\"item settings-divider-item\">\n                PROFILE SETTINGS\n              </div>\n              <a class='item  item-icon-right' href='#/guru-verification' nav-direction=\"forward\" >\n                School Email\n                <i class='icon ion-paper-airplane'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                Phone Number\n                <i class='icon ion-iphone'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                Facebook Account\n                <i class='icon ion-social-facebook-outline'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                LinkedIn Identity\n                <i class='icon ion-social-linkedin-outline'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                Twitter Identity\n                <i class='icon ion-social-twitter-outline'></i>\n              </a>\n            </div>\n            <div class='list list-guru-profile'>\n              <div class=\"item settings-divider-item\">\n                How we send you $$\n              </div>\n              <a class='item white item-icon-right'>\n                Venmo Account\n                <i class='icon ion-social-twitter-outline'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                Debit Card\n                <i class='icon ion-social-twitter-outline'></i>\n              </a>\n            </div>\n\n          </div>\n        </div>\n\n\n          <!-- <p class='subheader-text center'> Only <u class='sans-bold positive'>20%</u> more until your profile goes live! </p>\n\n          <div class='list list-guru-profile'>\n            <a class='item white item-icon-right'>\n              Verify you're a fellow student\n              <i class='icon ion-chevron-right icon-small'></i>\n            </a>\n            <a class='item white item-icon-right'>\n              Your Street Cred\n              <i class='icon ion-chevron-right icon-small'></i>\n            </a>\n            <a class='item white item-icon-right'>\n              Swag up your profile\n              <i class='icon ion-chevron-right icon-small'></i>\n            </a>\n          </div> -->\n\n          <!-- <button ng-disabled='true' class='button button-full button-positive'>Launch</button> -->\n\n        </div>\n    </ion-content>\n  </ion-view>"),e.put("templates/guru.student-book.html",'    <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title">My Sessions</h1>\n    </ion-header-bar>\n    <div class="bar bar-subheader">\n        <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-book-tabs-top">\n          <ion-tab title="Active"></ion-tab>\n          <ion-tab title="Past"></ion-tab>\n        </ion-tabs>\n      </div>\n    </div>\n\n    <ion-content ng-show="user.pending_requests && ionicTabsStudentBookDelegate.selectedIndex() === 0" ng-controller="StudentBookController">\n      <div class="guru-book margin-top-40">\n        <li class="item padding-6-15" ng-repeat="guru in user.gurus" ng-click="goToGuruProfile(guru)">\n          <div class="icon"><img ng-src=\'./img/shun.png\' class=\'width\'></div>\n          <div class="box-2 margin-top">\n            <div class="box-3">\n              <span class="name">{{guru.name}}\n              </span>\n              <div class="stars">\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>&nbsp;&nbsp;\n                <span style="color:grey;"class="icon ion-chevron-right"></span>\n              </div>\n            </div>\n          </div>\n        </li>\n      </div>\n    </ion-content>\n\n\n\n\n    <ion-content ng-show="(user.pending_proposals.length > 0 || user.active_proposals.length > 0 || user.active_guru_sessions.length > 0) &&  ionicTabsStudentBookDelegate.selectedIndex() === 0"\n    ng-controller="StudentBookController">\n        <!-- <div class="no-session margin-150-10 center">\n          <h2>No sessions yet</h2>\n          <div ng-show="user.student_courses.length == 0">\n            <div class="gray">We\'ll contact you immediately soon</div>\n          </div>\n        </div> -->\n\n      <div class="add-class margin-top-40" ng-repeat="session in user.active_guru_sessions">\n        <div class="session-progress" ng-click="goToActiveSession(session)">\n          <li class="item padding-0 no-border">\n            <div class="course padding-10-15">\n              <div class="box-1">\n                <span class="name">{{session.request.course.short_name}}</span>\n                <span class="session">Session</span>\n              </div>\n              <div class="message">\n                <span style="color:red;" ng-show="session.status === 1">STUDENT EN ROUTE</span>\n                <span style="color:red;" ng-show="session.status === 2">SESSION IN PROGRESS</span>\n              </div>\n            </div>\n          </li>\n          <li class="item padding-6-15">\n            <div class="icon"><img ng-src=\'{{session.request.student.profile_url}}\' class=\'width\'></div>\n            <div class="box-2 margin-top">\n              <div class="name">{{session.request.student.name.split(" ")[0]}}\n                <!-- <span class="profile" style="font-size:12px;">Details</span> -->\n              </div>\n              <div class="stars" ng-show="session.request.student.student_avg_rating">\n                <span class="icon ion-star" ng-repeat="i in getNumber(session.request.student.student_avg_rating) track by $index"></span>\n              </div>\n              <div class="stars" ng-show="!session.request.student.student_avg_rating">\n                First time using uGuru\n              </div>\n            </div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location" style="white-space: normal;"><span class="icon ion-navigate"></span><span class="bold">Location:</span> {{session.request.address}}</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="tag"><span class="icon ion-pricetag"></span>You\'ll earn <span class="bold">$4</span> for every <span class="bold">15 minutes</span></div>\n          </li>\n        </div>\n      </div>\n\n      <div class="add-class margin-top-40" ng-repeat="proposal in user.pending_proposals">\n        <div class="session-progress">\n          <li class="item padding-0 no-border">\n            <div class="course padding-10-15">\n              <div class="box-1">\n                <span class="name">{{proposal.request.course.short_name}}</span>\n                <span class="session">Session</span>\n              </div>\n              <div class="message">\n                <span style="color:red;" ng-show="proposal.status === 2">WAITING FOR STUDENT</span>\n              </div>\n            </div>\n          </li>\n          <li class="item padding-6-15">\n            <div class="icon"><img ng-src=\'{{proposal.request.student.profile_url}}\' class=\'width\'></div>\n            <div class="box-2 margin-top">\n              <div class="name">{{proposal.request.student.name.split(" ")[0]}}\n                <!-- <span class="profile" style="font-size:12px;">Details</span> -->\n              </div>\n              <div class="stars" ng-show="request.student.student_avg_rating">\n                <span class="icon ion-star" ng-repeat="i in getNumber(request.student.student_avg_rating) track by $index"></span>\n              </div>\n              <div class="stars" ng-show="!request.student.student_avg_rating">\n                First time using uGuru\n              </div>\n            </div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location" style="white-space: normal;"><span class="icon ion-navigate"></span><span class="bold">Location:</span> {{proposal.request.address}}</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="tag"><span class="icon ion-pricetag"></span>You\'ll earn <span class="bold">$4</span> for every <span class="bold">15 minutes</span></div>\n          </li>\n        </div>\n      </div>\n\n      <div class="add-class margin-top-40" ng-repeat="proposal in user.active_proposals">\n        <div class="session-progress" ng-click="goToActiveSession(session)">\n          <li class="item padding-0 no-border">\n            <div class="course padding-10-15">\n              <div class="box-1">\n                <span class="name">{{proposal.course.short_name}}</span>\n                <span class="session">Session</span>\n              </div>\n              <div class="message">\n                <span ng-show="proposal.status === 2">STUDENT EN ROUTE</span>\n              </div>\n            </div>\n          </li>\n          <li class="item padding-6-15">\n            <div class="icon"><img ng-src=\'{{session.student.profile_url}}\' class=\'width\'></div>\n            <div class="box-2 margin-top">\n              <div class="name">{{session.guru.first_name}}\n                <span class="profile" style="font-size:12px;">Details</span>\n              </div>\n              <div class="stars">\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n                <span class="icon ion-star"></span>\n              </div>\n            </div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"><span class="icon ion-navigate"></span><span class="bold">Location:</span> {{session.location}}</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="tag"><span class="icon ion-pricetag"></span><span class="bold">${{session.price.amount}}</span> for every <span class="bold">{{session.price.minutes}} minutes</span></div>\n          </li>\n        </div>\n      </div>\n\n    </ion-content>\n\n     <ion-content ng-show="user.active_proposals.length === 0 && user.pending_proposals.length == 0 && user.active_guru_sessions.length === 0 && ionicTabsStudentBookDelegate.selectedIndex() === 0" ng-controller="StudentBookController">\n        <div class="no-session margin-150-10 center">\n          <h2>No sessions yet</h2>\n          <div ng-show="user.student_courses.length > 0">\n            <div class="gray">Sit tight, we\'ll contact you as soon as students need help</div>\n          </div>\n        </div>\n      </ion-content>\n\n      <ion-content ng-show="user.previous_guru_sessions.length === 0 && ionicTabsStudentBookDelegate.selectedIndex() === 1" ng-controller="StudentBookController">\n        <div class="no-session margin-150-10 center">\n          <h2>No sessions yet</h2>\n          <div ng-show="user.student_courses.length > 0">\n            <div class="gray">Sit tight, we\'ll contact you as soon as students need help</div>\n          </div>\n        </div>\n      </ion-content>\n\n      <ion-content ng-show="user.previous_guru_sessions.length > 0 && ionicTabsStudentBookDelegate.selectedIndex() === 1" ng-controller="StudentBookController">\n        <div class="guru-book margin-top-40" ng-repeat="session in user.previous_guru_sessions" ng-click="goToPreviousSessionDetails(session)">\n          <li class="item padding-6-15">\n            <div class="icon"><img ng-src=\'{{session.student.profile_url}}\' class=\'width\'></div>\n            <div class="box-2 margin-top">\n              <div class="box-3">\n                <span class="name">{{session.student.name.split(" ")[0]}}\n                </span>\n                <div class="stars" ng-show="session.guru.guru_avg_rating">\n                  <span class="icon ion-star" ng-repeat="i in getNumber(session.student.guru_avg_rating) track by $index"></span>\n                </div>\n              </div>\n            </div>\n          </li>\n        </div>\n      </ion-content>'),e.put("templates/guru.student-request.html",'<ion-view hide-back-button="true" hide-nav-bar = "true">\n  <ion-content class="background-black" style="background-color:black; opacity:0.8">\n    <div class="oh relative">\n      <div class="md-box-1 center animated lightSpeedIn" id="lightSpeedIn">\n        <div class="sm-box-1">\n          HELP!\n        </div>\n        <div class="sm-box-2">\n          <span class="white">{{request.student.name.split(" ")[0]}}</span> needs help in<br>\n          with <span class="white">{{request.course.short_name}}</span><br>\n          right now.\n        </div>\n      </div>\n      <div class="row bottom center">\n        <div class="col">\n          <div class="font-size-14"><span class="icon ion-navigate"></span>We\'ll meet at {{request.address}}</div>\n        </div>\n      </div>\n      <hr>\n      <ul class="list">\n        <li class="item padding-10-14">\n          <div class="icon"><img ng-src=\'{{request.student.profile_url}}\' class=\'width\'></div>\n          <div class="box">\n            <div class="name">{{request.student.name.split(" ")[0]}}\n              <span class="profile" style="font-size:14px !important;" ng-click="goToGuruRequestDetails(request)" >See Details</span>\n            </div>\n            <div class="stars" ng-show="request.student.student_avg_rating">\n              <span class="icon ion-star" ng-repeat="i in getNumber(request.student.student_avg_rating) track by $index"></span>\n            </div>\n            <div class="stars" ng-show="!request.student.student_avg_rating">\n              First time using uGuru\n            </div>\n          </div>\n        </li>\n\n        <li class="item padding-10-14 border-bottom-2" ng-click="calendarModal.show()">\n          See Calendar\n          <!-- You\'ll earn <span class="bold-font">$5</span> every <span class="bold-font">15 Minutes</span>\n          <span ng-show="user.transfer_cards.length > 0"> to <strong> {{user.default_transfer_card.card_last4}} </strong> </span> -->\n        </li>\n        <li class="item padding-0-4">\n          <div class="row">\n            <div class="col center">\n              <button ng-click="acceptStudent()" class="button button-positive-half">\n                Accept\n              </button>\n            </div>\n            <div class="col center">\n              <button ng-click="rejectStudent()" class="button button-outline-half">\n                Decline\n              </button>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </ion-content>\n</ion-view>'),e.put("templates/guru.verification.html","  <ion-view hide-nav-bar=\"true\" class='guru-verification'>\n    <ion-header-bar class=\"header-bar bar-dark \">\n        <a class='button button-clear button-back button-white' nav-direction=\"back\" href=\"#/guru-home\">Back</a>\n        <h5 class=\"title uppercase\">Trust and Verification</h5>\n        <a class='button button-clear button-positive positive sans-bold' nav-direction=\"back\" href=\"#\">INFO</a>\n    </ion-header-bar>\n\n   <!--  <ion-header-bar class=\"header-bar header-bar-dark\">\n\n        <a class=\"button button-clear button-back\"  nav-direction='back' href='#/home'>Back</a>\n        <h5 class=\"title uppercase\">{{proposal.request.course.short_name}} Request</h5>\n    </ion-header-bar> -->\n\n    <ion-content class='guru-verification-content guru'>\n\n\n        <div class='pure-g-c flex-column'>\n\n          <div class='header-area flex-item-c padding-2em center verification-explaination'>\n            These will <span class='sans-bold'> ONLY </span> be used to increase your ranking and earnings.\n          </div>\n\n          <div class='pure-u-1'>\n            <div class='list list-guru-profile'>\n              <div class=\"item settings-divider-item\">\n                PROFILE SETTINGS\n              </div>\n              <a class='item  item-icon-right' href='#/guru-verification' nav-direction=\"forward\" >\n                School Email\n                <i class='icon ion-paper-airplane'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                Phone Number\n                <i class='icon ion-iphone'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                Facebook Account\n                <i class='icon ion-social-facebook-outline'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                LinkedIn\n                <i class='icon ion-social-linkedin-outline'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                Twitter\n                <i class='icon ion-social-twitter-outline'></i>\n              </a>\n              <a class='item white item-icon-right' ng-click='fireUberApi()'>\n                Uber\n                <i class='icon ion-car'></i>\n              </a>\n            </div>\n\n          </div>\n        </div>\n\n\n          <!-- <p class='subheader-text center'> Only <u class='sans-bold positive'>20%</u> more until your profile goes live! </p>\n\n          <div class='list list-guru-profile'>\n            <a class='item white item-icon-right'>\n              Verify you're a fellow student\n              <i class='icon ion-chevron-right icon-small'></i>\n            </a>\n            <a class='item white item-icon-right'>\n              Your Street Cred\n              <i class='icon ion-chevron-right icon-small'></i>\n            </a>\n            <a class='item white item-icon-right'>\n              Swag up your profile\n              <i class='icon ion-chevron-right icon-small'></i>\n            </a>\n          </div> -->\n\n          <!-- <button ng-disabled='true' class='button button-full button-positive'>Launch</button> -->\n<!--\n          <div class='list list-guru-profile'>\n              <div class=\"item settings-divider-item\">\n                How we send you $$\n              </div>\n              <a class='item white item-icon-right'>\n                Venmo Account\n                <i class='icon ion-social-twitter-outline'></i>\n              </a>\n              <a class='item white item-icon-right'>\n                Debit Card\n                <i class='icon ion-social-twitter-outline'></i>\n              </a>\n            </div> -->\n\n        </div>\n    </ion-content>\n  </ion-view>"),e.put("templates/loading.html",'<ion-view hide-nav-bar="true">\n\n\n  <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-home-tabs-bottom" style="background-color: rgb(43,50,52)">\n\n    <ion-tab title="Home" icon-on="ion-ios7-home" icon-off="ion-ios7-home-outline" style="color:white; text-decoration:none;">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 0" ng-include="base_url + \'templates/student.home.body.html\'"></div>\n    </ion-tab>\n\n  <ion-tab title="Guru Book" icon-on="ion-ios7-bookmarks" icon-off="ion-ios7-bookmarks-outline">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 1" ng-include="base_url + \'templates/student.guru-book.html\'"></div>\n  </ion-tab>\n\n  <ion-tab title="Settings" icon-on="ion-ios7-gear" icon-off="ion-ios7-gear-outline">\n    <div ng-show="bottomTabsDelegate.selectedIndex() === 2"ng-include="base_url + \'templates/student.settings.html\'"></div>\n  </ion-tab>\n\n  </ion-tabs>\n  <ion-content>\n    <div class="list">\n\n      <a class="item item-icon-left" href="#">\n        <i class="icon ion-email"></i>\n        Check mail\n      </a>\n\n      <a class="item item-icon-left item-icon-right" href="#">\n        <i class="icon ion-chatbubble-working"></i>\n        Call Ma\n        <i class="icon ion-ios7-telephone-outline"></i>\n      </a>\n\n      <a class="item item-icon-left" href="#">\n        <i class="icon ion-mic-a"></i>\n        Record album\n        <span class="item-note">\n          Grammy\n        </span>\n      </a>\n\n      <a class="item item-icon-left" href="#">\n        <i class="icon ion-person-stalker"></i>\n        Friends\n        <span class="badge badge-assertive">0</span>\n      </a>\n\n    </div>\n  </ion-content>\n</ion-view>'),e.put("templates/onboarding.html",'<ion-view hide-nav-bar="true">\n\n\n  <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-home-tabs-bottom" style="background-color: rgb(43,50,52)">\n\n    <ion-tab title="Home" icon-on="ion-ios7-home" icon-off="ion-ios7-home-outline" style="color:white; text-decoration:none;">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 0" ng-include="base_url + \'templates/student.home.body.html\'"></div>\n    </ion-tab>\n\n  <ion-tab title="Guru Book" icon-on="ion-ios7-bookmarks" icon-off="ion-ios7-bookmarks-outline">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 1" ng-include="base_url + \'templates/student.guru-book.html\'"></div>\n  </ion-tab>\n\n  <ion-tab title="Settings" icon-on="ion-ios7-gear" icon-off="ion-ios7-gear-outline">\n    <div ng-show="bottomTabsDelegate.selectedIndex() === 2"ng-include="base_url + \'templates/student.settings.html\'"></div>\n  </ion-tab>\n\n  </ion-tabs>\n  <ion-content>\n    <div class="list">\n\n      <a class="item item-icon-left" href="#">\n        <i class="icon ion-email"></i>\n        Check mail\n      </a>\n\n      <a class="item item-icon-left item-icon-right" href="#">\n        <i class="icon ion-chatbubble-working"></i>\n        Call Ma\n        <i class="icon ion-ios7-telephone-outline"></i>\n      </a>\n\n      <a class="item item-icon-left" href="#">\n        <i class="icon ion-mic-a"></i>\n        Record album\n        <span class="item-note">\n          Grammy\n        </span>\n      </a>\n\n      <a class="item item-icon-left" href="#">\n        <i class="icon ion-person-stalker"></i>\n        Friends\n        <span class="badge badge-assertive">0</span>\n      </a>\n\n    </div>\n  </ion-content>\n</ion-view>'),e.put("templates/onboarding.loading.html","<ion-view hide-nav-bar=\"true\">\n  <ion-content class='onboarding-loading' scroll='false'>\n    <!-- stretch this -->\n    <div id='typewriter'></div>\n    <div class=\"pure-g-c flex-column\">\n        <div class='padding-1em'>\n\n          <img id=\"desk\" class='pure-img' src='{{img_base}}./img/onboarding/desk.svg'/>\n          <img class='component pure-img animated bounce infinite' id='_2' src='{{img_base}}./img/onboarding/guru-love.svg'/>\n\n          <img id='_1' class='component pure-img' src='{{img_base}}./img/onboarding/cranberry.svg'/>\n          <img id='_3' class='component pure-img' src='{{img_base}}./img/onboarding/heineken-fallen-left.svg'/>\n          <img id='_4' class='component pure-img' src='{{img_base}}./img/onboarding/heineken-upright.svg'/>\n          <img id='_5' class='component pure-img' src='{{img_base}}./img/onboarding/heineken-fallen.svg'/>\n          <img id='_6' class='component pure-img' src='{{img_base}}./img/onboarding/pbr-single.svg'/>\n          <img id='_7' class='component pure-img' src='{{img_base}}./img/onboarding/pbr-tower-taller.svg'/>\n          <img id='_8' class='component pure-img' src='{{img_base}}./img/onboarding/solocups.svg'/>\n          <img id='_9' class='component pure-img' src='{{img_base}}./img/onboarding/tequila.svg'/>\n          <img id='_10' class='component pure-img' src='{{img_base}}./img/onboarding/tequila.svg'/>\n\n\n\n          <!-- <img id='_1' class='component pure-img' ng-src='{{img_base + \"remote/img/onboarding/cranberry.svg\"}}'/>\n\n          <img id='_3' class='component pure-img' ng-src='{{img_base + \"remote/img/onboarding/heineken-fallen-left.svg\"}}'/>\n          <img id='_4' class='component pure-img' ng-src='{{img_base + \"remote/img/onboarding/heineken-upright.svg\"}}'/>\n          <img id='_5' class='component pure-img' ng-src='{{img_base + \"remote/img/onboarding/heineken-fallen.svg\"}}'/>\n          <img id='_6' class='component pure-img' ng-src='{{img_base + \"remote/img/onboarding/pbr-single.svg\"}}'/>\n          <img id='_7' class='component pure-img' ng-src='{{img_base + \"remote/img/onboarding/pbr-tower-taller.svg\"}}'/>\n          <img id='_8' class='component pure-img' ng-src='{{img_base + \"remote/img/onboarding/solocups.svg\"}}'/>\n          <img id='_9' class='component pure-img' ng-src='{{img_base + \"remote/img/onboarding/tequila.svg\"}}'/>\n          <img id='_10' class='component pure-img' ng-src='{{img_base + \"remote/img/onboarding/tequila.svg\"}}'/> -->\n\n\n        </div>\n    </div>\n\n  </ion-content>\n</ion-view>\n\n<!--<script id=\"templates/root.html\" type=\"text/ng-template\">\n      <ion-nav-view animation=\"slide-left-right\">\n\n      </ion-nav-view>\n      <ion-nav-back-button class=\"button-clear\" style=\"width:75px;\">\n          <img src=\"./img/left-chevron.png\" class='uguru-back-button'/>\n      </ion-nav-back-button>\n    </script>\n    <script id=\"templates/student-root.html\" type=\"text/ng-template\">\n      <ion-nav-view animation=\"slide-left-right\">\n      </ion-nav-view>\n    </script>\n    <script id=\"templates/web-root.html\" type=\"text/ng-template\">\n      <ion-nav-view animation=\"slide-left-right\">\n      </ion-nav-view>\n    </script>\n\n    <script id=\"templates/guru-root.html\" type=\"text/ng-template\">\n      <ion-nav-view animation=\"slide-left-right\">\n      </ion-nav-view>\n    </script>\n\n    <script id=\"templates/wizard-root.html\" type=\"text/ng-template\">\n      <ion-nav-view animation=\"slide-left-right\">\n      </ion-nav-view>\n    </script> -->"),e.put("templates/onboarding.nearest-university.html",'\n\n\n<ion-view hide-nav-bar=\'true\' class=\'onboarding-nearest\'>\n    <script>mixpanel.track("Onboarding.nearest");</script>\n\n    <ion-header-bar class="header-bar bar-white">\n\n        <div class="buttons">\n            <button class="button button-clear button-back">Back</button>\n        </div>\n\n        <h5 class="default-header title">{{header_text}}</h5>\n    </ion-header-bar>\n\n    <ion-content ng-click=\'hideKeyboard()\'>\n\n        <div ng-hide=\'search_text.length > 0 || matchingUniversities.length > 0\' class="choose-among-container margin-1em padding-top-1-5em">\n          <p class=\'center\'> Choose from among <span class=\'default-positive\'>2700+</span> schools <br>\n            across the nation </p>\n          <div class=\'pure-g padding-1em select-university-logo-container\'>\n            <div class=\'pure-u-1-5 flex flex-row j-center\'>\n              <img class=\'pure-img\' src=\'{{img_base}}./img/logos/UnivOfRhodeIsland.png\'/>\n            </div>\n            <div class=\'pure-u-1-5 flex flex-row j-center\'>\n              <img class=\'pure-img\' src=\'{{img_base}}./img/logos/univOfNebraska.png\'/>\n            </div>\n            <div class=\'pure-u-1-5 flex flex-row j-center\'>\n              <img class=\'pure-img\' src=\'{{img_base}}./img/logos/UnivOfTennMartin.png\'/>\n            </div>\n            <div class=\'pure-u-1-5 flex flex-row j-center\'>\n              <img class=\'pure-img\' src=\'{{img_base}}./img/logos/UnivOfMaine.png\'/>\n            </div>\n            <div class=\'pure-u-1-5 flex flex-row j-center\'>\n              <img class=\'pure-img\' src=\'{{img_base}}./img/logos/UnivOfKansas.png\'/>\n            </div>\n          </div>\n        </div>\n\n        <div class="list" ng-show=\'search_active || search_text.length > 0\'>\n          <a class="item" ng-repeat="university in matchingUniversities" ng-click="nearestUniversitySelected($event, university)">\n            <h2>{{university.title}}</h2>\n            <p>{{university.city}}, {{university.state}}</p>\n          </a>\n        </div>\n\n        <div class="list list-inset" ng-show=\'!search_active && search_text.length === 0\'>\n\n            <div class="item item-checkbox pure-g" ng-repeat="n_university in n_universities" ng-click="nearestUniversitySelected($event, n_university)">\n                <div class=\'pure-u-1\'>\n                    <div class=\'padding-half\'>\n                        <label class="checkbox positive">\n                           <input type="checkbox">\n                         </label>\n                        <div class="container relative">\n                            <h4 class=\'name\'>{{n_university.title}}</h4>\n                            <h4 class=\'city\'>{{n_university.city}}, {{n_university.state}}</h4>\n                            <h4 class=\'absolute miles\'>{{n_university.miles}} mi</h4>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- <div class="item pure-g" ng-click="addUniversityModal.show()">\n                <div class="pure-u-1 padding-half">\n                    <h4 class=\'enter-university\'> Or enter your university </h4>\n                </div>\n            </div> -->\n\n        </div>\n    </ion-content>\n\n    <ion-footer-bar class="bar-footer item-input-inset" keyboard-attach>\n\n           <label class="item-input-wrapper">\n              <i class="icon ion-search placeholder-icon"></i>\n\n              <input type="search" id=\'university-input\' name="university-input" class="form-control"\n                      fast-matcher\n                      fast-matcher-source="static.universities"\n                      fast-matcher-output="matchingUniversities"\n                      fast-matcher-properties="title, keywords"\n                      fast-matcher-any-word="true"\n                      fast-matcher-limit="10"\n                      fast-matcher-preserve-order="true"\n                      fast-matcher-case-insensitive="true"\n                      placeholder="Search {{static.universities.length}} Available Universities"\n                      ng-model="search_text"\n                      ng-blur="setFocus()"\n              />\n          </label>\n\n          <button class="button button-clear button-positive search-button" ng-show="search_text.length" ng-click="clearSearchInput()">\n          Clear\n          </button>\n\n    </ion-footer-bar>\n\n</ion-view>'),e.put("templates/onboarding.request-location.html",'\n\n<ion-view hide-nav-bar="true">\n  <ion-content class=\'onboarding-university-wrapper\' scroll="false">\n    <!-- stretch this -->\n    <div class="pure-g-c flex-column">\n        <!-- <div class=\'pure-u-1\'> -->\n            <div class="padding-1em flex-item-c" id=\'header\'>\n              <h5 class="header center  location-header">\n                Find instant help from your classmates, <br>\n                in seconds.\n              </h5>\n            </div>\n            <img class="pure-img" ng-src="{{img_base}}./img/onboarding/guru-love.svg">\n            <div class=\'flex-item-c\'>\n              <div class="padding-1em button-padding">\n                <button class="button button-full button-positive" ng-click="togglePersonGuru()">\n                  Find My University\n                </button>\n              </div>\n       \n              <div class=\'university-mini-logo-container\'>\n                  <!-- <div class=\'pure-g-c\'>\n                    <img ng-src=\'{{img_base + "remote/img/logos/UnivOfColoradoBoulder.png"}}\' class="img-pure"/>\n                    <img ng-src=\'{{img_base + "remote/img/logos/UnivOfHouston.png"}}\' class="img-pure"/>\n                    <img ng-src=\'{{img_base + "remote/img/logos/UnivOfIlliniosChicago.png"}}\' class="img-pure"/>\n                    <img ng-src=\'{{img_base + "remote/img/logos/UnivOfKansas.png"}}\' class="img-pure"/>\n                    <img ng-src=\'{{img_base + "remote/img/logos/UnivOfRhodeIsland.png"}}\' class="img-pure"/>\n                  </div>\n                  <div class=\'pure-g-c\'>\n                    <img ng-src=\'{{img_base + "remote/img/logos/UnivOfMaine.png"}}\' class="img-pure"/>\n                    <img ng-src=\'{{img_base + "remote/img/logos/UnivOfMissouriColumbia.png"}}\' class="img-pure"/>\n                    <img ng-src=\'{{img_base + "remote/img/logos/univOfNebraska.png"}}\' class="img-pure"/>\n                    <img ng-src=\'{{img_base + "remote/img/logos/UnivOfTennMartin.png"}}\' class="img-pure"/>\n                    <img ng-src=\'{{img_base + "remote/img/logos/UnivOfNorthCarolinaCharlotte.png"}}\' class="img-pure"/>\n                  </div> -->\n                  <div class=\'pure-g-c\' id=\'footer_1\'>\n                    <img ng-src=\'{{img_base}}./img/logos/UnivOfColoradoBoulder.png\' class="img-pure"/>\n                    <img ng-src=\'{{img_base}}./img/logos/UnivOfHouston.png\' class="img-pure"/>\n                    <img ng-src=\'{{img_base}}./img/logos/UnivOfIlliniosChicago.png\' class="img-pure"/>\n                    <img ng-src=\'{{img_base}}./img/logos/UnivOfKansas.png\' class="img-pure"/>\n                    <img ng-src=\'{{img_base}}./img/logos/UnivOfRhodeIsland.png\' class="img-pure"/>\n                  </div>\n                  <div class=\'pure-g-c\' id=\'footer_2\'>\n                    <img ng-src=\'{{img_base}}./img/logos/UnivOfMaine.png\' class="img-pure"/>\n                    <img ng-src=\'{{img_base}}./img/logos/UnivOfMissouriColumbia.png\' class="img-pure"/>\n                    <img ng-src=\'{{img_base}}./img/logos/univOfNebraska.png\' class="img-pure"/>\n                    <img ng-src=\'{{img_base}}./img/logos/UnivOfTennMartin.png\' class="img-pure"/>\n                    <img ng-src=\'{{img_base}}./img/logos/UnivOfNorthCarolinaCharlotte.png\' class="img-pure"/>\n                  </div>\n                  <h6 class=\'footer\'>Now at <u>100</u> universities!</h6>\n              </div>\n            </div>\n    </div>\n\n  </ion-content>\n</ion-view>'),e.put("templates/onboarding.university.html","\n\n<ion-view hide-nav-bar=\"true\">\n  <ion-content class='onboarding-confirm' scroll=\"false\">\n    <!-- stretch this -->\n    <div class=\"pure-g-c flex-column\">\n        <div class=\"onboarding-confirm-header flex-item-c padding-1em\">\n            <h1 class='bold center white-text no-margin'> You're all set! </h1>\n        </div>\n        <div class='container relative'>\n            <!-- <img ng-src='{{img_base + \"remote/img/splash-background.png\"}}' class=\"pure-img background-splash-img\">\n            <img ng-src='{{img_base + \"remote/img/university-banner.svg\"}}' class='university-banner'> -->\n            <img ng-src='{{img_base}}./img/splash-background.png' class=\"pure-img background-splash-img\">\n            <img ng-src='{{img_base}}./img/university-banner.svg' class='university-banner'>\n        </div>\n        <div class=\"university-statistics center\">\n            <div class='pure-g-c'>\n                <div class='pure-u-1-3 padding-1em'>\n                    <h4 class='semibold no-margin'>24.2K</h4>\n                    <h5 class='subheader'>students</h5>\n                </div>\n                <div class='pure-u-1-3 padding-1em'>\n                    <h4 class='semibold no-margin'>11K</h4>\n                    <h5 class='subheader'>gurus</h5>\n                </div>\n                <div class='pure-u-1-3 padding-1em'>\n                    <h4 class='semibold no-margin'>100k</h4>\n                    <h5 class='subheader'>students</h5>\n                </div>\n            </div>\n        </div>\n        <div class='pure-g center'>\n            <div class='pure-u-1 padding-quarter popular-courses-header'>\n                <h5 class='header white-text'>Popular Courses This Week</h5>\n            </div>\n        </div>\n        <div class='pure-g courses-container center'>\n            <div class='row course-row-1'>\n                <div class='col course'>BIO 101</div>\n                <div class='col course'>MATH 10</div>\n                <div class='col course'>CS 331</div>\n            </div>\n            <div class='row course-row-2'>\n                <div class='col course'>POLI 121</div>\n                <div class='col course'>ECON 1</div>\n                <div class='col course'>GEO 10</div>\n            </div>\n        </div>\n        <div class=\"get-started-container flex-item-c\">\n            <button class=\"button button-positive button-full\" ui-sref='^.student-home'>\n                Get Started\n            </button>\n        </div>\n    </div>\n\n  </ion-content>\n</ion-view>"),e.put("templates/prompt.location.html","\n\n\n<ion-view hide-nav-bar='true' class='onboarding-prompt-location'>\n    <ion-content class='white-text' scroll='false'>\n        <div class=\"pure-g-c flex-column relative\">\n            <span class='flex-item-c'>\n                <h4 class='header white-text'> We'd love to find you a guru! </h4>\n            </span>\n            <!-- <span class='flex-item-c'> -->\n            <img id='guru-love' class='pure-img' src='{{img_base}}./img/onboarding/guru-love-green.svg' />\n                <!-- <img src='{{img_base}}./img/prompt-location-guru.svg' class=\"pure-img\"> -->\n\n            <!-- </span> -->\n\n            <span class=\"flex-item-c\">\n                <p class=\"center padding-1em\">\n                    But first we need to know where you are so your guru can find you. Please enable Location Services for Uguru.\n                </p>\n                <button class=\"button button-negative button-full\" ng-click='goToSettings()'>\n                    Go to Settings\n                </button>\n                <button id='skip-button' class=\"button button-clear button-back\" ui-sref=\"^.onboarding-nearest-university\">\n                    Skip\n                </button>\n            </span>\n        </div>\n    </ion-content>\n\n</ion-view>"),e.put("templates/ratings.modal.html","<ion-modal-view ng-controller=\"RatingsController\" hide-nav-bar ='true' class='ratings-modal ratings-background'>\n  <ion-content class='white-text' scroll='false' style='margin-top:20px;'>\n      <ion-scroll style='height:100%;'>\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='padding-2em flex-item-c j-start center'>\n          <h1 class='sans-bold center'>\n            Session<br>Completed!\n          </h1>\n          <p>\n            {{rating.session.time_created}}\n          </p>\n        </div>\n        <div class='padding-2em flex-item-c center'>\n          <div class='pure-u-1'>\n              <h1 style='font-size:400%' class='white-text'><span class=\"bucks sans-light\">$</span><span class='sans-bold'>{{rating.session.transaction.guru_amount}} </span>\n              </h1>\n          </div>\n        </div>\n        <div class='padding-2em pure-g center'>\n          <div class='pure-u-1'>\n            <div class='pure-g'>\n              <div class='pure-u-1-8'>\n              </div>\n              <div class='pure-u-3-4 margin-1em'>\n\n                <div class='item item-avatar-left transparent-background no-border white-text align-left'>\n                  <img src='{{rating.session.request.student.profile_url}}' class='pure-img'/>\n                  <span class='sans-regular'>\n                    {{rating.session.guru.name.split(\" \")[0]}}\n                  </span>\n                  <p>{{rating.session.request.course.short_name}}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class='pure-u-1'>\n            <div class='pure-g'>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"1\" class=\"icon ion-star ion-star-rating\" id=\"starOne\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"2\"  class=\"icon ion-star ion-star-rating\" id=\"starTwo\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"3\"  class=\"icon ion-star ion-star-rating\" id=\"starThree\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"4\"  class=\"icon ion-star ion-star-rating\" id=\"starFour\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"5\" class=\"icon ion-star ion-star-rating\" id=\"starFive\"></span></div>\n            </div>\n          </div>\n          <div class='pure-u-1 padding-2em' ng-show='!starsSelected'> </div>\n          <div class='pure-u-1'>\n            <button class='button button-full button-positive-outline' style='width:100%;' ng-click='submitRatingToServer()' ng-show='starsSelected'>\n              Submit\n            </button>\n          </div>\n        </div>\n      </div>\n    </ion-scroll>\n    </ion-content>\n\n\n</ion-modal-view>"),e.put("templates/searchbox.tpl.html",'<input id="pac-input" class="pac-controls" type="text" placeholder="Search">'),e.put("templates/student-request-map.modal.html",'<ion-modal-view ng-controller=\'RequestLocationController\' class="map-modal" disable-tap>\n    <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)" ng-init="init()">\n        <button style="font-size:20px !important;" ng-show="location_error" ng-click="toggleLocationService()" class="button button-clear button-stable icon ion-navigate"></button>\n\n        <button style="font-size:20px !important;" ng-show="!location_error" ng-click="toggleLocationService()" class="button button-clear button-positive icon ion-navigate"></button>\n\n        <h1 class="title">Select Location</h1>\n        <button ng-click="hideRequestMapModal()" class="button button-clear button-positive">cancel</button>\n    </ion-header-bar>\n    <ion-header-bar id="request-location" style="height:30px; text-align:center;" class="bar-subheader bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)" ng-init="init()">\n        <div style="margin-top:5px; width:100%; white-space:no-wrap; overflow: hidden; text-overflow: ellipsis;text-transform:none; font-size:12px;">\n        {{request.location}}\n        </div>\n    </ion-header-bar>\n    <ion-content has-header="true" has-footer="false" padding="false" scroll="false" style="top:95px !important; bottom:0px;">\n\n      <ion-pane id="map_canvas" style="height: 100%;width: 100%;margin: 0px;">\n          <ui-gmap-google-map center="map.center" control="map.control" zoom="map.zoom"  pan="true" options="options">\n            <!-- <ui-gmap-search-box options="searchbox.options" template="searchbox.template" events="searchbox.events" parentdiv="searchbox.parentdiv"></ui-gmap-search-box> -->\n          </ui-gmap-google-map>\n      </ion-pane>\n      <!-- <ion-pane id="request-map" class="content-stable map" data-tap-disable="true">\n      </ion-pane> -->\n    </ion-content>\n\n    <ion-footer-bar style="height: auto; background-color:transparent; z-index:20;" class="extra-padding-sides">\n      <button ng-click="setLocation()" style="height:4em"class="button button-positive button-full button-positive"><span class="icon ion-navigate"></span>Set Location </button>\n    </ion-footer-bar>\n</ion-modal-view>'),e.put("templates/student.active-session.html",'<ion-view hide-nav-bar=\'true\' class=\'guru-active-session\'>\n    <ion-header-bar class="header-bar">\n        <a class="button button-clear button-back"  nav-direction=\'back\' href=\'#/home\'>Back</a>\n        <h5 class="title uppercase">{{session.request.course.short_name}} </h5>\n        <a class="button button-clear button-back uppercase positive" ng-click=\'showOptions()\'>Options</a>\n    </ion-header-bar>\n\n    <ion-content class="has-header" scroll=\'false\' >\n    <div class=\'pure-g-c flex-column flex-space-between\'>\n      <div class=\'flex-item-c\'>\n        <ion-pane id="map_canvas">\n              <ui-gmap-google-map center="map.center" control="map.control" zoom="map.zoom"  pan="true" options="options">\n              </ui-gmap-google-map>\n        </ion-pane>\n      </div>\n      <div class=\'flex-item-c j-end\'>\n        <div class=\'pure-u-1\'>\n          <ul>\n            <a class="item item-avatar-right upcoming-session-card"  ng-click="goToGuruProfile(session.guru)">\n              <img ng-src="{{session.request.guru.profile_url}}">\n              <h2>{{session.guru.name.split(\' \')[0]}} <br> {{session.request.course.short_name}} Guru</h2>\n            </a>\n\n            <li class="item padding-0-4">\n              <button class="button button-full button-positive" ng-click="goToSessionMessages(session)">\n                Message {{session.guru.name.split(\' \')[0]}}\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>'),e.put("templates/student.contact.method.html",'    <ion-view hide-nav-bar=\'true\'>\n      <ion-header-bar class=\'header-bar\'>\n        <a class="button button-clear button-back" nav-direction="back" href="#/student-request">Back</a>\n        <h5 class="title">Contact Method</h5>\n        <a class="button button-clear button-back bold positive uppercase" ng-click=\'saveAndGoToRequest()\'>Next</a>\n      </ion-header-bar>\n      <ion-content>\n        <div class=\'pure-g-c padding-half positive\'>\n          <div class=\'pure-u-1 flex-item-c\'>\n            <h5 class=\'contact-method-warning-text positive\'>Please choose at least one </h5>\n          </div>\n        </div>\n        <ion-list class=\'list-inset\'>\n          <!-- <ion-toggle ng-model="root.vars.request.contact.phone" ng-change=\'toggleTextMessageInput()\' toggle-class="toggle-calm" class=\'ng-class:{"item-icon-left": root.vars.request.contact.phone} \'>\n          <i class=\'icon ion-checkmark icon-medium icon-positive\' ng-show=\'root.vars.request.contact.phone\'></i>\n          Text Message\n          <p ng-show=\'user.phone_number\'> {{user.phone_number}} </p>\n          </ion-toggle> -->\n\n          <label class="item item-input item-icon-left positive" ng-show=\'root.vars.request.contact.phone && !user.phone_number\'>\n            <span class="input-label">Phone Number</span>\n            <input type="number" class=\'positive\' placeholder="(510) 123 - 3123">\n          </label>\n\n          <ion-toggle ng-model="root.vars.request.contact.email" ng-change=\'toggleTextMessageInput()\' toggle-class="toggle-calm" class=\'ng-class:{"item-icon-left": root.vars.request.contact.email} \'>\n          <i class=\'icon ion-checkmark icon-medium icon-positive\' ng-show=\'root.vars.request.contact.email\'></i>\n          Email Notification\n          <p ng-show=\'user.email\'> {{user.email}} </p>\n          </ion-toggle>\n          <label class="item item-input item-icon-left positive" ng-show=\'root.vars.request.contact.email && !user.email\'>\n            <span class="input-label">Phone Number</span>\n            <input type="email" placeholder="@school.edu">\n          </label>\n          <ion-toggle ng-change="requestPushNotifications()" ng-show=\'platform.mobile\'ng-model="root.vars.request.contact.push_notif" toggle-class="toggle-calm">Push Notifications</ion-toggle>\n        </ion-list>\n      </ion-content>\n    </ion-view>\n'),e.put("templates/student.guru-available.html",'<ion-view hide-back-button="true">\n  <ion-content class="background-black" style="background-color:black; opacity:0.8">\n    <div class="oh relative">\n      <div class="md-box-1 center animated lightSpeedIn" id="lightSpeedIn" style="margin-top:0px;">\n        <div class="sm-box-1">\n          Oh yahh.\n        </div>\n        <div class="sm-box-2">\n          <span class="white">{{guru.name.split(" ")[0]}}</span> can help you<br>\n          with <span class="white">{{request.course.short_name}}</span><br>\n          right now.\n        </div>\n      </div>\n      <div class="row bottom center">\n        <div class="col">\n          <div class="font-size-14"><span class="icon ion-navigate"></span>We\'ll meet at {{request.address}}</div>\n        </div>\n      </div>\n      <hr>\n      <ul class="list">\n        <li class="item padding-10-14">\n          <div class="icon"><img ng-src=\'{{guru.profile_url}}\' class=\'width\'></div>\n          <div class="box">\n            <div class="name">{{guru.name.split(" ")[0]}}\n              <span class="profile" style="font-size:14px !important;" ng-click="goToGuruProfile(guru)" >view profile</span>\n            </div>\n            <div class="stars" ng-show="guru.guru_avg_rating">\n                <span class="icon ion-star" ng-repeat="i in getNumber(guru.guru_avg_rating) track by $index"></span>\n              </div>\n              <div class="stars" ng-show="!request.guru.guru_avg_rating">\n                First Time Guru\n              </div>\n          </div>\n        </li>\n        <li class="item padding-10-14 border-bottom-2">\n          Just <span class="bold-font">$5</span> for every <span class="bold-font">15 Minutes</span>\n          <span ng-show="user.payment_cards.length > 0"> billed to <strong> {{user.default_card.card_last4}} <strong> </span>\n        </li>\n        <li class="item padding-0-4">\n          <div class="row">\n            <div class="col center">\n              <button ng-click="acceptGuru()" class="button button-positive-half">\n                Accept\n              </button>\n            </div>\n            <div class="col center">\n              <button ng-click="rejectGuru()" class="button button-outline-half">\n                Decline\n              </button>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </ion-content>\n</ion-view>'),e.put("templates/student.guru-home-page.html",' <ion-modal-view ng-controller="SignupController">\n      <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title" ng-show="!loginMode">Create Account</h1>\n        <h1 class="title" ng-show="loginMode">Login</h1>\n        <button ng-click="closeSignupModal()" class="button button-clear button-positive">Cancel</button>\n      </ion-header-bar>\n      <ion-content>\n\n        <div class="account">\n          <div class="account-box center">\n            <div class="list margin-bottom-10" ng-show="loginMode">\n              <label class="item item-input" id="input_email_login">\n                <div class="tag">email</div><input type="text" name="login-email" ng-model="signupForm.email" placeholder="peter.parker@berkeley.edu">\n              </label>\n              <label class="item item-input" id="input_password_login">\n                <div class="tag">password</div><input type="password" name="login-password" ng-model="signupForm.password" placeholder="at least 6 characters">\n              </label>\n            </div>\n            <div class="list margin-bottom-10" ng-show="!loginMode">\n              <div class="errorMessage">First name is required.</div>\n              <label class="item item-input errorForm" id="input_first">\n                <div class="tag">First</div><input name="signup-first-name" type="text" ng-model="signupForm.first_name" placeholder="your first name">\n              </label>\n              <label class="item item-input" id="input_last">\n                <div class="tag">last</div><input name="signup-last-name" type="text" ng-model="signupForm.last_name" placeholder="your last name">\n              </label>\n              <label class="item item-input" id="input_email">\n                <div class="tag">email</div><input type="text" name="signup-email" ng-model="signupForm.email" placeholder="peter.parker@berkeley.edu">\n              </label>\n            </div>\n            <div class="list" ng-show="!loginMode">\n              <label class="item item-input" id="input_password">\n                <div class="tag">password</div><input type="password" name="signup-password" ng-model="signupForm.password" placeholder="at least 6 characters">\n              </label>\n            </div>\n            <button ng-show="!loginMode" ng-click="completeSignup()"class="button button-green-outline button-full">\n              join uguru\n            </button>\n            <button ng-show="loginMode" ng-click="loginUser()"class="button button-green-outline button-full">\n              Login\n            </button>\n            <div class="horizon">\n              <span class="box">\n                or try facebook\n              </span>\n            </div>\n            <div class="message">\n              Uguru will NEVER post to your Facebook.\n            </div>\n            <button ng-click="signupFacebook()" class="button facebook-button button-full icon-left ion-social-facebook">\n              Connect With Facebook\n            </button>\n            <button ng-click="toggleLoginMode()" ng-show="!loginMode" class="button button-full button-outlined button-disabled">\n              Login\n            </button>\n            <button ng-click="toggleLoginMode()" ng-show="loginMode" class="button button-full button-outlined button-disabled">\n              Create an Account\n            </button>\n          </div>\n        </div>\n      </ion-content>\n  </ion-modal-view>'),e.put("templates/student.guru-mode.html",'<ion-view title="Your {{session.course.short_name}} Session">\n  <ion-content class="background-black-8">\n    <div class="your-session">\n      <div class="guru-img center">\n        <img src=\'./img/uguru-03.png\' class="guru-icon">\n      </div>\n      <div class="guru-message center">\n        Sit tight, relax for a bit.<br>\n        Uguru will notify you as soon as<br>\n        a student needs your helps.\n      </div>\n      <div class="guru-mode center">\n        Guru Mode is On\n      </div>\n      <ul class="list">\n        <li class="item guru-list">\n          Guru Mode\n        </li>\n        <li class="item guru-list">\n          Notigication Settings\n        </li>\n      </ul>\n    </div>\n  </ion-content>\n\n  <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-home-tabs-bottom" style="background-color: rgb(43,50,52)">\n    <ion-tab title="Home" icon-on="ion-ios7-home" icon-off="ion-ios7-home-outline" style="color:white; text-decoration:none;">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 0" ng-include="base_url + \'templates/guru.home.body.html\'"></div>\n    </ion-tab>\n    <ion-tab title="Guru Book" icon-on="ion-ios7-bookmarks" icon-off="ion-ios7-bookmarks-outline" badge="user.pending_proposals.length" badge-style="badge-positive">\n        <div ng-show="bottomTabsDelegate.selectedIndex() === 1" ng-include="base_url + \'templates/guru.student-book.html\'"></div>\n    </ion-tab>\n    <ion-tab title="Settings" icon-on="ion-ios7-gear" icon-off="ion-ios7-gear-outline">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 2"ng-include="base_url + \'templates/student.settings.html\'"></div>\n    </ion-tab>\n  </ion-tabs>\n</ion-view>'),e.put("templates/student.guru-profile.html",'<ion-view hide-nav-bar = \'true\'>\n  <ion-header-bar class=\'header-bar\'>\n    <a class="button button-clear button-back"  nav-direction=\'back\' ng-click="goBack()">Back</a>\n    <h5 class="title">Guru {{guru.name.split(\' \')[0]}}</h5>\n\n  </ion-header-bar>\n  <ion-content>\n    <div class="view-profile">\n      <div class="space-1 center">\n        <div class="icon"><img ng-src=\'{{guru.profile_url}}\' class=\'width\'></div>\n        <div class="box">\n          <div class="name">{{guru.name.split(" ")[0]}}\n          </div>\n          <div class="stars" ng-show="guru.guru_avg_rating">\n                  <span class="icon ion-star" ng-repeat="i in getNumber(guru.guru_avg_rating) track by $index"></span>\n          </div>\n        </div>\n      </div>\n      <div class="space-2 center">\n        <ul class="list">\n          <li class="item padding-10-14">\n            {{guru.guru_introduction}}\n          </li>\n          <li class="item padding-10-14">\n            <div class="courses">\n              <!-- <span class="bold-font sm-box">CS225</span> -->\n              <span class="bold-font sm-box-orange" ng-repeat="course in guru.guru_courses">{{course.short_name}}</span>\n            </div>\n          </li>\n          <li class="item padding-2-14">\n            <div class="sessions">\n              <div class="row">\n                <div class="col col-50">\n                  <div class="number">{{guru.guru_sessions.length}}</div>\n                  <div class="detail">sessions</div>\n                </div>\n                <div class="col col-50">\n                  <div class="number">{{guru.guru_courses.length}}</div>\n                  <div class="detail">classes</div>\n                </div>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </div>\n      <button class="button button-full button-positive" ng-show="showContactGuru">\n        See if {{guru.name}} is available\n      </button>\n    </div>\n  </ion-content>\n</ion-view>\n'),e.put("templates/student.guru-timer.html",' <ion-modal-view ng-controller="SignupController">\n    <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n      <h1 class="title" ng-show="!loginMode">Create Account</h1>\n      <h1 class="title" ng-show="loginMode">Login</h1>\n      <button ng-click="closeSignupModal()" class="button button-clear button-positive">Cancel</button>\n    </ion-header-bar>\n    <ion-content class="background-green">\n\n      <div class="timer">\n        <div class="timer-box center">\n          <div class="md-box-1 center animated lightSpeedIn" id="lightSpeedIn">\n            <div class="sm-box-1">\n              <span class="icon ion-arrow-right-b"></span>\n            </div>\n          </div>\n          <span class="number">15</span><span class="min">m</span>\n          <div class="button-space">\n            <button class="button button-full button-green-outline footer-button">\n              RESET\n            </button>\n            <button class="button button-full button-green footer-button">\n              SUBMIT\n            </button>\n          </div>\n        </div>\n      </div>\n\n    </ion-content>\n</ion-modal-view>'),e.put("templates/student.home.apps.html","  <ion-view hide-nav-bar = 'true' class='apps-page' ng-controller='AppsController'>\n    <ion-header-bar class='header-bar'>\n        <h5 class=\"title\">Uguru Apps</h5>\n      </ion-header-bar>\n\n    <ion-content style='background-color' class='course-list-container'>\n        <div class='pure-g'>\n          <!-- column 1 -->\n          <div class='pure-u-1-2 app-card-wrapper flex-item-c'>\n              <a class='list card app-card pure-g-c flex-column pure-u-1' ng-click='goToRequest()'>\n                  <div class='flex-item-c center padding-half'>Instant Guru</div>\n                  <img class='flex-item-c padding-half' src='{{img_base}}./img/apps/cloud_file.svg'/>\n                  <div class='flex-item-c center padding-1em' style='font-size:70%;'>Course-specific & cheap</div>\n              </a>\n              <a class='list card app-card pure-g-c flex-column pure-u-1' ng-click='goToRequest()'>\n                  <div class='flex-item-c center padding-half'>Ask & Relax</div>\n                  <img class='flex-item-c padding-half' src='{{img_base}}./img/apps/cloud_file.svg'/>\n                  <div class='flex-item-c center padding-1em' style='font-size:70%;'>Attach files, we'll take care of it</div>\n              </a>\n              <!-- <a class='list card app-card pure-g-c flex-column pure-u-1' ng-click='goToSearch()'>\n                <div class='flex-item-c center padding-half'>Search</div>\n                <img class='flex-item-c padding-half' src='{{img_base}}./img/apps/cloud_file.svg'/>\n                <div class='flex-item-c center' style='font-size:70%;'>Exams, Notes & More</div>\n              </a> -->\n          </div>\n\n          <!-- column 2 -->\n          <div class='pure-u-1-2 app-card-wrapper flex-item-c'>\n                <a class='list card app-card pure-g-c flex-column pure-u-1' ng-click='goToRequest()'>\n                  <div class='flex-item-c center padding-half'>Search</div>\n                  <img class='flex-item-c padding-half' src='{{img_base}}./img/apps/cloud_file.svg'/>\n                  <div class='flex-item-c center padding-1em' style='font-size:70%;'>Exams, Notes & More</div>\n              </a>\n              <a class='list card app-card pure-g-c flex-column pure-u-1' ng-click='goToBakery()'>\n                <div class='flex-item-c center padding-half'>Get Baked</div>\n                <img class='flex-item-c padding-half' src='{{img_base}}./img/apps/cloud_file.svg'/>\n                <div class='flex-item-c center padding-1em' style='font-size:70%;'>Goods, made by students</div>\n              </a>\n          </div>\n\n        </div>\n    </ion-content>\n  </ion-view>"),e.put("templates/student.home.courses.html",'    <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title">Find A Guru</h1>\n    </ion-header-bar>\n\n    <ion-content style=\'background-color\' class=\'course-list-container has-subheader\' scroll="false">\n      <div class=\'container pure-g-c flex-column flex-space-between\'>\n        <div class="list list-inset course-list">\n\n            <a class="item course-item item-icon-right" ng-repeat="course in user.student_courses" ng-click="goToRequest(course)">\n              <h5>{{course.short_name}}</h5>\n              <i class="icon icon-right ion-chevron-right"></i>\n            </a>\n            <!-- <a class="item course-item item-icon-right" ng-show="checkCourseInActiveRequests(course)" style="border-left: 4px solid gold;" ng-click="goToRequestStatus(course)">\n              <h5>{{course.short_name}}</h5>\n              <i class="icon icon-right ion-chevron-right"></i>\n            </a> -->\n            <a id="add-course-item" class="item item-icon-left course-item add-course-item item-icon-right" ng-click=\'addCourseModal.show()\'>\n              <i class="icon icon-left ion-plus"></i>\n              <h5 class=\'inline\'> New course </h5>\n              <i class="icon icon-right ion-chevron-right"></i>\n            </a>\n\n        </div>\n        <!-- <div class=\'pure-g toast toast-positive referral-toast\'>\n          <a class=\'padding-1em relative toast-container\'>\n            <p> Want free tutoring? Why use your own $$</p>\n            <i class="icon ion-chevron-right absolute"></i>\n          </a>\n        </div> -->\n      </div>\n    </ion-content>'),e.put("templates/student.home.new.html",'\n<ion-view class="student-home" hide-nav-bar="true" cache-view=\'false\'>\n\n  <ion-tabs class="bottom-tabs tabs-positive" delegate-handle="student-home-tabs-bottom">\n\n    <ion-tab id=\'bottom-sessions-tab\' title="Sessions" badge="user.active_requests.length + user.incoming_requests.length" badge-style=\'badge-danger\' class=\'session-icon-extra bottom-tabs-home\' icon-on="session-icon" icon-off="session-icon">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 0" ng-include="img_base + \'./templates/student.home.sessions.html\'"></div>\n    </ion-tab>\n\n    <ion-tab class=\'bottom-tabs-home\'title="Request" icon-on="request-icon" icon-off="request-icon">\n      <div ng-show="bottomTabsDelegate.selectedIndex() === 1" ng-include="img_base + \'./templates/student.home.request-courses.html\'"></div>\n    </ion-tab>\n\n    <ion-tab class=\'bottom-tabs-home\' title="Settings" icon-on="settings-icon" icon-off="settings-icon" ng-click=\'goToSettingsTab()\'>\n      <div ng-include="img_base + \'./templates/student.settings.html\'" ng-show="bottomTabsDelegate.selectedIndex() === 2"></div>\n    </ion-tab>\n\n    <!-- <ion-tab class=\'bottom-tabs-home\' title="Apps" icon-on="ion-flash" icon-ff="ion-flash">\n      <div ng-include="img_base + \'./templates/student.home.apps.html\'" ng-show="bottomTabsDelegate.selectedIndex() === 3"></div>\n    </ion-tab> -->\n  </ion-tabs>\n\n</ion-view>\n'),e.put("templates/student.home.request-courses.html",'  <ion-view hide-nav-bar = \'true\' cache-view=\'false\'>\n    <ion-header-bar class=\'header-bar\'>\n        <h5 class="title">REQUEST HELP</h5>\n      </ion-header-bar>\n\n    <ion-content style=\'background-color\' class=\'course-list-container\'>\n      <div class=\'container pure-g-c flex-column flex-space-between\'>\n        <div class="list list-inset course-list">\n\n            <a class="item course-item item-icon-right" ng-repeat="course in user.student_courses"  ng-click=\'goToRequest(course)\'>\n              <h5>{{course.short_name}}</h5>\n              <i class="icon icon-right ion-chevron-right"></i>\n            </a>\n            <a class="item course-item item-icon-right" ng-show="checkCourseInActiveRequests(course)" style="border-left: 4px solid gold;" ng-click="goToRequestStatus(course)">\n              <h5>{{course.short_name}}</h5>\n              <i class="icon icon-right ion-chevron-right"></i>\n            </a>\n            <a id="add-course-item" class="item item-icon-left course-item add-course-item item-icon-right" ng-click=\'addCourseModal.show()\'>\n              <h5 class=\'inline\'> Add a new course </h5>\n              <i class="icon icon-right ion-plus"></i>\n            </a>\n\n        </div>\n        <!-- <div class=\'pure-g toast toast-positive referral-toast\'>\n          <a class=\'padding-1em relative toast-container\'>\n            <p> Want free tutoring? Why use your own $$</p>\n            <i class="icon ion-chevron-right absolute"></i>\n          </a>\n        </div> -->\n      </div>\n    </ion-content>\n  </ion-view>'),e.put("templates/student.home.sessions.html","\n<ion-view class='student-sessions' cache-view='false'>\n  <ion-header-bar class='header-bar'>\n    <h5 class=\"title\">Your Sessions</h5>\n    <a class='button button-clear' ng-click=\"addCourseModal.show()\"></a>\n  </ion-header-bar>\n  <ion-tabs class=\"tabs-stable tabs-striped tabs-top session-tabs\" delegate-handle=\"student-home-tabs-top\">\n    <ion-tab title=\"Current\" ng-show=\"topTabsDelegate.selectedIndex() === 0\">\n    </ion-tab>\n    <ion-tab title=\"Upcoming\" ng-show=\"topTabsDelegate.selectedIndex() === 1\">\n    </ion-tab>\n    <ion-tab title=\"History\" ng-show=\"topTabsDelegate.selectedIndex() === 2\">\n    </ion-tab>\n  </ion-tabs>\n\n  <ion-content class='has-subheader' ng-show='topTabsDelegate.selectedIndex() === 0'>\n\n    <div class='scroll pure-g-c flex-column center full-height' ng-hide='user.active_requests.length > 0 || user.incoming_requests.length > 0'>\n      <div class='padding-1em padding-1em flex-item-c'> </div>\n      <div class='flex-item-c sleeping-guru light-opacity'>\n        <img class='pure-img animated swing' ng-src='{{img_base}}./img/guru-sleeping.svg' >\n      </div>\n      <div class='flex-item-c light-opacity padding-1em flex-direction-init '>\n        No current sessions yet! <br> Try requesting help below\n      </div>\n    </div>\n\n    <div class=\"list\" ng-show='user.active_requests.length > 0'>\n      <a class=\"item item-avatar-right upcoming-session-card\" ng-repeat='request in user.active_requests' ng-click='goToRequestStatus(request)'>\n        <img ng-src=\"{{img_base}}./img/guru-profile.svg\">\n        <h2>{{request.course.short_name}}</span> Request</h2>\n        <h4 class='pending'> CONTACTING GURUS </h4>\n      </a>\n    </div>\n\n    <div class=\"list\" ng-show='user.incoming_requests.length > 0'>\n      <a class=\"item item-avatar-right upcoming-session-card\" ng-repeat='request in user.incoming_requests' ng-click='goToRequestStatus(request)'>\n        <img ng-src=\"{{img_base}}./img/guru-profile.svg\">\n        <h2>Guru {{request.course.short_name}}</h2>\n        <h4 class='pending'> 1 Guru Available </h4>\n      </a>\n    </div>\n\n  </ion-content>\n\n  <ion-content class='has-subheader' ng-show='topTabsDelegate.selectedIndex() === 1'>\n  <ion-scroll>\n      <div class='pure-g-c flex-column center svrofull-height' ng-show='!user.active_student_sessions || user.active_student_sessions.length === 0'>\n        <div class='padding-1em padding-1em flex-item-c'> </div>\n        <div class='flex-item-c sleeping-guru light-opacity'>\n          <img class='pure-img animated swing' ng-src='{{img_base}}./img/guru-sleeping.svg'>\n        </div>\n        <div class='flex-item-c light-opacity padding-1em flex-direction-init'>\n          No upcoming sessions yet! <br> Try requesting help below\n        </div>\n      </div>\n  </ion-scroll>\n      <div class=\"list\" ng-show='user.active_student_sessions.length > 0'>\n        <a class=\"item item-avatar-right upcoming-session-card\" ng-repeat='session in user.active_student_sessions' ng-click='goToActiveSession(session)'>\n          <img ng-src=\"{{session.request.student.profile_url}}\">\n          <h2>{{session.request.student.name}} <strong>{{session.request.course.short_name}}</strong></h2>\n          <h4 class='pending'> Starting Soon! </h4>\n        </a>\n      </div>\n\n  </ion-content>\n\n  <ion-content class='has-subheader' ng-show='topTabsDelegate.selectedIndex() === 2'>\n    <div class='pure-g-c flex-column center full-height' ng-show='!user.previous_student_sessions || user.previous_requests.length === 0'>\n        <div class='padding-1em padding-1em flex-item-c'> </div>\n        <div class='flex-item-c sleeping-guru light-opacity'>\n          <img class='pure-img animated swing' ng-src='{{img_base}}./img/guru-sleeping.svg'>\n        </div>\n        <div class='flex-item-c light-opacity padding-1em flex-direction-init'>\n          No past sessions yet! <br> Try requesting help below\n        </div>\n    </div>\n\n    <div class=\"list\" ng-show='user.previous_requests.length > 0'>\n        <a class=\"item item-avatar-right upcoming-session-card\" ng-repeat='request in user.previous_requests' ng-click='goToRequestStatus(request)'>\n        <img ng-src=\"{{img_base}}./img/guru-profile.svg\">\n        <h2>{{request.course.short_name}}</span> Request</h2>\n        <h4 ng-show='request.status === 4'class='danger'> Canceled </h4>\n      </a>\n    </div>\n\n  </ion-content>\n\n</ion-view>"),e.put("templates/student.messages.html",'\n<ion-view class=\'messages\' hide-nav-bar = \'true\' cache-view=\'false\'>\n\n  <ion-header-bar class="header-bar ng-class:{\'bar-dark\': user.guru_mode}">\n    <a class="button button-clear button-back ng-class:{\'button-white\': user.guru_mode}"  ng-click=\'goBack()\'>Back</a>\n    <h5 class="title">{{message_name}}</h5>\n  </ion-header-bar>\n\n    <!-- <ion-nav-buttons side="secondary">\n\n      <button class="button button-clear button-positive" ng-click="getMessagesFromServer(0, true)">\n        <i class="icon ion-ios7-refresh-empty"></i>\n      </button>\n    </ion-nav-buttons> -->\n    <!-- <ion-header-bar id="request-location" style="height:30px; text-align:center;" class="bar-subheader bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)" ng-init="init()">\n\n      <div style="margin-top:5px; width:100%; white-space:no-wrap; overflow: hidden; text-overflow: ellipsis;text-transform:none; font-size:12px;">\n        Last updated: {{last_updated}}\n      </div> -->\n\n    </ion-header-bar>\n  <ion-content delegate-handle="message-scroll" ng-click=\'setUnfocus()\' class=\'white-background\'>\n      <ion-refresher\n        pulling-icon="guru-profile-icon"\n        pulling-text="Pull to refresh..."\n        on-refresh="doRefresh()">\n      </ion-refresher>\n    <!-- <ion-scroll class="messages" ng-click="hideKeyboard()"> -->\n      <ul class="list message-item-list">\n          <li class="item {{message.class}} message-item" ng-repeat="message in messages">\n            <img ng-src="{{message.profile_url}}" ng-show=\'message.class === "item-avatar-left"\'>\n            <div class="text">\n              <!-- <span class=\'sans-semibold\' ng-show=\'message.sender.id !== user.id && message.sender.profile_url === default_profile_url\'>{{message.sender.name.split(\' \')[0]}}:</span> -->\n              {{message.contents}}</div>\n            <img ng-src="{{message.profile_url}}" ng-show=\'message.class === "item-avatar-right"\'>\n          </li>\n      </ul>\n    <!-- </ion-scroll> -->\n  </ion-content>\n  <ion-footer-bar class="bar-footer item-input-inset" keyboard-attach>\n    <label class="item-input-wrapper">\n        <i class="icon ion-search placeholder-icon"></i>\n        <input type="search" name="message-input" class="form-control"\n                placeholder="Enter a message"\n                ng-model="new_message.content"\n                ng-focus="setFocus()"\n                ng-blur="setFocus()"\n        />\n    </label>\n\n    <button class="button button-clear button-positive positive" ng-show="new_message.content.length > 0" ng-click="sendMessage(new_message.content)">\n    Send\n    </button>\n  </ion-footer-bar>\n</ion-view>'),e.put("templates/student.new-settings.html",'    <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 id="settings-header" class="title">Settings</h1>\n    </ion-header-bar>\n    <ion-content>\n      <div class="new-setting">\n        <div class="space-2">\n          <ul class="list">\n            <li class="item padding-2-14 center background-black-8" ng-show="user.guru_mode">\n              <div class="black-box">\n                <div class="profile">\n                  <div><img src=\'./img/guru.png\' class="icon"></div>\n                  <div class="name">Gwen Stacy<span class="guru">GURU</span></div>\n                  <div class="major">UC Berkeley (BIO Major)</div>\n                </div>\n              </div>\n              <div class="message">I\'m studing cross species genetics and architecture to fulfill my childhood dream of one day living in a chocolate house.</div>\n            </li>\n            <div class="item item-divider">\n              GURU COURSES\n            </div>\n            <a class="item gray" ng-click="goToEditProfile()">\n              <div class="courses">\n                <span class="bold-font sm-box-orange">ARC 101</span>\n                <span class="bold-font sm-box-green" ng-click="addCourseModal.show();">ADD A CLASS</span>\n              </div>\n            </a>\n            <a class="item gray" ng-click="switchToStudentMode()" ng-show="user.is_a_guru && user.guru_mode">\n              Switch to Student Mode\n            </a>\n            <a class="item gray" ng-click="switchToGuruMode()" ng-show="user.is_a_guru && !user.guru_mode">\n              Switch to Guru Mode\n            </a>\n            <div class="item item-divider">\n              PRIVACY SETTINGS\n            </div>\n            <a class="item gray" ng-click="goToNotifications()">\n              Notification Settings\n            </a>\n            <div class="item item-divider">\n              PAYMENT SETTINGS\n            </div>\n            <a class="item gray" ng-click="goToCards()">\n              Credit Cards\n            </a>\n            <a class="item gray" ng-click="goToTransactions()">\n              Transaction History\n            </a>\n            <div class="item item-divider" >\n              ACCOUNT SETTINGS\n            </div>\n            <a class="item gray" href="#" ng-click="signupModal.show()" ng-show="!user.auth_token">\n              Create an Account\n            </a>\n            <a class="item gray" href="#" ng-click="signupModal.show()" ng-show="!user.auth_token">\n              Login\n            </a>\n            <a class="item gray" href="#" ng-click="logoutUser()" ng-show="user.auth_token">\n              Logout\n            </a>\n\n            <div class="item item-divider">\n              DEV SETTINGS\n            </div>\n            <a class="item gray" ng-click="clearCache()">\n              Clear Cache\n            </a>\n          </ul>\n          </ul>\n        </div>\n    </div>\n  </ion-content>\n  <!-- <div class="bar bar-footer uguru-footer">\n    <div class="row">\n      <div class="col center"><img src=\'./img/glass.png\' class=\'width\'></div>\n      <div class="col center"><img src=\'./img/book.png\' class=\'width\'></div>\n      <div class="col center border-bottom"><img src=\'./img/setting.png\' class=\'width\'></div>\n    </div>\n  </div> -->'),e.put("templates/student.onboarding.html",'\n<ion-view title="choose one">\n      <ion-nav-back-button class="button-clear" style="width:75px;">\n          <img src="./img/left-chevron.png" class=\'uguru-back-button\'/>\n      </ion-nav-back-button>\n\n\n      <ion-content>\n        <div class="no-session margin-150-10 center" ng-show="!user.previous_student_sessions">\n          <h2>I am a ...</h2>\n          <div class="gray">Don\'t worry you can change later!</div>\n          <br>\n          <br>\n          <div class="row">\n              <button class="button button-positive col" ui-sref=\'^.onboarding-university\'>\n                Student\n              </button>\n\n            <button class="button button-positive button-outline col">\n              Guru\n            </button>\n          </div>\n        </div>\n\n      </ion-content>\n\n\n\n  <div ng-init="init()"></div>\n</ion-view>\n'),e.put("templates/student.onboarding.university.html",'<ion-view title="Add University">\n      <ion-nav-back-button class="button-clear" style="width:75px;">\n          <img src="./img/left-chevron.png" class=\'uguru-back-button\'/>\n      </ion-nav-back-button>\n\n      <ion-content>\n        <div class="add-class margin-top-20" ng-click="addUniversityModal.show()" ng-show="!user.university">\n          <div class="add-item-box" ng-click="addCourseModal.show()" style="padding:5px;shadow:5px;">\n            <div class="green-box"><span class="icon ion-plus"></span>\n            </div>\n            <div class="md-box">\n              <div class="text" style="font-size:60%!important;">\n                Select University\n              </div>\n            </div>\n          </div>\n        </div>\n      </ion-content>\n\n\n\n  <div ng-init="init()"></div>\n</ion-view>\n'),e.put("templates/student.previous-session-details.html",'<ion-view title="{{session.course.short_name}} Session">\n    <ion-nav-buttons side="secondary">\n\n      <button ng-click="goToSupport()" class="button button-clear button-positive">\n      	Support\n      </button>\n    </ion-nav-buttons>\n    <ion-content>\n        <div class="session-progress">\n          <li class="item padding-10-15 item-icon-right" ng-click="goToSessionMessages(session)">\n            <div class="location"><span class="bold">See Messages</span>\n              <i style="font-size:15px;"class="icon ion-chevron-right positive"></i>\n            </div>\n          </li>\n          <li class="item padding-10-15 item-icon-right" ui-sref="^.^.student.settings-transactions">\n            <div class="location"><span class="bold">Go to Transaction Details</span>\n              <i style="font-size:15px;"class="icon ion-chevron-right positive"></i>\n            </div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location"><span class="bold">Course:</span> {{session.course.short_name}}</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location"><span class="bold">Location:</span> {{session.address}}</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location"><span class="bold">Session Type:</span> Virtual: {{session.online}} In-person: {{session.in_person}}</div>\n          </li>\n          <li class="item padding-10-15" ng-show="!user.guru_mode">\n            <div class="tag"><span class="bold">Rate:</span> ${{session.transaction.student_rate}} for every 15 minutes</div>\n          </li>\n          <li class="item padding-10-15" ng-show="user.guru_mode">\n            <div class="tag"><span class="bold">Earning Rate:</span> ${{session.transaction.guru_rate}} for every 15 minutes</div>\n          </li>\n          <li class="item padding-10-15">\n            <div class="location"><span class="bold">Session Length:</span> {{session.hours}}, {{session.minutes}}m, {{session.seconds}}s </div>\n          </li>\n          <li class="item padding-10-15" ng-show="user.guru_mode">\n            <div class="tag"><span class="bold">Total Earnings:</span> ${{session.transaction.guru_amount}}</div>\n          </li>\n          <li class="item padding-10-15" ng-show="!user.guru_mode">\n            <div class="tag"><span class="bold">Total Cost:</span> ${{session.transaction.student_amount}}</div>\n          </li>\n        </div>\n\n\n    </ion-content>\n  </ion-view>'),e.put("templates/student.request-status.html","<ion-view class='request-status' hide-nav-bar='true' cache-view='false'>\n\n  <ion-header-bar class=\"header-bar\">\n        <a class=\"button button-clear button-back\" ng-click='goBack()'>Back</a>\n        <h5 class=\"title\">My Sessions</h5>\n  </ion-header-bar>\n\n  <ion-content scroll=\"false\">\n    <div class='pure-g-c flex-column flex-space-between'>\n      <div class='padding-1em flex-item-c j-start'>\n        <a class='item pure-g row-details' ng-click='goToGuruProfile(request.guru)' ng-show='request.guru.name'>\n          <div class='pure-u-1-5 grey-subject-text'>Guru</div>\n          <div class='pure-u-4-5 item-avatar-right'>{{request.guru.name}}\n              <img ng-src=\"{{request.guru.profile_url}}\">\n          </div>\n        </a>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Class</div>\n          <div class='pure-u-4-5'>{{course.short_name}}</div>\n        </div>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Date</div>\n          <div class='pure-u-4-5'>{{formatted_time_created}}</div>\n        </div>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Estimate</div>\n          <div class='pure-u-4-5'>{{formatted_time_estimated_hours}} hours, {{request.time_estimate % 60}} minutes</div>\n        </div>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Calendar</div>\n          <a ng-click='goToStudentCalendar()'class='pure-u-4-5 item-icon-right'>See Calendar\n            <i class='ion icon-chevron-right icon-positive'></i>\n          </a>\n        </div>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Type</div>\n          <div class='pure-u-4-5'>{{formatted_request_type}}</div>\n        </div>\n        <div class='pure-g row-details' ng-show='request.status === 1 && user.cards && user.cards.length > 0 '>\n          <div class='pure-u-1-5 grey-subject-text'>Card Info</div>\n          <div class='pure-u-4-5'>{{user.cards[0].card_last4}}, {{user.cards[0].card_type}}</div>\n        </div>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Details</div>\n          <div class='pure-u-4-5'>{{request.description}}</div>\n          <div class='pure-u-1-5 grey-subject-text'></div>\n          <div ng-show=\"request.files && request.files.length > 0\" class='pure-u-4-5 relative'><span class='opacity-3-4'><i class='icon ion-paperclip'></i>&nbsp;{{request.files.length}} Attachment </span>\n            <a class='button button-clear button-positive attachment-img' ng-click='viewFilesModal.show();'> view </a>\n          </div>\n        </div>\n        <div class='pure-g row-details'>\n          <div class='pure-u-1-5 grey-subject-text'>Location</div>\n          <div class='pure-u-4-5'>{{request.address.split(', ').slice(0,3).join(', ')}}</div>\n          <!-- <div class='pure-u-1 padding-1em'>\n            <div class='map-container'>\n            </div>\n          </div> -->\n          <div class='pure-u-1' style='margin-top:1em;'>\n            <div id=\"map_canvas\" style=\"height: 100px;width: 100%;\">\n              <ui-gmap-google-map center=\"map.center\" control=\"map.control\" zoom=\"map.zoom\"  pan=\"true\" options=\"options\">\n              </ui-gmap-google-map>\n            </div>\n          </div>\n        </div>\n\n      </div>\n      <div class='cancel-session-container padding-1em' ng-click=\"cancelRequest()\" ng-show='request.status === 0'>\n        <button class='button button-full button-light'> Cancel Session </button>\n      </div>\n      <div class='incoming-request-container pure-g' ng-show='request.status === 1'>\n          <div class='pure-u-1-2'>\n              <button class='button button-full button-light' ng-click='rejectGuru()'> Reject </button>\n          </div>\n          <div class='pure-u-1-2'>\n              <button class='button button-full button-light' ng-click='acceptGuru()'> Accept\n              </button>\n          </div>\n      </div>\n      <div class='cancel-session-container pure-g' ng-show='proposal.status === 1'>\n          <div class='pure-u-1 padding-1em center white-text'>\n              Proposal Accepted! We'll keep you updated\n          </div>\n      </div>\n\n    </div>\n\n  </ion-content>\n</ion-view>"),e.put("templates/student.request.budget.html","\n\n<ion-view hide-nav-bar=\"true\" class=\"student-request-budget\">\n\n    <ion-header-bar class='header-bar'>\n        <a class=\"button button-clear button-back\" nav-direction=\"back\" href=\"#/student-request\">Back</a>\n        <h5 class=\"title\">Your Budget</h5>\n        <a class=\"button button-clear button-back\" nav-direction=\"forward\" href=\"#/request-contact-method\">Next</a>\n    </ion-header-bar>\n\n    <ion-content class='request-budget-container' scroll=\"false\">\n\n          <div class=\"pure-g-c flex-column flex-space-between\">\n            <div class='container'>\n                <div class='padding-1em'>\n                    <h5> This session should last at least </h5>\n                </div>\n                <div class='pure-g margin-1em scroll-container'>\n                        <div class='pure-u-1-2 padding-1em'>\n                            <div class='pure-g-c flex-column hour-scroll'>\n\n                                <a class='button button-icon button-clear flex-item-c' ng-click='decrementHour()'>\n                                    <i class='icon ion-chevron-up positive'></i>&nbsp;&nbsp;\n                                </a>\n                                <div class='flex-item-c hours-offset'>\n                                    <span ng-show='(root.vars.request._length.hours - 1) >= 0'>\n                                    {{(root.vars.request._length.hours - 1)}}</span>&nbsp;&nbsp;&nbsp;\n                                </div>\n                                <div class='flex-item-c main-hours'>\n                                    <strong>{{root.vars.request._length.hours + 0}}</strong>h\n                                </div>\n                                <div class='flex-item-c hours-offset'>\n                                    <span>{{root.vars.request._length.hours + 1}}</span>&nbsp;&nbsp;&nbsp;\n                                </div>\n                                <a class='button button-icon button-clear flex-item-c' ng-click='incrementHour()'>\n                                    <i class='icon ion-chevron-down positive'></i> &nbsp;\n                                </a>\n\n                            </div>\n\n                        </div>\n\n    </ion-content>\n\n\n</ion-view>\n"),e.put("templates/student.request.calendar.day-template.html","    <ion-header-bar class=\"bar-dark nav-bar-text bold-font\" style=\"background-color: rgb(43,50,52)\">\n        <h1 class=\"title\">Find A Guru</h1>\n    </ion-header-bar>\n\n    <ion-content style='background-color' class='course-list-container' scroll=\"false\">\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='pure-g'>\n          <div class='pure-u-1-2 padding-1em'>\n          </div>\n          <div class='pure-u-1-2 padding-1em'>\n          </div>\n        </div>\n      </div>\n\n    </ion-content>\n\n\n"),e.put("templates/student.request.calendar.html","\n\n<ion-view hide-nav-bar=\"true\" class=\"student-request-calendar\">\n\n    <ion-header-bar class='header-bar' ng-hide='user.guru_mode'>\n        <a ng-show='!viewOnly' class='button button-clear button-back' nav-direction=\"back\" href=\"#/student-request\">Back</a>\n        <a ng-show='viewOnly' class='button button-clear button-back' ng-click='goBack()'>Back</a>\n        <h5 class=\"title\">Availability</h5>\n        <a ng-show='!viewOnly'class=\"button button-clear button-back bold positive uppercase\" nav-direction='forward' href='#/request-location'>Next</a>\n    </ion-header-bar>\n\n    <ion-header-bar class='header-bar' ng-show='user.guru_mode'>\n        <a  class='button button-clear button-back' ng-click='goBack()'>Back</a>\n            <h5 class=\"title\">Availability</h5>\n        <a class='button button-clear button-back' ng-click='goToConfirmProposal()'>Next</a>\n    </ion-header-bar>\n\n    <ion-header-bar class='bar-subheader calendar-subheader'>\n        <div class='pure-g-c center'>\n            <div class='pure-u-1-2 auto-margin'>\n                <div class='calendar-header'>Today</div>\n            </div>\n            <div class='pure-u-1-2 auto-margin'>\n                <div class='calendar-header auto-margin'>Tomorrow</div>\n            </div>\n        </div>\n    </ion-header-bar>\n\n    <!-- <ion-tabs class=\"tabs-positive tabs-top tabs-striped tabs-background-positive tabs-color-dark\">\n\n        <ion-tab title=\"Today\">\n            <div ng-include=\"base_url + 'remote/templates/student.request.calendar.day-template.html'\"></div>\n        </ion-tab>\n\n        <ion-tab title=\"Tomorrow\">\n        </ion-tab>\n\n    </ion-tabs> -->\n\n    <ion-content style='margin-top:44px;' class='course-list-container has-header'>\n      <ion-list>\n        <ion-item class=\"item\" ng-repeat=\"hour_int in day_rows\" style=\"padding:0px; margin:0px;\">\n          <div class='pure-g-c calendar-row'>\n            <div class='pure-u-1-2 calendar-col relative' id=\"0,{{hour_int}}\"ng-click='clickCalendarGridElement($event, 0, hour_int)'>\n                <span class='time' ng-click='triggerCalendarClick($event, 0, hour_int)'>\n                    {{getTimeFromHourInt(hour_int).replace(' ','').toUpperCase()}}\n                </span>\n            </div>\n            <div class='pure-u-1-2 calendar-col-2 relative' id=\"1,{{hour_int}}\" ng-click='clickCalendarGridElement($event, 1, hour_int)'>\n                <span class='time' ng-click='triggerCalendarClick($event, 1, hour_int)'>\n                    {{getTimeFromHourInt(hour_int).replace(' ', '').toUpperCase()}}\n                </span>\n            </div>\n          </div>\n        </ion-item>\n      </ion-list>\n    </ion-content>\n\n</ion-view>\n"),e.put("templates/student.request.description.html","\n\n<ion-view hide-nav-bar=\"true\" class=\"student-request-form\">\n\n    <ion-header-bar class='header-bar'>\n        <a class=\"button button-clear button-back\" nav-direction=\"back\" href=\"#/student-request\">Back</a>\n        <h5 class=\"title\">Description</h5>\n        <a class=\"button button-clear button-back bold positive uppercase\" nav-direction=\"forward\" href=\"#/request-contact-method\">Next</a>\n    </ion-header-bar>\n\n    <ion-tabs class=\"tabs-stable tabs-striped tabs-top session-tabs\" delegate-handle=\"student-home-tabs-top\">\n        <ion-tab title=\"Description\" ng-show=\"topTabsDelegate.selectedIndex() === 0\">\n        </ion-tab>\n        <ion-tab title=\"Attachments\" ng-show=\"topTabsDelegate.selectedIndex() === 1\">\n        </ion-tab>\n    </ion-tabs>\n\n    <ion-content class='request-description-container has-subheader' scroll=\"false\">\n        <div class=\"pure-g-c flex-column flex-space-between\" ng-show='topTabsDelegate.selectedIndex() === 0'>\n            <div class='container textarea-wrapper flex-item-c j-start'>\n                <div class='padding-1em'>\n                    <h5 class='sans-semibold'> What do you need help with?</h5>\n                </div>\n                <div class='pure-g'>\n                    <div class=\"pure-u-1 padding-1em\">\n                        <div class=\"checkbox-container pure-g\">\n                            <div class=\"pure-u-1\">\n                                <div class=\"textarea-container pure-g\">\n                                    <textarea rows=\"9\" ng-model='root.vars.request.description'>{{root.vars.request.description}}</textarea>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"pure-g-c flex-column flex-space-between\" ng-show='topTabsDelegate.selectedIndex() === 1'>\n            <div class='flex-item-c'>\n                <div class='pure-u-1 padding-2em center'>\n                    <h5 class='sans-semibold'> Add up to 6 files <br> (pdfs, images, or video) </h5>\n                </div>\n            </div>\n            <div class='flex-item-c j-start'>\n                <div class='pure-g padding-1em' ng-show='file_index > 0'>\n                    <div class=\"pure-u-1-3 center attachment-wrapper relative\" ng-show='file_index > 0'>\n                        <img class=\"attachment-container\"/>\n                        </img>\n                        <div class=\"file-loader-container\" id='file-loader-container-0'>\n                        </div>\n                        <div class=\"attachment-container-overlay pure-g-c\">\n                            <a ng-show='attached_files[0].show' class='white-text file-edit animated bounceInUp'ng-click='editFile(0)'> <i class='icon ion-edit'></i><br>\n                                <span class='file-edit-text'>edit</span></a>\n                            <a ng-show='attached_files[0].show' class='white-text file-close animated fadeInDown'ng-click='deleteFile(0)'> <i class='icon ion-close'></i> </a>\n                        </div>\n                        <p class='file-info'> {{attached_files[0].type}}, {{attached_files[0].size}}kb </p>\n                    </div>\n                    <div class=\"pure-u-1-3 center attachment-wrapper relative\" ng-show='file_index > 1'>\n                        <img class=\"attachment-container\"/>\n                        </img>\n                        <div class=\"file-loader-container\" id='file-loader-container-1'>\n                        </div>\n                        <div class=\"attachment-container-overlay pure-g-c\">\n                            <a ng-show='attached_files[1].show' class='white-text file-edit animated bounceInUp'ng-click='editFile(0)'> <i class='icon ion-edit'></i><br>\n                                <span class='file-edit-text'>edit</span></a>\n                            <a ng-show='attached_files[1].show' class='white-text file-close animated fadeInDown'ng-click='deleteFile(0)'> <i class='icon ion-close'></i> </a>\n                        </div>\n                        <p class='file-info'> {{attached_files[1].type}}, {{attached_files[1].size}}kb </p>\n                    </div>\n                    <div class=\"pure-u-1-3 center attachment-wrapper relative\" ng-show='file_index > 2'>\n                        <img class=\"attachment-container\"/>\n                        </img>\n                        <div class=\"file-loader-container\" id='file-loader-container-2'>\n                        </div>\n                        <div class=\"attachment-container-overlay pure-g-c\">\n                            <a ng-show='attached_files[2].show' class='white-text file-edit animated bounceInUp'ng-click='editFile(2)'> <i class='icon ion-edit'></i><br>\n                                <span class='file-edit-text'>edit</span></a>\n                            <a ng-show='attached_files[2].show' class='white-text file-close animated fadeInDown'ng-click='deleteFile(2)'> <i class='icon ion-close'></i> </a>\n                        </div>\n                        <p class='file-info'> {{attached_files[2].type}}, {{attached_files[2].size}}kb </p>\n                    </div>\n                </div>\n                 <div class='pure-g padding-1em' ng-show='file_index > 3'>\n                    <div class=\"pure-u-1-3 center attachment-wrapper relative\" ng-show='file_index > 3'>\n                        <img class=\"attachment-container\"/>\n                        </img>\n                        <div class=\"file-loader-container\" id='file-loader-container-3'>\n                        </div>\n                        <div class=\"attachment-container-overlay pure-g-c\">\n                            <a ng-show='attached_files[3].show' class='white-text file-edit animated bounceInUp'ng-click='editFile(3)'> <i class='icon ion-edit'></i><br>\n                                <span class='file-edit-text'>edit</span></a>\n                            <a ng-show='attached_files[3].show' class='white-text file-close animated fadeInDown'ng-click='deleteFile(3)'> <i class='icon ion-close'></i> </a>\n                        </div>\n                        <p class='file-info'> {{attached_files[3].type}}, {{attached_files[3].size}}kb </p>\n                    </div>\n                    <div class=\"pure-u-1-3 center attachment-wrapper relative\" ng-show='file_index > 4'>\n                        <img class=\"attachment-container\"/>\n                        </img>\n                        <div class=\"file-loader-container\" id='file-loader-container-4'>\n                        </div>\n                        <div class=\"attachment-container-overlay pure-g-c\">\n                            <a ng-show='attached_files[4].show' class='white-text file-edit animated bounceInUp'ng-click='editFile(4)'> <i class='icon ion-edit'></i><br>\n                                <span class='file-edit-text'>edit</span></a>\n                            <a ng-show='attached_files[4].show' class='white-text file-close animated fadeInDown'ng-click='deleteFile(4)'> <i class='icon ion-close'></i> </a>\n                        </div>\n                        <p class='file-info'> {{attached_files[4].type}}, {{attached_files[4].size}}kb </p>\n                    </div>\n                    <div class=\"pure-u-1-3 center attachment-wrapper relative\" ng-show='file_index > 5'>\n                        <img class=\"attachment-container\"/>\n                        </img>\n                        <div class=\"file-loader-container\" id='file-loader-container-4'>\n                        </div>\n                        <div class=\"attachment-container-overlay pure-g-c\">\n                            <a ng-show='attached_files[5].show' class='white-text file-edit animated bounceInUp'ng-click='editFile(5)'> <i class='icon ion-edit'></i><br>\n                                <span class='file-edit-text'>edit</span></a>\n                            <a ng-show='attached_files[5].show' class='white-text file-close animated fadeInDown'ng-click='deleteFile(5)'> <i class='icon ion-close'></i> </a>\n                        </div>\n                        <p class='file-info'> {{attached_files[5].type}}, {{attached_files[5].size}}kb </p>\n                    </div>\n                </div>\n            </div>\n            <div class='flex-item-c j-start-end j-end'>\n                <button ng-disabled=\"root.vars.request.files.length === 6\" class='button button-full button-positive' ng-click='promptActionBar()'>\n                    <i class='icon ion-paperclip'></i> &nbsp;&nbsp;\n                    <span ng-show='root.vars.request.files.length >= 0'>Add Files</span>\n                    <span ng-show='root.vars.request.files.length === 6'>Limit Reached!</span>\n                </button>\n            </div>\n        </div>\n        <input type='file' id='file-input-web' onchange=\"angular.element(this).scope().file_changed(this)\">\n    </ion-content>\n\n\n</ion-view>\n"),e.put("templates/student.request.guru-type.html",'\n\n<ion-view hide-nav-bar="true" >\n\n    <ion-header-bar class=\'header-bar\'>\n        <a class="button button-clear button-back" nav-direction="back" href="#/student-request">Back</a>\n        <h5 class="title">Guru Type</h5>\n        <a class="button button-clear button-back bold positive uppercase" ui-sref="^.request-session-length">Next</a>\n    </ion-header-bar>\n\n    <ion-content class=\'request-guru-type\' scroll="false">\n        <div class="pure-g-c flex-column flex-space-between">\n            <div class=\'container\'>\n                <div class=\'padding-1em\'>\n                    <h5> I can meet </h5>\n                </div>\n                <div class=\'pure-g\'>\n                    <div class="pure-u-1 padding-1em">\n                        <div class="checkbox-container padding-1em pure-g">\n                            <div class="pure-u-1">\n                                <label class="checkbox">\n                                    <input ng-model="root.vars.request.type.in_person"type="checkbox"/> <span class=\'checkbox-label-text\'> In person </span>\n                                 </label>\n                            </div>\n                            <div class="pure-u-1">\n                                <label class="checkbox">\n                                    <input type="checkbox" ng-model="root.vars.request.type.online"/> <span class=\'checkbox-label-text\'> Online </span>\n                                 </label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n        </div>\n    </ion-content>\n\n</ion-view>\n'),e.put("templates/student.request.html",'<ion-nav-buttons side="primary">\n    <ion-nav-bar ng-controller="StudentRequestController">\n      <ion-nav-back-button class="button-clear" style="width:75px;" ng-click="goBackFromRequestsToHome()">\n          <img src="./img/left-chevron.png" class=\'uguru-back-button\'/>\n      </ion-nav-back-button>\n    </ion-nav-bar>\n  </ion-nav-buttons>\n<ion-view view-title="{{course.short_name}} Request">\n  <ion-content>\n    <div class="relative">\n      <ul class="list find-guru">\n        <!-- <li class="item no-border padding-10-14">\n          <div class="course padding-20-15" style="padding-top:15px; padding-bottom:15px;">\n            <span class="name">{{course.short_name}}</span>\n            <span class="gurus">{{course.gurus.length}} GURUS AVAILABLE</span>\n          </div>\n        </li> -->\n        <li class="item no-border padding-10-16" style="margin-top:20px;">\n          <div class="message">I can meet my tutor...</div>\n          <!-- <h1 class="animated flipOutY">Example</h1> -->\n        </li>\n        <li class="item no-border padding-0-9">\n          <div class="row">\n            <div class="col center">\n              <button ng-click="togglePersonGuru()" class="button ng-class:{\'button-outline-half\':!person_guru_checkbox, \'button-positive-half\':person_guru_checkbox}">\n                <span class="absolute">in person</span>\n              </button>\n            </div>\n            <div class="col center">\n              <button ng-click="toggleVirtualGuru()" class="button ng-class:{\'button-outline-half\':!virtual_guru_checkbox, \'button-positive-half\':virtual_guru_checkbox}">\n                <span class="absolute">online</span>\n              </button>\n            </div>\n          </div>\n        </li>\n        <li class="item no-border padding-10-16">\n          <div class="message">This session should last at least...</div>\n        </li>\n\n        <li>\n          <div class="row">\n            <div class="col col-25 relative">\n              <!-- <div class="icon ion-checkmark-circled" id="iconChecked"></div> -->\n              <img src=\'./img/checkbutton.png\' ng-show="time_checkbox=== 0" class="checkmark-circled" id="iconChecked">\n              <div ng-click="checkboxClicked(0)" class="icon ion-record" id="iconRecord0"></div>\n            </div>\n            <div class="col col-25 relative">\n              <img ng-show="time_checkbox === 1" src=\'./img/checkbutton.png\' class="checkmark-circled" ></img>\n              <div ng-click="checkboxClicked(1)" class="icon ion-record" id="iconRecord1"></div>\n            </div>\n            <div class="col col-25 relative">\n              <img ng-show="time_checkbox === 2"src=\'./img/checkbutton.png\' class="checkmark-circled" >\n              <div ng-click="checkboxClicked(2)" class="icon ion-record" id="iconRecord2"></div>\n            </div>\n            <div class="col col-25 relative">\n              <img ng-show="time_checkbox === 3" src=\'./img/checkbutton.png\' class="checkmark-circled" >\n              <div ng-click="checkboxClicked(3)" class="icon ion-record" id="iconRecord3"></div>\n            </div>\n          </div>\n        </li>\n\n        <hr class="hr-bar">\n\n        <li class="item no-border padding-0-9">\n          <div class="row padding-0">\n            <div class="col center"><span class="font-size-10" id="getPosition0">30 MINUTES</span></div>\n            <div class="col center"><span class="font-size-10" id="getPosition1">1 HOUR</span></div>\n            <div class="col center"><span class="font-size-10" id="getPosition2">1.5 HOURS</span></div>\n            <div class="col center"><span class="font-size-10" id="getPosition3">+2 HOURS</span></div>\n          </div>\n        </li>\n\n        <li class="item padding-20-15 border-top-bottom font-green" ng-click="addRequestNoteModal.show()">\n          <div ng-click="takePhotoAndSave()" style="display:inline-block;" ng-show="!request.note && !request.photo"class="message">Add a note or photo...</div>\n          <div ng-click="takePhotoAndSave()" style="display:inline-block;" ng-show="!request.note && request.photo"class="message">Add a note...</div>\n          <div ng-show="request.note"class="message" style="display:inline-block;">Edit note\n          </div>\n          <span ng-show="request.photo" class="pull-right" style="font-size:26px; position:absolute; right:5px; top:15px; color:rgba(0,0,0,0.6)">\n            <img src="{{request.photo}}" height="20"/>\n            <i class="icon ion-paperclip"> </i>\n          </span>\n        </li>\n        <li class="item padding-20-15 border-top-bottom font-green" ng-click="calendarModal.show()" ng-show="calendar && !calendar.num_selected">\n          <div style="display:inline-block;">Go To Calendar</div>\n          <div ng-show="calendar && calendar.num_selected" style="display:inline-block;">Edit Calender</div>\n        </li>\n        <li class="item padding-20-15 border-top-bottom font-green" ng-click="calendarModal.show()" ng-show="calendar && calendar.num_selected">\n\n          <div ng-show="calendar && calendar.num_selected" style="display:inline-block;">Edit Calender</div>\n          <p>{{calendar.num_selected}} times selected</p>\n\n        </li>\n\n        <ion-toggle ng-model="pushToggle.checked" ng-checked="pushToggle.checked" ng-change="checkPush()"class="positive" ng-show="user.requests.length > 0 && user.current_device && platform.mobile && user.current_device.push_token === false">\n          Push Notifications\n        </ion-toggle>\n\n      </ul>\n\n<!-- make icon opposit direction -->\n\n      <div class="row bottom center absolute" ng-show="request.location">\n        <div class="col">\n          <div class="font-size-16 gray-8"><span class="icon ion-navigate"></span>We\'ll meet at {{request.location}}</div>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n\n  <ion-footer-bar style="height: auto; background-color:transparent; background-image:none;" class="extra-padding-sides">\n    <button ng-click="requestHelp()" style="height:4em"class="button button-positive button-full button-outline"> Request Guru </button>\n  </ion-footer-bar>\n  <script id="templates/pushNotificationPopup.html" type="text/ng-template">\n    <div class=\'row\'>\n      <div class="col">\n        <div class="center">\n            <img style="background:rgba(105, 179, 165, 1)" src=\'./img/uguru-04.png\' width="60%" class="uguru_glass center">\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col">\n        <p style="font-size:2.25em; color:rgba(0,0,0,0.7)"class="bold-font center font-24 line-height-120">Welcome!</p>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <p style="font-size:15px;"class="osreg-font center grey">\n        We d like to notify tou when your Guru<br>\n        accepts your request for help.<br>\n        Turn notifications on?\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <button class="button button-full button-positive footer-button" id="popup-positive-btn">\n          YES\n        </button>\n        <a class="button button-full button-outline" ng-click="goToStudentAction();" style="background-color:white; border:0px;color:rgba(105, 179, 165, 1); min-height:0px !important;height:30px;" id="popup-cancel-btn">\n          No Thanks\n        </a>\n      </div>\n    </div>\n  </script>\n\n</ion-view>'),e.put("templates/student.request.location.html",'<ion-view hide-nav-bar=\'true\'>\n    <ion-header-bar class=\'header-bar\'>\n        <a class=\'button button-clear button-back\' nav-direction="back" href="#/student-request">Back</a>\n        <h5 class=\'title\'>Add Your Location</h5>\n        <a class="button button-clear button-back bold positive uppercase" nav-direction=\'forward\' href="#/request-description">Next</a>\n    </ion-header-bar>\n\n    <ion-content has-header="true" has-footer="false" padding="false" scroll="false" style="bottom:0;">\n\n      <ion-pane id="map_canvas" style="height: 100%;width: 100%;margin: 0px;">\n          <ui-gmap-google-map center="map.center" control="map.control" zoom="map.zoom"  pan="true" options="options">\n            <!-- <ui-gmap-search-box options="searchbox.options" template="searchbox.template" events="searchbox.events" parentdiv="searchbox.parentdiv"></ui-gmap-search-box> -->\n          </ui-gmap-google-map>\n      </ion-pane>\n      <!-- <ion-pane id="request-map" class="content-stable map" data-tap-disable="true">\n      </ion-pane> -->\n    </ion-content>\n\n    <!-- <ion-footer-bar style="height: auto; background-color:transparent; z-index:20;" class="extra-padding-sides">\n      <button ui-sref=\'^.request-description\' style="height:4em"class="button button-positive button-full button-positive"><span class="icon ion-navigate"></span>Set Location </button>\n    </ion-footer-bar> -->\n</ion-view>'),e.put("templates/student.request.new.html","\n\n<ion-view hide-nav-bar=\"true\" class=\"student-request-form\">\n\n    <ion-header-bar class='header-bar'>\n        <div class=\"buttons\">\n            <a class=\"button button-clear button-back\" ng-click=\"goBackFromRequestsToHome()\">Back</a>\n        </div>\n        <h1 class=\"title\">{{course.short_name}}</h1>\n    </ion-header-bar>\n\n    <ion-content class='request-list-container'>\n        <div class='container pure-g-c flex-column flex-space-between'>\n            <div class=\"list list-inset request-list\">\n                <div class='container'>\n                    <a ng-show='!(root.vars.request.type.in_person || root.vars.request.type.online)' class=\"item request-item item-icon-right\" href='#/request-guru-type' nav-direction=\"forward\">\n                        <h5>Can you meet online, in-person, or both?</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                    <a ng-show='(root.vars.request.type.in_person && root.vars.request.type.online)' class=\"green-border item request-item item-icon-right\" href='#/request-guru-type' nav-direction=\"forward\">\n                        <h5>Either in-person or online</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                    <a ng-show='(root.vars.request.type.in_person && !root.vars.request.type.online)' class=\"green-border item request-item item-icon-right\" href='#/request-guru-type' nav-direction=\"forward\">\n                        <h5>In-Person only</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                    <a ng-show='(!root.vars.request.type.in_person && root.vars.request.type.online)' class=\"green-border item request-item item-icon-right\" href='#/request-guru-type' nav-direction=\"forward\">\n                        <h5>Online only</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                </div>\n                <div class='container'>\n                    <a ng-show='!root.vars.request._length.minutes && !root.vars.request._length.hours'class=\"item request-item item-icon-right\" href='#/request-session-length' nav-direction=\"forward\">\n                        <h5>How long should the session last?</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                    <a ng-show='root.vars.request._length.hours && (root.vars.request._length.minutes !== 1)' class=\"item green-border request-item item-icon-right\" href='#/request-session-length' nav-direction=\"forward\">\n                        <h5>For at least {{root.vars.request._length.hours}} hrs {{valueToMinutes[root.vars.request._length.minutes - 1]}} min</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                    <a ng-show='root.vars.request._length.hours && (root.vars.request._length.minutes === 1 || root.vars.request._length.minutes === 0)' class=\"item green-border request-item item-icon-right\" href='#/request-session-length' nav-direction=\"forward\">\n                        <h5>For at least {{root.vars.request._length.hours}} hr </h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n\n                </div>\n                <div class='container'>\n                    <a ng-show='!root.vars.request.calendar_selected' class=\"item request-item item-icon-left item-icon-right\" href='#/request-calendar' nav-direction=\"forward\">\n                        <i class='icon ion-ios7-calendar'></i>\n                        <h5 class='inline'>Select your availability</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                    <a ng-show='root.vars.request.calendar_selected' class=\"item request-item item-icon-left item-icon-right green-border\" href='#/request-calendar' nav-direction=\"forward\">\n                        <i class='icon ion-ios7-calendar'></i>\n                        <h5 class='inline'>Availability Selected</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                </div>\n                <div class='container'>\n                    <a ng-show='!root.vars.request.location' class=\"item request-item item-icon-right\" href='#/request-location' nav-direction=\"forward\">\n                        <h5 class='inline'>Where do you want to meet?</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                    <a ng-show='root.vars.request.location' class=\"item request-item item-icon-right green-border\" href='#/request-location' nav-direction=\"forward\">\n                        <h5 class='inline'>{{root.vars.request.address.split(' ').slice(0,3).join(' ').replace(',','')}}</h5>\n                        <i class=\"icon icon-right ion-chevron-right\"></i>\n                    </a>\n                </div>\n                <a ng-show='!root.vars.request.description' class=\"item request-item item-icon-right\" href='#/request-description' nav-direction=\"forward\">\n                    <h5 class='inline'>Add a Description</h5>\n                    <i class=\"icon icon-right ion-chevron-right\"></i>\n                </a>\n                <a ng-show='root.vars.request.description' class=\"item request-item item-icon-right green-border\"href='#/request-description' nav-direction=\"forward\">\n                    <h5 class='inline'>{{root.vars.request.description.substring(0, 35)}}...\"</h5>\n                    <i class=\"icon icon-right ion-chevron-right\"></i>\n                </a>\n                <a ng-show='!(root.vars.request.contact.email || root.vars.request.contact.phone || root.vars.request.contact.push_notif)' class=\"item request-item item-icon-right\" href='#/request-contact-method' nav-direction=\"forward\">\n                    <h5 class='inline'>How should we contact you?</h5>\n                    <i class=\"icon icon-right ion-chevron-right\"></i>\n                </a>\n                <a ng-show='(root.vars.request.contact.email || root.vars.request.contact.phone || root.vars.request.contact.push_notif)' class=\"item request-item item-icon-right green-border\"  href='#/request-contact-method' nav-direction=\"forward\">\n                    <h5 class='inline'>Contact Method Selected</h5>\n                    <i class=\"icon icon-right ion-chevron-right\"></i>\n                </a>\n            </div>\n            <div class='flex-item-c'>\n                <button ng-disabled='!(root.vars.request.description && root.vars.request.location && (root.vars.request.type.in_person || root.vars.request.type.online) && root.vars.request._length.hours && root.vars.request.calendar_selected)' class='submit-request button button-full button-positive flex-space-between' ng-click='requestHelp()'>\n                    Submit Request\n                </button>\n\n                <!-- <div class='container flip-button' onclick=\"this.classList.toggle('hover')\">\n                    <div class=\"button button-full button-positive icon icon-right ion-chevron-right front\" style=\"width:90%\">\n                        Submit Request\n                    </div>\n                    <div class=\"button button-balanced button-full back\">\n                        Submit Request\n                    </div>\n                </div> -->\n            </div>\n        </div>\n    </ion-content>\n\n</ion-view>\n"),e.put("templates/student.request.session-length.html","\n\n<ion-view hide-nav-bar=\"true\" class=\"student-request-duration\">\n\n    <ion-header-bar class='header-bar'>\n        <a class=\"button button-clear button-back\" nav-direction=\"back\" href=\"#/student-request\">Back</a>\n        <h5 class=\"title\">Session Length</h5>\n        <a class=\"button button-clear button-back bold positive uppercase\" ui-sref=\"^.request-calendar\">Next</a>\n    </ion-header-bar>\n\n    <ion-content class='request-guru-type' scroll=\"false\">\n        <div class=\"pure-g-c flex-column flex-space-between\">\n            <div class='container'>\n                <div class='padding-1em'>\n                    <h5> This session should last at least </h5>\n                </div>\n                <div class='pure-g margin-1em scroll-container'>\n                        <div class='pure-u-1-2 padding-1em'>\n                            <div class='pure-g-c flex-column hour-scroll'>\n\n                                <a class='button button-icon button-clear flex-item-c' ng-click='decrementHour()'>\n                                    <i class='icon ion-chevron-up positive'></i>&nbsp;&nbsp;\n                                </a>\n                                <div class='flex-item-c hours-offset'>\n                                    <span ng-show='(root.vars.request._length.hours - 1) >= 0'>\n                                    {{(root.vars.request._length.hours - 1)}}</span>&nbsp;&nbsp;&nbsp;\n                                </div>\n                                <div class='flex-item-c main-hours'>\n                                    <strong>{{root.vars.request._length.hours + 0}}</strong>h\n                                </div>\n                                <div class='flex-item-c hours-offset'>\n                                    <span>{{root.vars.request._length.hours + 1}}</span>&nbsp;&nbsp;&nbsp;\n                                </div>\n                                <a class='button button-icon button-clear flex-item-c' ng-click='incrementHour()'>\n                                    <i class='icon ion-chevron-down positive'></i> &nbsp;\n                                </a>\n\n                            </div>\n\n                        </div>\n                        <div class='pure-u-1-2 padding-1em'>\n\n                            <div class='pure-g-c flex-column min-scroll'>\n\n                                <a class='button button-icon button-clear flex-item-c' ng-click='decrementMinute()'>\n                                    <i class='icon ion-chevron-up positive'></i>\n                                </a>\n                                <div class='flex-item-c minutes-offset'>\n                                    <span ng-show='(root.vars.request._length.minutes - 1) > 0'>\n                                        {{root.vars.request._length.minutes * 15 - 15}}\n                                    </span>\n                                    <span ng-show='(root.vars.request._length.minutes - 1) === 0'>\n                                        00\n                                    </span>\n                                    <span ng-show='(root.vars.request._length.minutes - 1) === -1'>\n                                        &nbsp;&nbsp;\n                                    </span>\n                                </div>\n                                <div class='flex-item-c main-minutes'>\n                                    {{root.vars.request._length.minutes * 15}}m\n                                </div>\n                                <div class='flex-item-c minutes-offset'>\n                                    {{root.vars.request._length.minutes * 15 + 15}}\n                                </div>\n                                <a class='button button-icon button-clear flex-item-c' ng-click='incrementMinute()'>\n                                    <i class='icon ion-chevron-down positive'></i> &nbsp;\n                                </a>\n\n                            </div>\n\n                        </div>\n                </div>\n            </div>\n        </div>\n\n    </ion-content>\n\n</ion-view>\n"),e.put("templates/student.settings.cards.html",'  <ion-view hide-nav-bar="true" class="payment-cards">\n    <ion-header-bar class=\'header-bar\' ng-hide=\'user.guru_mode\'>\n        <a class=\'button button-clear button-back\' ng-click=\'goBack()\'>Back</a>\n        <h5 class="title">PAYMENT OPTIONS</h5>\n    </ion-header-bar>\n    <ion-content>\n      <ion-list>\n        <ion-item class="item item-icon-right" ui-sref="^.add-payment">Add a Payment Card\n          <i class=\'icon ion-chevron-right icon-small\'></i>\n        </ion-item>\n        <ion-item class="item item-icon-right" ng-click="goToAddTransferMethod(true)" ng-show=\'user.guru_mode\'>Add a Bank Card\n          <i class=\'icon ion-chevron-right icon-small\'></i>\n        </ion-item>\n      </ion-list>\n\n        <ion-list>\n          <div class=\'item item-divider divider\' ng-show=\'user.payment_cards && user.payment_cards.length > 0\'>\n            Your Payment Cards\n          </div>\n          <ion-item ng-repeat="card in user.payment_cards" class="cards-container item-avatar-left item-icon-right" ng-click="goToEditCard(card)">\n              <img src="./img/{{card.card_type.toLowerCase()}}.png" class="card-img pure-img"> ****{{card.card_last4}}<span ng-show="card.is_default_payment" class="positive default-card-class">&nbsp;&nbsp;Default</span>\n               <i class=\'icon ion-chevron-right icon-small\'></i>\n          </ion-item>\n        </ion-list>\n      </div>\n\n          <ion-list ng-show="user.transfer_cards.length > 0">\n            <div class=\'item item-divider divider\'>\n              Your Transfer Cards\n            </div>\n            <ion-item ng-repeat="card in user.transfer_cards" class="cards-padding cards-container item-avatar-left" ng-click="goToEditCard(card)">\n                  <img src="./img/{{card.card_type.toLowerCase()}}.png" class="card-img"> ****{{card.card_last4}}<span ng-show="card.is_default_transfer" class="positive default-card-class">&nbsp;&nbsp;Default</span>\n                   <img src="./img/right-chevron.png" class="right-chevron">\n            </ion-item>\n          </ion-list>\n    </ion-content>\n  </ion-view>'),e.put("templates/student.settings.edit-courses.html",'<ion-view hide-nav-bar=\'true\'>\n    <ion-header-bar class=\'header-bar\'>\n      <a class=\'button button-clear\' ng-click=\'goBack()\'>Back</a>\n      <h5 class="title">Settings</h5>\n      <a ng-click="toggleEditMode()" class="button button-clear positive uppercase positive">\n        <span ng-show="editMode">Save</span>\n        <span ng-show="!editMode">Edit</span>\n      </a>\n    </ion-header-bar>\n    <ion-content>\n      <ion-list class="list" show-delete="shouldShowDelete">\n        <div class="item item-divider" ng-show="user.guru_mode">\n              GURU COURSES\n        </div>\n        <a class="item item-icon-right" ng-show="user.guru_mode" ng-click="addCourseModal.show()">\n          Add a Guru Course\n\n          <i style="font-size:14px;"class="icon ion-plus positive"></i>\n\n        </a>\n        <ion-item ng-repeat="course in user.guru_courses" ng-show=\'user.guru_mode\'>\n        {{course.short_name}}\n          <ion-delete-button  ng-click="guruCourseDeleteUpdate($index)" class="ion-minus-circled"></ion-delete-button>\n        </ion-item>\n        <div class="item item-divider" ng-show="!user.guru_mode">\n        </div>\n        <div class="item item-divider" ng-show="!user.guru_mode">\n              STUDENT COURSES\n        </div>\n  			<a class="item item-icon-right" ng-show=\'!user.guru_mode\'ng-click="addCourseModal.show()">\n  				Add a course\n  				<!-- <button class="button button-positive"> -->\n        				<i style="font-size:14px;"class="icon ion-plus positive"></i>\n      			<!-- </button> -->\n  			</a>\n			<ion-item ng-repeat="course in user.student_courses" ng-show=\'!user.guru_mode\'>\n				{{course.short_name}}\n				 <ion-delete-button  ng-click="studentCourseDeleteUpdate($index)" class="ion-minus-circled"></ion-delete-button>\n			</ion-item>\n		</div>\n    </ion-content>\n  </ion-view>'),e.put("templates/student.settings.edit-university.html",'<ion-view hide-nav-bar="true">\n    <ion-header-bar class=\'header-bar\'>\n      <a class=\'button button-clear positive\' ng-click=\'goBack()\'>Back</a>\n      <h5 class="title">Settings</h5>\n      <a class=\'button button-clear positive\' ng-click="addUniversityModal.show()">Edit</a>\n    </ion-header-bar>\n    <ion-content>\n        <ion-list class="university-list list" show-delete="shouldShowDelete">\n            <a class="item" ng-click="addUniversityModal.show()">\n              <h2>{{user.university.title}}</h2>\n              <p>{{user.university.city}}, {{user.university.state}}</p>\n            </a>\n		    </ion-list>\n    </ion-content>\n  </ion-view>'),e.put("templates/student.settings.notifications.html","  <ion-view hide-nav-bar=\"true\">\n    <ion-header-bar class='header-bar item-button-left'>\n        <a class=\"button button-clear button-back\" ng-click='goBack()'>Back</a>\n        <h5 class=\"title bold sans-bold\" style='left:0px !important; right:0px !important;'>My Profile & Settings</h5>\n    </ion-header-bar>\n    <ion-content scroll='false'>\n\n        <ion-list class='list-inset'>\n          <ion-toggle ng-model=\"user.text_notifications\" ng-change='textNotificationChange()' toggle-class=\"toggle-calm\" class='ng-class:{\"item-icon-left\": root.vars.request.contact.phone} '>\n          Text Message\n          <!-- <p ng-show='user.phone_number'> {{user.phone_number}} </p> -->\n          </ion-toggle>\n\n          <ion-toggle ng-model=\"user.email_notifications\" ng-change='emailNotificationChange()'toggle-class=\"toggle-calm\" class='ng-class:{\"item-icon-left\": root.vars.request.contact.email} '>\n          Email Notification\n          <p ng-show='user.email'> {{user.email}} </p>\n          </ion-toggle>\n          <ion-toggle ng-show='platform.mobile' ng-change=\"pushNotificationChange()\" ng-model=\"root.vars.request.contact.push_notif\" toggle-class=\"toggle-calm\">Push Notifications</ion-toggle>\n        </ion-list>\n\n    </ion-content>\n  </ion-view>\n  <!-- <div class=\"bar bar-footer uguru-footer\">\n    <div class=\"row\">\n      <div class=\"col center\"><img src='./img/glass.png' class='width'></div>\n      <div class=\"col center\"><img src='./img/book.png' class='width'></div>\n      <div class=\"col center border-bottom\"><img src='./img/setting.png' class='width'></div>\n    </div>\n  </div> -->"),e.put("templates/student.settings.profile.html",'<ion-view hide-nav-bar=\'true\' class=\'settings-profile\'>\n        <ion-header-bar class=\'header-bar\'>\n            <a class=\'button button-clear positive\' ng-click="goBack()">Back</a>\n        <h5 class="title">Profile</h5>\n      </ion-header-bar>\n    <ion-content>\n    <div class="account">\n		        	<div class="list margin-bottom-10">\n			            <label class="item item-input">\n			                <div class="tag">First</div><input name="signup-first-name" type="text" ng-model="user.first_name" placeholder="your first name">\n			              </label>\n			              <label class="item item-input">\n			                <div class="tag">last</div><input name="signup-last-name" type="text" ng-model="user.last_name" placeholder="your last name">\n			              </label>\n			              <label class="item item-input">\n			                <div class="tag">email</div><input type="text" name="signup-email" ng-model="user.email" placeholder="peter.parker@berkeley.edu">\n			              </label>\n                            <button class="button button-full button-positive" ng-click="saveProfile()">\n                                Save Information\n                            </button>\n		            </div>\n		            <div class="list">\n		              <label class="item item-input">\n		                <div class="tag">Old Password</div><input type="password" name="signup-password" ng-model="changePasswordForm.old_password" placeholder="at least 6 characters">\n		              </label>\n		              <label class="item item-input">\n		                <div class="tag">New Password</div><input type="password" name="signup-password" ng-model="changePasswordForm.new_password" placeholder="at least 6 characters">\n		              </label>\n		              <button class="button button-full button-positive" ng-click=\'changePassword()\'>\n		              	Save Password\n		              </button>\n		        	</div>\n		    </div>\n    </ion-content>\n  </ion-view>'),e.put("templates/student.settings.transactions.html",'  <ion-view hide-nav-bar="true" class=\'transactions-settings\'>\n    <ion-header-bar class="header-bar ng-class:{\'bar-dark\': user.guru_mode}">\n      <a class="button button-clear button-back"  nav-direction="back" ng-show=\'!user.guru-mode\' href="#/home">Back</a>\n      <a class="button button-clear button-back ng-class:{\'button-white\': user.guru_mode}"  nav-direction="back" ng-show=\'user.guru-mode\' href="#/guru-home">\n        Back\n      </a>\n      <h5 class="title uppercase">Transactions</h5>\n    </ion-header-bar>\n    <ion-content>\n      <ion-list>\n        <div class="add-item-box transaction padding-12" ng-repeat="transaction in user.guru_transactions" ng-show="user.guru_mode">\n          <div class="green-box"><span class="day">{{transaction.time.date}}</span><span class="month">{{transaction.time.month}}</span>\n          </div>\n          <div class="md-box"> <!-- add active later -->\n            <div class="text">\n              <img ng-src=\'{{user.profile_url}}\' class=\'guru-profile-container\'></img>\n              <span class="name">{{transaction.student.name}}</span>\n              <span class="status">{{transaction.session.request.course.short_name}} session</span>\n              <span class="money">+ ${{transaction.guru_amount}}</span>\n            </div>\n          </div>\n        </div>\n        <div class="add-item-box transaction" ng-repeat="transaction in user.student_transactions" ng-show="!user.guru_mode">\n          <div class="green-box"><span class="day">{{transaction.time.date}}</span><span class="month" >{{transaction.time.month}}</span>\n          </div>\n          <div class="md-box"> <!-- add active later -->\n            <div class="text">\n              <img ng-src="{{transaction.guru.profile_url}}" class="icon">\n              <span class="name">{{transaction.student.name}}</span>\n              <span class="status">{{transaction.session.request.course.short_name}} session</span>\n              <span class="money" style="color: red;">- ${{transaction.student_amount}}</span>\n            </div>\n          </div>\n        </div>\n        <div class="add-item-box transaction" ng-repeat="transaction in user.transfer_transactions" ng-show="transactionsDelegate.selectedIndex() === 1 && user.guru_mode">\n          <div class="green-box"><span class="day">{{transaction.time.date}}</span><span class="month" >{{transaction.time.month}}</span>\n          </div>\n          <div class="md-box"> <!-- add active later -->\n            <div class="text">\n              <img src="{{transaction.guru.profile_url}}" class="icon">\n              <span class="name">{{transaction.guru.name}}</span>\n              <span class="status">{{transaction.card.card_last4}}, {{transaction.transfer_status}}</span>\n              <span class="money positive">+ ${{transaction.guru_amount}}</span>\n            </div>\n          </div>\n        </div>\n      </ion-list>\n    </ion-content>\n  </ion-view>'),e.put("templates/student.settings.transfers.html",'  <ion-view title="Send Balance to Your Bank">\n    <ion-content>\n\n      <ion-list>\n        <ion-item>\n          Your Balance\n          <span class="item-note">\n              <strong class="positive">${{user.balance}}</strong>\n          </span>\n        </ion-item>\n\n        <ion-item ng-show="user.transfer_cards.length === 0">\n          Add a Bank Card\n\n        </ion-item>\n\n        <ion-item ng-show="user.transfer_cards.length === 1" class="item-icon-right">\n          Default Bank Card\n          <span class="item-note">\n            <strong class="positive pull-right">{{selectedTransferCard.card_last4}}</strong>\n            <i class="icon ion-card positive pull-left"></i>\n          </span>\n        </ion-item>\n      </ion-list>\n\n      <br>\n      <button ng-show="user.transfer_cards.length" ng-click="cashoutAndSendToServer()" class="button button-positive button-full"> Cashout <strong>${{user.balance}} </strong></button>\n\n      <button ng-show="user.transfer_cards.length === 0 "class="button button-disabled button-full"> Cashout <strong>${{user.balance}}</strong> </button>\n\n    </ion-content>\n  </ion-view>\n  <!-- <div class="bar bar-footer uguru-footer">\n    <div class="row">\n      <div class="col center"><img src=\'./img/glass.png\' class=\'width\'></div>\n      <div class="col center"><img src=\'./img/book.png\' class=\'width\'></div>\n      <div class="col center border-bottom"><img src=\'./img/setting.png\' class=\'width\'></div>\n    </div>\n  </div> -->'),e.put("templates/student.view-guru-profile.html","\n\n<ion-view hide-nav-bar=\"true\" class='student-view-guru-profile'>\n    <ion-header-bar class=\"header-bar\">\n      <a class='button button-clear button-back' nav-direction=\"back\" ng-click=\"goBack()\">Back</a>\n        <h5 class=\"title capitalize\">{{guru.name.split(' ')[0]}}'s PROFILE</h5>\n    </ion-header-bar>\n  <ion-content>\n    <div class='pure-g-c flex-column flex-space-between'>\n      <div class='pure-g flex-item-c'>\n        <div class='guru-prof-pic' style='background-image: url({{guru.profile_url}});'> </div>\n      </div>\n    </div>\n    <div class='pure-g center'>\n      <div class='pure-u-1-3 padding-1em'>\n        <span class='guru-profile-number' ng-hide='!guru.guru_avg_rating'>\n        {{guru.guru_avg_rating}}</span>\n        <span class='guru-profile-number' ng-show='!guru.guru_avg_rating'>\n        0</span>\n        <br>\n        <span class='number-subheader'>\n        rating\n        </span>\n      </div>\n      <div class='pure-u-1-3 padding-1em'>\n        <span class='guru-profile-number' ng-hide='!guru.guru_sessions.length'>\n        {{guru.guru_sessions.length}} </span>\n        <span class='guru-profile-number' ng-show='!guru.guru_sessions.length'>\n        0</span>\n        <br>\n        <span class='number-subheader'>\n        sessions\n        </span>\n      </div>\n      <div class='pure-u-1-3 padding-1em'>\n        <span class='guru-profile-number'>\n        $1</span>\n        <br>\n        <span class='number-subheader'>\n          hourly\n        </span>\n      </div>\n    </div>\n    <div class='pure-g-c center'>\n      <div class='pure-u-1 align-left padding-1em'>\n        <!-- <span class='course-tag' ng-repreat=\"course in guru.guru_courses\">{{course.short_name}}</span> -->\n\n        <span class='course-tag' ng-repeat='course in guru.guru_courses'> {{course.short_name}} </span>\n      </div>\n    </div>\n    <div class='pure-g-c center guru-intro-wrapper'>\n      <div class='pure-u-1 align-left'>\n        <p>\n        {{guru.guru_introduction}}</p>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n"),e.put("templates/template.responsive.html",'<!-- Very responsive! -->\n\n<ion-view hide-nav-bar="true">\n  <ion-content class=\'onboarding-university-wrapper\' scroll="false">\n    <!-- stretch this -->\n    <div class="pure-g-c flex-column">\n\n    </div>\n\n  </ion-content>\n</ion-view>'),e.put("templates/view-files.modal.html","<ion-modal-view class='become-guru'>\n    <ion-header-bar class=\"header-bar header-bar-dark\">\n            <h5 class=\"title\">View {{request.files.length}} Attachments</h5>\n        <a class='button button-clear positive bold sans-bold uppercase' ng-click='viewFilesModal.hide()'>CLOSE</a>\n    </ion-header-bar>\n\n    <ion-content>\n\n        <div class='pure-u-1 center uppercase'  style='margin-top:1em;'>\n            <h6 class='opacity-1-2' style='font-size:90%; line-height:1.5em;'> Tap any image to open in <br> new window & download </h6>\n        </div>\n\n        <div class=\"pure-g-c flex-column flex-space-between\">\n            <div class='flex-item-c j-start' ng-repeat='file in request.files' ng-show='request && request.files'>\n                <div class='pure-g'>\n                    <div class='pure-u-1 center'>\n                        <a ng-click='openAttachment(file.url)'><img src='{{file.url}}' class='pure-img' style='max-height:300px'/></a>\n                        <p class='opacity-1-2 padding-1em'> Attachment {{$index + 1}} </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </ion-content>\n</ion-modal-view>")
}]);