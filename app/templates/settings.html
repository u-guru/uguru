{% extends 'base.html' %}
{% block header %}
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <script src="/static/js/jquery.js"></script>
   <script src="/static/js/jquery.raty.js"></script>
   <link rel="stylesheet" href="/static/css/bootstrap-switch.css">
    <script src="/static/js/bootstrap-switch.js"></script>
    <script src="/static/js/bootstrap-switch.min.js"></script>
    <script src="/static/js/settings.js"></script>
{% endblock %}

{% block content %}
      <div class="page-title">
        <h4 style="color:white;">YOUR ACCOUNT {%if not user.skills %} SETTINGS {% endif %}</h4>
      </div>
      {% if user.skills %}
      <div class="container-fluid">
        <div class="row" align="center">
          {% if user.skills %}
          <div class="col-xs-4 col-md-offset-3 col-md-2">
            <span id="profile-button" class="btn-options active btn-xs"><a href="javascript:void(0);">PROFILE</a></span>
          </div>
          <div class="col-xs-4 col-md-2">
            <span id="skills-button" class="btn-options btn-xs"><a href="javascript:void(0);">MY SKILLS</a></span>
          </div>
          {% endif %}
          {% if user.skills %}
            <div class="col-xs-4 col-md-2">
              <span id="settings-button" class="btn-options btn-xs"><a href="javascript:void(0);">SETTINGS</a></span>
            {% else %}
            <div class="col-xs-12 col-sm-offset-3 col-sm-6 col-md-offset-3 col-md-6">
            <span id="settings-button" class="btn-options btn-xs"><a href="javascript:void(0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SETTINGS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></span>
            {% endif %}
          </div>
          {% if not user.skills %}
            <div class="col-xs-6 col-md-3">
              <span id="skills-button" class="btn-options btn-xs"><a href="javascript:void(0);">&nbsp;BECOME A TUTOR&nbsp;</a></span>
            </div>
          {% endif %}
        </div>
      </div>
      <hr>
      {% endif %}

<!-- Settings -->
        {% if user.skills %}
        <div id="settings" style="display:none">
        {% else %}
        <div id="settings" style="display:block">
        {% endif %}
        <div class="row-fluid">
          <div class="col-xs-12 col-sm-offset-3 col-sm-6 col-md-offset-4 col-md-4">
          {% if not user.skills %}
              <div style="text-align:center;margin-top:30px"class="photo-settings" style="display:block">
                <h4 style="margin-left:25px;"> YOUR PHOTO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h4>
                <div align="center">
                  <div id="pic-holder">
                    {% if user.profile_url != '/static/img/default-photo.jpg' %}
                      <img style="display:block" width="80" height="80"id="image-preview" src="{{user.profile_url}}"/>
                    {% else %}
                      <span id="default-photo" class="glyphicon glyphicon-user" style="font-size:80px;text-align:center;padding-top:5px"></span>
                      <img width="80" height="80"id="image-preview" src="#"/>
                    {% endif %}
                  </div>
                    <a id="upload-photo-link" href="javascript:void(0);">
                      <h5 style="color:grey">
                        {% if user.profile_url != '/static/img/default-photo.jpg'%}
                        <u>CHANGE PICTURE</u>
                        {% else %}
                        <u>ADD PICTURE</u>
                        {% endif %}
                      </h5>
                      <span id="saved-photo" class="saved-text">Photo Successfully Uploaded!</span>
                    </a>
                    <input id="upload-photo" type="file"/>
                </div>
              </div>
          {% endif %}

          <div id="notif" style="margin-top:25px;text-align:center;">
            <h4>NOTIFICATION PREFERENCES</h4>
              <label for="email-on" class="h5" style="color:black">EMAIL&nbsp;&nbsp;</label> 
                {% if user.email_notification %}
                <a id="email-on" href="javascript:void(0);"><span id="email-on-span" name="email-on" class="btn-toggle-on">ON</span></a><a id="email-off" href="javascript:void(0);"><span id="email-off-span" class="btn-toggle-off">OFF</span></a>
                {% else %}
                <a id="email-on" href="javascript:void(0);"><span id="email-on-span" name="email-on" class="btn-toggle-on-inactive">ON</span></a><a id="email-off" href="javascript:void(0);"><span id="email-off-span" class="btn-toggle-off-active">OFF</span></a>
                {% endif %}
                <span id="saved-email" class="saved-text">Saved!</span>
              <br>
              <br>
          </div>
          {% if user.skills %}
          <div id="discoverability" style="text-align:center;">
             <h4>RECEIVE TUTORING REQUESTS</h4>
              <label id="discover-label"for="discover-on" class="h5" style="color:black">
                {% if user.discoverability %}
                  ACTIVE&nbsp;&nbsp;
                {% else %}
                  INACTIVE&nbsp;&nbsp;
                {% endif %}
              </label> 
                {% if user.discoverability %}
                  <a id="discover-on" href="javascript:void(0);"><span id="discover-on-span" name="discover-on" class="btn-toggle-on">ON</span></a><a id="discover-off" href="javascript:void(0);"><span id="discover-off-span" class="btn-toggle-off">OFF</span></a>
                  {% else %}
                  <a id="discover-on" href="javascript:void(0);"><span id="discover-on-span" name="discover-on" class="btn-toggle-on-inactive">ON</span></a><a id="discover-off" href="javascript:void(0);"><span id="discover-off-span" class="btn-toggle-off-active">OFF</span></a>
                  {% endif %}
                  <span id="saved-discover" class="saved-text">Saved!</span>
          </div>
          {% endif %}
            <!-- <br>
            <label for="text-on" class="h5" style="color:black">TEXT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label> 
               {% if user.text_notification %}
               <a id="text-on" href="javascript:void(0);"><span id="text-on-span" name="text-on" class="btn-toggle-on">ON</span></a><a id="text-off" href="javascript:void(0);"><span id="text-off-span" class="btn-toggle-off">OFF</span></a>
               {% else %}
               <a id="text-on" href="javascript:void(0);"><span id="text-on-span" name="text-on" class="btn-toggle-on-inactive">ON</span></a><a id="text-off" href="javascript:void(0);"><span id="text-off-span" class="btn-toggle-off-active">OFF</span></a>
               {% endif %}
               <span id="saved-text" class="saved-text">Saved!</span>
            <br> -->
          {% if user.customer_id %}
          <div id="credit">
            <h4>CREDIT CARD</h4>
              <span class="h4">****-****-****-{{user.customer_last4}}</span>
              <!-- <span class="btn-options btn-md" style="margin-top:-33px; float:right">CHANGE</span> -->
                <br>
                <br>
                <br>
          </div>
          {% endif %}
          {% if user.recipent_id %}
          <div id="credit">
            <h4>BANK ACCOUNT</h4>
              <span class="h4">****-****-****-****</span>
              <!-- <span class="btn-options btn-md" style="margin-top:-33px; float:right">CHANGE</span> -->
                <br>
                <br>
                <br>
          </div>
          {% endif %}
          <div style="text-align:center;"id="password">
          <h4 style="text-align:center;">PASSWORD</h4>
          <a id="change-password-btn" href="javascript:void(0)"><span class="btn-options btn-md" style="margin-top:5px;">CHANGE</span></a>
          <span id="saved-password" class="saved-text">Updated!</span>
          </div>
          <br>
          <br>
          <div id="change-password">
            <div style="text-align:center"id="change-password-alert" class="row">
            </div>
            <div class="row">
              <div class="col-xs-3 col-xs-offset-2">
                <label for="old" class="h4">Old</label>
              </div>
              <div class="col-xs-5">
                <input name='old-pwd' type="password" style="width:100%" id="old" class="input-signup"></input>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-xs-3 col-xs-offset-2">
                <label  for="new" class="h4">New</label>
              </div>
              <div class="col-xs-5">
                <input name='new-pwd' type="password" style="width:100%" id="new" class="input-signup"></input>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-xs-3 col-xs-offset-2">
                <label for="confirm" class="h4">Confirm</label>
              </div>
              <div class="col-xs-5">
                <input name='confirm-pwd' type="password" style="width:100%" id="confirm" class="input-signup"></input>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-5 col-xs-offset-5">
                <a id="save-password-btn" href="javascript:void(0)">
                  <span style="float:right;" class="btn-options btn-md active">
                    <span style="color:white">Save</span>
                  </span>
                </a>
              </div>
            </div>
            <br>
            <br>
          </div>
          <a href="/logout/" class="btn btn-logout" type="submit">LOGOUT</a>
        </div>
      </div>
    </div>
          
          
    

<!-- Skills -->
      <div id="skills" style="display:none" align="center">
        {% if not user.skills %}
        <div style="text-align:center" class="row-fluid">
          <h4>
            Add a skill to begin tutor registration! We'll send you an email soon with more details regarding the verification process. 
            <br>
            <br>
          </h4>
        </div>
        {% endif %}
        <div class = "row row-skills">
          <div class="col-xs-9 col-xs-offset-1 col-md-offset-4 col-md-4">
            <input id="add-skill-input-settings" class="typeahead add-skills" placeholder="add course..."> </input>
          </div>
          <div class="col-xs-2 col-md-2"> 
            <a href="javascript:void(0);" id="add-skill-btn">
              <div class="btn-add" style="float:left;font-size:20px">+</div>
            </a>
          </div>
        </div>
      <div id="current-skills" style="align:center">
        <br>
          {% if user.skills %}
          <div style="color:red;" id="alert-rating">
            Your reviews are not visible yet.
          </div>
          {% endif %}
        <div style="display:none" class="template-one-skill">
          <hr>
          <div class="row row-skills">
            <div class="default-text col-xs-3 col-md-offset-4 col-md-1">
                <div class="skill-name">CS 10</div>
            </div>
            <div class="col-xs-7 col-md-2">
              <span class="rating">
                <span style="color;grey">☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
              </span>
            </div>
            <div class="col-xs-2 col-md-1">
              <!-- <div  class="btn-add">-</div> -->
               <a class="boxclose" id="boxclose"></a>
            </div>
          </div> 
        </div>
        {% for skill in user.skills %}
        <div class="one-skill">
          <hr>
          <div class="row row-skills">
            <div class="default-text col-xs-3 col-md-offset-4 col-md-1">
                <div class="skill-name">{{skill.name}}</div>
            </div>
            <div class="col-xs-7 col-md-2">
              <span class="rating">
                <span style="color;grey">☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
              </span>
            </div>
            <div class="col-xs-2 col-md-1">
              <!-- <div  class="btn-add">-</div> -->
               <a class="boxclose" id="boxclose"></a>
            </div>
          </div> 
        </div>
        {% endfor %}
      </div>
    </div>

<!-- Profile -->
      {% if user.skills %}
      <div id="profile" style="display:block" align="center">
      {% else %}
      <div id="profile" style="display:none" align="center">
      {% endif %}
        {% if user.skills and (user.profile_url == '/static/img/default-photo.jpg' or not user.tutor_introduction) %}
          <div id="prof-not-complete" class="alert alert-danger">
            Please add a <strong>profile picture</strong>, your <strong>major</strong>, and a <strong> short introduction</strong> to complete signup!
          </div>
        {% endif %}
        <div align="center">
          <div id="pic-holder">
            {% if user.profile_url != '/static/img/default-photo.jpg' %}
              <img style="display:block" width="80" height="80"id="image-preview" src="{{user.profile_url}}"/>
            {% else %}
              <span id="default-photo" class="glyphicon glyphicon-user" style="font-size:80px;text-align:center;padding-top:5px"></span>
              <img width="80" height="80"id="image-preview" src="#"/>
            {% endif %}
          </div>
            <a id="upload-photo-link" href="javascript:void(0);">
              <h6 style="color:grey">
                {% if user.profile_url != '/static/img/default-photo.jpg'%}
                <u>CHANGE PICTURE</u>
                {% else %}
                <u>ADD PICTURE</u>
                {% endif %}
              </h6>
              <span id="saved-photo" class="saved-text">Photo Successfully Uploaded!</span>
            </a>
            <input id="upload-photo" type="file"/>
        </div>
        <div style="margin-top:20px"class="row-fluid">
          <h4>DETAILS AND ATTRIBUTES</h4>
          <span id="saved-year" class="saved-text">Saved!<br></span>
          <div id="alert-major-text">
            Please type something in
          </div>
          <div style="margin-top:10px" id="year-dropdown" class="btn-group">
            <button style="width:212px"type="button" class="btn-default">
              <span id="selected-year" style="color:black">{%if user.year%}{{user.year}}{%else%}Sophomore{%endif%}</span>
            </button>
            <button type="button" class="btn-default dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
              <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul style="width:212px" class="dropdown-menu" role="menu">
              <li><a href="javascript:void(0);">Freshman</a></li>
              <li><a href="javascript:void(0);">Sophomore</a></li>
              <li><a href="javascript:void(0);">Junior</a></li>
              <li><a href="javascript:void(0);">Senior</a></li>
              <li class="divider"></li>
              <li><a href="javascript:void(0);">Grad Student</a></li>
              <li><a href="javascript:void(0);">PhD</a></li>
              <li><a href="javascript:void(0);">Alumni</a></li>
            </ul>
          </div>
        </div>
        <div style="margin-top:15px"class="row-fluid">
          <span id="saved-major" class="saved-text">Saved!<br></span>
          <input id="major-input" {% if user.major %} value="{{user.major}}" {% endif %} placeholder="Your Major(s)"> </input>
          <span id="save-btn-major" style="margin-top:-5px; display:none" class="btn-options btn-md active">
              <span style="color:white">Save</span>
          </span>
        </div>
        <label for="email-on" class="h5" style="color:black">Select Relevant Tags</label> 
        <div class="row-fluid">
          <div style="margin-bottom:15px" class="col-xs-12 col-md-12 col-sm-12">
            <div style="display:block" id="example-skills">
              <a class="example-skill-link" href="javascript:void(0)">
                <span style="margin-left:0px"class="example-tag {%if user.previous_tutor%} active {%endif%}" >
                  <span># I have tutoring experience at Cal </span> &nbsp;&nbsp;
                </span>
              </a>
              <a class="example-skill-link" href="javascript:void(0)">
                <span class="example-tag {%if user.slc_tutor%} active {%endif%}">
                  <span># SLC Tutor </span> &nbsp;&nbsp;
                </span>
              </a>
              <a class="example-skill-link" href="javascript:void(0)">
                <span class="example-tag {%if user.hkn_tutor%} active {%endif%}" >
                  <span># HKN Tutor </span> &nbsp;&nbsp;
                </span>
              </a>
              <a class="example-skill-link" href="javascript:void(0)">
                <span class="example-tag {%if user.res_tutor%} active {%endif%}" >
                  <span># Residential Hall Tutor </span> &nbsp;&nbsp;
                </span>
              </a>
              <a class="example-skill-link" href="javascript:void(0)">
                <span class="example-tag {%if user.ta_tutor%} active {%endif%}" >
                  <span># TA or GSI </span> &nbsp;&nbsp;
                </span>
              </a>
            </div>
            <span id="saved-tag" class="saved-text">Saved!<br></span>
          </div>
        </div>
        <div style="margin-top:15px; " class="row-fluid">
          <div style="margin-bottom:20px" class="col-xs-12 col-md-offset-4 col-md-4 col-sm-offset-3 col-sm-6">
          <h4 >SHORT INTRODUCTION</h4>
            {% if user.tutor_introduction %}
            <textarea id="short-description" class="bio" cols="50" rows="5">
            {{user.tutor_introduction}}
            </textarea>
            {% else %}
            <textarea id="short-description" class="bio" cols="50" rows="5" placeholder="Tell students about yourself and your previous experience in tutoring. This section is important for students to choose among tutors."></textarea>
            {% endif %}

          
          <div id="alert-rating-short-description">
            Please type something in
          </div>
          <span id="saved-introduction" class="saved-text">Saved!</span>
          <div id="profile-save-button">
            <span style="float:center;" class="btn-options btn-md active">
              <span style="color:white">Save</span>
            </span>
          </div>
        </div>
      </div>
        {% if user.skills and (user.profile_url == '/static/img/default-photo.jpg' or not user.tutor_introduction) %}
        <div id="launch-profile-div" class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-offset-3 col-md-6" style="padding-left:0px; padding-right:0px; display:none">
          <a id="launch-profile-link" href="javascript:void(0)">
            <div class="btn-save">
              <p>LAUNCH MY SITE
              </p>
            </div>
          </a>
        </div>
        {% endif %}
      </div>
        <br>
         <br>

{% endblock %}

{% block footer_scripts %}


    <!-- Custom JavaScript for Highlight Tabs -->
 <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.js"></script>
 <script type="text/javascript" src="/static/js/typeahead.js"></script>
  <script>
  // $(document).ready(function() {    
    // $("#settings-button").addClass('btn-options selected');
    $("#settings-button").click(function() {
      $("#skills").hide();
      $("#profile").hide();
      $("#settings").show();
      
    });
    $("#skills-button").click(function() {
      $("#settings").hide();
      $("#profile").hide();
      $("#skills").show();      
    });
    $("#profile-button").click(function() {
      $("#settings").hide();
      $("#skills").hide();
      $("#profile").show();
    });
  // });
  </script>

{% endblock %}