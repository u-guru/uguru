import requests, json
from bs4 import BeautifulSoup

huge_arr = []
names_arr = ['Ben']
for names in names_arr:
	params = {'__EVENTTARGET':'','__EVENTARGUMENT':'','__VIEWSTATE':'/wEPDwULLTE1NjE3Nzc4MTEPFgQeCXNvcnRmaWVsZAUORGlyZWN0b3J5X05hbWUeDXNvcnRkaXJlY3Rpb24FA0FTQxYCAgEPZBYEAgUPD2QWAh4Hb25DbGljawUYd2luZG93Lm9wZW4oJ2hlbHAuYXNweCcpZAIHD2QWBAIFDw9kFgIeCW9ua2V5ZG93bgUfZm5UcmFwS0QoZG9jdW1lbnQuYWxsLmJ0U2VhcmNoKWQCCw88KwALAQAPFggeCERhdGFLZXlzFgAeC18hSXRlbUNvdW50AgoeCVBhZ2VDb3VudAKIBh4VXyFEYXRhU291cmNlSXRlbUNvdW50Asg8ZBYCZg9kFhQCAg9kFgxmDw8WAh4EVGV4dAU2KEdFRCkgR2VuZXJhbCBFZHVjYXRpb25hbCBEZXZlbG9wbWVudCBUZXN0aW5nIFNlcnZpY2VzZGQCAQ8PFgIfCAUGVUgtMTM5ZGQCAg8PFgIfCAUZU3R1ZGVudCBBY2FkZW1pYyBTZXJ2aWNlc2RkAgMPDxYCHwgFDSg2NTcpMjc4LTI0ODdkZAIEDw8WAh8IBQYmbmJzcDtkZAIFD2QWAmYPFQKpATxhIGhyZWY9amF2YXNjcmlwdDpNTV9vcGVuQnJXaW5kb3coJ3ZpZXcuYXNweD9JRD0xJywnVmlld2VyJywnd2lkdGg9NjAwLGhlaWdodD0yMDAnKT48aW1nIHNyYz0naW1hZ2VzLy9tYWduaWZ5LmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHZpZXcgbW9yZSBJbmZvcm1hdGlvbi4nPjwvYT5qPGEgaHJlZj0nbWFpbHRvOiBnZWRAZnVsbGVydG9uLmVkdSc+PGltZyBzcmM9J2ltYWdlcy8vbWFpbC5naWYnIGJvcmRlcj0nMCcgYWx0PSdDbGljayB0byBzZW5kIEVtYWlsLic+PC9hPmQCAw9kFgxmDw8WAh8IBSAoU1RFTSkyIFRyYW5zZmVyIFJlc291cmNlIENlbnRlcmRkAgEPDxYCHwgFBk1IIDUyNWRkAgIPDxYCHwgFD0luc3RydWN0aW9uIE5TTWRkAgMPDxYCHwgFDSg2NTcpMjc4LTgzOThkZAIEDw8WAh8IBQYmbmJzcDtkZAIFD2QWAmYPFQKpATxhIGhyZWY9amF2YXNjcmlwdDpNTV9vcGVuQnJXaW5kb3coJ3ZpZXcuYXNweD9JRD0yJywnVmlld2VyJywnd2lkdGg9NjAwLGhlaWdodD0yMDAnKT48aW1nIHNyYz0naW1hZ2VzLy9tYWduaWZ5LmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHZpZXcgbW9yZSBJbmZvcm1hdGlvbi4nPjwvYT5vPGEgaHJlZj0nbWFpbHRvOiBtYXJvcnRpekBmdWxsZXJ0b24uZWR1Jz48aW1nIHNyYz0naW1hZ2VzLy9tYWlsLmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHNlbmQgRW1haWwuJz48L2E+ZAIED2QWDGYPDxYCHwgFIkEgQ28tQ3VycmljdWxhciBBY2hpZXZlbWVudCBSZWNvcmRkZAIBDw8WAh8IBQdUU1UtMjQ3ZGQCAg8PFgIfCAUTQXNzb2NpYXRlZCBTdHVkZW50c2RkAgMPDxYCHwgFDSg2NTcpMjc4LTQ5NDJkZAIEDw8WAh8IBQYmbmJzcDtkZAIFD2QWAmYPFQKpATxhIGhyZWY9amF2YXNjcmlwdDpNTV9vcGVuQnJXaW5kb3coJ3ZpZXcuYXNweD9JRD0zJywnVmlld2VyJywnd2lkdGg9NjAwLGhlaWdodD0yMDAnKT48aW1nIHNyYz0naW1hZ2VzLy9tYWduaWZ5LmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHZpZXcgbW9yZSBJbmZvcm1hdGlvbi4nPjwvYT5ZPGEgaHJlZj0nbWFpbHRvOiAnPjxpbWcgc3JjPSdpbWFnZXMvL21haWwuZ2lmJyBib3JkZXI9JzAnIGFsdD0nQ2xpY2sgdG8gc2VuZCBFbWFpbC4nPjwvYT5kAgUPZBYMZg8PFgIfCAUOQWFzZSwgQnJpdHRhbnlkZAIBDw8WAh8IBQpTR01ILTQyMTBGZGQCAg8PFgIfCAUJRGVhbiBNQ0JFZGQCAw8PFgIfCAUNKDY1NykyNzgtNDA0OWRkAgQPDxYCHwgFBiZuYnNwO2RkAgUPZBYCZg8VAqwBPGEgaHJlZj1qYXZhc2NyaXB0Ok1NX29wZW5CcldpbmRvdygndmlldy5hc3B4P0lEPTQ5NjgnLCdWaWV3ZXInLCd3aWR0aD02MDAsaGVpZ2h0PTIwMCcpPjxpbWcgc3JjPSdpbWFnZXMvL21hZ25pZnkuZ2lmJyBib3JkZXI9JzAnIGFsdD0nQ2xpY2sgdG8gdmlldyBtb3JlIEluZm9ybWF0aW9uLic+PC9hPm08YSBocmVmPSdtYWlsdG86IGJyYWFzZUBmdWxsZXJ0b24uZWR1Jz48aW1nIHNyYz0naW1hZ2VzLy9tYWlsLmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHNlbmQgRW1haWwuJz48L2E+ZAIGD2QWDGYPDxYCHwgFDUFiYm90dCwgQ2luZHlkZAIBDw8WAh8IBQdLSFMtMTU5ZGQCAg8PFgIfCAUOSGVhbHRoIFNjaWVuY2VkZAIDDw8WAh8IBQ0oNjU3KTI3OC0yNTU4ZGQCBA8PFgIfCAUGJm5ic3A7ZGQCBQ9kFgJmDxUCrAE8YSBocmVmPWphdmFzY3JpcHQ6TU1fb3BlbkJyV2luZG93KCd2aWV3LmFzcHg/SUQ9MTkzMicsJ1ZpZXdlcicsJ3dpZHRoPTYwMCxoZWlnaHQ9MjAwJyk+PGltZyBzcmM9J2ltYWdlcy8vbWFnbmlmeS5naWYnIGJvcmRlcj0nMCcgYWx0PSdDbGljayB0byB2aWV3IG1vcmUgSW5mb3JtYXRpb24uJz48L2E+bjxhIGhyZWY9J21haWx0bzogY2FiYm90dEBmdWxsZXJ0b24uZWR1Jz48aW1nIHNyYz0naW1hZ2VzLy9tYWlsLmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHNlbmQgRW1haWwuJz48L2E+ZAIHD2QWDGYPDxYCHwgFEEFiYm90dCwgTGF3cmVuY2VkZAIBDw8WAh8IBQdLSFMtMTU5ZGQCAg8PFgIfCAULS2luZXNpb2xvZ3lkZAIDDw8WAh8IBQ0oNjU3KTI3OC0yNTU4ZGQCBA8PFgIfCAUGJm5ic3A7ZGQCBQ9kFgJmDxUCrAE8YSBocmVmPWphdmFzY3JpcHQ6TU1fb3BlbkJyV2luZG93KCd2aWV3LmFzcHg/SUQ9MTkzMycsJ1ZpZXdlcicsJ3dpZHRoPTYwMCxoZWlnaHQ9MjAwJyk+PGltZyBzcmM9J2ltYWdlcy8vbWFnbmlmeS5naWYnIGJvcmRlcj0nMCcgYWx0PSdDbGljayB0byB2aWV3IG1vcmUgSW5mb3JtYXRpb24uJz48L2E+bjxhIGhyZWY9J21haWx0bzogbGFiYm90dEBmdWxsZXJ0b24uZWR1Jz48aW1nIHNyYz0naW1hZ2VzLy9tYWlsLmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHNlbmQgRW1haWwuJz48L2E+ZAIID2QWDGYPDxYCHwgFD0FiYm90dCwgUGF1bGluZWRkAgEPDxYCHwgFB1JHQy0wMTBkZAICDw8WAh8IBQtHZXJvbnRvbG9neWRkAgMPDxYCHwgFDSg2NTcpMjc4LTQ2ODZkZAIEDw8WAh8IBQYmbmJzcDtkZAIFD2QWAmYPFQKsATxhIGhyZWY9amF2YXNjcmlwdDpNTV9vcGVuQnJXaW5kb3coJ3ZpZXcuYXNweD9JRD01NTU0JywnVmlld2VyJywnd2lkdGg9NjAwLGhlaWdodD0yMDAnKT48aW1nIHNyYz0naW1hZ2VzLy9tYWduaWZ5LmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHZpZXcgbW9yZSBJbmZvcm1hdGlvbi4nPjwvYT5uPGEgaHJlZj0nbWFpbHRvOiBwYWJib3R0QGZ1bGxlcnRvbi5lZHUnPjxpbWcgc3JjPSdpbWFnZXMvL21haWwuZ2lmJyBib3JkZXI9JzAnIGFsdD0nQ2xpY2sgdG8gc2VuZCBFbWFpbC4nPjwvYT5kAgkPZBYMZg8PFgIfCAULQWJib3VkLCBTYW1kZAIBDw8WAh8IBQdLSFMtMjczZGQCAg8PFgIfCAULS2luZXNpb2xvZ3lkZAIDDw8WAh8IBQ0oNjU3KTI3OC0zMTM5ZGQCBA8PFgIfCAUGJm5ic3A7ZGQCBQ9kFgJmDxUCrAE8YSBocmVmPWphdmFzY3JpcHQ6TU1fb3BlbkJyV2luZG93KCd2aWV3LmFzcHg/SUQ9Mjk1NCcsJ1ZpZXdlcicsJ3dpZHRoPTYwMCxoZWlnaHQ9MjAwJyk+PGltZyBzcmM9J2ltYWdlcy8vbWFnbmlmeS5naWYnIGJvcmRlcj0nMCcgYWx0PSdDbGljayB0byB2aWV3IG1vcmUgSW5mb3JtYXRpb24uJz48L2E+bjxhIGhyZWY9J21haWx0bzogc2FiYm91ZEBmdWxsZXJ0b24uZWR1Jz48aW1nIHNyYz0naW1hZ2VzLy9tYWlsLmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHNlbmQgRW1haWwuJz48L2E+ZAIKD2QWDGYPDxYCHwgFE0FiZGVsIEhhcSwgTW9oYW1tYWRkZAIBDw8WAh8IBQlDUC05MDAtMzFkZAICDw8WAh8IBQlTb2Npb2xvZ3lkZAIDDw8WAh8IBQ0oNjU3KTI3OC02NzMzZGQCBA8PFgIfCAUGJm5ic3A7ZGQCBQ9kFgJmDxUCrAE8YSBocmVmPWphdmFzY3JpcHQ6TU1fb3BlbkJyV2luZG93KCd2aWV3LmFzcHg/SUQ9NjM2NicsJ1ZpZXdlcicsJ3dpZHRoPTYwMCxoZWlnaHQ9MjAwJyk+PGltZyBzcmM9J2ltYWdlcy8vbWFnbmlmeS5naWYnIGJvcmRlcj0nMCcgYWx0PSdDbGljayB0byB2aWV3IG1vcmUgSW5mb3JtYXRpb24uJz48L2E+cDxhIGhyZWY9J21haWx0bzogbWFiZGVsaGFxQGZ1bGxlcnRvbi5lZHUnPjxpbWcgc3JjPSdpbWFnZXMvL21haWwuZ2lmJyBib3JkZXI9JzAnIGFsdD0nQ2xpY2sgdG8gc2VuZCBFbWFpbC4nPjwvYT5kAgsPZBYMZg8PFgIfCAUSQWJkZWx3YWhlZCwgRmFyb3VrZGQCAQ8PFgIfCAUJU0dNSC01MjE0ZGQCAg8PFgIfCAUKTWFuYWdlbWVudGRkAgMPDxYCHwgFDSg2NTcpMjc4LTIyMjNkZAIEDw8WAh8IBQYmbmJzcDtkZAIFD2QWAmYPFQKsATxhIGhyZWY9amF2YXNjcmlwdDpNTV9vcGVuQnJXaW5kb3coJ3ZpZXcuYXNweD9JRD0xMjgyJywnVmlld2VyJywnd2lkdGg9NjAwLGhlaWdodD0yMDAnKT48aW1nIHNyYz0naW1hZ2VzLy9tYWduaWZ5LmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHZpZXcgbW9yZSBJbmZvcm1hdGlvbi4nPjwvYT5yPGEgaHJlZj0nbWFpbHRvOiBmYWJkZWx3YWhlZEBmdWxsZXJ0b24uZWR1Jz48aW1nIHNyYz0naW1hZ2VzLy9tYWlsLmdpZicgYm9yZGVyPScwJyBhbHQ9J0NsaWNrIHRvIHNlbmQgRW1haWwuJz48L2E+ZGSl4wMsboyj9kSjRZEbeCpZZB7X3w==','__VIEWSTATEGENERATOR':'F5399136','__EVENTVALIDATION':'/wEWFAL5vrmoAwLgmIz3BQLhqszUAwKy2K7KBAKt2K7KBAKs2K7KBAKv2K7KBAKu2K7KBAKit4SkCALVtaiXDALHsdCoDALFrr6tAwLarr6tAwLVwZTDDwLtvamLAgLtvb3mCgLtvdHBAwLtveWcDALtvfn3BALGvdXpCp3t9cn2zHscJHinVNjhwi3jB1Xa','rbSearchBy':'0','tbSearch':'Michael','btSearch':'Search','rbSearchVar':'1'}
	soup = BeautifulSoup(requests.post('http://my.fullerton.edu/directory/index.aspx',params).text)
	main_wrapper = soup.findAll('table', attrs = {'id':'dgPhoneDirectory'})
	for wrapper in main_wrapper:
		td = wrapper.findAll('tr')
		for td_info in td:
			name =  td_info.findAll('td')[0]
			email = td_info.findAll('a')
			for name_text,email_text in zip(name,email):
				dictionary = {}
				email =  email_text['href']
				if  "mailto:" in email:
					dictionary['email'] = email
					dictionary['name'] = name_text.string
					huge_arr.append(dictionary)
				with open('california_state_fullerton.json','wb') as outfile:
					json.dump(huge_arr,outfile,indent=4)