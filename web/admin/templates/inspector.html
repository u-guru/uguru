<div class='full-xy absolute top-0 left-0 overflow-hidden' ng-controller='AdminPropertyController as apc'>
    <div class='flex full-x relative lyt-1-3-sidebar' style='height:80%;'>
        <div class='flex-wrap-center fix-abs'>
            <!-- <div ng-repeat='result in apc.results' style='width:50px; height:50px;' class='text-white flex-wrap-center p20xy'> {{result.prop}}<br> {{result.value}}</div> -->

			<!-- <square inspector-elem fill="pink"></square> -->

			<div inspector-elem class="playing-card play-heart"><div>
				<svg viewBox="0 0 250 350">
				    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
				        <path d="M181,114.589487 C181,98.2465582 167.776199,85 151.466344,85 C139.864282,85 129.833984,91.6958698 125.003748,101.438048 C120.163517,91.6958698 110.140715,85 98.5361549,85 C82.228799,85 69,98.2465582 69,114.589487 C69,153.630788 124.386538,175 124.386538,175 C124.386538,175 181,153.360451 181,114.589487 L181,114.589487 Z" class="heart" stroke="#F04F54" stroke-width="3" fill="#F04F54"></path>
				        <polygon class="diamond" stroke="#F04F54" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="#F04F54" points="124.861436 74 180.723407 129.861971 124.861436 185.723943 68.9994643 129.861971"></polygon>
				        <path d="M152.113309,112.798631 C151.699475,112.798631 151.283133,112.808673 150.874314,112.828758 C151.852468,110.036972 152.391707,107.039317 152.391707,103.918642 C152.391707,89.0558964 140.35289,77 125.502508,77 C110.649618,77 98.6108012,89.0558964 98.6108012,103.918642 C98.6108012,107.039317 99.1475318,110.036972 100.125686,112.828758 C99.7168675,112.808673 99.3030331,112.798631 98.8891988,112.798631 C84.0363087,112.798631 72,124.849506 72,139.709742 C72,154.577509 84.0363087,166.625873 98.8891988,166.625873 C107.647438,166.625873 115.412475,162.425641 120.320801,155.938253 C117.386339,167.318799 113.486264,179.176358 109.262646,183 L125.377104,183 L125.620388,183 L141.737354,183 C137.518752,179.176358 133.623693,167.336373 130.684215,155.958338 C135.595049,162.433173 143.365102,166.623363 152.113309,166.623363 C166.958675,166.623363 179,154.574998 179,139.707231 C179,124.849506 166.958675,112.798631 152.113309,112.798631 L152.113309,112.798631 Z" class="club" stroke="#40484B" stroke-width="3" fill="#40484B"></path>
				        <path d="M126.124735,78 C126.124735,78 69,99.6590241 69,138.45067 C69,154.805904 82.3453437,168.061618 98.8055264,168.061618 C106.78951,168.061618 114.036433,164.932005 119.382648,159.856416 C116.595952,169.907287 113.092389,179.624633 109.341457,183 L125.380101,183 L125.619899,183 L141.658543,183 C137.910135,179.624633 134.406572,169.907287 131.617352,159.856416 C136.963567,164.934513 144.21049,168.061618 152.199522,168.061618 C168.657181,168.061618 182,154.805904 182,138.45067 C182.005048,99.3856846 126.124735,78 126.124735,78 L126.124735,78 Z" class="spade" stroke="#40484B" stroke-width="3" fill="#40484B"></path>
				        <text font-family="Source Sans Pro" font-size="72" font-weight="900" fill="#40484B" text-anchor="middle">
				            <tspan x="125" y="257">A</tspan>
				        </text>
				    </g>
				</svg>
			</div></div>

            <!-- <streamer>
                <stream init includes="all" >
                </stream>
                <stream init="@3s" includes="1,2">
                </stream>
                <stream includes="1,2,3,4">
                </stream>
            </streamer>
            <div class='flex-wrap-center p15-grid full-x'>
                <square s-id="1" init-with="p:[opacity:0]"  fill="pink"></square>
                <square s-id="2"   fill="blue"></square>
                <square s-id="3"   fill="white"></square>
                <square s-id="4"   fill="green"></square>
            </div> -->

            <!-- <div ng-include="'shared/templates/components/cards/profile-card.tpl'">
            </div> -->

            <!-- <div ng-include="'shared/templates/components/demo/request-card.tpl'">
            </div>
            <div ng-include="'shared/templates/components/demo/request-card.tpl'">
            </div>
            <div ng-include="'shared/templates/components/demo/request-card.tpl'">
            </div> -->
        </div>
        <aside class='relative' ng-if="apc.settings.showKFBar">
            <div class='bg-lake absolute full-xy top-0 left-0 overflow-auto' ng-if='apc.settings.showAnimProps'>
                <div class="p15xy">
                    <fieldset class="search-bar"
                        init-with="p:[op:0, width:48px, t:width 250ms cubic-bezier(.6#0#.1#1.3)#opacity 250ms ease-out]"
                        on-init="a:[bounceIn-subtle:set:(dur:1000ms#func:linear):in] | p:[width:100%]:delay-1000 | s:[search-bar-init:public]"
                        on-click="s:[search-bar-clicked:public]"
                        on-exit="p:[op:0]">
                        <div>
                            <label for="search-bar"
                                init-default>
                                <svg viewBox="0 0 100 100">
                                    <path d="M62.994485,62.994485 L85.6624699,85.6624699"
                                        init-with="p:[sda:32.06, sdo:32.06, t:stroke-dashoffset 200ms ease-out]"
                                        when-search-bar-init="p:[sdo:0:delay-750]"></path>
                                    <circle cx="42.5" cy="42.5" r="28.5"
                                        init-with="p:[sda:179.07, sdo:179.07, t:stroke-dashoffset 250ms ease-out]"
                                        when-search-bar-init="p:[sdo:0:delay-500]"></circle>
                                </svg>
                            </label>

                            <input id="search-bar" class='txt-charcoal' placeholder="Filter" value=""
                                init-with="p-op"
                                ng-model="addProp.searchText"
                                when-search-bar-clicked="p:[op:1:delay-250, t:all 250ms ease-out]"/>
                        </div>
                    </fieldset>
                </div>
                <ul class='flex-wrap-start full-x p15-grid ugrid-3' ng-if='addProp.searchText.length'>
                    <li ng-repeat='prop in apc.animProperties | filter:addProp.searchText:strict track by $index'>
                        <div class='weight-600 txt-16 radius-2 p05xy bg-white txt-lake'>{{prop}}</div>
                    </li>
                </ul>
                <ul class='flex-space-between p15-grid full-x'>
                    <li>
                        <div class='txt-2 weight-600'> Property Name </div>
                    </li>
                    <li>
                        <div class='txt-2 weight-600'> Start Value </div>
                    </li>
                    <li>
                        <div class='txt-2 weight-600'> End Value </div>
                    </li>
                    <li>
                        <div class='txt-2 weight-600'> Duration </div>
                    </li>
                    <li>
                        <div class='txt-2 weight-600'> Ease Function </div>
                    </li>
                </ul>
            </div>
            <div class='bg-moxie full-xy overflow-auto' ng-if='!apc.settings.showAnimProps'>
                <div class='full-x weight-600 txt-20 ugrid-2'>
					<!-- ugrid-{{apc.properties.length + 1}} -->
                    <span ng-class='{"bg-white-25p": apc.activeIndex === $index}' class='p15x-p10y' ng-click='apc.activeIndex = $index' ng-repeat='property in apc.properties'>{{property.animation.name}} </span>
                    <a class='bg bg-charcoal reverse p15x-p10y' ng-click='apc.settings.showAnimProps = !apc.settings.showAnimProps'>+ Add new property</a>
                </div>
                <div ng-repeat='property in apc.properties' ng-show="apc.activeIndex === $index">
                    <div>
                        <div ng-if='property.showExport' class='full-xy absolute top-0 left-0'>
                            <textarea class='full-x txt-16 source-code p15xy overflow-auto' style="height:calc(100% - 64px)">{{property.animation.obj.cssText}}</textarea>
                            <button ng-click='property.showExport = !property.showExport' class='bg-rocket'>Close</button>
                        </div>
                        <ul class='p15-grid' ng-show='!property.showExport'>
                            <li class="flex full-x" ng-repeat='kf_rule in property.animation.keyframes track by $index'>
								<div class="width-25p flex">
									<span class='bg-slate txt-white height-48 radius-2-left' style="width:calc(100% - 48px)">
										<span class="flex-center-vertical full-xy semibold txt-20 p10x">{{kf_rule.percent.str}}</span>
									</span>
									<a class="bg bg-crimson reverse height-48 width-48 radius-2-right txt-36 semibold" ng-click='apc.removeKF(apc.property, kf_rule.percent.str)'>
										<span class="full-xy flex-center">&times;</span>
									</a>
								</div>
								<div class='width-75p p15left' ng-repeat='property in kf_rule.properties'>
									<span class="height-48 flex-center-vertical p10x bg-charcoal-50p txt-20 semibold radius-2 relative" >
										{{property.name}}: {{property.value}}
                                        <span ng-if='property.name === "fill"' on-click="p:[animation:{{property.animation.str}}]" style='background-color:{{property.value}}' class='top-0 right-0 absolute width-48 height-48'></span>
                                        <!-- <span ng-if='property.value.split("rotate").length > 1'>
                                            {{property.value}}
                                        </span> -->
									</span>

								</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </aside>
    </div>
    <div class='relative' style='height:20%;'>
        <ul class='flex p15-grid absolute left-0' style="top:-78px">
            <li>
				<span class='svg-48-36 stroke-white svg-stroke-6 radius-2 bg bg-moxie' ng-click='apc.gPlayer.viewSettings = !apc.gPlayer.viewSettings' ng-include='"shared/templates/components/svg/main/settings.html"'></span>
			</li>
			<li ng-if='!apc.gPlayer.active'>
	            <span class='svg-48-36 stroke-white svg-stroke-6 radius-2 bg bg-moxie' ng-click="apc.gPlayer.play(apc.properties)" ng-include='"shared/templates/components/svg/main/play.html"'></span>
			</li>
			<li ng-if='apc.gPlayer.active'>
	            <span class='svg-48-36 stroke-white svg-stroke-6 radius-2 bg bg-moxie' ng-click="apc.gPlayer.pause(apc.properties)" ng-include='"shared/templates/components/svg/main/pause.html"'></span>
			</li>
            <li>
                <span class='svg-48-36 stroke-white svg-stroke-6 radius-2 bg bg-moxie' ng-click="apc.gPlayer.resetAll(apc.properties)" ng-include='"shared/templates/components/svg/main/sync.html"'></span>
            </li>
            <li>
                <span class='svg-48-36 stroke-white svg-stroke-6 radius-2 bg bg-moxie' ng-click="apc.gPlayer.step(apc.properties, '+')" ng-include='"shared/templates/components/svg/main/skip.html"'></span>
            </li>

        </ul>
        <ul class='flex p15-grid absolute right-0' style="top:-78px">
            <li>
                <span class='svg-48-36 stroke-white svg-stroke-6 radius-2 bg bg-moxie weight-900' ng-click="show" ng-click='apc.settings.showKFBar = !apc.settings.showKFBar'>KF</span>
            </li>
        </ul>
        <div class="bg-slate-50p full-xy overflow-auto">
            <ul class='full-x'>
                <li ng-repeat='property in apc.properties' class='full-x flex-wrap-center' ng-class="{'bg-slate':$index % 2 === 1, 'bg-campus-50p':$index % 2 === 0}">
                    <div class='flex-vertical-center relative full-x width-33p'>
						<ul class='full-x flex-wrap p15-grid'>
							<li class="flex">
								<a class='svg-36-24 stroke-white svg-stroke-9 radius-2-left bg bg-campus' ng-click='property.player.showMore = !property.player.showMore' ng-include='"shared/templates/components/svg/main/down.html"'></a>
								<a class='weight-600 txt-20 bg bg-campus reverse radius-2-right p10x height-36 flex-center-vertical' ng-click='playAnimation()'>{{property.animation.name}}</a>
							</li>
							<li>
                                <a class='svg-36-24 stroke-white svg-stroke-9 radius-2 bg bg-campus' ng-click='property.player.step(property, 100, "-")'>
                                        <svg viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style='transform:rotate(180deg)'>
                                            <path d="M68.3635106,20.0921155 C68.3635106,16.727533 71.0974015,14 74.454538,14 L74.454538,14 C77.8185196,14 80.5455654,16.7345657 80.5455654,20.0921155 L80.5455654,79.9078845 C80.5455654,83.272467 77.8116745,86 74.454538,86 L74.454538,86 C71.0905565,86 68.3635106,83.2654343 68.3635106,79.9078845 L68.3635106,20.0921155 Z M65.6106483,47.0463201 C66.5720751,47.8852207 67.3635106,48.7075094 67.3635106,50.0226176 C67.3635106,51.3349572 66.8005882,52.132328 65.6106483,52.9961465 L23.5085114,85.7243441 C22.8090385,86.2005517 20.0362277,86.4054318 20,83.3433062 L20,16.6991604 C20.0027867,13.8668327 22.5359376,13.6425721 23.5085114,14.3208911 L65.6106483,47.0463201 Z" fill="none" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                </a>
                            </li>
                            <li ng-if='!property.player.active'>
								<a class='svg-36-24 stroke-white svg-stroke-9 radius-2 bg bg-campus' ng-click='property.player.play(property)' when-show-play="p:[opacity:1, scale(1)]" ng-include='"shared/templates/components/svg/main/play.html"' ></a>
							</li>
							<li ng-if='property.player.active'>
								<a class='svg-36-24 stroke-white svg-stroke-9 radius-2 bg bg-campus' ng-click='property.player.pause(property)' when-show-pause="p:[opacity:1, scale(1)]:easeIntQuint"  ng-include='"shared/templates/components/svg/main/pause.html"'></a>
							</li>
                            <li>
                                <a class='svg-36-24 stroke-white svg-stroke-9 radius-2 bg bg-campus' ng-click='property.player.step(property, 100, "+")' ng-include='"shared/templates/components/svg/main/skip.html"'></a>
                            </li>
							<li>
								<a class='svg-36-24 stroke-white svg-stroke-9 radius-2 bg bg-campus' ng-click='property.player.resetAnim(property)' ng-include='"shared/templates/components/svg/main/sync.html"'></a>
							</li>
                            <li>
                                <span class='weight-600 bg-lake height-36 flex-center-vertical p10x radius-2 txt-20' ng-click='property.player.editDuration'>{{property.animation.duration}}</span>
                            </li>
                            <li>
                                <span class='semibold weight-400 bg-shamrock height-36 flex-center-vertical p10x radius-2 txt-20' ng-click='player.showEasings()'>{{property.animation.ease}}</span>
                            </li>
                            <li>
                                 <a class='svg-36-24 stroke-white svg-stroke-9 bg bg-campus' ng-click='playAnimation()'>
                                     <svg viewBox="0 0 100 100">
                                        <g fill="none" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M50,86 C69.882251,86 86,69.882251 86,50 C86,30.117749 69.882251,14 50,14 C30.117749,14 14,30.117749 14,50 C14,69.882251 30.117749,86 50,86 Z M43.7241379,61.8421053 L34.6774616,61.8421053 C31.0819054,61.8421053 28,59.0281397 28,55.7451798 L28,44.2548202 C28,40.9718603 31.0819054,38.1578947 34.6774616,38.1578947 L43.7241379,38.1578947 L43.7241379,61.8421053 Z M66,75 L66,25 L43.7241379,38.1578947 L43.7241379,61.8421053 L66,75 Z"></path>
                                            <path d="M24.4191932,74.6138154 L74.6189361,24.4140725" class="mute"></path>
                                        </g>
                                    </svg>
                                </a>
                            </li>
                            <li>
                                <a class='svg-36-24 stroke-white svg-stroke-9 bg bg-campus' ng-click='playAnimation()'>
                                    <svg viewBox="0 0 100 100" style="transform-origin: center center; transform: rotate(90deg)">
                                        <path d="M27,38 L51,14 L75,38 M51,14 L51,86" fill="none" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
                                    </svg>
                                </a>
                            </li>
						</ul>
					<!-- 	<ul class='full-x flex-wrap p15-grid' style="margin-top: -15px">

						</ul> -->
                    </div>
                    <div class='relative flex-wrap-center width-66p p20xy'>
                        <div class='absolute' style='width:90%; right:5%;'>
                            <svg ng-mousedown='property.addKeyFrame($event)' ng-mouseover="apc.showPercentage($event, animation)" class='full-x relative' viewBox="0 0 200 1" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
                            <!--  -->
                                <rect class='property-playbar-{{$index}}' rx="0.5"  width="200" height="1" fill="white"></rect>
                                <rect rx="0.5"  width="200" height="1" style='opacity:0.2' fill="#F1F1F1"></rect>
                            </svg>
                        </div>
                        <div class='absolute' style='width:95%; top:2%'>
                            <svg viewBox="0 0 100 100" class='absolute left-0 top-0'>
                                <a ng-click='property.player.play(property)'>
                                    <rect class='property-playball-{{$index}} absolute left-0' rx="10" width="4" x="0" height="4" fill="#F04F54"> </rect>
                                </a>
                                <g>
                                    <rect ng-if='kf_rule' ng-show="!property.player.active" ng-repeat='kf_rule in property.animation.keyframes' class='absolute' rx="10" width="1" y="1.5" kf-x="kf_rule.percent.str" height="1" fill="#F04F54"> </rect>
                                </g>
                            </svg>
                        </div>
                    </div>
                    <ul class='p15-grid ugrid-7 full-x txt-16 semibold relative z-index-100' style="margin-top: -15px" ng-if='property.player.showMore'>
                        <li>
							<span class="flex radius-2 overflow-hidden">
								<span class="bg-campus height-36 p10x flex-center-vertical">duration:</span>
								<span class="bg-white txt-slate p10x flex-center-vertical">{{property.settings.duration.display}}</span>
							</span>
                            <div class="m20top">
								<input max="{{property.settings.duration.range.max}}" step="{{property.settings.duration.range.step}}" min="{{property.settings.duration.range.min}}" ng-change="property.settings.update('duration', property.settings.duration.val)" type='range' size="2" ng-model="property.settings.duration.val"/>
							</div>
                        </li>
                        <li>
							<div class="flex-space-between">
								<span class="flex radius-2 overflow-hidden">
									<span class="bg-campus height-36 p10x flex-center-vertical">repetition:</span>
									<span class="bg-white txt-slate p10x flex-center-vertical">{{property.animation.iterationCount}}</span>
								</span>
								<span ng-class="{'opacity-20p': property.player.iterationCount !== 'infinite'}" class='height-36 flex-center radius-2 border-2 border-white border-solid txt-white p10x'>Infinite</span>
							</div>
							<div class="m20top">
                            	<input ng-change="property.player.update('iterationCount')" type='range' size="2" ng-model="property.player.iterationCount"/>
                            </div>
                        </li>
                        <li>
                            <span class="flex radius-2 overflow-hidden">
                                <span class="bg-campus height-36 p10x flex-center-vertical">delay:</span>
                                <span class="bg-white txt-slate p10x flex-center-vertical">{{property.settings.delay.display}}</span>
                            </span>
                            <div class="m20top">
                                <input max="{{property.settings.delay.range.max}}" step="{{property.settings.delay.range.step}}" min="{{property.settings.delay.range.min}}" ng-change="property.settings.update('delay', property.settings.delay.val)" type='range' size="2" ng-model="property.settings.delay.val"/>
                            </div>
                        </li>
                        <li>
							<span class="flex radius-2 overflow-hidden">
								<span class="bg-campus height-36 p10x flex-center-vertical">fill-mode:</span>
								<span class="bg-white txt-slate p10x flex-center-vertical">{{property.animation.fillMode}}</span>
							</span>
							<div class="m20top">
                            	<input ng-change="property.player.update('fillMode')" type='range' size="2" ng-model="property.player.delay"/>
							</div>
                        </li>
                        <li>
							<span class="flex radius-2 overflow-hidden">
								<span class="bg-campus height-36 p10x flex-center-vertical">direction:</span>
								<span class="bg-white txt-slate p10x flex-center-vertical">{{property.animation.direction}}</span>
							</span>
							<div class="m20top">
                            	<input ng-change="property.player.update('direction')" type='range' size="2" ng-model="property.player.delay"/>
							</div>
                        </li>
                        <li>
							<span class="flex radius-2 overflow-hidden">
								<span class="bg-campus height-36 p10x flex-center-vertical">name:</span>
								<input class="bg-white txt-slate p10x flex-center-vertical" ng-change="property.player.update('name')" ng-model="property.player.name" placeholder="{{property.animation.name}}"/>
								<!-- <span class="bg-white txt-slate p10x flex-center-vertical">{{property.animation.name}}</span> -->
							</span>
                        </li>
                        <li>
							<button ng-click='property.showExport = !property.showExport' class='radius-2 bg-moxie'>Export</button>
						</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>
