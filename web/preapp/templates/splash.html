<ion-view id='splash-view' ng-controller='SplashController as splash'>
    <div class="loader-scale-out"
        init-with='p:[tr:scale(50), op:1, z-index:10]'
        on-init="t:[on-exit]"
        on-exit="p:[t:all 500ms ease, op:0, z-index:-100]"></div>
    <main class='splash-landing' id="home-splash" eval-on-init="splash.activate()">
        <section id='splash-home' class='splash-hero bg-slate'
			init-with="p-op"
			on-init="p:[op:1, t:all 500ms ease]">
            <div class="absolute top-0 left-0 full-xy">
				<div class="full-xy"
					init-default
					init-with="p:[op:.25, bg:transparent, t:all 150ms ease-in-out]"
					when-category-dropdown-click="p:[bg:^hex_color]"></div>
			</div>

            <!-- @gabrielle-note, study this complex example to see what's going on-->
            <!-- <div on-init="p:[opacity:0, z-index:1000, transition:opacity 1500ms ease, opacity:1] | class:[add:opacity-0-impt]"
                ng-if="splash.state.nav" ng-include src="root.base_url + 'preapp/templates/splash.nav.html'" include-replace>
            </div> -->
            <div ng-if="splash.state.nav" ng-include src="root.base_url + 'preapp/templates/splash.nav.html'"
            	include-replace
				when-search-university-clicked="p:[opacity:0.5, t:all 600ms ease-in-out]"
				when-close-search-university="p:[opacity:1]">
			</div>

			<!-- Powerups -->
            <div ng-if="splash.state.powerups" ng-include src="root.base_url + 'preapp/templates/splash.powerups.html'" include-replace
				init-later></div>

			<!-- Sidebar -->
            <div ng-if="splash.state.sidebar" ng-include src="root.base_url + 'preapp/templates/splash.sidebar.html'" include-replace
				ini-later></div>

            <!-- Madlib -->
            <div ng-if="splash.state.madlib" ng-include src="root.base_url + 'preapp/templates/splash.madlib.html'" include-replace
				when-search-university-clicked="p:[opacity:1:0.5:600:easeInOutSine]"
				when-close-search-university="p:[opacity:0.5:1:600:easeInOutSine]">
			</div>

            <!-- Device -->
            <div class="absolute top-0 left-0 full-xy"
				ng-if="splash.state.device" ng-include src="root.base_url + 'preapp/templates/splash.device.html'" include-replace
				init-default
				on-init="p:[z-index:0]"
				when-category-dropdown-toggle-on="p:[opacity:1:0.25:500:easeInOutSine]:delay-50"
				when-category-dropdown-toggle-off="p:[opacity:0.25:1:500:easeInOutSine]"
				when-university-dropdown-toggle-on="p:[z-index:0:5:500:easeInOutSine]:delay-50"
				when-university-dropdown-toggle-off="p:[z-index:5:0:500:easeInOutSine]:delay-50"
				when-search-university-clicked="p:[opacity:1:0.5:600:easeInOutSine]"
				when-close-search-university="p:[opacity:0.5:1:600:easeInOutSine]">
            </div>

            <!-- Map -->
            <div ng-if="splash.state.map" ng-include src="root.base_url + 'preapp/templates/splash.map.html'" include-replace
				init-later></div>

            <!-- School Search -->
            <div ng-if="splash.state.universitySearch" ng-include src="root.base_url + 'preapp/templates/started/university-search.html'" include-replace
				init-later></div>

            <!-- Controls -->
            <!-- <div class='absolute' init-with="p:[opacity:0]">
                <div class="splash-hero-skip opacity-0 rollIn animated">
                    <button>Skip</button>
                </div>
            </div> -->

        </section>
    </main>
</ion-view>
