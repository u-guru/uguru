<ion-modal-view class='uguru-view courses-view student-courses-view full-xy' ng-controller='CoursesController'>
<section id="course" class="onboarding">
    <header class="third flex-center" ng-if='!studentCoursesModal.isShown() && !(profile && profile.edit_mode);'>
        <div>
            <h1 class="text-center">Add Your Courses</h1>
            <h2>Choose the classes you can tutor.</h2>
        </div>
        <div class="header-nav">
            <a class="header-nav-back" ng-click='goBackToStudentHome()'>
                <svg viewBox="0 0 100 100">
                    <path d="M68,86 L32,50 L68,14"></path>
                </svg>
                <h1>Back</h1>
            </a>
            <a class="header-nav-next" ng-click='nextSlide()'>
                <h1>Next</h1>
                <svg viewBox="0 0 100 100">
                    <path d="M32,86 L68,50 L32,14"></path>
                </svg>
            </a>
        </div>
        <div class="onboarding-search absolute center-x bottom-0 full-x" keyboard-focus>
            <div class="input-field">
                <i class="material-icons prefix">
                    <svg viewBox="0 0 100 100">
                        <path d="M42.5,71 C58.2401154,71 71,58.2401154 71,42.5 C71,26.7598846 58.2401154,14 42.5,14 C26.7598846,14 14,26.7598846 14,42.5 C14,58.2401154 26.7598846,71 42.5,71 Z M62.994485,62.994485 L85.6624699,85.6624699"></path>
                    </svg>
                </i>
                <!-- <input id='course-input-1' autocomplete="off" type="text" ng-model="search_text.course" class='bg-charcoal'> -->
                <input type="text" name="prefix" class="bg-charcoal" fast-matcher fast-matcher-source="courses" fast-matcher-output="search_text.matching" fast-matcher-properties="short_name, full_name, variations" ng-disabled="!courses || !courses.length" ng-model="search_text.course"
                />

                <!--
                    unused (ng) options
                    placeholder="{{inputPlaceholder}}"
                    fast-matcher-index-changed="ctrl.setCurrentBook(index)"
                    fast-matcher-item-selected="ctrl.selectBook(item)"

                    -->
                <label for="course-input-1" class="ng-class:{'hide': search_text.course.length}">
                    <span ng-show='courses.length'> search among {{courses.length}} popular courses </span>
                    <span ng-hide='courses.length'> search popular courses </span>
                </label>
                <a class="side-icon desktop-input-close-icon activated" ng-click="search_text.course = '';" ng-if="search_text.course.trim().length > 0">

                    <i class="icon ion-close-circled text-white"></i>
                </a>
            </div>
        </div>
    </header>
    <header ng-if='studentCoursesModal.isShown() || (profile && profile.edit_mode);' class='third flex-center'>
        <div class="header-nav">
            <a class="header-down" ng-click="studentCoursesModal.hide()">
                <svg viewBox="0 0 100 100">
                    <path d="M14,32 L50,68 L86,32"></path>
                </svg>
            </a>
        </div>
        <h1 class="text-center">Edit Courses</h1>
        <div class="onboarding-search input-search-ghost absolute center-x bottom-0 full-x p10xy" keyboard-focus>
            <input type="search" id='course-input-2' autocomplete="off" placeholder="My courses are..." ng-model="search_text.course">

            <a ng-if='search_text.course.length > 0' ng-click='clearSearchInput();' class="course-input-close side-icon">
                <i class='icon ion-close-circled'> </i>
            </a>
        </div>
    </header>
    <div id="courses-list" class="onboarding-list">
        <ul class='list list-item-border no-icon'>
            <li ng-click='removeStudentCourseAndUpdate(course, $index)' ng-repeat='course in user.student_courses' ng-if="user.student_courses.length > 0 && search_text.course.length === 0" class="course-item selected bg-charcoal">

                    <input type="checkbox" checked ng-change='alwaysTrue = true;' ng-model='alwaysTrue'>
                    <!-- <span class="course-name txt-white">{{course.department_short}} {{course.code}}
                    </span> -->
                    <label>
                        <span class="course-name">{{course.department_long}} {{course.code}}</span>
                        <span class="course-title" ng-if="course.full_name">{{course.full_name}}</span>
                    </label>

            </li>
            <li ng-repeat='course in courses| filter:search_text.course:strict | limitTo: 10 track by course.id' ng-click='addSelectedStudentCourse(course)'>
                <input type="checkbox">
                <label>
                    <span class="course-name">{{course.department_long}} {{course.code}}</span>
                    <span class="course-title" ng-if="course.full_name">{{course.full_name}}</span>
                </label>
            </li>
        </ul>
    </div>
</section>
</ion-modal-view>
