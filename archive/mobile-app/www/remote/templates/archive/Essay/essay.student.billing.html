<ion-view>
	<main id='desktop-balance' class="sidebar-layout student-mode desktop-mode" ng-if='desktopMode'>
		<header class="desktop-header">
			<a></a>
			<a class='cta-modal-close close-button desktop-header-next'>
				<svg viewBox="0 0 100 100">
					<path d="M50,50 L50,14 L50,50 L14,50 L50,50 Z M50,50 L50,86 L50,50 L86,50 L50,50 Z"></path>
				</svg>
			</a>
		</header>
		<div class="main" ng-controller='PaymentsController'>
			<ion-pane id='cta-modal-payments' class='full-xy hide-display cta-modal'>
				<div class='full-xy absolute top-0 left-0 guru-desktop-forms'>
					<div class="main flex-wrap-center" ng-include="img_base + BASE + 'templates/desktop.payment.forms.container.html'"></div>
				</div>
			</ion-pane>
			<div>
				<aside>
					<h2>Past Transactions</h2>
					<ul class="sidebar-layout-list">
						<li ng-repeat='transaction in user.student_transactions'>
							<div>
								<h3>
									You purchased
									<span> {{transaction.request.hs_request_option.toLowerCase()}} Help</span> from a
									<span>{{transaction.request.university.short_name || transaction.request.university.name}}</span> Guru
								</h3>

								<!-- Time processing-->
								<span>
									<!--27 Dec 2015-->
									{{transaction.time.date}} {{transaction.time.month}} {{transaction.time.year}} on
									<!--27 Dec 2015-->
									{{transaction.time.hour + ':' + transaction.time.minutes + ' ' + transaction.time.amPM}}
								</span>
							</div>
							<span class='relative'>
								<span class="chip bg-charcoal uppercase weight-900">${{transaction.student_amount || '10'}}</span>
								<div class='mini-card'>
									<span>{{transaction.card.card_type}}</span>
									<span>**{{transaction.card.card_last4}}</span>
								</div>
							</span>
						</li>
					</ul>
				</aside>
				<div class="text-center" id='billing-card-container'>
					<div>
						<div>
							<h1>My Cards</h1>
						</div>
						<div class="balance-cards">
							<h4>Choose Default Card</h4>
							<ul class="ugrid-3">
								<li ng-repeat='card in user.payment_cards | limitTo:3'>
									<a class='credit-card-wrapper' ng-click='editPayment(card)'>
										<!-- BIND -->
										<div id="credit-card-visa" class="credit-card cf relative">
											<!-- BIND -->
											<span class="card-type absolute left-0 top-0 m15xy" ng-include="img_base + BASE + 'templates/cards/'+ card.card_type +'.html'"></span>
											<span class="text-right absolute top-0 right-0 m15x m15y card-type txt-slate weight-700 uppercase">
												<span class='txt-smoke' style='padding:0;'>DEFAULT</span>
												<span style='padding:0;' class='no-padding-y'>Debit Card</span>
											</span>
											<div class="card-number">**** **** **** {{card.card_last4}}</div>
											<div class="card-name">{{user.name}}</div>
											<div class="valid">
												<div class="group">Valid
													<br/>Thru</div>
												<div class="expiry">**/**</div>
											</div>
										</div>
									</a>
									<div class='text-center' ng-if='card.is_default_transfer'>
										<h3 class='p10xy'>
											<strong class='uppercase txt-shamrock'>Default</strong>
										</h3>
									</div>
								</li>
							</ul>
						</div>

						<div class="balance-add" ng-controller='PaymentsController'>
							<h4>or Add A Card</h4>
							<ul>
								<li>
									<a class='credit-card-wrapper'>
										<div id="credit-card-visa" class="credit-card cf relative">
											<span class="card-type absolute left-0 top-0 m15xy" ng-include="img_base + BASE + 'templates/cards/visa.html'"></span>
											<span class="text-right absolute top-0 right-0 m15x m15y card-type txt-slate weight-700 uppercase">
												<span class='txt-smoke' style='padding:0;'>DEFAULT</span>
												<span style='padding:0;' class='no-padding-y'>Debit Card</span>
											</span>
											<div class="card-number">**** **** **** 4242</div>
											<div class="card-name">{{user.name}}</div>
											<div class="valid">
												<div class="group">Valid
													<br/>Thru</div>
												<div class="expiry">**/**</div>
											</div>
										</div>
									</a>
								</li>
								<li>
									<form>
										<div class="input-field relative">
											<input ng-model='root.vars.cardForm.number' ng-disabled='root.vars.cardForm.view_only' autocomplete="off" id="card-number" type="tel" class="validate" />
											<label for="email" class="ng-class:{'active':root.vars.cardForm.number.length}">Card Number</label>
											<a ng-show="root.vars.cardForm.number.length" ng-click='root.vars.cardForm.number = "";' class="desktop-input-close-icon side-icon">
												<i class='icon ion-close-circled'> </i>
											</a>
										</div>
										<ul class="ugrid-2">
											<li>
												<div class="input-field">
													<input autocomplete="off" ng-disabled='root.vars.cardForm.view_only' ng-model='root.vars.cardForm.exp' id="exp-date" type="tel" class="validate" />
													<label for="password" class="ng-class:{'active':root.vars.cardForm.exp.length}">Expiration Date</label>
													<a ng-show="root.vars.cardForm.exp.length" ng-click='root.vars.cardForm.exp = "";' class="desktop-input-close-icon side-icon">
														<i class='icon ion-close-circled'> </i>
													</a>
												</div>
											</li>
											<li>
												<div class="input-field">
													<input autocomplete="off" ng-disabled='root.vars.cardForm.view_only' id="cvv-number" type="tel" class="validate" value="123" />
													<label for="password" class="active">CVV</label>
													<a class="desktop-input-close-icon side-icon">
														<i class='icon ion-close-circled'> </i>
													</a>
												</div>
											</li>
										</ul>
										<div class="desktop-login-buttons">
											<button class="bg-moola caps hide ng-class:{'show':!root.vars.cardForm.view_only}" ng-click='savePayment()'>Add Card</button>
										</div>
									</form>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
</ion-view>