<div class="full-xy">
	<header class='bg-robin txt-center flex-center'>
		<h1 class="txt-white weight-700 txt-28">Bug Detail</h1>
		<span class="block p15x-p10y bg-white txt-moxie radius-2 caps txt-18 semibold" ng-if="selected_bug.fixedDate">Fixed {{selected_bug.fixedDate.toUTCString()}}</span>
		<a class='svg-white svg-36 svg-stroke-8 absolute top-0 right-0 close-icon m10xy' ng-if='!isEditMode' ng-click="closeBug()">
			<svg viewBox="0 0 100 100">
				<path d="M50,50 L50,14 L50,50 L14,50 L50,50 Z M50,50 L50,86 L50,50 L86,50 L50,50 Z"></path>
			</svg>
		</a>
	</header>
	<div class="bg-slate-50p" style="height: calc(100% - 58px)!important">
		<h1 class='p15xy bg-robin-80p txt-center txt-20 semibold'>{{selected_bug.title}}</h1>
		<div class="full-x overflow-auto no-scrollbar">
			<ul class="p15-grid flex">
				<li>
					<a class="block" href="http://data.whicdn.com/images/64354977/original.jpg"><img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/></a>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<li>
					<img class="block height-128" src="http://data.whicdn.com/images/64354977/original.jpg"/>
				</li>
				<!-- <li ng-repeat='shot in selected_bug.screenshot'>
					<a src ='{{shot}}'>
						<img src ='{{shot}}'></img>
					</a>
				</li>
				<li>
					<img src='https://files.slack.com/files-pri/T052B7MCK-F12DF12TF/2016-04-20_15_29_24.png'></img>
				</li> -->
			<ul>
		</div>
		<div class="ugrid-2" style="height: calc(100% - 54px - 158px - 66px)">
			<ul class="bg-charcoal full-y overflow-auto p15-grid no-scrollbar">
				<li class="flex-stretch">
					<span class="block bg-rocket p10y-p15x radius-2-left txt-18 semibold">file&nbsp;names</span>
					<span class="block bg-slate p10y-p15x radius-2-right txt-18 semibold full-x txt-white" ng-if='!isEditMode'>{{selected_bug.file_names}}</span>
					<input class="full-x flex-center-vertical p15x radius-2-right txt-18 semibold" style="height: 40px;"  ng-model='selected_bug.file_names' ng-if='isEditMode' ></input>
				</li>

				<li class="flex-stretch">
					<span class="block bg-rocket p10y-p15x radius-2-left txt-18 semibold">file&nbsp;type</span>
					<span class="block bg-slate p10y-p15x radius-2-right txt-18 semibold full-x txt-white" ng-if='!isEditMode'>{{selected_bug.file_type}}</span>
					<input class="full-x flex-center-vertical p15x radius-2-right txt-18 semibold" style="height: 40px;"  ng-model='selected_bug.file_type' ng-if='isEditMode' ></input>
				</li>
				<li class="flex-stretch">
					<span class="block bg-rocket p10y-p15x radius-2-left txt-18 semibold">notes</span>
					<span class="block bg-slate p10y-p15x radius-2-right txt-18 semibold full-x txt-white" ng-if='!isEditMode'>{{selected_bug.notes}}</span>
					<textarea class="full-x p10y-p15x radius-2-right txt-18 semibold" ng-model='selected_bug.notes'ng-if='isEditMode'></textarea>
				</li>
				<li class="flex-stretch">
					<span class="block bg-rocket p10y-p15x radius-2-left txt-18 semibold">rank</span>
					<span class="block bg-slate p10y-p15x radius-2-right txt-18 semibold full-x txt-white" ng-if='!isEditMode'>{{selected_bug.rank}}</span>
					<input type='number' min='0' class="full-x flex-center-vertical p15x radius-2-right txt-18 semibold" style="height: 40px;"  ng-model='selected_bug.rank' ng-if='isEditMode' ></input>
				</li>
				<li class="flex-stretch">
					<span class="block bg-rocket p10y-p15x radius-2-left txt-18 semibold">element</span>
					<span class="block bg-slate p10y-p15x radius-2-right txt-18 semibold full-x txt-white" ng-if='!isEditMode'>{{selected_bug.element}}</span>
					<input class="full-x flex-center-vertical p15x radius-2-right txt-18 semibold" style="height: 40px;" ng-model='selected_bug.element' ng-if='isEditMode'></input>
				</li>
				<li class="flex-stretch-space-between">
					<span class="block bg-rocket p10y-p15x txt-18 semibold" ng-class="{'radius-2-left': !isEditMode, 'radius-2': isEditMode}">priority</span>
					<span class="block bg-slate p10y-p15x radius-2-right txt-18 semibold full-x txt-white" ng-if='!isEditMode'>{{selected_bug.priority}}</span>
					<div class="toggle" style="margin-top: 2px" ng-if='isEditMode'>
						<input type="checkbox" ng-model='selected_bug.priority' />
						<label>
							<svg class="square" viewBox="0 0 100 100">
								<rect x="0" y="0" width="100" height="100"></rect>
							</svg>
							<svg class="square" viewBox="0 0 100 100">
								<rect x="0" y="0" width="100" height="100"></rect>
							</svg>
							<span></span>
						</label>
					</div>
				</li>
				<li class="flex-stretch">
					<span class="block bg-rocket p10y-p15x radius-2-left txt-18 semibold">difficulty</span>
					<span class="block bg-slate p10y-p15x radius-2-right txt-18 semibold full-x txt-white" ng-if='!isEditMode' >{{selected_bug.difficulty}}</span>
					<div ng-if='isEditMode' >
						<span>[low to high]</span>
						<a ng-repeat="i in [0,1,2,3,4,5,6,7,8,9,10]" ng-click="selected_bug.difficulty = i">
							<span>{{i}}</span>
						</a>
					</div>

				</li>

<!-- 				<li class="flex-stretch">
					<span class="block bg-rocket p10y-p15x radius-2-left txt-18 semibold">impact&nbsp;file</span>
					<span class="block bg-slate p10y-p15x radius-2-right txt-18 semibold full-x txt-white">{{selected_bug.impact_file}}</span>
				</li> -->

				<li class="flex-stretch">
					<span class="block bg-rocket p10y-p15x radius-2-left txt-18 semibold">error&nbsp;msg</span>
					<span class="block bg-slate p10y-p15x radius-2-right txt-18 semibold full-x txt-white">{{selected_bug.error_msg}}</span>
				</li>
			</ul>
			<div class="full-y bg-slate overflow-auto no-scrollbar">
				<div class='tag-list' ng-if="false">
					<h1 class="p15x-p15top semibold">Impact Files :</h1>
					<ul >
						<li ng-repeat="file in selected_bug.impact_file">
							<a class="chip bg bg-robin">
								<span ng-if='isEditMode'>&times;&nbsp;&nbsp;</span>
								<span>{{file}}</span>
							</a>
						</li>
						<li>
							<input ng-if='isEditMode' tabindex="1" class='chip tag-add' ng-model='advanceSearch.tags.empty_tag.content' ng-blur='advanceSearch.tags.add(advanceSearch.tags.empty_tag.content)'  ng-keyup="($event.keyCode == 13 || $event.keyCode == 9) && advanceSearch.tags.add(advanceSearch.tags.empty_tag.content)" placeholder="+ add a tag" size="{{advanceSearch.tags.empty_tag.content.length || 10}}">
						</li>
					</ul>
				</div>

				<h1 class="p15x-p15top semibold">Platforms :</h1>
				<div class='tag-list'>
					<ul>
						<li ng-repeat="platform in selected_bug.platforms">
							<a class="chip bg bg-robin">
								<span ng-if='isEditMode' ng-click='removePlatform($index)'>&times;&nbsp;&nbsp;</span>
								<span>{{platform}}</span>
							</a>
						</li>
						<li>
							<input ng-if='isEditMode' tabindex="1" class='chip tag-add' ng-model='empty_platform' ng-blur='empty_platform = addNewPlatform(empty_platform)'  ng-keyup="($event.keyCode == 13 || $event.keyCode == 9)&& (empty_platform = addNewPlatform(empty_platform))" placeholder="+ add a tag" size="{{empty_platform.length || 10}}">
						</li>
					</ul>
				</div>

				<h1 class="p15x-p15top semibold">Tags :</h1>
				<div class='tag-list'>
					<ul>
						<li ng-repeat="tag in selected_bug.tags">
							<a class="chip bg bg-robin" >
								<span ng-if='isEditMode'ng-click='removeTag($index)'>&times;&nbsp;&nbsp;</span>
								<span>{{tag}}</span>
							</a>
						</li>
						<li>
							<input ng-if='isEditMode' tabindex="1" class='chip tag-add' ng-model='empty_tag' ng-blur='empty_tag = addNewTag(empty_tag)'  ng-keyup="($event.keyCode == 13 || $event.keyCode == 9)&& (empty_tag = addNewTag(empty_tag))" placeholder="+ add a tag" size="{{empty_tag.length || 10}}">
						</li>
					</ul>
				</div>
				<div class="error bg-crimson m15x p10y-p15x radius-2 txt-white semibold txt-18 hide" ng-class="{'show': error_msg}">{{error_msg}}</div>
			</div>
		</div>
		<div class="flex-space-between">
			<ul class="p15-grid flex">
				<li>
					<button class="bg-moxie radius-2 height-36 txt-18" ng-click='editMode()' ng-if='!isEditMode'>Edit Bug</button>
				</li>

				<li>
					<button class="bg-moxie radius-2 height-36 txt-18" ng-click='saveBug($index)' ng-if='isEditMode'>Save Bug</button>
				</li>

				<li>
					<button class="bg-moxie radius-2 height-36 txt-18" ng-click='reviseBug()' ng-if='isEditMode'>Undo Bug</button>
				</li>
				<li>
					<button class="bg-moxie radius-2 height-36 txt-18" ng-if='!selected_bug.fixed' ng-click='fixBug()'>Fixed !</button>
					<button class="bg-moxie radius-2 height-36 txt-18" ng-if='selected_bug.fixed' ng-click='unfixBug()'>JK! it is not fixed yet :P </button>

				</li>

			</ul>
			<ul class="p15-grid flex">
				<li ng-if='selected_bug.index != 0 && !isEditMode'>
					<button class="bg-robin radius-2 height-36 txt-18" ng-click='preBug()'>Previous</button>
				</li>
				<li>
					<button class="bg-robin radius-2 height-36 txt-18" ng-click='saveBug($index);closeBug();'>Save & Close</button>
				</li>
				<li ng-if='selected_bug.index < bugs.length-1 && !isEditMode'>
					<button class="bg-robin radius-2 height-36 txt-18" ng-click='nextBug()'>Next</button>
				</li>
			</ul>
		</div>
	</div>
</div>