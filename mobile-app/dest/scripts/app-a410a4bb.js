function getDistanceFromLatLonInKm(e,t,n,i){var r=6371,o=deg2rad(n-e),s=deg2rad(i-t),a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(deg2rad(e))*Math.cos(deg2rad(n))*Math.sin(s/2)*Math.sin(s/2),l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),u=r*l;return u}function deg2rad(e){return e*(Math.PI/180)}function getNearestUniversity(e,t,n,i,r,o,s,a){var l=function(e){var t=e.length;if(2>t)return e;var n=Math.ceil(t/2),i=u(l(e.slice(0,n)),l(e.slice(n)));return i},u=function(n,i){for(var r=[];n.length>0&&i.length>0;)uni_1_lat=n[0].location.latitude,uni_1_long=n[0].location.longitude,uni_2_lat=i[0].location.latitude,uni_2_long=i[0].location.longitude,d1=getDistanceFromLatLonInKm(e,t,uni_1_lat,uni_1_long),d2=getDistanceFromLatLonInKm(e,t,uni_2_lat,uni_2_long),n[0].miles=parseInt(d1/.62*10)/10,i[0].miles=parseInt(d2/.62*10)/10,r.push(d1<d2?n.shift():i.shift());return r=r.concat(n,i)},c=l(n);return o["static"].nearest_universities=c,s&&s(o,a),c.slice(0,10)}!function(){function e(e,t,n){t!==!1?B.addEventListener(e,K[e],n):B.removeEventListener(e,K[e])}function t(e){var t=y(e.target),i=_(t);if(ionic.tap.requiresNativeClick(i)||R)return!1;var r=ionic.tap.pointerCoord(e);n("click",i,r.x,r.y),g(i)}function n(e,t,n,i){var r=document.createEvent("MouseEvents");r.initMouseEvent(e,!0,!0,window,1,0,0,n,i,!1,!1,!1,!1,0,null),r.isIonicTap=!0,t.dispatchEvent(r)}function i(e){return"submit"==e.target.type&&0===e.detail||!(ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(e.target)||!e.isIonicTap&&!ionic.tap.requiresNativeClick(e.target))?void 0:(e.stopPropagation(),ionic.tap.isLabelWithTextInput(e.target)||e.preventDefault(),!1)}function r(t){if(!t.isIonicTap&&!p(t)){if(N)return t.stopPropagation(),ionic.tap.isTextInput(t.target)&&H===t.target||/^(select|option)$/i.test(t.target.tagName)||t.preventDefault(),!1;R=!1,V=ionic.tap.pointerCoord(t),e("mousemove"),ionic.activator.start(t)}}function o(n){return N?(n.stopPropagation(),n.preventDefault(),!1):p(n)||/^(select|option)$/i.test(n.target.tagName)?!1:(b(n)||t(n),e("mousemove",!1),ionic.activator.end(),void(R=!1))}function s(t){return b(t)?(e("mousemove",!1),ionic.activator.end(),R=!0,!1):void 0}function a(t){if(!p(t)&&(R=!1,d(),V=ionic.tap.pointerCoord(t),e(U),ionic.activator.start(t),ionic.Platform.isIOS()&&ionic.tap.isLabelWithTextInput(t.target))){var n=_(y(t.target));n!==F&&t.preventDefault()}}function l(e){p(e)||(d(),b(e)||(t(e),/^(select|option)$/i.test(e.target.tagName)&&e.preventDefault()),H=e.target,c())}function u(t){return b(t)?(R=!0,e(U,!1),ionic.activator.end(),!1):void 0}function c(){e(U,!1),ionic.activator.end(),R=!1}function d(){N=!0,clearTimeout(G),G=setTimeout(function(){N=!1},2e3)}function p(e){return e.isTapHandled?!0:(e.isTapHandled=!0,ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(e.target)?(e.preventDefault(),!0):void 0)}function g(e){z=null;var t=!1;"SELECT"==e.tagName?(n("mousedown",e,0,0),e.focus&&e.focus(),t=!0):v()===e?t=!0:/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable?(t=!0,e.focus&&e.focus(),e.value=e.value,N&&(z=e)):h(),t&&(v(e),ionic.trigger("ionic.focusin",{target:e},!0))}function h(){var e=v();e&&(/^(input|textarea|select)$/i.test(e.tagName)||e.isContentEditable)&&e.blur(),v(null)}function f(e){N&&ionic.tap.isTextInput(v())&&ionic.tap.isTextInput(z)&&z!==e.target&&(z.focus(),z=null),ionic.scroll.isScrolling=!1}function m(){v(null)}function v(e){return arguments.length&&(F=e),F||document.activeElement}function b(e){if(!e||1!==e.target.nodeType||!V||0===V.x&&0===V.y)return!1;var t=ionic.tap.pointerCoord(e),n=!(!e.target.classList||!e.target.classList.contains||"function"!=typeof e.target.classList.contains),i=n&&e.target.classList.contains("button")?Y:W;return Math.abs(V.x-t.x)>i||Math.abs(V.y-t.y)>i}function y(e,t){for(var n=e,i=0;6>i&&n;i++){if("LABEL"===n.tagName)return n;n=n.parentElement}return t!==!1?e:void 0}function _(e){if(e&&"LABEL"===e.tagName){if(e.control)return e.control;if(e.querySelector){var t=e.querySelector("input,textarea,select");if(t)return t}}return e}function w(){O()?(window.addEventListener("native.keyboardshow",$),window.addEventListener("native.keyboardhide",C),window.addEventListener("native.showkeyboard",$),window.addEventListener("native.hidekeyboard",C)):document.body.addEventListener("focusout",C),document.body.addEventListener("ionic.focusin",x),document.body.addEventListener("focusin",x),document.body.addEventListener("orientationchange",A),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerDown",w):document.removeEventListener("touchstart",w)}function $(e){clearTimeout(J),ionic.keyboard.height=e.keyboardHeight}function x(e){e.target&&!e.target.readOnly&&ionic.tap.isTextInput(e.target)&&!ionic.tap.isDateInput(e.target)&&j(e.target)&&(document.addEventListener("keydown",E,!1),document.body.scrollTop=0,document.body.querySelector(".scroll-content").scrollTop=0,X=e.target,k(e))}function k(e){clearTimeout(Z),clearTimeout(J),Z=setTimeout(function(){if(!(te+350>Date.now())){te=Date.now();var t,n=X.getBoundingClientRect(),i=0;Q=setInterval(function(){t=D(),i>10&&(clearInterval(Q),t=275),t&&(clearInterval(Q),S(e.target,n.top,n.bottom,ee,t)),i++},100)}},32)}function S(e,t,n,i,r){var o={target:e,elementTop:Math.round(t),elementBottom:Math.round(n),keyboardHeight:r,viewportHeight:i};return o.hasPlugin=O(),o.contentHeight=i-r,o.isElementUnderKeyboard=o.elementBottom>o.contentHeight,ionic.keyboard.isOpen=!0,X=e,ionic.trigger("scrollChildIntoView",o,!0),ionic.requestAnimationFrame(function(){document.body.classList.add(ne)}),window.navigator.msPointerEnabled?document.addEventListener("MSPointerMove",M,!1):document.addEventListener("touchmove",M,!1),o}function C(){clearTimeout(J),J=setTimeout(ionic.keyboard.hide,350)}function T(){P()>ee&&(ee=P())}function E(e){ionic.scroll.isScrolling&&M(e)}function M(e){"TEXTAREA"!==e.target.tagName&&e.preventDefault()}function A(){var e=P();if(e===ee)var t=0,n=setInterval(function(){t>10&&clearInterval(n),e=P(),e!==ee&&(ionic.keyboard.landscape=ee>e?!0:!1,ee=e,clearInterval(n)),t++},50);else ee=e}function D(){return ionic.keyboard.height?ionic.keyboard.height:ionic.Platform.isAndroid()?ionic.Platform.isFullScreen?275:P()<ee?ee-P():0:ionic.Platform.isIOS()?ionic.keyboard.landscape?206:ionic.Platform.isWebView()?260:216:275}function P(){return window.innerHeight||screen.height}function j(e){for(;e;){if(e.classList.contains(ie))return!0;e=e.parentElement}return!1}function O(){return!!(window.cordova&&cordova.plugins&&cordova.plugins.Keyboard)}function q(){var e;for(e=0;e<document.head.children.length;e++)if("viewport"==document.head.children[e].name){re=document.head.children[e];break}if(re){var t,n=re.content.toLowerCase().replace(/\s+/g,"").split(",");for(e=0;e<n.length;e++)n[e]&&(t=n[e].split("="),oe[t[0]]=t.length>1?t[1]:"_");I()}}function I(){var e=oe.width,t=oe.height,n=ionic.Platform,i=n.version(),r="device-width",o="device-height",s=ionic.viewport.orientation();delete oe.height,oe.width=r,n.isIPad()?i>7?delete oe.width:n.isWebView()?90==s?oe.height="0":7==i&&(oe.height=o):7>i&&(oe.height="0"):n.isIOS()&&(n.isWebView()?i>7?delete oe.width:7>i?t&&(oe.height="0"):7==i&&(oe.height=o):7>i&&t&&(oe.height="0")),(e!==oe.width||t!==oe.height)&&L()}function L(){var e,t=[];for(e in oe)oe[e]&&t.push(e+("_"==oe[e]?"":"="+oe[e]));re.content=t.join(", ")}window.ionic=window.ionic||{},window.ionic.views={},window.ionic.version="1.0.0-rc.0",function(e){e.DelegateService=function(e){function t(){return!0}if(e.indexOf("$getByHandle")>-1)throw new Error("Method '$getByHandle' is implicitly added to each delegate service. Do not list it as a method.");return["$log",function(n){function i(e,t){this._instances=e,this.handle=t}function r(){this._instances=[]}function o(e){return function(){var t,i=this.handle,r=arguments,o=0;return this._instances.forEach(function(n){if((!i||i==n.$$delegateHandle)&&n.$$filterFn(n)){o++;var s=n[e].apply(n,r);1===o&&(t=s)}}),!o&&i?n.warn('Delegate for handle "'+i+'" could not find a corresponding element with delegate-handle="'+i+'"! '+e+"() was not called!\nPossible cause: If you are calling "+e+'() immediately, and your element with delegate-handle="'+i+'" is a child of your controller, then your element may not be compiled yet. Put a $timeout around your call to '+e+"() and try again."):t}}return e.forEach(function(e){i.prototype[e]=o(e)}),r.prototype=i.prototype,r.prototype._registerInstance=function(e,n,i){var r=this._instances;return e.$$delegateHandle=n,e.$$filterFn=i||t,r.push(e),function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}},r.prototype.$getByHandle=function(e){return new i(this._instances,e)},new r}]}}(window.ionic),function(e,t,n){function i(){o=!0;for(var e=0;e<r.length;e++)n.requestAnimationFrame(r[e]);r=[],t.removeEventListener("DOMContentLoaded",i)}var r=[],o="complete"===t.readyState||"interactive"===t.readyState;o||t.addEventListener("DOMContentLoaded",i),e._rAF=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,16)}}();var s=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame;n.DomUtil={requestAnimationFrame:function(t){return e._rAF(t)},cancelAnimationFrame:function(e){s(e)},animationFrameThrottle:function(e){var t,i,r;return function(){t=arguments,r=this,i||(i=!0,n.requestAnimationFrame(function(){e.apply(r,t),i=!1}))}},contains:function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}},getPositionInParent:function(e){return{left:e.offsetLeft,top:e.offsetTop}},ready:function(e){o?n.requestAnimationFrame(e):r.push(e)},getTextBounds:function(n){if(t.createRange){var i=t.createRange();if(i.selectNodeContents(n),i.getBoundingClientRect){var r=i.getBoundingClientRect();if(r){var o=e.scrollX,s=e.scrollY;return{top:r.top+s,left:r.left+o,right:r.left+o+r.width,bottom:r.top+s+r.height,width:r.width,height:r.height}}}}return null},getChildIndex:function(e,t){if(t)for(var n,i=e.parentNode.children,r=0,o=0,s=i.length;s>r;r++)if(n=i[r],n.nodeName&&n.nodeName.toLowerCase()==t){if(n==e)return o;o++}return Array.prototype.slice.call(e.parentNode.children).indexOf(e)},swapNodes:function(e,t){t.parentNode.insertBefore(e,t)},elementIsDescendant:function(e,t,n){var i=e;do{if(i===t)return!0;i=i.parentNode}while(i&&i!==n);return!1},getParentWithClass:function(e,t,n){for(n=n||10;e.parentNode&&n--;){if(e.parentNode.classList&&e.parentNode.classList.contains(t))return e.parentNode;e=e.parentNode}return null},getParentOrSelfWithClass:function(e,t,n){for(n=n||10;e&&n--;){if(e.classList&&e.classList.contains(t))return e;e=e.parentNode}return null},rectContains:function(e,t,n,i,r,o){return n>e||e>r?!1:i>t||t>o?!1:!0},blurAll:function(){return t.activeElement&&t.activeElement!=t.body?(t.activeElement.blur(),t.activeElement):null},cachedAttr:function(e,t,n){if(e=e&&e.length&&e[0]||e,e&&e.setAttribute){var i="$attr-"+t;return arguments.length>2?e[i]!==n&&(e.setAttribute(t,n),e[i]=n):"undefined"==typeof e[i]&&(e[i]=e.getAttribute(t)),e[i]}},cachedStyles:function(e,t){if(e=e&&e.length&&e[0]||e,e&&e.style)for(var n in t)e["$style-"+n]!==t[n]&&(e.style[n]=e["$style-"+n]=t[n])}},n.requestAnimationFrame=n.DomUtil.requestAnimationFrame,n.cancelAnimationFrame=n.DomUtil.cancelAnimationFrame,n.animationFrameThrottle=n.DomUtil.animationFrameThrottle}(window,document,ionic),function(e){e.CustomEvent=function(){if("function"==typeof window.CustomEvent)return CustomEvent;var e=function(e,t){var n;t=t||{bubbles:!1,cancelable:!1,detail:void 0};try{n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(i){n=document.createEvent("Event");for(var r in t)n[r]=t[r];n.initEvent(e,t.bubbles,t.cancelable)}return n};return e.prototype=window.Event.prototype,e}(),e.EventController={VIRTUALIZED_EVENTS:["tap","swipe","swiperight","swipeleft","drag","hold","release"],trigger:function(t,n,i,r){var o=new e.CustomEvent(t,{detail:n,bubbles:!!i,cancelable:!!r});n&&n.target&&n.target.dispatchEvent&&n.target.dispatchEvent(o)||window.dispatchEvent(o)},on:function(t,n,i){for(var r=i||window,o=0,s=this.VIRTUALIZED_EVENTS.length;s>o;o++)if(t==this.VIRTUALIZED_EVENTS[o]){var a=new e.Gesture(i);return a.on(t,n),a}r.addEventListener(t,n)},off:function(e,t,n){n.removeEventListener(e,t)},onGesture:function(t,n,i,r){var o=new e.Gesture(i,r);return o.on(t,n),o},offGesture:function(e,t,n){e&&e.off(t,n)},handlePopState:function(){}},e.on=function(){e.EventController.on.apply(e.EventController,arguments)},e.off=function(){e.EventController.off.apply(e.EventController,arguments)},e.trigger=e.EventController.trigger,e.onGesture=function(){return e.EventController.onGesture.apply(e.EventController.onGesture,arguments)},e.offGesture=function(){return e.EventController.offGesture.apply(e.EventController.offGesture,arguments)}}(window.ionic),function(e){function t(){if(!e.Gestures.READY){e.Gestures.event.determineEventTypes();for(var t in e.Gestures.gestures)e.Gestures.gestures.hasOwnProperty(t)&&e.Gestures.detection.register(e.Gestures.gestures[t]);e.Gestures.event.onTouch(e.Gestures.DOCUMENT,e.Gestures.EVENT_MOVE,e.Gestures.detection.detect),e.Gestures.event.onTouch(e.Gestures.DOCUMENT,e.Gestures.EVENT_END,e.Gestures.detection.detect),e.Gestures.READY=!0}}e.Gesture=function(t,n){return new e.Gestures.Instance(t,n||{})},e.Gestures={},e.Gestures.defaults={stop_browser_behavior:"disable-user-behavior"},e.Gestures.HAS_POINTEREVENTS=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,e.Gestures.HAS_TOUCHEVENTS="ontouchstart"in window,e.Gestures.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,e.Gestures.NO_MOUSEEVENTS=e.Gestures.HAS_TOUCHEVENTS&&window.navigator.userAgent.match(e.Gestures.MOBILE_REGEX),e.Gestures.EVENT_TYPES={},e.Gestures.DIRECTION_DOWN="down",e.Gestures.DIRECTION_LEFT="left",e.Gestures.DIRECTION_UP="up",e.Gestures.DIRECTION_RIGHT="right",e.Gestures.POINTER_MOUSE="mouse",e.Gestures.POINTER_TOUCH="touch",e.Gestures.POINTER_PEN="pen",e.Gestures.EVENT_START="start",e.Gestures.EVENT_MOVE="move",e.Gestures.EVENT_END="end",e.Gestures.DOCUMENT=window.document,e.Gestures.plugins={},e.Gestures.READY=!1,e.Gestures.Instance=function(n,i){var r=this;return null!==n?(t(),this.element=n,this.enabled=!0,this.options=e.Gestures.utils.extend(e.Gestures.utils.extend({},e.Gestures.defaults),i||{}),this.options.stop_browser_behavior&&e.Gestures.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),e.Gestures.event.onTouch(n,e.Gestures.EVENT_START,function(t){r.enabled&&e.Gestures.detection.startDetect(r,t)}),this):void 0},e.Gestures.Instance.prototype={on:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.addEventListener(n[i],t,!1);return this},off:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.removeEventListener(n[i],t,!1);return this},trigger:function(t,n){var i=e.Gestures.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n;var r=this.element;return e.Gestures.utils.hasParent(n.target,r)&&(r=n.target),r.dispatchEvent(i),this},enable:function(e){return this.enabled=e,this}};var n=null,i=!1,r=!1;e.Gestures.event={bindDom:function(e,t,n){for(var i=t.split(" "),r=0;r<i.length;r++)e.addEventListener(i[r],n,!1)},onTouch:function(t,o,s){var a=this;this.bindDom(t,e.Gestures.EVENT_TYPES[o],function(l){var u=l.type.toLowerCase();if(!u.match(/mouse/)||!r){u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===l.which?i=!0:u.match(/mouse/)&&1!==l.which&&(i=!1),u.match(/touch|pointer/)&&(r=!0);var c=0;i&&(e.Gestures.HAS_POINTEREVENTS&&o!=e.Gestures.EVENT_END?c=e.Gestures.PointerEvent.updatePointer(o,l):u.match(/touch/)?c=l.touches.length:r||(c=u.match(/up/)?0:1),c>0&&o==e.Gestures.EVENT_END?o=e.Gestures.EVENT_MOVE:c||(o=e.Gestures.EVENT_END),(c||null===n)&&(n=l),s.call(e.Gestures.detection,a.collectEventData(t,o,a.getTouchList(n,o),l)),e.Gestures.HAS_POINTEREVENTS&&o==e.Gestures.EVENT_END&&(c=e.Gestures.PointerEvent.updatePointer(o,l))),c||(n=null,i=!1,r=!1,e.Gestures.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=e.Gestures.HAS_POINTEREVENTS?e.Gestures.PointerEvent.getEvents():e.Gestures.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_START]=t[0],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_MOVE]=t[1],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_END]=t[2]},getTouchList:function(t){return e.Gestures.HAS_POINTEREVENTS?e.Gestures.PointerEvent.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,n,i,r){var o=e.Gestures.POINTER_TOUCH;return(r.type.match(/mouse/)||e.Gestures.PointerEvent.matchType(e.Gestures.POINTER_MOUSE,r))&&(o=e.Gestures.POINTER_MOUSE),{center:e.Gestures.utils.getCenter(i),timeStamp:(new Date).getTime(),target:r.target,touches:i,eventType:n,pointerType:o,srcEvent:r,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return e.Gestures.detection.stopDetect()}}}},e.Gestures.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(t,n){return t==e.Gestures.EVENT_END?this.pointers={}:(n.identifier=n.pointerId,this.pointers[n.pointerId]=n),Object.keys(this.pointers).length},matchType:function(t,n){if(!n.pointerType)return!1;var i={};return i[e.Gestures.POINTER_MOUSE]=n.pointerType==n.MSPOINTER_TYPE_MOUSE||n.pointerType==e.Gestures.POINTER_MOUSE,i[e.Gestures.POINTER_TOUCH]=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType==e.Gestures.POINTER_TOUCH,i[e.Gestures.POINTER_PEN]=n.pointerType==n.MSPOINTER_TYPE_PEN||n.pointerType==e.Gestures.POINTER_PEN,i[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},e.Gestures.utils={extend:function(e,t,n){for(var i in t)void 0!==e[i]&&n||(e[i]=t[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],i=0,r=e.length;r>i;i++)t.push(e[i].pageX),n.push(e[i].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,n){var i=Math.abs(t.pageX-n.pageX),r=Math.abs(t.pageY-n.pageY);return i>=r?t.pageX-n.pageX>0?e.Gestures.DIRECTION_LEFT:e.Gestures.DIRECTION_RIGHT:t.pageY-n.pageY>0?e.Gestures.DIRECTION_UP:e.Gestures.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(t){return t==e.Gestures.DIRECTION_UP||t==e.Gestures.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){e&&e.classList&&(e.classList.add(t),e.onselectstart=function(){return!1})}},e.Gestures.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,n){this.current||(this.stopped=!1,this.current={inst:t,startEvent:e.Gestures.utils.extend({},n),lastEvent:!1,name:""},this.detect(n))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);for(var n=this.current.inst.options,i=0,r=this.gestures.length;r>i;i++){var o=this.gestures[i];if(!this.stopped&&n[o.name]!==!1&&o.handler.call(o,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==e.Gestures.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=e.Gestures.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var n=this.current.startEvent;if(n&&(t.touches.length!=n.touches.length||t.touches===n.touches)){n.touches=[];for(var i=0,r=t.touches.length;r>i;i++)n.touches.push(e.Gestures.utils.extend({},t.touches[i]))}var o=t.timeStamp-n.timeStamp,s=t.center.pageX-n.center.pageX,a=t.center.pageY-n.center.pageY,l=e.Gestures.utils.getVelocity(o,s,a);return e.Gestures.utils.extend(t,{deltaTime:o,deltaX:s,deltaY:a,velocityX:l.x,velocityY:l.y,distance:e.Gestures.utils.getDistance(n.center,t.center),angle:e.Gestures.utils.getAngle(n.center,t.center),direction:e.Gestures.utils.getDirection(n.center,t.center),scale:e.Gestures.utils.getScale(n.touches,t.touches),rotation:e.Gestures.utils.getRotation(n.touches,t.touches),startEvent:n}),t},register:function(t){var n=t.defaults||{};return void 0===n[t.name]&&(n[t.name]=!0),e.Gestures.utils.extend(e.Gestures.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},e.Gestures.gestures=e.Gestures.gestures||{},e.Gestures.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,n){switch(t.eventType){case e.Gestures.EVENT_START:clearTimeout(this.timer),e.Gestures.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==e.Gestures.detection.current.name&&(e.tap.cancelClick(),n.trigger("hold",t))},n.options.hold_timeout);break;case e.Gestures.EVENT_MOVE:t.distance>n.options.hold_threshold&&clearTimeout(this.timer);break;case e.Gestures.EVENT_END:clearTimeout(this.timer)}}},e.Gestures.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,n){if(t.eventType==e.Gestures.EVENT_END&&"touchcancel"!=t.srcEvent.type){var i=e.Gestures.detection.previous,r=!1;if(t.deltaTime>n.options.tap_max_touchtime||t.distance>n.options.tap_max_distance)return;i&&"tap"==i.name&&t.timeStamp-i.lastEvent.timeStamp<n.options.doubletap_interval&&t.distance<n.options.doubletap_distance&&(n.trigger("doubletap",t),r=!0),(!r||n.options.tap_always)&&(e.Gestures.detection.current.name="tap",n.trigger("tap",t))}}},e.Gestures.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.4},handler:function(t,n){if(t.eventType==e.Gestures.EVENT_END){if(n.options.swipe_max_touches>0&&t.touches.length>n.options.swipe_max_touches)return;(t.velocityX>n.options.swipe_velocity||t.velocityY>n.options.swipe_velocity)&&(n.trigger(this.name,t),n.trigger(this.name+t.direction,t))}}},e.Gestures.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!0,drag_block_vertical:!0,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,n){if("touchstart"==t.srcEvent.type||"touchend"==t.srcEvent.type?this.preventedFirstMove=!1:this.preventedFirstMove||"touchmove"!=t.srcEvent.type||(t.srcEvent.preventDefault(),this.preventedFirstMove=!0),e.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),void(this.triggered=!1);if(!(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches))switch(t.eventType){case e.Gestures.EVENT_START:this.triggered=!1;break;case e.Gestures.EVENT_MOVE:if(t.distance<n.options.drag_min_distance&&e.Gestures.detection.current.name!=this.name)return;if(e.Gestures.detection.current.name!=this.name&&(e.Gestures.detection.current.name=this.name,n.options.correct_for_drag_min_distance)){var i=Math.abs(n.options.drag_min_distance/t.distance);e.Gestures.detection.current.startEvent.center.pageX+=t.deltaX*i,e.Gestures.detection.current.startEvent.center.pageY+=t.deltaY*i,t=e.Gestures.detection.extendEventData(t)}(e.Gestures.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var r=e.Gestures.detection.current.lastEvent.direction;t.drag_locked_to_axis&&r!==t.direction&&(t.direction=e.Gestures.utils.isVertical(r)?t.deltaY<0?e.Gestures.DIRECTION_UP:e.Gestures.DIRECTION_DOWN:t.deltaX<0?e.Gestures.DIRECTION_LEFT:e.Gestures.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t),(n.options.drag_block_vertical&&e.Gestures.utils.isVertical(t.direction)||n.options.drag_block_horizontal&&!e.Gestures.utils.isVertical(t.direction))&&t.preventDefault();break;case e.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},e.Gestures.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,n){if(e.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2))switch(n.options.transform_always_block&&t.preventDefault(),t.eventType){case e.Gestures.EVENT_START:this.triggered=!1;break;case e.Gestures.EVENT_MOVE:var i=Math.abs(1-t.scale),r=Math.abs(t.rotation);if(i<n.options.transform_min_scale&&r<n.options.transform_min_rotation)return;e.Gestures.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),r>n.options.transform_min_rotation&&n.trigger("rotate",t),i>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case e.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},e.Gestures.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){return n.options.prevent_mouseevents&&t.pointerType==e.Gestures.POINTER_MOUSE?void t.stopDetect():(n.options.prevent_default&&t.preventDefault(),void(t.eventType==e.Gestures.EVENT_START&&n.trigger(this.name,t)))}},e.Gestures.gestures.Release={name:"release",index:1/0,handler:function(t,n){t.eventType==e.Gestures.EVENT_END&&n.trigger(this.name,t)}}}(window.ionic),function(e,t,n){function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function r(){d.isWebView()?t.addEventListener("deviceready",o,!1):o(),s&&e.removeEventListener("load",r,!1)}function o(){d.isReady=!0,d.detect();for(var e=0;e<h.length;e++)h[e]();h=[],n.trigger("platformready",{target:t}),c(function(){t.body.classList.add("platform-ready")})}var s,a="ios",l="android",u="windowsphone",c=n.requestAnimationFrame,d=n.Platform={navigator:e.navigator,isReady:!1,isFullScreen:!1,platforms:null,grade:null,ua:navigator.userAgent,ready:function(e){d.isReady?e():h.push(e)},detect:function(){d._checkPlatforms(),c(function(){for(var e=0;e<d.platforms.length;e++)t.body.classList.add("platform-"+d.platforms[e])})},setGrade:function(e){var n=d.grade;d.grade=e,c(function(){n&&t.body.classList.remove("grade-"+n),t.body.classList.add("grade-"+e)})},device:function(){return e.device||{}},_checkPlatforms:function(){d.platforms=[];var e="a";d.isWebView()?(d.platforms.push("webview"),d.platforms.push("cordova")):d.platforms.push("browser"),d.isIPad()&&d.platforms.push("ipad");var t=d.platform();if(t){d.platforms.push(t);var n=d.version();if(n){var i=n.toString();i.indexOf(".")>0?i=i.replace(".","_"):i+="_0",d.platforms.push(t+i.split("_")[0]),d.platforms.push(t+i),d.isAndroid()&&4.4>n?e=4>n?"c":"b":d.isWindowsPhone()&&(e="b")}}d.setGrade(e)},isWebView:function(){return!(!e.cordova&&!e.PhoneGap&&!e.phonegap)},isIPad:function(){return/iPad/i.test(d.navigator.platform)?!0:/iPad/i.test(d.ua)},isIOS:function(){return d.is(a)},isAndroid:function(){return d.is(l)},isWindowsPhone:function(){return d.is(u)},platform:function(){return null===p&&d.setPlatform(d.device().platform),p},setPlatform:function(e){p="undefined"!=typeof e&&null!==e&&e.length?e.toLowerCase():i("ionicplatform")?i("ionicplatform"):d.ua.indexOf("Android")>0?l:/iPhone|iPad|iPod/.test(d.ua)?a:d.ua.indexOf("Windows Phone")>-1?u:d.navigator.platform&&navigator.platform.toLowerCase().split(" ")[0]||""},version:function(){return null===g&&d.setVersion(d.device().version),g},setVersion:function(e){if("undefined"!=typeof e&&null!==e&&(e=e.split("."),e=parseFloat(e[0]+"."+(e.length>1?e[1]:0)),!isNaN(e)))return void(g=e);g=0;var t=d.platform(),n={android:/Android (\d+).(\d+)?/,ios:/OS (\d+)_(\d+)?/,windowsphone:/Windows Phone (\d+).(\d+)?/};n[t]&&(e=d.ua.match(n[t]),e&&e.length>2&&(g=parseFloat(e[1]+"."+e[2])))},is:function(e){if(e=e.toLowerCase(),d.platforms)for(var t=0;t<d.platforms.length;t++)if(d.platforms[t]===e)return!0;var n=d.platform();return n?n===e.toLowerCase():d.ua.toLowerCase().indexOf(e)>=0},exitApp:function(){d.ready(function(){navigator.app&&navigator.app.exitApp&&navigator.app.exitApp()})},showStatusBar:function(n){d._showStatusBar=n,d.ready(function(){c(function(){d._showStatusBar?(e.StatusBar&&e.StatusBar.show(),t.body.classList.remove("status-bar-hide")):(e.StatusBar&&e.StatusBar.hide(),t.body.classList.add("status-bar-hide"))})})},fullScreen:function(e,i){d.isFullScreen=e!==!1,n.DomUtil.ready(function(){c(function(){for(var e=t.getElementsByClassName("pane"),n=0;n<e.length;n++)e[n].style.height=e[n].offsetHeight+"px";d.isFullScreen?t.body.classList.add("fullscreen"):t.body.classList.remove("fullscreen")}),d.showStatusBar(i===!0)})}},p=null,g=null,h=[];"complete"===t.readyState?r():(s=!0,e.addEventListener("load",r,!1))}(this,document,ionic),function(e,t){"use strict";t.CSS={},function(){var n,i=["webkitTransform","transform","-webkit-transform","webkit-transform","-moz-transform","moz-transform","MozTransform","mozTransform","msTransform"];for(n=0;n<i.length;n++)if(void 0!==e.documentElement.style[i[n]]){t.CSS.TRANSFORM=i[n];break}for(i=["webkitTransition","mozTransition","msTransition","transition"],n=0;n<i.length;n++)if(void 0!==e.documentElement.style[i[n]]){t.CSS.TRANSITION=i[n];break}var r=t.CSS.TRANSITION.indexOf("webkit")>-1;t.CSS.TRANSITION_DURATION=(r?"-webkit-":"")+"transition-duration",t.CSS.TRANSITIONEND=(r?"webkitTransitionEnd ":"")+"transitionend"}(),"classList"in e.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function e(e){return function(){var n,i=t.className.split(/\s+/);for(n=0;n<arguments.length;n++)e(i,i.indexOf(arguments[n]),arguments[n]);t.className=i.join(" ")}}var t=this;return{add:e(function(e,t,n){~t||e.push(n)}),remove:e(function(e,t){~t&&e.splice(t,1)}),toggle:e(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}}}})}(document,ionic);var B,F,N,G,R,V,z,H,U="touchmove",W=12,Y=50,K={click:i,mousedown:r,mouseup:o,mousemove:s,touchstart:a,touchend:l,touchcancel:c,touchmove:u,pointerdown:a,pointerup:l,pointercancel:c,pointermove:u,MSPointerDown:a,MSPointerUp:l,MSPointerCancel:c,MSPointerMove:u,focusin:f,focusout:m};ionic.tap={register:function(t){return B=t,e("click",!0,!0),e("mouseup"),e("mousedown"),window.navigator.pointerEnabled?(e("pointerdown"),e("pointerup"),e("pointcancel"),U="pointermove"):window.navigator.msPointerEnabled?(e("MSPointerDown"),e("MSPointerUp"),e("MSPointerCancel"),U="MSPointerMove"):(e("touchstart"),e("touchend"),e("touchcancel")),e("focusin"),e("focusout"),function(){for(var t in K)e(t,!1);B=null,F=null,N=!1,R=!1,V=null}},ignoreScrollStart:function(e){return e.defaultPrevented||/^(file|range)$/i.test(e.target.type)||"true"==(e.target.dataset?e.target.dataset.preventScroll:e.target.getAttribute("data-prevent-scroll"))||!!/^(object|embed)$/i.test(e.target.tagName)||ionic.tap.isElementTapDisabled(e.target);

},isTextInput:function(e){return!!e&&("TEXTAREA"==e.tagName||"true"===e.contentEditable||"INPUT"==e.tagName&&!/^(radio|checkbox|range|file|submit|reset)$/i.test(e.type))},isDateInput:function(e){return!!e&&"INPUT"==e.tagName&&/^(date|time|datetime-local|month|week)$/i.test(e.type)},isLabelWithTextInput:function(e){var t=y(e,!1);return!!t&&ionic.tap.isTextInput(_(t))},containsOrIsTextInput:function(e){return ionic.tap.isTextInput(e)||ionic.tap.isLabelWithTextInput(e)},cloneFocusedInput:function(e){ionic.tap.hasCheckedClone||(ionic.tap.hasCheckedClone=!0,ionic.requestAnimationFrame(function(){var t=e.querySelector(":focus");if(ionic.tap.isTextInput(t)){var n=t.cloneNode(!0);n.value=t.value,n.classList.add("cloned-text-input"),n.readOnly=!0,t.isContentEditable&&(n.contentEditable=t.contentEditable,n.innerHTML=t.innerHTML),t.parentElement.insertBefore(n,t),t.classList.add("previous-input-focus"),n.scrollTop=t.scrollTop}}))},hasCheckedClone:!1,removeClonedInputs:function(e){ionic.tap.hasCheckedClone=!1,ionic.requestAnimationFrame(function(){var t,n=e.querySelectorAll(".cloned-text-input"),i=e.querySelectorAll(".previous-input-focus");for(t=0;t<n.length;t++)n[t].parentElement.removeChild(n[t]);for(t=0;t<i.length;t++)i[t].classList.remove("previous-input-focus"),i[t].style.top="",i[t].focus()})},requiresNativeClick:function(e){return!e||e.disabled||/^(file|range)$/i.test(e.type)||/^(object|video)$/i.test(e.tagName)||ionic.tap.isLabelContainingFileInput(e)?!0:ionic.tap.isElementTapDisabled(e)},isLabelContainingFileInput:function(e){var t=y(e);if("LABEL"!==t.tagName)return!1;var n=t.querySelector("input[type=file]");return n&&n.disabled===!1?!0:!1},isElementTapDisabled:function(e){if(e&&1===e.nodeType)for(var t=e;t;){if("true"==(t.dataset?t.dataset.tapDisabled:t.getAttribute("data-tap-disabled")))return!0;t=t.parentElement}return!1},setTolerance:function(e,t){W=e,Y=t},cancelClick:function(){R=!0},pointerCoord:function(e){var t={x:0,y:0};if(e){var n=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||n[0];i&&(t.x=i.clientX||i.pageX||0,t.y=i.clientY||i.pageY||0)}return t}},ionic.DomUtil.ready(function(){var e="undefined"!=typeof angular?angular:null;(!e||e&&!e.scenario)&&ionic.tap.register(document)}),function(e,t){"use strict";function n(){o={},t.requestAnimationFrame(r)}function i(){for(var e in o)o[e]&&(o[e].classList.add(l),s[e]=o[e]);o={}}function r(){if(t.transition&&t.transition.isActive)return void setTimeout(r,400);for(var e in s)s[e]&&(s[e].classList.remove(l),delete s[e])}var o={},s={},a=0,l="activated";t.activator={start:function(e){var n=t.tap.pointerCoord(e).x;n>0&&45>n||t.requestAnimationFrame(function(){if(!(t.scroll&&t.scroll.isScrolling||t.tap.requiresNativeClick(e.target))){for(var n,r=e.target,s=0;6>s&&r&&1===r.nodeType;s++){if(n&&r.classList.contains("item")){n=r;break}if("A"==r.tagName||"BUTTON"==r.tagName||r.hasAttribute("ng-click")){n=r;break}if(r.classList.contains("button")){n=r;break}if("ION-CONTENT"==r.tagName||r.classList.contains("pane")||"BODY"==r.tagName)break;r=r.parentElement}n&&(o[a]=n,t.requestAnimationFrame(i),a=a>29?0:a+1)}})},end:function(){setTimeout(n,200)}}}(document,ionic),function(e){var t=["0","0","0"];e.Utils={arrayMove:function(e,t,n){if(n>=e.length)for(var i=n-e.length;i--+1;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e},proxy:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}},debounce:function(e,t,n){var i,r,o,s,a;return function(){o=this,r=arguments,s=new Date;var l=function(){var u=new Date-s;t>u?i=setTimeout(l,t-u):(i=null,n||(a=e.apply(o,r)))},u=n&&!i;return i||(i=setTimeout(l,t)),u&&(a=e.apply(o,r)),a}},throttle:function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:Date.now(),s=null,o=e.apply(i,r)};return function(){var u=Date.now();a||n.leading!==!1||(a=u);var c=t-(u-a);return i=this,r=arguments,0>=c?(clearTimeout(s),s=null,a=u,o=e.apply(i,r)):s||n.trailing===!1||(s=setTimeout(l,c)),o}},inherit:function(t,n){var i,r=this;i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},e.extend(i,r,n);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&e.extend(i.prototype,t),i.__super__=r.prototype,i},extend:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n++){var i=t[n];if(i)for(var r in i)e[r]=i[r]}return e},nextUid:function(){for(var e,n=t.length;n;){if(n--,e=t[n].charCodeAt(0),57==e)return t[n]="A",t.join("");if(90!=e)return t[n]=String.fromCharCode(e+1),t.join("");t[n]="0"}return t.unshift("0"),t.join("")},disconnectScope:function(e){if(e&&e.$root!==e){var t=e.$parent;e.$$disconnected=!0,e.$broadcast("$ionic.disconnectScope"),t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e.$parent;e.$$disconnected=!1,e.$broadcast("$ionic.reconnectScope"),e.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=e,t.$$childTail=e):t.$$childHead=t.$$childTail=e}},isScopeDisconnected:function(e){for(var t=e;t;){if(t.$$disconnected)return!0;t=t.$parent}return!1}},e.inherit=e.Utils.inherit,e.extend=e.Utils.extend,e.throttle=e.Utils.throttle,e.proxy=e.Utils.proxy,e.debounce=e.Utils.debounce}(window.ionic);var X,J,Z,Q,ee=P(),te=0,ne="keyboard-open",ie="scroll";ionic.keyboard={isOpen:!1,height:null,landscape:!1,hide:function(){clearTimeout(Z),clearTimeout(J),clearTimeout(Q),ionic.keyboard.isOpen=!1,ionic.trigger("resetScrollView",{target:X},!0),ionic.requestAnimationFrame(function(){document.body.classList.remove(ne)}),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerMove",M):document.removeEventListener("touchmove",M),document.removeEventListener("keydown",E),O()&&cordova.plugins.Keyboard.close()},show:function(){O()&&cordova.plugins.Keyboard.show()}},ionic.Platform.ready(function(){T(),setTimeout(T,999),window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",w,!1):document.addEventListener("touchstart",w,!1)});var re,oe={};ionic.viewport={orientation:function(){return window.innerWidth>window.innerHeight?90:0}},ionic.Platform.ready(function(){q(),window.addEventListener("orientationchange",function(){setTimeout(I,1e3)},!1)}),function(e){"use strict";e.views.View=function(){this.initialize.apply(this,arguments)},e.views.View.inherit=e.inherit,e.extend(e.views.View.prototype,{initialize:function(){}})}(window.ionic);var se={effect:{}};!function(e){var t=Date.now||function(){return+new Date},n=60,i=1e3,r={},o=1;se.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,n=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(n=!1),n)return function(e,n){t(e,n)};var i=60,r={},o=0,s=1,a=null,l=+new Date;return function(e){var t=s++;return r[t]=e,o++,null===a&&(a=setInterval(function(){var e=+new Date,t=r;r={},o=0;for(var n in t)t.hasOwnProperty(n)&&(t[n](e),l=e);e-l>2500&&(clearInterval(a),a=null)},1e3/i)),t}}(),stop:function(e){var t=null!=r[e];return t&&(r[e]=null),t},isRunning:function(e){return null!=r[e]},start:function(e,s,a,l,u,c){var d=t(),p=d,g=0,h=0,f=o++;if(c||(c=document.body),f%20===0){var m={};for(var v in r)m[v]=!0;r=m}var b=function(o){var m=o!==!0,v=t();if(!r[f]||s&&!s(f))return r[f]=null,void(a&&a(n-h/((v-d)/i),f,!1));if(m)for(var y=Math.round((v-p)/(i/n))-1,_=0;_<Math.min(y,4);_++)b(!0),h++;l&&(g=(v-d)/l,g>1&&(g=1));var w=u?u(g):g;e(w,v,m)!==!1&&1!==g||!m?m&&(p=v,se.effect.Animate.requestAnimationFrame(b,c)):(r[f]=null,a&&a(n-h/((v-d)/i),f,1===g||null==l))};return r[f]=!0,se.effect.Animate.requestAnimationFrame(b,c),f}}}(this),!function(e){var t=function(){},n=function(e){return Math.pow(e-1,3)+1},i=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};e.views.Scroll=e.views.View.inherit({initialize:function(n){var i=this;i.__container=n.el,i.__content=n.el.firstElementChild,setTimeout(function(){i.__container&&i.__content&&(i.__container.scrollTop=0,i.__content.scrollTop=0)}),i.options={scrollingX:!1,scrollbarX:!0,scrollingY:!0,scrollbarY:!0,startX:0,startY:0,wheelDampen:6,minScrollbarSizeX:5,minScrollbarSizeY:5,scrollbarsFade:!0,scrollbarFadeDelay:300,scrollbarResizeFadeDelay:1e3,animating:!0,animationDuration:250,decelVelocityThreshold:4,decelVelocityThresholdPaging:4,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,deceleration:.97,preventDefault:!1,scrollingComplete:t,penetrationDeceleration:.03,penetrationAcceleration:.08,scrollEventInterval:10,freeze:!1,getContentWidth:function(){return Math.max(i.__content.scrollWidth,i.__content.offsetWidth)},getContentHeight:function(){return Math.max(i.__content.scrollHeight,i.__content.offsetHeight+2*i.__content.offsetTop)}};for(var r in n)i.options[r]=n[r];i.hintResize=e.debounce(function(){i.resize()},1e3,!0),i.onScroll=function(){e.scroll.isScrolling?(clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(i.setScrollStop,80)):setTimeout(i.setScrollStart,50)},i.freeze=function(e){return arguments.length&&(i.options.freeze=e),i.options.freeze},i.setScrollStart=function(){e.scroll.isScrolling=Math.abs(e.scroll.lastTop-i.__scrollTop)>1,clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(i.setScrollStop,80)},i.setScrollStop=function(){e.scroll.isScrolling=!1,e.scroll.lastTop=i.__scrollTop},i.triggerScrollEvent=e.throttle(function(){i.onScroll(),e.trigger("scroll",{scrollTop:i.__scrollTop,scrollLeft:i.__scrollLeft,target:i.__container})},i.options.scrollEventInterval),i.triggerScrollEndEvent=function(){e.trigger("scrollend",{scrollTop:i.__scrollTop,scrollLeft:i.__scrollLeft,target:i.__container})},i.__scrollLeft=i.options.startX,i.__scrollTop=i.options.startY,i.__callback=i.getRenderFn(),i.__initEventHandlers(),i.__createScrollbars()},run:function(){this.resize(),this.__fadeScrollbars("out",this.options.scrollbarResizeFadeDelay)},__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,__transformProperty:null,__perspectiveProperty:null,__indicatorX:null,__indicatorY:null,__scrollbarFadeTimeout:null,__didWaitForSize:null,__sizerTimeout:null,__initEventHandlers:function(){function t(e){return e.touches&&e.touches.length?e.touches:[{pageX:e.pageX,pageY:e.pageY}]}var n=this,i=n.__container;if(n.scrollChildIntoView=function(t){var r;if(!n.isScrolledIntoView){if(e.Platform.isIOS()||e.Platform.isFullScreen){r=i.getBoundingClientRect().bottom;var o=t.detail.viewportHeight-r,s=Math.max(0,t.detail.keyboardHeight-o);i.style.height=i.clientHeight-s+"px",i.style.overflow="visible",n.resize()}n.isScrolledIntoView=!0}if(t.detail.isElementUnderKeyboard){var a;a=e.Platform.isAndroid()&&!e.Platform.isFullScreen?e.Platform.version()<4.4?500:350:80,e.scroll.isScrolling=!0,setTimeout(function(){var o=.5*i.clientHeight;r=i.getBoundingClientRect().bottom;var s=t.detail.elementTop-r,a=s+o;a>0&&(e.tap.cloneFocusedInput(i,n),n.scrollBy(0,a,!0),n.onScroll())},a)}t.stopPropagation()},n.resetScrollView=function(){n.isScrolledIntoView&&(n.isScrolledIntoView=!1,i.style.height="",i.style.overflow="",n.resize(),e.scroll.isScrolling=!1)},i.addEventListener("scrollChildIntoView",n.scrollChildIntoView),i.addEventListener("resetScrollView",n.resetScrollView),n.touchStart=function(i){if(n.startCoordinates=e.tap.pointerCoord(i),!e.tap.ignoreScrollStart(i)){if(n.__isDown=!0,e.tap.containsOrIsTextInput(i.target)||"SELECT"===i.target.tagName)return void(n.__hasStarted=!1);n.__isSelectable=!0,n.__enableScrollY=!0,n.__hasStarted=!0,n.doTouchStart(t(i),i.timeStamp),i.preventDefault()}},n.touchMove=function(r){if(!(n.options.freeze||!n.__isDown||!n.__isDown&&r.defaultPrevented||"TEXTAREA"===r.target.tagName&&r.target.parentElement.querySelector(":focus"))){if(!n.__hasStarted&&(e.tap.containsOrIsTextInput(r.target)||"SELECT"===r.target.tagName))return n.__hasStarted=!0,n.doTouchStart(t(r),r.timeStamp),void r.preventDefault();if(n.startCoordinates){var o=e.tap.pointerCoord(r);n.__isSelectable&&e.tap.isTextInput(r.target)&&Math.abs(n.startCoordinates.x-o.x)>20&&(n.__enableScrollY=!1,n.__isSelectable=!0),n.__enableScrollY&&Math.abs(n.startCoordinates.y-o.y)>10&&(n.__isSelectable=!1,e.tap.cloneFocusedInput(i,n))}n.doTouchMove(t(r),r.timeStamp,r.scale),n.__isDown=!0}},n.touchMoveBubble=function(e){n.__isDown&&n.options.preventDefault&&e.preventDefault()},n.touchEnd=function(t){n.__isDown&&(n.doTouchEnd(t,t.timeStamp),n.__isDown=!1,n.__hasStarted=!1,n.__isSelectable=!0,n.__enableScrollY=!0,n.__isDragging||n.__isDecelerating||n.__isAnimating||e.tap.removeClonedInputs(i,n))},n.mouseWheel=e.animationFrameThrottle(function(t){var i=e.DomUtil.getParentOrSelfWithClass(t.target,"ionic-scroll");n.options.freeze||i!==n.__container||(n.hintResize(),n.scrollBy((t.wheelDeltaX||t.deltaX||0)/n.options.wheelDampen,(-t.wheelDeltaY||t.deltaY||0)/n.options.wheelDampen),n.__fadeScrollbars("in"),clearTimeout(n.__wheelHideBarTimeout),n.__wheelHideBarTimeout=setTimeout(function(){n.__fadeScrollbars("out")},100))}),"ontouchstart"in window)i.addEventListener("touchstart",n.touchStart,!1),n.options.preventDefault&&i.addEventListener("touchmove",n.touchMoveBubble,!1),document.addEventListener("touchmove",n.touchMove,!1),document.addEventListener("touchend",n.touchEnd,!1),document.addEventListener("touchcancel",n.touchEnd,!1);else if(window.navigator.pointerEnabled)i.addEventListener("pointerdown",n.touchStart,!1),n.options.preventDefault&&i.addEventListener("pointermove",n.touchMoveBubble,!1),document.addEventListener("pointermove",n.touchMove,!1),document.addEventListener("pointerup",n.touchEnd,!1),document.addEventListener("pointercancel",n.touchEnd,!1),document.addEventListener("wheel",n.mouseWheel,!1);else if(window.navigator.msPointerEnabled)i.addEventListener("MSPointerDown",n.touchStart,!1),n.options.preventDefault&&i.addEventListener("MSPointerMove",n.touchMoveBubble,!1),document.addEventListener("MSPointerMove",n.touchMove,!1),document.addEventListener("MSPointerUp",n.touchEnd,!1),document.addEventListener("MSPointerCancel",n.touchEnd,!1),document.addEventListener("wheel",n.mouseWheel,!1);else{var r=!1;n.mouseDown=function(i){e.tap.ignoreScrollStart(i)||"SELECT"===i.target.tagName||(n.doTouchStart(t(i),i.timeStamp),e.tap.isTextInput(i.target)||i.preventDefault(),r=!0)},n.mouseMove=function(e){n.options.freeze||!r||!r&&e.defaultPrevented||(n.doTouchMove(t(e),e.timeStamp),r=!0)},n.mouseMoveBubble=function(e){r&&n.options.preventDefault&&e.preventDefault()},n.mouseUp=function(e){r&&(n.doTouchEnd(e,e.timeStamp),r=!1)},i.addEventListener("mousedown",n.mouseDown,!1),n.options.preventDefault&&i.addEventListener("mousemove",n.mouseMoveBubble,!1),document.addEventListener("mousemove",n.mouseMove,!1),document.addEventListener("mouseup",n.mouseUp,!1),document.addEventListener("mousewheel",n.mouseWheel,!1),document.addEventListener("wheel",n.mouseWheel,!1)}},__cleanup:function(){var n=this,i=n.__container;i.removeEventListener("touchstart",n.touchStart),i.removeEventListener("touchmove",n.touchMoveBubble),document.removeEventListener("touchmove",n.touchMove),document.removeEventListener("touchend",n.touchEnd),document.removeEventListener("touchcancel",n.touchCancel),i.removeEventListener("pointerdown",n.touchStart),i.removeEventListener("pointermove",n.touchMoveBubble),document.removeEventListener("pointermove",n.touchMove),document.removeEventListener("pointerup",n.touchEnd),document.removeEventListener("pointercancel",n.touchEnd),i.removeEventListener("MSPointerDown",n.touchStart),i.removeEventListener("MSPointerMove",n.touchMoveBubble),document.removeEventListener("MSPointerMove",n.touchMove),document.removeEventListener("MSPointerUp",n.touchEnd),document.removeEventListener("MSPointerCancel",n.touchEnd),i.removeEventListener("mousedown",n.mouseDown),i.removeEventListener("mousemove",n.mouseMoveBubble),document.removeEventListener("mousemove",n.mouseMove),document.removeEventListener("mouseup",n.mouseUp),document.removeEventListener("mousewheel",n.mouseWheel),document.removeEventListener("wheel",n.mouseWheel),i.removeEventListener("scrollChildIntoView",n.scrollChildIntoView),i.removeEventListener("resetScrollView",n.resetScrollView),e.tap.removeClonedInputs(i,n),delete n.__container,delete n.__content,delete n.__indicatorX,delete n.__indicatorY,delete n.options.el,n.__callback=n.scrollChildIntoView=n.resetScrollView=t,n.mouseMove=n.mouseDown=n.mouseUp=n.mouseWheel=n.touchStart=n.touchMove=n.touchEnd=n.touchCancel=t,n.resize=n.scrollTo=n.zoomTo=n.__scrollingComplete=t,i=null},__createScrollbar:function(e){var t=document.createElement("div"),n=document.createElement("div");return n.className="scroll-bar-indicator scroll-bar-fade-out",t.className="h"==e?"scroll-bar scroll-bar-h":"scroll-bar scroll-bar-v",t.appendChild(n),t},__createScrollbars:function(){var e,t,n=this;n.options.scrollingX&&(e={el:n.__createScrollbar("h"),sizeRatio:1},e.indicator=e.el.children[0],n.options.scrollbarX&&n.__container.appendChild(e.el),n.__indicatorX=e),n.options.scrollingY&&(t={el:n.__createScrollbar("v"),sizeRatio:1},t.indicator=t.el.children[0],n.options.scrollbarY&&n.__container.appendChild(t.el),n.__indicatorY=t)},__resizeScrollbars:function(){var t=this;if(t.__indicatorX){var n=Math.max(Math.round(t.__clientWidth*t.__clientWidth/t.__contentWidth),20);n>t.__contentWidth&&(n=0),n!==t.__indicatorX.size&&e.requestAnimationFrame(function(){t.__indicatorX.indicator.style.width=n+"px"}),t.__indicatorX.size=n,t.__indicatorX.minScale=t.options.minScrollbarSizeX/n,t.__indicatorX.maxPos=t.__clientWidth-n,t.__indicatorX.sizeRatio=t.__maxScrollLeft?t.__indicatorX.maxPos/t.__maxScrollLeft:1}if(t.__indicatorY){var i=Math.max(Math.round(t.__clientHeight*t.__clientHeight/t.__contentHeight),20);i>t.__contentHeight&&(i=0),i!==t.__indicatorY.size&&e.requestAnimationFrame(function(){t.__indicatorY&&(t.__indicatorY.indicator.style.height=i+"px")}),t.__indicatorY.size=i,t.__indicatorY.minScale=t.options.minScrollbarSizeY/i,t.__indicatorY.maxPos=t.__clientHeight-i,t.__indicatorY.sizeRatio=t.__maxScrollTop?t.__indicatorY.maxPos/t.__maxScrollTop:1}},__repositionScrollbars:function(){var e,t,n,i,r,o=this,s=0,a=0;if(o.__indicatorX){o.__indicatorY&&(s=10),i=Math.round(o.__indicatorX.sizeRatio*o.__scrollLeft)||0,t=o.__scrollLeft-(o.__maxScrollLeft-s),o.__scrollLeft<0?(widthScale=Math.max(o.__indicatorX.minScale,(o.__indicatorX.size-Math.abs(o.__scrollLeft))/o.__indicatorX.size),i=0,o.__indicatorX.indicator.style[o.__transformOriginProperty]="left center"):t>0?(widthScale=Math.max(o.__indicatorX.minScale,(o.__indicatorX.size-t)/o.__indicatorX.size),i=o.__indicatorX.maxPos-s,o.__indicatorX.indicator.style[o.__transformOriginProperty]="right center"):(i=Math.min(o.__maxScrollLeft,Math.max(0,i)),widthScale=1);var l="translate3d("+i+"px, 0, 0) scaleX("+widthScale+")";o.__indicatorX.transformProp!==l&&(o.__indicatorX.indicator.style[o.__transformProperty]=l,o.__indicatorX.transformProp=l)}if(o.__indicatorY){r=Math.round(o.__indicatorY.sizeRatio*o.__scrollTop)||0,o.__indicatorX&&(a=10),n=o.__scrollTop-(o.__maxScrollTop-a),o.__scrollTop<0?(e=Math.max(o.__indicatorY.minScale,(o.__indicatorY.size-Math.abs(o.__scrollTop))/o.__indicatorY.size),r=0,"center top"!==o.__indicatorY.originProp&&(o.__indicatorY.indicator.style[o.__transformOriginProperty]="center top",o.__indicatorY.originProp="center top")):n>0?(e=Math.max(o.__indicatorY.minScale,(o.__indicatorY.size-n)/o.__indicatorY.size),r=o.__indicatorY.maxPos-a,"center bottom"!==o.__indicatorY.originProp&&(o.__indicatorY.indicator.style[o.__transformOriginProperty]="center bottom",o.__indicatorY.originProp="center bottom")):(r=Math.min(o.__maxScrollTop,Math.max(0,r)),e=1);var u="translate3d(0,"+r+"px, 0) scaleY("+e+")";o.__indicatorY.transformProp!==u&&(o.__indicatorY.indicator.style[o.__transformProperty]=u,o.__indicatorY.transformProp=u)}},__fadeScrollbars:function(e,t){var n=this;if(n.options.scrollbarsFade){var i="scroll-bar-fade-out";n.options.scrollbarsFade===!0&&(clearTimeout(n.__scrollbarFadeTimeout),"in"==e?(n.__indicatorX&&n.__indicatorX.indicator.classList.remove(i),n.__indicatorY&&n.__indicatorY.indicator.classList.remove(i)):n.__scrollbarFadeTimeout=setTimeout(function(){n.__indicatorX&&n.__indicatorX.indicator.classList.add(i),n.__indicatorY&&n.__indicatorY.indicator.classList.add(i)},t||n.options.scrollbarFadeDelay))}},__scrollingComplete:function(){this.options.scrollingComplete(),e.tap.removeClonedInputs(this.__container,this),this.__fadeScrollbars("out")},resize:function(e){var t=this;t.__container&&t.options&&t.setDimensions(t.__container.clientWidth,t.__container.clientHeight,t.options.getContentWidth(),t.options.getContentHeight(),e)},getRenderFn:function(){var e,t=this,n=t.__content,i=document.documentElement.style;"MozAppearance"in i?e="gecko":"WebkitAppearance"in i?e="webkit":"string"==typeof navigator.cpuClass&&(e="trident");var r,o={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[e],s=document.createElement("div"),a=o+"Perspective",l=o+"Transform",u=o+"TransformOrigin";return t.__perspectiveProperty=l,t.__transformProperty=l,t.__transformOriginProperty=u,s.style[a]!==r?function(e,i,r,o){var s="translate3d("+-e+"px,"+-i+"px,0) scale("+r+")";s!==t.contentTransform&&(n.style[l]=s,t.contentTransform=s),t.__repositionScrollbars(),o||t.triggerScrollEvent()}:s.style[l]!==r?function(e,i,r,o){n.style[l]="translate("+-e+"px,"+-i+"px) scale("+r+")",t.__repositionScrollbars(),o||t.triggerScrollEvent()}:function(e,i,r,o){n.style.marginLeft=e?-e/r+"px":"",n.style.marginTop=i?-i/r+"px":"",n.style.zoom=r||"",t.__repositionScrollbars(),o||t.triggerScrollEvent()}},setDimensions:function(e,t,n,i,r){var o=this;(e||t||n||i)&&(e===+e&&(o.__clientWidth=e),t===+t&&(o.__clientHeight=t),n===+n&&(o.__contentWidth=n),i===+i&&(o.__contentHeight=i),o.__computeScrollMax(),o.__resizeScrollbars(),r||o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,null,!0))},setPosition:function(e,t){this.__clientLeft=e||0,this.__clientTop=t||0},setSnapSize:function(e,t){this.__snapWidth=e,this.__snapHeight=t},activatePullToRefresh:function(t,n){var i=this;i.__refreshHeight=t,i.__refreshActivate=function(){e.requestAnimationFrame(n.activate)},i.__refreshDeactivate=function(){e.requestAnimationFrame(n.deactivate)},i.__refreshStart=function(){e.requestAnimationFrame(n.start)},i.__refreshShow=function(){e.requestAnimationFrame(n.show)},i.__refreshHide=function(){e.requestAnimationFrame(n.hide)},i.__refreshTail=function(){e.requestAnimationFrame(n.tail)},i.__refreshTailTime=100,i.__minSpinTime=600},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0);var e=new Date;this.refreshStartTime=e.getTime(),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this,t=new Date,n=0;e.refreshStartTime+e.__minSpinTime>t.getTime()&&(n=e.refreshStartTime+e.__minSpinTime-t.getTime()),setTimeout(function(){e.__refreshTail&&e.__refreshTail(),setTimeout(function(){e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.__refreshHide&&e.__refreshHide(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},e.__refreshTailTime)},n)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(e,t,n,i){var r=this;if(!r.options.zooming)throw new Error("Zooming is not enabled!");r.__isDecelerating&&(se.effect.Animate.stop(r.__isDecelerating),r.__isDecelerating=!1);var o=r.__zoomLevel;null==n&&(n=r.__clientWidth/2),null==i&&(i=r.__clientHeight/2),e=Math.max(Math.min(e,r.options.maxZoom),r.options.minZoom),r.__computeScrollMax(e);var s=(n+r.__scrollLeft)*e/o-n,a=(i+r.__scrollTop)*e/o-i;s>r.__maxScrollLeft?s=r.__maxScrollLeft:0>s&&(s=0),a>r.__maxScrollTop?a=r.__maxScrollTop:0>a&&(a=0),r.__publish(s,a,e,t)},zoomBy:function(e,t,n,i){this.zoomTo(this.__zoomLevel*e,t,n,i)},scrollTo:function(e,t,n,i,r){var o=this;if(o.__isDecelerating&&(se.effect.Animate.stop(o.__isDecelerating),o.__isDecelerating=!1),null!=i&&i!==o.__zoomLevel){if(!o.options.zooming)throw new Error("Zooming is not enabled!");e*=i,t*=i,o.__computeScrollMax(i)}else i=o.__zoomLevel;o.options.scrollingX?o.options.paging?e=Math.round(e/o.__clientWidth)*o.__clientWidth:o.options.snapping&&(e=Math.round(e/o.__snapWidth)*o.__snapWidth):e=o.__scrollLeft,o.options.scrollingY?o.options.paging?t=Math.round(t/o.__clientHeight)*o.__clientHeight:o.options.snapping&&(t=Math.round(t/o.__snapHeight)*o.__snapHeight):t=o.__scrollTop,e=Math.max(Math.min(o.__maxScrollLeft,e),0),t=Math.max(Math.min(o.__maxScrollTop,t),0),e===o.__scrollLeft&&t===o.__scrollTop&&(n=!1),o.__publish(e,t,i,n,r)},scrollBy:function(e,t,n){var i=this,r=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft,o=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(r+(e||0),o+(t||0),n)},doMouseZoom:function(e,t,n,i){var r=e>0?.97:1.03;return this.zoomTo(this.__zoomLevel*r,!1,n-this.__clientLeft,i-this.__clientTop)},doTouchStart:function(e,t){var n=this;n.__decStopped=!(!n.__isDecelerating&&!n.__isAnimating),n.hintResize(),t instanceof Date&&(t=t.valueOf()),"number"!=typeof t&&(t=Date.now()),n.__interruptedAnimation=!0,n.__isDecelerating&&(se.effect.Animate.stop(n.__isDecelerating),n.__isDecelerating=!1,n.__interruptedAnimation=!0),n.__isAnimating&&(se.effect.Animate.stop(n.__isAnimating),n.__isAnimating=!1,n.__interruptedAnimation=!0);var i,r,o=1===e.length;o?(i=e[0].pageX,r=e[0].pageY):(i=Math.abs(e[0].pageX+e[1].pageX)/2,r=Math.abs(e[0].pageY+e[1].pageY)/2),n.__initialTouchLeft=i,n.__initialTouchTop=r,n.__initialTouches=e,n.__zoomLevelStart=n.__zoomLevel,n.__lastTouchLeft=i,n.__lastTouchTop=r,n.__lastTouchMove=t,n.__lastScale=1,n.__enableScrollX=!o&&n.options.scrollingX,n.__enableScrollY=!o&&n.options.scrollingY,n.__isTracking=!0,n.__didDecelerationComplete=!1,n.__isDragging=!o,n.__isSingleTouch=o,n.__positions=[]},doTouchMove:function(e,t,n){t instanceof Date&&(t=t.valueOf()),"number"!=typeof t&&(t=Date.now());var i=this;if(i.__isTracking){var r,o;2===e.length?(r=Math.abs(e[0].pageX+e[1].pageX)/2,o=Math.abs(e[0].pageY+e[1].pageY)/2,!n&&i.options.zooming&&(n=i.__getScale(i.__initialTouches,e))):(r=e[0].pageX,o=e[0].pageY);var s=i.__positions;if(i.__isDragging){i.__decStopped=!1;var a=r-i.__lastTouchLeft,l=o-i.__lastTouchTop,u=i.__scrollLeft,c=i.__scrollTop,d=i.__zoomLevel;if(null!=n&&i.options.zooming){var p=d;if(d=d/i.__lastScale*n,d=Math.max(Math.min(d,i.options.maxZoom),i.options.minZoom),p!==d){var g=r-i.__clientLeft,h=o-i.__clientTop;u=(g+u)*d/p-g,c=(h+c)*d/p-h,i.__computeScrollMax(d)}}if(i.__enableScrollX){u-=a*i.options.speedMultiplier;var f=i.__maxScrollLeft;(u>f||0>u)&&(i.options.bouncing?u+=a/2*i.options.speedMultiplier:u=u>f?f:0)}if(i.__enableScrollY){c-=l*i.options.speedMultiplier;var m=i.__maxScrollTop;c>m||0>c?i.options.bouncing||i.__refreshHeight&&0>c?(c+=l/2*i.options.speedMultiplier,i.__enableScrollX||null==i.__refreshHeight||(0>c?(i.__refreshHidden=!1,i.__refreshShow()):(i.__refreshHide(),i.__refreshHidden=!0),!i.__refreshActive&&c<=-i.__refreshHeight?(i.__refreshActive=!0,i.__refreshActivate&&i.__refreshActivate()):i.__refreshActive&&c>-i.__refreshHeight&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate()))):c=c>m?m:0:i.__refreshHeight&&!i.__refreshHidden&&(i.__refreshHide(),i.__refreshHidden=!0)}s.length>60&&s.splice(0,30),s.push(u,c,t),i.__publish(u,c,d)}else{var v=i.options.locking?3:0,b=5,y=Math.abs(r-i.__initialTouchLeft),_=Math.abs(o-i.__initialTouchTop);i.__enableScrollX=i.options.scrollingX&&y>=v,i.__enableScrollY=i.options.scrollingY&&_>=v,s.push(i.__scrollLeft,i.__scrollTop,t),i.__isDragging=(i.__enableScrollX||i.__enableScrollY)&&(y>=b||_>=b),i.__isDragging&&(i.__interruptedAnimation=!1,i.__fadeScrollbars("in"))}i.__lastTouchLeft=r,i.__lastTouchTop=o,i.__lastTouchMove=t,i.__lastScale=n}},doTouchEnd:function(t,n){n instanceof Date&&(n=n.valueOf()),"number"!=typeof n&&(n=Date.now());var i=this;if(i.__isTracking){if(i.__isTracking=!1,i.__isDragging)if(i.__isDragging=!1,i.__isSingleTouch&&i.options.animating&&n-i.__lastTouchMove<=100){for(var r=i.__positions,o=r.length-1,s=o,a=o;a>0&&r[a]>i.__lastTouchMove-100;a-=3)s=a;if(s!==o){var l=r[o]-r[s],u=i.__scrollLeft-r[s-2],c=i.__scrollTop-r[s-1];i.__decelerationVelocityX=u/l*(1e3/60),i.__decelerationVelocityY=c/l*(1e3/60);var d=i.options.paging||i.options.snapping?i.options.decelVelocityThresholdPaging:i.options.decelVelocityThreshold;(Math.abs(i.__decelerationVelocityX)>d||Math.abs(i.__decelerationVelocityY)>d)&&(i.__refreshActive||i.__startDeceleration(n))}else i.__scrollingComplete()}else n-i.__lastTouchMove>100&&i.__scrollingComplete();else i.__decStopped&&(t.isTapHandled=!0,i.__decStopped=!1);if(!i.__isDecelerating)if(i.__refreshActive&&i.__refreshStart){i.__publish(i.__scrollLeft,-i.__refreshHeight,i.__zoomLevel,!0);var p=new Date;i.refreshStartTime=p.getTime(),i.__refreshStart&&i.__refreshStart(),e.Platform.isAndroid()||i.__startDeceleration()}else(i.__interruptedAnimation||i.__isDragging)&&i.__scrollingComplete(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0,i.__zoomLevel),i.__refreshActive&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate());i.__positions.length=0}},__publish:function(e,t,r,o,s){var a=this,l=a.__isAnimating;if(l&&(se.effect.Animate.stop(l),a.__isAnimating=!1),o&&a.options.animating){a.__scheduledLeft=e,a.__scheduledTop=t,a.__scheduledZoom=r;var u=a.__scrollLeft,c=a.__scrollTop,d=a.__zoomLevel,p=e-u,g=t-c,h=r-d,f=function(e,t,n){n&&(a.__scrollLeft=u+p*e,a.__scrollTop=c+g*e,a.__zoomLevel=d+h*e,a.__callback&&a.__callback(a.__scrollLeft,a.__scrollTop,a.__zoomLevel,s))},m=function(e){return a.__isAnimating===e},v=function(e,t,n){t===a.__isAnimating&&(a.__isAnimating=!1),(a.__didDecelerationComplete||n)&&a.__scrollingComplete(),a.options.zooming&&a.__computeScrollMax()};a.__isAnimating=se.effect.Animate.start(f,m,v,a.options.animationDuration,l?n:i)}else a.__scheduledLeft=a.__scrollLeft=e,a.__scheduledTop=a.__scrollTop=t,a.__scheduledZoom=a.__zoomLevel=r,a.__callback&&a.__callback(e,t,r,s),a.options.zooming&&a.__computeScrollMax()},__computeScrollMax:function(e){var t=this;null==e&&(e=t.__zoomLevel),t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0),t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0),t.__didWaitForSize||t.__maxScrollLeft||t.__maxScrollTop||(t.__didWaitForSize=!0,t.__waitForSize())},__waitForSize:function(){var e=this;clearTimeout(e.__sizerTimeout);var t=function(){e.resize(!0)};t(),e.__sizerTimeout=setTimeout(t,500)},__startDeceleration:function(){var e=this;if(e.options.paging){var t=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),n=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),i=e.__clientWidth,r=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(t/i)*i,e.__minDecelerationScrollTop=Math.floor(n/r)*r,e.__maxDecelerationScrollLeft=Math.ceil(t/i)*i,
e.__maxDecelerationScrollTop=Math.ceil(n/r)*r}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop,e.__refreshActive&&(e.__minDecelerationScrollTop=-1*e.__refreshHeight);var o=function(t,n,i){e.__stepThroughDeceleration(i)};e.__minVelocityToKeepDecelerating=e.options.snapping?4:.1;var s=function(){var t=Math.abs(e.__decelerationVelocityX)>=e.__minVelocityToKeepDecelerating||Math.abs(e.__decelerationVelocityY)>=e.__minVelocityToKeepDecelerating;return t||(e.__didDecelerationComplete=!0,e.options.bouncing&&!e.__refreshActive&&e.scrollTo(Math.min(Math.max(e.__scrollLeft,0),e.__maxScrollLeft),Math.min(Math.max(e.__scrollTop,0),e.__maxScrollTop),e.__refreshActive)),t},a=function(){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.__scrollingComplete(),e.options.paging&&e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)};e.__isDecelerating=se.effect.Animate.start(o,s,a)},__stepThroughDeceleration:function(e){var t=this,n=t.__scrollLeft+t.__decelerationVelocityX,i=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var r=Math.max(Math.min(t.__maxDecelerationScrollLeft,n),t.__minDecelerationScrollLeft);r!==n&&(n=r,t.__decelerationVelocityX=0);var o=Math.max(Math.min(t.__maxDecelerationScrollTop,i),t.__minDecelerationScrollTop);o!==i&&(i=o,t.__decelerationVelocityY=0)}if(e?t.__publish(n,i,t.__zoomLevel):(t.__scrollLeft=n,t.__scrollTop=i),!t.options.paging){var s=t.options.deceleration;t.__decelerationVelocityX*=s,t.__decelerationVelocityY*=s}if(t.options.bouncing){var a=0,l=0,u=t.options.penetrationDeceleration,c=t.options.penetrationAcceleration;if(n<t.__minDecelerationScrollLeft?a=t.__minDecelerationScrollLeft-n:n>t.__maxDecelerationScrollLeft&&(a=t.__maxDecelerationScrollLeft-n),i<t.__minDecelerationScrollTop?l=t.__minDecelerationScrollTop-i:i>t.__maxDecelerationScrollTop&&(l=t.__maxDecelerationScrollTop-i),0!==a){var d=a*t.__decelerationVelocityX<=t.__minDecelerationScrollLeft;d&&(t.__decelerationVelocityX+=a*u);var p=Math.abs(t.__decelerationVelocityX)<=t.__minVelocityToKeepDecelerating;(!d||p)&&(t.__decelerationVelocityX=a*c)}if(0!==l){var g=l*t.__decelerationVelocityY<=t.__minDecelerationScrollTop;g&&(t.__decelerationVelocityY+=l*u);var h=Math.abs(t.__decelerationVelocityY)<=t.__minVelocityToKeepDecelerating;(!g||h)&&(t.__decelerationVelocityY=l*c)}}},__getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},__getScale:function(e,t){return e.length>=2&&t.length>=2?this.__getDistance(t[0],t[1])/this.__getDistance(e[0],e[1]):1}}),e.scroll={isScrolling:!1,lastTop:0}}(ionic),function(e){"use strict";var t="item",n="item-content",i="item-sliding",r="item-options",o="item-placeholder",s="item-reordering",a="item-reorder",l=function(){};l.prototype={start:function(){},drag:function(){},end:function(){},isSameItem:function(){return!1}};var u=function(e){this.dragThresholdX=e.dragThresholdX||10,this.el=e.el,this.item=e.item,this.canSwipe=e.canSwipe};u.prototype=new l,u.prototype.start=function(o){var s,a,l,u;this.canSwipe()&&(s=o.target.classList.contains(n)?o.target:o.target.classList.contains(t)?o.target.querySelector("."+n):e.DomUtil.getParentWithClass(o.target,n),s&&(s.classList.remove(i),l=parseFloat(s.style[e.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])||0,a=s.parentNode.querySelector("."+r),a&&(a.classList.remove("invisible"),u=a.offsetWidth,this._currentDrag={buttons:a,buttonsWidth:u,content:s,startOffsetX:l})))},u.prototype.isSameItem=function(e){return e._lastDrag&&this._currentDrag?this._currentDrag.content==e._lastDrag.content:!1},u.prototype.clean=function(t){function n(){i.buttons&&i.buttons.classList.add("invisible")}var i=this._lastDrag;i&&i.content&&(i.content.style[e.CSS.TRANSITION]="",i.content.style[e.CSS.TRANSFORM]="",t?(i.content.style[e.CSS.TRANSITION]="none",n(),e.requestAnimationFrame(function(){i.content.style[e.CSS.TRANSITION]=""})):e.requestAnimationFrame(function(){setTimeout(n,250)}))},u.prototype.drag=e.animationFrameThrottle(function(t){var n;if(this._currentDrag&&(!this._isDragging&&(Math.abs(t.gesture.deltaX)>this.dragThresholdX||Math.abs(this._currentDrag.startOffsetX)>0)&&(this._isDragging=!0),this._isDragging)){n=this._currentDrag.buttonsWidth;var i=Math.min(0,this._currentDrag.startOffsetX+t.gesture.deltaX);-n>i&&(i=Math.min(-n,-n+.4*(t.gesture.deltaX+n))),this._currentDrag.content.style[e.CSS.TRANSFORM]="translate3d("+i+"px, 0, 0)",this._currentDrag.content.style[e.CSS.TRANSITION]="none"}}),u.prototype.end=function(t,n){var i=this;if(!i._currentDrag)return void(n&&n());var r=-i._currentDrag.buttonsWidth;t.gesture.deltaX>-(i._currentDrag.buttonsWidth/2)&&("left"==t.gesture.direction&&Math.abs(t.gesture.velocityX)<.3?r=0:"right"==t.gesture.direction&&(r=0)),e.requestAnimationFrame(function(){if(0===r){i._currentDrag.content.style[e.CSS.TRANSFORM]="";var t=i._currentDrag.buttons;setTimeout(function(){t&&t.classList.add("invisible")},250)}else i._currentDrag.content.style[e.CSS.TRANSFORM]="translate3d("+r+"px,0,0)";i._currentDrag.content.style[e.CSS.TRANSITION]="",i._lastDrag||(i._lastDrag={}),e.extend(i._lastDrag,i._currentDrag),i._currentDrag&&(i._currentDrag.buttons=null,i._currentDrag.content=null),i._currentDrag=null,n&&n()})};var c=function(e){var t=this;if(t.dragThresholdY=e.dragThresholdY||0,t.onReorder=e.onReorder,t.listEl=e.listEl,t.el=t.item=e.el,t.scrollEl=e.scrollEl,t.scrollView=e.scrollView,t.listElTrueTop=0,t.listEl.offsetParent){var n=t.listEl;do t.listElTrueTop+=n.offsetTop,n=n.offsetParent;while(n)}};c.prototype=new l,c.prototype._moveElement=function(t){var n=t.gesture.center.pageY+this.scrollView.getValues().top-this._currentDrag.elementHeight/2-this.listElTrueTop;this.el.style[e.CSS.TRANSFORM]="translate3d(0, "+n+"px, 0)"},c.prototype.deregister=function(){this.listEl=this.el=this.scrollEl=this.scrollView=null},c.prototype.start=function(t){var n=e.DomUtil.getChildIndex(this.el,this.el.nodeName.toLowerCase()),i=this.el.scrollHeight,r=this.el.cloneNode(!0);r.classList.add(o),this.el.parentNode.insertBefore(r,this.el),this.el.classList.add(s),this._currentDrag={elementHeight:i,startIndex:n,placeholder:r,scrollHeight:scroll,list:r.parentNode},this._moveElement(t)},c.prototype.drag=e.animationFrameThrottle(function(t){var n=this;if(this._currentDrag){var i=0,r=t.gesture.center.pageY,o=this.listElTrueTop;if(this.scrollView){var s=this.scrollView.__container;i=this.scrollView.getValues().top;var a=s.offsetTop,l=a-r+this._currentDrag.elementHeight/2,u=r+this._currentDrag.elementHeight/2-a-s.offsetHeight;t.gesture.deltaY<0&&l>0&&i>0&&(this.scrollView.scrollBy(null,-l),e.requestAnimationFrame(function(){n.drag(t)})),t.gesture.deltaY>0&&u>0&&i<this.scrollView.getScrollMax().top&&(this.scrollView.scrollBy(null,u),e.requestAnimationFrame(function(){n.drag(t)}))}!this._isDragging&&Math.abs(t.gesture.deltaY)>this.dragThresholdY&&(this._isDragging=!0),this._isDragging&&(this._moveElement(t),this._currentDrag.currentY=i+r-o)}}),c.prototype._getReorderIndex=function(){for(var e,t=this,n=(t._currentDrag.placeholder,Array.prototype.slice.call(t._currentDrag.placeholder.parentNode.children).filter(function(e){return e.nodeName===t.el.nodeName&&e!==t.el})),i=t._currentDrag.currentY,r=0,o=n.length;o>r;r++)if(e=n[r],r===o-1){if(i>e.offsetTop)return r}else if(0===r){if(i<e.offsetTop+e.offsetHeight)return r}else if(i>e.offsetTop-e.offsetHeight/2&&i<e.offsetTop+e.offsetHeight)return r;return t._currentDrag.startIndex},c.prototype.end=function(t,n){if(!this._currentDrag)return void(n&&n());var i=this._currentDrag.placeholder,r=this._getReorderIndex();this.el.classList.remove(s),this.el.style[e.CSS.TRANSFORM]="",i.parentNode.insertBefore(this.el,i),i.parentNode.removeChild(i),this.onReorder&&this.onReorder(this.el,this._currentDrag.startIndex,r),this._currentDrag={placeholder:null,content:null},this._currentDrag=null,n&&n()},e.views.ListView=e.views.View.inherit({initialize:function(t){var n=this;t=e.extend({onReorder:function(){},virtualRemoveThreshold:-200,virtualAddThreshold:200,canSwipe:function(){return!0}},t),e.extend(n,t),!n.itemHeight&&n.listEl&&(n.itemHeight=n.listEl.children[0]&&parseInt(n.listEl.children[0].style.height,10)),n.onRefresh=t.onRefresh||function(){},n.onRefreshOpening=t.onRefreshOpening||function(){},n.onRefreshHolding=t.onRefreshHolding||function(){},window.ionic.onGesture("release",function(e){n._handleEndDrag(e)},n.el),window.ionic.onGesture("drag",function(e){n._handleDrag(e)},n.el),n._initDrag()},deregister:function(){this.el=this.listEl=this.scrollEl=this.scrollView=null,this.isScrollFreeze&&self.scrollView.freeze(!1)},stopRefreshing:function(){var e=this.el.querySelector(".list-refresher");e.style.height="0"},didScroll:function(e){var t=this;if(t.isVirtual){var n=t.itemHeight,i=(t.listEl.children.length,e.target.scrollHeight),r=t.el.parentNode.offsetHeight,o=(e.scrollTop,Math.max(0,e.scrollTop+t.virtualRemoveThreshold)),s=Math.min(i,Math.abs(e.scrollTop)+r+t.virtualAddThreshold),a=Math.floor((s-o)/n),l=parseInt(Math.abs(o/n),10),u=parseInt(Math.abs(s/n),10);t._virtualItemsToRemove=Array.prototype.slice.call(t.listEl.children,0,l),Array.prototype.slice.call(t.listEl.children,l,l+a),t.renderViewport&&t.renderViewport(o,s,l,u)}},didStopScrolling:function(){if(this.isVirtual)for(var e=0;e<this._virtualItemsToRemove.length;e++)this._virtualItemsToRemove[e],this.didHideItem&&this.didHideItem(e)},clearDragEffects:function(e){this._lastDragOp&&(this._lastDragOp.clean&&this._lastDragOp.clean(e),this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=null)},_initDrag:function(){this._lastDragOp&&this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=this._dragOp,this._dragOp=null},_getItem:function(e){for(;e;){if(e.classList&&e.classList.contains(t))return e;e=e.parentNode}return null},_startDrag:function(t){var n=this;n._isDragging=!1;var i,r=n._lastDragOp;n._didDragUpOrDown&&r instanceof u&&r.clean&&r.clean(),!e.DomUtil.getParentOrSelfWithClass(t.target,a)||"up"!=t.gesture.direction&&"down"!=t.gesture.direction?!n._didDragUpOrDown&&("left"==t.gesture.direction||"right"==t.gesture.direction)&&Math.abs(t.gesture.deltaX)>5&&(i=n._getItem(t.target),i&&i.querySelector(".item-options")&&(n._dragOp=new u({el:n.el,item:i,canSwipe:n.canSwipe}),n._dragOp.start(t),t.preventDefault(),n.isScrollFreeze=n.scrollView.freeze(!0))):(i=n._getItem(t.target),i&&(n._dragOp=new c({listEl:n.el,el:i,scrollEl:n.scrollEl,scrollView:n.scrollView,onReorder:function(e,t,i){n.onReorder&&n.onReorder(e,t,i)}}),n._dragOp.start(t),t.preventDefault())),r&&n._dragOp&&!n._dragOp.isSameItem(r)&&t.defaultPrevented&&r.clean&&r.clean()},_handleEndDrag:function(e){var t=this;t.scrollView&&(t.isScrollFreeze=t.scrollView.freeze(!1)),t._didDragUpOrDown=!1,t._dragOp&&t._dragOp.end(e,function(){t._initDrag()})},_handleDrag:function(e){var t=this;Math.abs(e.gesture.deltaY)>5&&(t._didDragUpOrDown=!0),t.isDragging||t._dragOp||t._startDrag(e),t._dragOp&&(e.gesture.srcEvent.preventDefault(),t._dragOp.drag(e))}})}(ionic),function(e){"use strict";e.views.Modal=e.views.View.inherit({initialize:function(t){t=e.extend({focusFirstInput:!1,unfocusOnHide:!0,focusFirstDelay:600,backdropClickToClose:!0,hardwareBackButtonClose:!0},t),e.extend(this,t),this.el=t.el},show:function(){var e=this;e.focusFirstInput&&window.setTimeout(function(){var t=e.el.querySelector("input, textarea");t&&t.focus&&t.focus()},e.focusFirstDelay)},hide:function(){if(this.unfocusOnHide){var e=this.el.querySelectorAll("input, textarea");window.setTimeout(function(){for(var t=0;t<e.length;t++)e[t].blur&&e[t].blur()})}}})}(ionic),function(e){"use strict";e.views.SideMenu=e.views.View.inherit({initialize:function(e){this.el=e.el,this.isEnabled="undefined"==typeof e.isEnabled?!0:e.isEnabled,this.setWidth(e.width)},getFullWidth:function(){return this.width},setWidth:function(e){this.width=e,this.el.style.width=e+"px"},setIsEnabled:function(e){this.isEnabled=e},bringUp:function(){"0"!==this.el.style.zIndex&&(this.el.style.zIndex="0")},pushDown:function(){"-1"!==this.el.style.zIndex&&(this.el.style.zIndex="-1")}}),e.views.SideMenuContent=e.views.View.inherit({initialize:function(t){e.extend(this,{animationClass:"menu-animated",onDrag:function(){},onEndDrag:function(){}},t),e.onGesture("drag",e.proxy(this._onDrag,this),this.el),e.onGesture("release",e.proxy(this._onEndDrag,this),this.el)},_onDrag:function(e){this.onDrag&&this.onDrag(e)},_onEndDrag:function(e){this.onEndDrag&&this.onEndDrag(e)},disableAnimation:function(){this.el.classList.remove(this.animationClass)},enableAnimation:function(){this.el.classList.add(this.animationClass)},getTranslateX:function(){return parseFloat(this.el.style[e.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])},setTranslateX:e.animationFrameThrottle(function(t){this.el.style[e.CSS.TRANSFORM]="translate3d("+t+"px, 0, 0)"})})}(ionic),function(e){"use strict";e.views.Slider=e.views.View.inherit({initialize:function(e){function t(){m=_.children,y=m.length,m.length<2&&(e.continuous=!1),h.transitions&&e.continuous&&m.length<3&&(_.appendChild(m[0].cloneNode(!0)),_.appendChild(_.children[1].cloneNode(!0)),m=_.children),v=new Array(m.length),b=f.offsetWidth||f.getBoundingClientRect().width,_.style.width=m.length*b+"px";for(var t=m.length;t--;){var n=m[t];n.style.width=b+"px",n.setAttribute("data-index",t),h.transitions&&(n.style.left=t*-b+"px",s(t,w>t?-b:t>w?b:0,0))}e.continuous&&h.transitions&&(s(r(w-1),-b,0),s(r(w+1),b,0)),h.transitions||(_.style.left=w*-b+"px"),f.style.visibility="visible",e.slidesChanged&&e.slidesChanged()}function n(){e.continuous?o(w-1):w&&o(w-1)}function i(){e.continuous?o(w+1):w<m.length-1&&o(w+1)}function r(e){return(m.length+e%m.length)%m.length}function o(t,n){if(w!=t){if(h.transitions){var i=Math.abs(w-t)/(w-t);if(e.continuous){var o=i;i=-v[r(t)]/b,i!==o&&(t=-i*m.length+t)}for(var a=Math.abs(w-t)-1;a--;)s(r((t>w?t:w)-a-1),b*i,0);t=r(t),s(w,b*i,n||$),s(t,0,n||$),e.continuous&&s(r(t-i),-(b*i),0)}else t=r(t),l(w*-b,t*-b,n||$);w=t,g(e.callback&&e.callback(w,m[w]))}}function s(e,t,n){a(e,t,n),v[e]=t}function a(e,t,n){var i=m[e],r=i&&i.style;r&&(r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=n+"ms",r.webkitTransform="translate("+t+"px,0)translateZ(0)",r.msTransform=r.MozTransform=r.OTransform="translateX("+t+"px)")}function l(t,n,i){if(!i)return void(_.style.left=n+"px");var r=+new Date,o=setInterval(function(){var s=+new Date-r;return s>i?(_.style.left=n+"px",S&&u(),e.transitionEnd&&e.transitionEnd.call(event,w,m[w]),void clearInterval(o)):void(_.style.left=(n-t)*(Math.floor(s/i*100)/100)+t+"px")},4)}function u(){x=setTimeout(i,S)}function c(){S=e.auto||0,clearTimeout(x)}var d=this,p=function(){},g=function(e){setTimeout(e||p,0)},h={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(document.createElement("swipe"))},f=e.el;if(f){var m,v,b,y,_=f.children[0];e=e||{};var w=parseInt(e.startSlide,10)||0,$=e.speed||300;e.continuous=void 0!==e.continuous?e.continuous:!0;var x,k,S=e.auto||0,C={},T={},E={handleEvent:function(n){switch(("mousedown"==n.type||"mouseup"==n.type||"mousemove"==n.type)&&(n.touches=[{pageX:n.pageX,pageY:n.pageY}]),n.type){case"mousedown":this.start(n);break;case"touchstart":this.start(n);break;case"touchmove":this.touchmove(n);break;case"mousemove":this.touchmove(n);break;case"touchend":g(this.end(n));break;case"mouseup":g(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":g(this.transitionEnd(n));break;case"resize":g(t)}e.stopPropagation&&n.stopPropagation()},start:function(e){var t=e.touches[0];C={x:t.pageX,y:t.pageY,time:+new Date},k=void 0,T={},h.touch?(_.addEventListener("touchmove",this,!1),_.addEventListener("touchend",this,!1)):(_.addEventListener("mousemove",this,!1),_.addEventListener("mouseup",this,!1),document.addEventListener("mouseup",this,!1))},touchmove:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale||d.slideIsDisabled)){e.disableScroll&&t.preventDefault();var n=t.touches[0];T={x:n.pageX-C.x,y:n.pageY-C.y},"undefined"==typeof k&&(k=!!(k||Math.abs(T.x)<Math.abs(T.y))),k||(t.preventDefault(),c(),e.continuous?(a(r(w-1),T.x+v[r(w-1)],0),a(w,T.x+v[w],0),a(r(w+1),T.x+v[r(w+1)],0)):(T.x=T.x/(!w&&T.x>0||w==m.length-1&&T.x<0?Math.abs(T.x)/b+1:1),a(w-1,T.x+v[w-1],0),a(w,T.x+v[w],0),a(w+1,T.x+v[w+1],0)))}},end:function(){var t=+new Date-C.time,n=Number(t)<250&&Math.abs(T.x)>20||Math.abs(T.x)>b/2,i=!w&&T.x>0||w==m.length-1&&T.x<0;e.continuous&&(i=!1);var o=T.x<0;k||(n&&!i?(o?(e.continuous?(s(r(w-1),-b,0),s(r(w+2),b,0)):s(w-1,-b,0),s(w,v[w]-b,$),s(r(w+1),v[r(w+1)]-b,$),w=r(w+1)):(e.continuous?(s(r(w+1),b,0),s(r(w-2),-b,0)):s(w+1,b,0),s(w,v[w]+b,$),s(r(w-1),v[r(w-1)]+b,$),w=r(w-1)),e.callback&&e.callback(w,m[w])):e.continuous?(s(r(w-1),-b,$),s(w,0,$),s(r(w+1),b,$)):(s(w-1,-b,$),s(w,0,$),s(w+1,b,$))),h.touch?(_.removeEventListener("touchmove",E,!1),_.removeEventListener("touchend",E,!1)):(_.removeEventListener("mousemove",E,!1),_.removeEventListener("mouseup",E,!1),document.removeEventListener("mouseup",E,!1))},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==w&&(S&&u(),e.transitionEnd&&e.transitionEnd.call(t,w,m[w]))}};this.update=function(){setTimeout(t)},this.setup=function(){t()},this.loop=function(t){return arguments.length&&(e.continuous=!!t),e.continuous},this.enableSlide=function(e){return arguments.length&&(this.slideIsDisabled=!e),!this.slideIsDisabled},this.slide=this.select=function(e,t){c(),o(e,t)},this.prev=this.previous=function(){c(),n()},this.next=function(){c(),i()},this.stop=function(){c()},this.start=function(){u()},this.autoPlay=function(e){!S||0>S?c():(S=e,u())},this.currentIndex=this.selected=function(){return w},this.slidesCount=this.count=function(){return y},this.kill=function(){c(),_.style.width="",_.style.left="";for(var e=m.length;e--;){var t=m[e];t.style.width="",t.style.left="",h.transitions&&a(e,0,0)}h.addEventListener?(_.removeEventListener("touchstart",E,!1),_.removeEventListener("webkitTransitionEnd",E,!1),_.removeEventListener("msTransitionEnd",E,!1),_.removeEventListener("oTransitionEnd",E,!1),_.removeEventListener("otransitionend",E,!1),_.removeEventListener("transitionend",E,!1),window.removeEventListener("resize",E,!1)):window.onresize=null},this.load=function(){t(),S&&u(),h.addEventListener?(h.touch?_.addEventListener("touchstart",E,!1):_.addEventListener("mousedown",E,!1),h.transitions&&(_.addEventListener("webkitTransitionEnd",E,!1),_.addEventListener("msTransitionEnd",E,!1),_.addEventListener("oTransitionEnd",E,!1),_.addEventListener("otransitionend",E,!1),_.addEventListener("transitionend",E,!1)),window.addEventListener("resize",E,!1)):window.onresize=function(){t()}}}}})}(ionic),function(e){"use strict";e.views.Toggle=e.views.View.inherit({initialize:function(t){var n=this;this.el=t.el,this.checkbox=t.checkbox,this.track=t.track,this.handle=t.handle,this.openPercent=-1,this.onChange=t.onChange||function(){},this.triggerThreshold=t.triggerThreshold||20,this.dragStartHandler=function(e){n.dragStart(e)},this.dragHandler=function(e){n.drag(e)},this.holdHandler=function(e){n.hold(e)},this.releaseHandler=function(e){n.release(e)},this.dragStartGesture=e.onGesture("dragstart",this.dragStartHandler,this.el),this.dragGesture=e.onGesture("drag",this.dragHandler,this.el),this.dragHoldGesture=e.onGesture("hold",this.holdHandler,this.el),this.dragReleaseGesture=e.onGesture("release",this.releaseHandler,this.el)},destroy:function(){e.offGesture(this.dragStartGesture,"dragstart",this.dragStartGesture),e.offGesture(this.dragGesture,"drag",this.dragGesture),e.offGesture(this.dragHoldGesture,"hold",this.holdHandler),e.offGesture(this.dragReleaseGesture,"release",this.releaseHandler)},tap:function(){"disabled"!==this.el.getAttribute("disabled")&&this.val(!this.checkbox.checked)},dragStart:function(e){this.checkbox.disabled||(this._dragInfo={width:this.el.offsetWidth,left:this.el.offsetLeft,right:this.el.offsetLeft+this.el.offsetWidth,triggerX:this.el.offsetWidth/2,initialState:this.checkbox.checked},e.gesture.srcEvent.preventDefault(),this.hold(e))},drag:function(t){var n=this;this._dragInfo&&(t.gesture.srcEvent.preventDefault(),e.requestAnimationFrame(function(){if(n._dragInfo){var e=(n.track.offsetLeft+n.handle.offsetWidth/2,n.track.offsetLeft+n.track.offsetWidth-n.handle.offsetWidth/2,t.gesture.deltaX,t.gesture.touches[0].pageX-n._dragInfo.left),i=n._dragInfo.width-n.triggerThreshold;n._dragInfo.initialState?e<n.triggerThreshold?n.setOpenPercent(0):e>n._dragInfo.triggerX&&n.setOpenPercent(100):e<n._dragInfo.triggerX?n.setOpenPercent(0):e>i&&n.setOpenPercent(100)}}))},endDrag:function(){this._dragInfo=null},hold:function(){this.el.classList.add("dragging")},release:function(e){this.el.classList.remove("dragging"),this.endDrag(e)},setOpenPercent:function(t){if(this.openPercent<0||t<this.openPercent-3||t>this.openPercent+3)if(this.openPercent=t,0===t)this.val(!1);else if(100===t)this.val(!0);else{var n=Math.round(t/100*this.track.offsetWidth-this.handle.offsetWidth);n=1>n?0:n,this.handle.style[e.CSS.TRANSFORM]="translate3d("+n+"px,0,0)"}},val:function(t){return(t===!0||t===!1)&&(""!==this.handle.style[e.CSS.TRANSFORM]&&(this.handle.style[e.CSS.TRANSFORM]=""),this.checkbox.checked=t,this.openPercent=t?100:0,this.onChange&&this.onChange()),this.checkbox.checked}})}(ionic)}(),function(e,t,n){"use strict";function i(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.3.13/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var i,r=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,t+=r(i)}return Error(t)}}function r(e){if(null==e||k(e))return!1;var t=e.length;return e.nodeType===Gn&&t?!0:y(e)||On(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var i,s;if(e)if($(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(On(e)||r(e)){var a="object"!=typeof e;for(i=0,s=e.length;s>i;i++)(a||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);return e}function s(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function a(e){return function(t,n){e(n,t)}}function l(){return++Pn}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e){for(var t=e.$$hashKey,n=1,i=arguments.length;i>n;n++){var r=arguments[n];if(r)for(var o=Object.keys(r),s=0,a=o.length;a>s;s++){var l=o[s];e[l]=r[l]}}return u(e,t),e}function d(e){return parseInt(e,10)}function p(e,t){return c(Object.create(e),t)}function g(){}function h(e){return e}function f(e){return function(){return e}}function m(e){return"undefined"==typeof e}function v(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function y(e){return"string"==typeof e}function _(e){return"number"==typeof e}function w(e){return"[object Date]"===Mn.call(e)}function $(e){return"function"==typeof e}function x(e){return"[object RegExp]"===Mn.call(e)}function k(e){return e&&e.window===e}function S(e){return e&&e.$evalAsync&&e.$watch}function C(e){return"boolean"==typeof e}function T(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function E(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function M(e){return xn(e.nodeName||e[0]&&e[0].nodeName)}function A(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function D(e,t,n,i){if(k(e)||S(e))throw An("cpws");if(t){if(e===t)throw An("cpi");if(n=n||[],i=i||[],b(e)){var r=n.indexOf(e);if(-1!==r)return i[r];n.push(e),i.push(t)}if(On(e))for(var s=t.length=0;s<e.length;s++)r=D(e[s],null,n,i),b(e[s])&&(n.push(e[s]),i.push(r)),t.push(r);else{var a=t.$$hashKey;On(t)?t.length=0:o(t,function(e,n){delete t[n]});for(s in e)e.hasOwnProperty(s)&&(r=D(e[s],null,n,i),b(e[s])&&(n.push(e[s]),i.push(r)),t[s]=r);u(t,a)}}else(t=e)&&(On(e)?t=D(e,[],n,i):w(e)?t=new Date(e.getTime()):x(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):b(e)&&(r=Object.create(Object.getPrototypeOf(e)),t=D(e,r,n,i)));return t}function P(e,t){if(On(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(b(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function j(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r=typeof e;if(r==typeof t&&"object"==r){if(!On(e)){if(w(e))return w(t)?j(e.getTime(),t.getTime()):!1;if(x(e)&&x(t))return e.toString()==t.toString();if(S(e)||S(t)||k(e)||k(t)||On(t))return!1;r={};for(i in e)if("$"!==i.charAt(0)&&!$(e[i])){if(!j(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!r.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!$(t[i]))return!1;return!0}if(!On(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!j(e[i],t[i]))return!1;return!0}}return!1}function O(e,t,n){return e.concat(Cn.call(t,n))}function q(e,t){var n=2<arguments.length?Cn.call(arguments,2):[];return!$(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,O(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function I(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=n:k(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":S(i)&&(r="$SCOPE"),r}function L(e,t){return"undefined"==typeof e?n:(_(t)||(t=t?2:null),JSON.stringify(e,I,t))}function B(e){return y(e)?JSON.parse(e):e}function F(e){e=yn(e).clone();try{e.empty()}catch(t){}var n=yn("<div>").append(e).html();try{return e[0].nodeType===Rn?xn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+xn(t)})}catch(i){return xn(n)}}function N(e){try{return decodeURIComponent(e)}catch(t){}}function G(e){var t,n,i={};return o((e||"").split("&"),function(e){e&&(t=e.replace(/\+/g,"%20").split("="),n=N(t[0]),v(n)&&(e=v(t[1])?N(t[1]):!0,kn.call(i,n)?On(i[n])?i[n].push(e):i[n]=[i[n],e]:i[n]=e))}),i}function R(e){var t=[];return o(e,function(e,n){On(e)?o(e,function(e){t.push(z(n,!0)+(!0===e?"":"="+z(e,!0)))}):t.push(z(n,!0)+(!0===e?"":"="+z(e,!0)))}),t.length?t.join("&"):""}function V(e){return z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function H(e,t){var n,i,r=Bn.length;for(e=yn(e),i=0;r>i;++i)if(n=Bn[i]+t,y(n=e.attr(n)))return n;return null}function U(e,t){var n,i,r={};o(Bn,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,i=e.getAttribute(t))}),o(Bn,function(t){t+="app";var r;!n&&(r=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(t))}),n&&(r.strictDi=null!==H(n,"strict-di"),t(n,i?[i]:[],r))}function W(n,i,r){b(r)||(r={}),r=c({strictDi:!1},r);var s=function(){if(n=yn(n),n.injector()){var e=n[0]===t?"document":F(n);throw An("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng"),e=Pe(i,r.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e},a=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),Dn.resumeBootstrap=function(e){return o(e,function(e){i.push(e)}),s()},void($(Dn.resumeDeferredBootstrap)&&Dn.resumeDeferredBootstrap()))}function Y(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function K(e){if(e=Dn.element(e).injector(),!e)throw An("test");return e.get("$$testability")}function X(e,t){return t=t||"_",e.replace(Fn,function(e,n){return(n?t:"")+e.toLowerCase()})}function J(){var t;Nn||((_n=e.jQuery)&&_n.fn.on?(yn=_n,c(_n.fn,{scope:ti.scope,isolateScope:ti.isolateScope,controller:ti.controller,injector:ti.injector,inheritedData:ti.inheritedData}),t=_n.cleanData,_n.cleanData=function(e){var n;if(jn)jn=!1;else for(var i,r=0;null!=(i=e[r]);r++)(n=_n._data(i,"events"))&&n.$destroy&&_n(i).triggerHandler("$destroy");t(e)}):yn=ue,Dn.element=yn,Nn=!0)}function Z(e,t,n){if(!e)throw An("areq",t||"?",n||"required");return e}function Q(e,t,n){return n&&On(e)&&(e=e[e.length-1]),Z($(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ee(e,t){if("hasOwnProperty"===e)throw An("badname",t)}function te(e,t,n){if(!t)return e;t=t.split(".");for(var i,r=e,o=t.length,s=0;o>s;s++)i=t[s],e&&(e=(r=e)[i]);return!n&&$(e)?q(r,e):e}function ne(e){var t=e[0];e=e[e.length-1];var n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e);return yn(n)}function ie(){return Object.create(null)}function re(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||i,t(e,"module",function(){var e={};return function(i,o,s){if("hasOwnProperty"===i)throw r("badname","module");return o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,n,i,r){return r||(r=t),function(){return r[i||"push"]([e,n,arguments]),u}}if(!o)throw n("nomod",i);var t=[],r=[],a=[],l=e("$injector","invoke","push",r),u={_invokeQueue:t,_configBlocks:r,_runBlocks:a,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(e){return a.push(e),this}};return s&&l(s),u})}})}function oe(t){c(t,{bootstrap:W,copy:D,extend:c,equals:j,element:yn,forEach:o,injector:Pe,noop:g,bind:q,toJson:L,fromJson:B,identity:h,isUndefined:m,isDefined:v,isString:y,isFunction:$,isObject:b,isNumber:_,isElement:T,isArray:On,version:Vn,isDate:w,lowercase:xn,uppercase:Sn,callbacks:{counter:0},getTestability:K,$$minErr:i,$$csp:Ln,reloadWithDebugInfo:Y}),wn=re(e);try{wn("ngLocale")}catch(n){wn("ngLocale",[]).provider("$locale",nt)}wn("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Pt}),e.provider("$compile",Fe).directive({a:Wi,input:ur,textarea:ur,form:Ji,script:Yr,select:Jr,style:Qr,option:Zr,ngBind:pr,ngBindHtml:hr,ngBindTemplate:gr,ngClass:mr,ngClassEven:br,ngClassOdd:vr,ngCloak:yr,ngController:_r,ngForm:Zi,ngHide:Rr,ngIf:xr,ngInclude:kr,ngInit:Cr,ngNonBindable:Br,ngPluralize:Fr,ngRepeat:Nr,ngShow:Gr,ngStyle:Vr,ngSwitch:zr,ngSwitchWhen:Hr,ngSwitchDefault:Ur,ngOptions:Xr,ngTransclude:Wr,ngModel:qr,ngList:Tr,ngChange:fr,pattern:to,ngPattern:to,required:eo,ngRequired:eo,minlength:io,ngMinlength:io,maxlength:no,ngMaxlength:no,ngValue:dr,ngModelOptions:Lr}).directive({ngInclude:Sr}).directive(Yi).directive(wr),e.provider({$anchorScroll:je,$animate:di,$browser:Ie,$cacheFactory:Le,$controller:Ve,$document:ze,$exceptionHandler:He,$filter:zt,$interpolate:et,$interval:tt,$http:Xe,$httpBackend:Ze,$location:ft,$log:mt,$parse:Ct,$rootScope:Dt,$q:Tt,$$q:Et,$sce:It,$sceDelegate:qt,$sniffer:Lt,$templateCache:Be,$templateRequest:Bt,$$testability:Ft,$timeout:Nt,$window:Vt,$$rAF:At,$$asyncCallback:Oe,$$jqLite:Ee})}])}function se(e){return e.replace(Un,function(e,t,n,i){return i?n.toUpperCase():n;

}).replace(Wn,"Moz$1")}function ae(e){return e=e.nodeType,e===Gn||!e||9===e}function le(e,t){var n,i,r=t.createDocumentFragment(),s=[];if(Jn.test(e)){for(n=n||r.appendChild(t.createElement("div")),i=(Zn.exec(e)||["",""])[1].toLowerCase(),i=ei[i]||ei._default,n.innerHTML=i[1]+e.replace(Qn,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;s=O(s,n.childNodes),n=r.firstChild,n.textContent=""}else s.push(t.createTextNode(e));return r.textContent="",r.innerHTML="",o(s,function(e){r.appendChild(e)}),r}function ue(e){if(e instanceof ue)return e;var n;if(y(e)&&(e=qn(e),n=!0),!(this instanceof ue)){if(n&&"<"!=e.charAt(0))throw Kn("nosel");return new ue(e)}if(n){n=t;var i;e=(i=Xn.exec(e))?[n.createElement(i[1])]:(i=le(e,n))?i.childNodes:[]}ye(this,e)}function ce(e){return e.cloneNode(!0)}function de(e,t){if(t||ge(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;r>i;i++)ge(n[i])}function pe(e,t,n,i){if(v(i))throw Kn("offargs");var r=(i=he(e))&&i.events,s=i&&i.handle;if(s)if(t)o(t.split(" "),function(t){if(v(n)){var i=r[t];if(A(i||[],n),i&&0<i.length)return}e.removeEventListener(t,s,!1),delete r[t]});else for(t in r)"$destroy"!==t&&e.removeEventListener(t,s,!1),delete r[t]}function ge(e,t){var i=e.ng339,r=i&&zn[i];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),pe(e)),delete zn[i],e.ng339=n))}function he(e,t){var i=e.ng339,i=i&&zn[i];return t&&!i&&(e.ng339=i=++Hn,i=zn[i]={events:{},data:{},handle:n}),i}function fe(e,t,n){if(ae(e)){var i=v(n),r=!i&&t&&!b(t),o=!t;if(e=(e=he(e,!r))&&e.data,i)e[t]=n;else{if(o)return e;if(r)return e&&e[t];c(e,t)}}}function me(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function ve(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",qn((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+qn(t)+" "," ")))})}function be(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=qn(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",qn(n))}}function ye(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function _e(e,t){return we(e,"$"+(t||"ngController")+"Controller")}function we(e,t,i){for(9==e.nodeType&&(e=e.documentElement),t=On(t)?t:[t];e;){for(var r=0,o=t.length;o>r;r++)if((i=yn.data(e,t[r]))!==n)return i;e=e.parentNode||11===e.nodeType&&e.host}}function $e(e){for(de(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function xe(e,t){t||de(e);var n=e.parentNode;n&&n.removeChild(e)}function ke(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):yn(n).on("load",t)}function Se(e,t){var n=ni[t.toLowerCase()];return n&&ii[M(e)]&&n}function Ce(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&ri[t]}function Te(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(m(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},o>1&&(r=P(r));for(var a=0;o>a;a++)n.isImmediatePropagationStopped()||r[a].call(e,n)}};return n.elem=e,n}function Ee(){this.$get=function(){return c(ue,{hasClass:function(e,t){return e.attr&&(e=e[0]),me(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),be(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),ve(e,t)}})}}function Me(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function Ae(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function De(e){return(e=e.toString().replace(li,"").match(oi))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Pe(e,t){function i(e){return function(t,n){return b(t)?void o(t,a(e)):e(t,n)}}function r(e,t){if(ee(e,"service"),($(t)||On(t))&&(t=_.instantiate(t)),!t.$get)throw ui("pget",e);return v[e+"Provider"]=t}function s(e,t){return function(){var n=x.invoke(t,this);if(m(n))throw ui("undef",e);return n}}function l(e,t,n){return r(e,{$get:!1!==n?s(e,t):t})}function u(e){var t,n=[];return o(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],r=_.get(i[0]);r[i[1]].apply(r,i[2])}}if(!h.get(e)){h.put(e,!0);try{y(e)?(t=wn(e),n=n.concat(u(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):$(e)?n.push(_.invoke(e)):On(e)?n.push(_.invoke(e)):Q(e,"module")}catch(r){throw On(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),ui("modulerr",e,r.stack||r.message||r)}}}),n}function c(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===d)throw ui("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=d,e[t]=n(t,i)}catch(r){throw e[t]===d&&delete e[t],r}finally{p.shift()}}function r(e,n,r,o){"string"==typeof r&&(o=r,r=null);var s,a,l,u=[],c=Pe.$$annotate(e,t,o);for(a=0,s=c.length;s>a;a++){if(l=c[a],"string"!=typeof l)throw ui("itkn",l);u.push(r&&r.hasOwnProperty(l)?r[l]:i(l,o))}return On(e)&&(e=e[s]),e.apply(n,u)}return{invoke:r,instantiate:function(e,t,n){var i=Object.create((On(e)?e[e.length-1]:e).prototype||null);return e=r(e,i,t,n),b(e)||$(e)?e:i},get:i,annotate:Pe.$$annotate,has:function(t){return v.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},p=[],h=new Ae([],!0),v={$provide:{provider:i(r),factory:i(l),service:i(function(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}),value:i(function(e,t){return l(e,f(t),!1)}),constant:i(function(e,t){ee(e,"constant"),v[e]=t,w[e]=t}),decorator:function(e,t){var n=_.get(e+"Provider"),i=n.$get;n.$get=function(){var e=x.invoke(i,n);return x.invoke(t,null,{$delegate:e})}}}},_=v.$injector=c(v,function(e,t){throw Dn.isString(t)&&p.push(t),ui("unpr",p.join(" <- "))}),w={},x=w.$injector=c(w,function(e,t){var i=_.get(e+"Provider",t);return x.invoke(i.$get,i,n,e)});return o(u(e),function(e){x.invoke(e||g)}),x}function je(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===M(e)?(t=e,!0):void 0}),t}function o(e){if(e){e.scrollIntoView();var n;n=s.yOffset,$(n)?n=n():T(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):_(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function s(){var e,t=n.hash();t?(e=a.getElementById(t))?o(e):(e=r(a.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var a=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||ke(function(){i.$evalAsync(s)})}),s}]}function Oe(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function qe(e,t,i,r){function s(e){try{e.apply(null,Cn.call(arguments,1))}finally{if($--,0===$)for(;x.length;)try{x.pop()()}catch(t){i.error(t)}}}function a(e,t){!function n(){o(S,function(e){e()}),k=t(n,e)}()}function l(){u(),c()}function u(){C=e.history.state,C=m(C)?null:C,j(C,O)&&(C=O),O=C}function c(){(E!==p.url()||T!==C)&&(E=p.url(),T=C,o(D,function(e){e(p.url(),C)}))}function d(e){try{return decodeURIComponent(e)}catch(t){return e}}var p=this,h=t[0],f=e.location,v=e.history,b=e.setTimeout,_=e.clearTimeout,w={};p.isMock=!1;var $=0,x=[];p.$$completeOutstandingRequest=s,p.$$incOutstandingRequestCount=function(){$++},p.notifyWhenNoOutstandingRequests=function(e){o(S,function(e){e()}),0===$?e():x.push(e)};var k,S=[];p.addPollFn=function(e){return m(k)&&a(100,b),S.push(e),e};var C,T,E=f.href,M=t.find("base"),A=null;u(),T=C,p.url=function(t,n,i){if(m(i)&&(i=null),f!==e.location&&(f=e.location),v!==e.history&&(v=e.history),t){var o=T===i;if(E===t&&(!r.history||o))return p;var s=E&&at(E)===at(t);return E=t,T=i,!r.history||s&&o?(s||(A=t),n?f.replace(t):s?(n=f,i=t.indexOf("#"),t=-1===i?"":t.substr(i+1),n.hash=t):f.href=t):(v[n?"replaceState":"pushState"](i,"",t),u(),T=C),p}return A||f.href.replace(/%27/g,"'")},p.state=function(){return C};var D=[],P=!1,O=null;p.onUrlChange=function(t){return P||(r.history&&yn(e).on("popstate",l),yn(e).on("hashchange",l),P=!0),D.push(t),t},p.$$checkUrlChange=c,p.baseHref=function(){var e=M.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var q={},I="",L=p.baseHref();p.cookies=function(e,t){var r,o,s,a;if(!e){if(h.cookie!==I)for(I=h.cookie,r=I.split("; "),q={},s=0;s<r.length;s++)o=r[s],a=o.indexOf("="),a>0&&(e=d(o.substring(0,a)),q[e]===n&&(q[e]=d(o.substring(a+1))));return q}t===n?h.cookie=encodeURIComponent(e)+"=;path="+L+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(t)&&(r=(h.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+L).length+1,r>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},p.defer=function(e,t){var n;return $++,n=b(function(){delete w[n],s(e)},t||0),w[n]=!0,n},p.defer.cancel=function(e){return w[e]?(delete w[e],_(e),s(g),!0):!1}}function Ie(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new qe(e,i,t,n)}]}function Le(){this.$get=function(){function e(e,n){function r(e){e!=p&&(g?g==e&&(g=e.n):g=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid",e);var s=0,a=c({},n,{id:e}),l={},u=n&&n.capacity||Number.MAX_VALUE,d={},p=null,g=null;return t[e]={put:function(e,t){if(u<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});r(n)}return m(t)?void 0:(e in l||s++,l[e]=t,s>u&&this.remove(g.key),t)},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t==p&&(p=t.p),t==g&&(g=t.n),o(t.n,t.p),delete d[e]}delete l[e],s--},removeAll:function(){l={},s=0,d={},p=g=null},destroy:function(){d=a=l=null,delete t[e]},info:function(){return c({},a,{size:s})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Be(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Fe(e,i){function r(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(e,function(e,r){var o=e.match(n);if(!o)throw pi("iscp",t,r,e);i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),i}var s={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,d=E("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,_=/^(on[a-z]+|formaction)$/;this.directive=function x(t,n){return ee(t,"directive"),y(t)?(Z(n,"directiveFactory"),s.hasOwnProperty(t)||(s[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var i=[];return o(s[t],function(o,s){try{var a=e.invoke(o);$(a)?a={compile:f(a)}:!a.compile&&a.link&&(a.compile=f(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",b(a.scope)&&(a.$$isolateBindings=r(a.scope,a.name)),i.push(a)}catch(l){n(l)}}),i}])),s[t].push(n)):o(t,a(x)),this},this.aHrefSanitizationWhitelist=function(e){return v(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var w=!0;this.debugInfoEnabled=function(e){return v(e)?(w=e,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,r,a,f,v,x,k,C,T,E){function D(e,t){try{e.addClass(t)}catch(n){}}function P(e,t,n,i,r){e instanceof yn||(e=yn(e)),o(e,function(t,n){t.nodeType==Rn&&t.nodeValue.match(/\S+/)&&(e[n]=yn(t).wrap("<span></span>").parent()[0])});var s=O(e,t,e,n,i,r);P.$$addScopeClass(e);var a=null;return function(t,n,i){Z(t,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),a||(a=(i=i&&i[0])&&"foreignobject"!==M(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==a?yn(K(a,yn("<div>").append(e).html())):n?ti.clone.call(e):e,o)for(var l in o)i.data("$"+l+"Controller",o[l].instance);return P.$$addScopeInfo(i,t),n&&n(i,t),s&&s(t,i,i,r),i}}function O(e,t,i,r,o,s){function a(e,i,r,o){var s,a,l,u,c,d,h;if(p)for(h=Array(i.length),u=0;u<g.length;u+=3)s=g[u],h[s]=i[s];else h=i;for(u=0,c=g.length;c>u;)a=h[g[u++]],i=g[u++],s=g[u++],i?(i.scope?(l=e.$new(),P.$$addScopeInfo(yn(a),l)):l=e,d=i.transcludeOnThisElement?q(e,i.transclude,o,i.elementTranscludeOnThisElement):!i.templateOnThisElement&&o?o:!o&&t?q(e,t):null,i(s,l,a,r,d)):s&&s(e,a.childNodes,n,o)}for(var l,u,c,d,p,g=[],h=0;h<e.length;h++)l=new re,u=I(e[h],[],l,0===h?r:n,o),(s=u.length?N(u,e[h],l,t,i,null,[],[],s):null)&&s.scope&&P.$$addScopeClass(l.$$element),l=s&&s.terminal||!(c=e[h].childNodes)||!c.length?null:O(c,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:t),(s||l)&&(g.push(h,s,l),d=!0,p=p||s),s=null;return d?a:null}function q(e,t,n,i){return function(i,r,o,s,a){return i||(i=e.$new(!1,a),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}}function I(e,t,n,i,r){var o,s=n.$attr;switch(e.nodeType){case Gn:R(t,Ne(M(e)),"E",i,r);for(var a,c,d,p=e.attributes,g=0,h=p&&p.length;h>g;g++){var f=!1,m=!1;a=p[g],o=a.name,c=qn(a.value),a=Ne(o),(d=le.test(a))&&(o=o.replace(gi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var v=a.replace(/(Start|End)$/,"");V(v)&&a===v+"Start"&&(f=o,m=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),a=Ne(o.toLowerCase()),s[a]=o,(d||!n.hasOwnProperty(a))&&(n[a]=c,Se(e,a)&&(n[a]=!0)),Q(e,t,c,a,d),R(t,a,"A",i,r,f,m)}if(e=e.className,b(e)&&(e=e.animVal),y(e)&&""!==e)for(;o=u.exec(e);)a=Ne(o[2]),R(t,a,"C",i,r)&&(n[a]=qn(o[3])),e=e.substr(o.index+o[0].length);break;case Rn:Y(t,e.nodeValue);break;case 8:try{(o=l.exec(e.nodeValue))&&(a=Ne(o[1]),R(t,a,"M",i,r)&&(n[a]=qn(o[2])))}catch(_){}}return t.sort(U),t}function L(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw pi("uterdir",t,n);e.nodeType==Gn&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return yn(i)}function B(e,t,n){return function(i,r,o,s,a){return r=L(r[0],t,n),e(i,r,o,s,a)}}function N(e,s,a,l,u,c,d,p,g){function h(e,t,n,i){e&&(n&&(e=B(e,n,i)),e.require=C.require,e.directiveName=T,(O===C||C.$$isolateScope)&&(e=te(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=B(t,n,i)),t.require=C.require,t.directiveName=T,(O===C||C.$$isolateScope)&&(t=te(t,{isolateScope:!0})),p.push(t))}function _(e,t,n,i){var r,s,a="data",l=!1,u=n;if(y(t)){if(s=t.match(m),t=t.substring(s[0].length),s[3]&&(s[1]?s[3]=null:s[1]=s[3]),"^"===s[1]?a="inheritedData":"^^"===s[1]&&(a="inheritedData",u=n.parent()),"?"===s[2]&&(l=!0),r=null,i&&"data"===a&&(r=i[t])&&(r=r.instance),r=r||u[a]("$"+t+"Controller"),!r&&!l)throw pi("ctreq",t,e);return r||null}return On(t)&&(r=[],o(t,function(t){r.push(_(e,t,n,i))})),r}function w(e,t,r,l,u){function c(e,t,i){var r;return S(e)||(i=t,t=e,e=n),U&&(r=y),i||(i=U?$.parent():$),u(e,t,r,i,T)}var g,h,m,b,y,w,$,x;if(s===r?(x=a,$=a.$$element):($=yn(r),x=new re($,a)),O&&(b=t.$new(!0)),u&&(w=c,w.$$boundTransclude=u),D&&(k={},y={},o(D,function(e){var n={$scope:e===O||e.$$isolateScope?b:t,$element:$,$attrs:x,$transclude:w};m=e.controller,"@"==m&&(m=x[e.name]),n=v(m,n,!0,e.controllerAs),y[e.name]=n,U||$.data("$"+e.name+"Controller",n.instance),k[e.name]=n})),O){P.$$addScopeInfo($,b,!0,!(q&&(q===O||q===O.$$originalDirective))),P.$$addScopeClass($,!0),l=k&&k[O.name];var C=b;l&&l.identifier&&!0===O.bindToController&&(C=l.instance),o(b.$$isolateBindings=O.$$isolateBindings,function(e,n){var r,o,s,a,l=e.attrName,u=e.optional;switch(e.mode){case"@":x.$observe(l,function(e){C[n]=e}),x.$$observers[l].$$scope=t,x[l]&&(C[n]=i(x[l])(t));break;case"=":if(u&&!x[l])break;o=f(x[l]),a=o.literal?j:function(e,t){return e===t||e!==e&&t!==t},s=o.assign||function(){throw r=C[n]=o(t),pi("nonassign",x[l],O.name)},r=C[n]=o(t),u=function(e){return a(e,C[n])||(a(e,r)?s(t,e=C[n]):C[n]=e),r=e},u.$stateful=!0,u=e.collection?t.$watchCollection(x[l],u):t.$watch(f(x[l],u),null,o.literal),b.$on("$destroy",u);break;case"&":o=f(x[l]),C[n]=function(e){return o(t,e)}}})}for(k&&(o(k,function(e){e()}),k=null),l=0,g=d.length;g>l;l++)h=d[l],ne(h,h.isolateScope?b:t,$,x,h.require&&_(h.directiveName,h.require,$,y),w);var T=t;for(O&&(O.template||null===O.templateUrl)&&(T=b),e&&e(T,r.childNodes,n,u),l=p.length-1;l>=0;l--)h=p[l],ne(h,h.isolateScope?b:t,$,x,h.require&&_(h.directiveName,h.require,$,y),w)}g=g||{};for(var x,k,C,T,E,M,A=-Number.MAX_VALUE,D=g.controllerDirectives,O=g.newIsolateScopeDirective,q=g.templateDirective,N=g.nonTlbTranscludeDirective,R=!1,V=!1,U=g.hasElementTranscludeDirective,Y=a.$$element=yn(s),X=l,J=0,Z=e.length;Z>J;J++){C=e[J];var Q=C.$$start,ie=C.$$end;if(Q&&(Y=L(s,Q,ie)),E=n,A>C.priority)break;if((E=C.scope)&&(C.templateUrl||(b(E)?(W("new/isolated scope",O||x,C,Y),O=C):W("new/isolated scope",O,C,Y)),x=x||C),T=C.name,!C.templateUrl&&C.controller&&(E=C.controller,D=D||{},W("'"+T+"' controller",D[T],C,Y),D[T]=C),(E=C.transclude)&&(R=!0,C.$$tlb||(W("transclusion",N,C,Y),N=C),"element"==E?(U=!0,A=C.priority,E=Y,Y=a.$$element=yn(t.createComment(" "+T+": "+a[T]+" ")),s=Y[0],ee(u,Cn.call(E,0),s),X=P(E,l,A,c&&c.name,{nonTlbTranscludeDirective:N})):(E=yn(ce(s)).contents(),Y.empty(),X=P(E,l))),C.template)if(V=!0,W("template",q,C,Y),q=C,E=$(C.template)?C.template(Y,a):C.template,E=ae(E),C.replace){if(c=C,E=Jn.test(E)?Re(K(C.templateNamespace,qn(E))):[],s=E[0],1!=E.length||s.nodeType!==Gn)throw pi("tplrt",T,"");ee(u,Y,s),Z={$attr:{}},E=I(s,[],Z);var oe=e.splice(J+1,e.length-(J+1));O&&G(E),e=e.concat(E).concat(oe),z(a,Z),Z=e.length}else Y.html(E);if(C.templateUrl)V=!0,W("template",q,C,Y),q=C,C.replace&&(c=C),w=H(e.splice(J,e.length-J),Y,a,u,R&&X,d,p,{controllerDirectives:D,newIsolateScopeDirective:O,templateDirective:q,nonTlbTranscludeDirective:N}),Z=e.length;else if(C.compile)try{M=C.compile(Y,a,X),$(M)?h(null,M,Q,ie):M&&h(M.pre,M.post,Q,ie)}catch(se){r(se,F(Y))}C.terminal&&(w.terminal=!0,A=Math.max(A,C.priority))}return w.scope=x&&!0===x.scope,w.transcludeOnThisElement=R,w.elementTranscludeOnThisElement=U,w.templateOnThisElement=V,w.transclude=X,g.hasElementTranscludeDirective=U,w}function G(e){for(var t=0,n=e.length;n>t;t++)e[t]=p(e[t],{$$isolateScope:!0})}function R(t,i,o,a,l,u,c){if(i===l)return null;if(l=null,s.hasOwnProperty(i)){var d;i=e.get(i+"Directive");for(var g=0,h=i.length;h>g;g++)try{d=i[g],(a===n||a>d.priority)&&-1!=d.restrict.indexOf(o)&&(u&&(d=p(d,{$$start:u,$$end:c})),t.push(d),l=d)}catch(f){r(f)}}return l}function V(t){if(s.hasOwnProperty(t))for(var n=e.get(t+"Directive"),i=0,r=n.length;r>i;i++)if(t=n[i],t.multiElement)return!0;return!1}function z(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;o(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,o){"class"==o?(D(r,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])})}function H(e,t,n,i,r,s,l,u){var c,d,g=[],h=t[0],f=e.shift(),m=p(f,{templateUrl:null,transclude:null,replace:null,$$originalDirective:f}),v=$(f.templateUrl)?f.templateUrl(t,n):f.templateUrl,y=f.templateNamespace;return t.empty(),a(C.getTrustedResourceUrl(v)).then(function(a){var p,_;if(a=ae(a),f.replace){if(a=Jn.test(a)?Re(K(y,qn(a))):[],p=a[0],1!=a.length||p.nodeType!==Gn)throw pi("tplrt",f.name,v);a={$attr:{}},ee(i,t,p);var w=I(p,[],a);b(f.scope)&&G(w),e=w.concat(e),z(n,a)}else p=h,t.html(a);for(e.unshift(m),c=N(e,p,n,r,t,f,s,l,u),o(i,function(e,n){e==p&&(i[n]=t[0])}),d=O(t[0].childNodes,r);g.length;){a=g.shift(),_=g.shift();var $=g.shift(),x=g.shift(),w=t[0];if(!a.$$destroyed){if(_!==h){var k=_.className;u.hasElementTranscludeDirective&&f.replace||(w=ce(p)),ee($,yn(_),w),D(yn(w),k)}_=c.transcludeOnThisElement?q(a,c.transclude,x):x,c(d,a,w,i,_)}}g=null}),function(e,t,n,i,r){e=r,t.$$destroyed||(g?g.push(t,n,i,e):(c.transcludeOnThisElement&&(e=q(t,c.transclude,r)),c(d,t,n,i,e)))}}function U(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function W(e,t,n,i){if(t)throw pi("multidir",t.name,n.name,e,F(i))}function Y(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&P.$$addBindingClass(e),function(e,i){var r=i.parent();t||P.$$addBindingClass(r),P.$$addBindingInfo(r,n.expressions),e.$watch(n,function(e){i[0].nodeValue=e})}}})}function K(e,n){switch(e=xn(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function J(e,t){if("srcdoc"==t)return C.HTML;var n=M(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function Q(e,t,n,r,o){var s=J(e,r);o=d[r]||o;var a=i(n,!0,s,o);if(a){if("multiple"===r&&"select"===M(e))throw pi("selmulti",F(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers={}),_.test(r))throw pi("nodomevents");var u=l[r];u!==n&&(a=u&&i(u,!0,s,o),n=u),a&&(l[r]=a(e),(t[r]||(t[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(a,function(e,t){"class"===r&&e!=t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function ee(e,n,i){var r,o,s=n[0],a=n.length,l=s.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]==s){e[r++]=i,o=r+a-1;for(var u=e.length;u>r;r++,o++)u>o?e[r]=e[o]:delete e[r];e.length-=a-1,e.context===s&&(e.context=i);break}for(l&&l.replaceChild(i,s),e=t.createDocumentFragment(),e.appendChild(s),yn(i).data(yn(s).data()),_n?(jn=!0,_n.cleanData([s])):delete yn.cache[s[yn.expando]],s=1,a=n.length;a>s;s++)l=n[s],yn(l).remove(),e.appendChild(l),delete n[s];n[0]=i,n.length=1}function te(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function ne(e,t,n,i,o,s){try{e(t,n,i,o,s)}catch(a){r(a,F(n))}}var re=function(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e};re.prototype={$normalize:Ne,$addClass:function(e){e&&0<e.length&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ge(e,t);n&&n.length&&T.addClass(this.$$element,n),(n=Ge(t,e))&&n.length&&T.removeClass(this.$$element,n)},$set:function(e,t,i,s){var a=this.$$element[0],l=Se(a,e),u=Ce(a,e),a=e;if(l?(this.$$element.prop(e,t),s=l):u&&(this[u]=t,a=u),this[e]=t,s?this.$attr[e]=s:(s=this.$attr[e])||(this.$attr[e]=s=X(e,"-")),l=M(this.$$element),"a"===l&&"href"===e||"img"===l&&"src"===e)this[e]=t=E(t,"src"===e);else if("img"===l&&"srcset"===e){for(var l="",u=qn(t),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(u)?c:/(,)/,u=u.split(c),c=Math.floor(u.length/2),d=0;c>d;d++)var p=2*d,l=l+E(qn(u[p]),!0),l=l+(" "+qn(u[p+1]));u=qn(u[2*d]).split(/\s/),l+=E(qn(u[0]),!0),2===u.length&&(l+=" "+qn(u[1])),this[e]=t=l}!1!==i&&(null===t||t===n?this.$$element.removeAttr(s):this.$$element.attr(s,t)),(e=this.$$observers)&&o(e[a],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=ie()),r=i[e]||(i[e]=[]);return r.push(t),x.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){A(r,t)}}};var oe=i.startSymbol(),se=i.endSymbol(),ae="{{"==oe||"}}"==se?h:function(e){return e.replace(/\{\{/g,oe).replace(/}}/g,se)},le=/^ngAttr[A-Z]/;return P.$$addBindingInfo=w?function(e,t){var n=e.data("$binding")||[];On(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:g,P.$$addBindingClass=w?function(e){D(e,"ng-binding")}:g,P.$$addScopeInfo=w?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:g,P.$$addScopeClass=w?function(e,t){D(e,t?"ng-isolate-scope":"ng-scope")}:g,P}]}function Ne(e){return se(e.replace(gi,""))}function Ge(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/),o=0;e:for(;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue e;n+=(0<n.length?" ":"")+s}return n}function Re(e){e=yn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Tn.call(e,t,1);return e}function Ve(){var e={},t=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){ee(t,"controller"),b(t)?c(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,s){function a(e,t,n,r){if(!e||!b(e.$scope))throw i("$controller")("noscp",r,t);e.$scope[t]=n}return function(i,l,u,d){var p,g,h;if(u=!0===u,d&&y(d)&&(h=d),y(i)){if(d=i.match(r),!d)throw hi("ctrlfmt",i);g=d[1],h=h||d[3],i=e.hasOwnProperty(g)?e[g]:te(l.$scope,g,!0)||(t?te(s,g,!0):n),Q(i,g,!0)}return u?(u=(On(i)?i[i.length-1]:i).prototype,p=Object.create(u||null),h&&a(l,h,p,g||i.name),c(function(){return o.invoke(i,p,l,g),p},{instance:p,identifier:h})):(p=o.instantiate(i,l,g),h&&a(l,h,p,g||i.name),p)}}]}function ze(){this.$get=["$window",function(e){return yn(e.document)}]}function He(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Ue(e,t){if(y(e)){var n=e.replace(yi,"").trim();if(n){var i=t("Content-Type");(i=i&&0===i.indexOf(fi))||(i=(i=n.match(vi))&&bi[i[0]].test(n)),i&&(e=B(n))}}return e}function We(e){var t,n,i,r=ie();return e?(o(e.split("\n"),function(e){i=e.indexOf(":"),t=xn(qn(e.substr(0,i))),n=qn(e.substr(i+1)),t&&(r[t]=r[t]?r[t]+", "+n:n)}),r):r}function Ye(e){var t=b(e)?e:n;return function(n){return t||(t=We(e)),n?(n=t[xn(n)],void 0===n&&(n=null),n):t}}function Ke(e,t,n,i){return $(i)?i(e,t,n):(o(i,function(i){e=i(e,t,n)}),e)}function Xe(){var e=this.defaults={transformResponse:[Ue],transformRequest:[function(e){return b(e)&&"[object File]"!==Mn.call(e)&&"[object Blob]"!==Mn.call(e)&&"[object FormData]"!==Mn.call(e)?L(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:P(mi),put:P(mi),patch:P(mi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return v(e)?(t=!!e,this):t};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,l,u,d,p,g){function h(t){function r(e){var t=c({},e);return t.data=e.data?Ke(e.data,e.headers,e.status,a.transformResponse):e.data,e=e.status,e>=200&&300>e?t:p.reject(t)}function s(e){var t,n={};return o(e,function(e,i){$(e)?(t=e(),null!=t&&(n[i]=t)):n[i]=e}),n}if(!Dn.isObject(t))throw i("$http")("badreq",t);var a=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);a.headers=function(t){var n,i,r=e.headers,o=c({},t.headers),r=c({},r.common,r[xn(t.method)]);e:for(n in r){t=xn(n);for(i in o)if(xn(i)===t)continue e;o[n]=r[n]}return s(o)}(t),a.method=Sn(a.method);var l=[function(t){var i=t.headers,s=Ke(t.data,Ye(i),n,t.transformRequest);return m(s)&&o(i,function(e,t){"content-type"===xn(t)&&delete i[t]}),m(t.withCredentials)&&!m(e.withCredentials)&&(t.withCredentials=e.withCredentials),f(t,s).then(r,r)},n],u=p.when(a);for(o(k,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){t=l.shift();var d=l.shift(),u=u.then(t,d)}return u.success=function(e){return u.then(function(t){e(t.data,t.status,t.headers,a)}),u},u.error=function(e){return u.then(null,function(t){e(t.data,t.status,t.headers,a)}),u},u}function f(i,r){function o(e,n,i,r){function o(){s(n,e,i,r)}g&&(e>=200&&300>e?g.put(S,[e,n,We(i),r]):g.remove(S)),t?d.$applyAsync(o):(o(),d.$$phase||d.$apply())}function s(e,t,n,r){t=Math.max(t,0),(t>=200&&300>t?y.resolve:y.reject)({data:e,status:t,headers:Ye(n),config:i,statusText:r})}function u(e){s(e.data,e.status,P(e.headers()),e.statusText)}function c(){var e=h.pendingRequests.indexOf(i);-1!==e&&h.pendingRequests.splice(e,1)}var g,f,y=p.defer(),w=y.promise,k=i.headers,S=_(i.url,i.params);return h.pendingRequests.push(i),w.then(c,c),!i.cache&&!e.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(g=b(i.cache)?i.cache:b(e.cache)?e.cache:x),g&&(f=g.get(S),v(f)?f&&$(f.then)?f.then(u,u):On(f)?s(f[1],f[0],P(f[2]),f[3]):s(f,200,{},"OK"):g.put(S,w)),m(f)&&((f=Rt(i.url)?l.cookies()[i.xsrfCookieName||e.xsrfCookieName]:n)&&(k[i.xsrfHeaderName||e.xsrfHeaderName]=f),a(i.method,S,r,o,k,i.timeout,i.withCredentials,i.responseType)),w}function _(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||m(e)||(On(e)||(e=[e]),o(e,function(e){b(e)&&(e=w(e)?e.toISOString():L(e)),n.push(z(t)+"="+z(e))}))}),0<n.length&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var x=u("$http"),k=[];return o(r,function(e){k.unshift(y(e)?g.get(e):g.invoke(e))}),h.pendingRequests=[],function(e){o(arguments,function(e){h[e]=function(t,n){return h(c(n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){h[e]=function(t,n,i){return h(c(i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=e,h}]}function Je(){return new e.XMLHttpRequest}function Ze(){this.$get=["$browser","$window","$document",function(e,t,n){return Qe(e,Je,e.defer,t.angular.callbacks,n[0])}]}function Qe(e,t,i,r,s){function a(e,t,n){var i=s.createElement("script"),o=null;return i.type="text/javascript",i.src=e,i.async=!0,o=function(e){i.removeEventListener("load",o,!1),i.removeEventListener("error",o,!1),s.body.removeChild(i),i=null;var a=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),n&&n(a,l)},i.addEventListener("load",o,!1),i.addEventListener("error",o,!1),s.body.appendChild(i),o}return function(s,l,u,c,d,p,h,f){function m(){_&&_(),w&&w.abort()}function b(t,r,o,s,a){k!==n&&i.cancel(k),_=w=null,t(r,o,s,a),e.$$completeOutstandingRequest(g)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==xn(s)){var y="_"+(r.counter++).toString(36);r[y]=function(e){r[y].data=e,r[y].called=!0};var _=a(l.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(e,t){b(c,e,r[y].data,"",t),r[y]=g})}else{var w=t();if(w.open(s,l,!0),o(d,function(e,t){v(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"==Gt(l).protocol?404:0),b(c,n,t,w.getAllResponseHeaders(),e)},s=function(){b(c,-1,null,null,"")},w.onerror=s,w.onabort=s,h&&(w.withCredentials=!0),f)try{w.responseType=f}catch(x){if("json"!==f)throw x}w.send(u||null)}if(p>0)var k=i(m,p);else p&&$(p.then)&&p.then(m)}}function et(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function s(o,s,p,g){function h(n){return n.replace(u,e).replace(d,t)}function f(e){try{var t=e;e=p?r.getTrusted(p,t):r.valueOf(t);var n;if(g&&!v(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=L(e)}n=e}return n}catch(s){n=_i("interr",o,s.toString()),i(n)}}g=!!g;for(var b,y,_=0,w=[],x=[],k=o.length,S=[],C=[];k>_;){if(-1==(b=o.indexOf(e,_))||-1==(y=o.indexOf(t,b+a))){_!==k&&S.push(h(o.substring(_)));break}_!==b&&S.push(h(o.substring(_,b))),_=o.substring(b+a,y),w.push(_),x.push(n(_,f)),_=y+l,C.push(S.length),S.push("")}if(p&&1<S.length)throw _i("noconcat",o);if(!s||w.length){var T=function(e){for(var t=0,n=w.length;n>t;t++){if(g&&m(e[t]))return;S[C[t]]=e[t]}return S.join("")};return c(function(e){var t=0,n=w.length,r=Array(n);try{for(;n>t;t++)r[t]=x[t](e);

return T(r)}catch(s){e=_i("interr",o,s.toString()),i(e)}},{exp:o,expressions:w,$$watchDelegate:function(e,t,n){var i;return e.$watchGroup(x,function(n,r){var o=T(n);$(t)&&t.call(this,o,n!==r?i:o,e),i=o},n)}})}}var a=e.length,l=t.length,u=new RegExp(e.replace(/./g,o),"g"),d=new RegExp(t.replace(/./g,o),"g");return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function tt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){function r(r,s,a,l){var u=t.setInterval,c=t.clearInterval,d=0,p=v(l)&&!l,g=(p?i:n).defer(),h=g.promise;return a=v(a)?a:0,h.then(null,null,r),h.$$intervalId=u(function(){g.notify(d++),a>0&&d>=a&&(g.resolve(d),c(h.$$intervalId),delete o[h.$$intervalId]),p||e.$apply()},s),o[h.$$intervalId]=g,h}var o={};return r.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},r}]}function nt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"1 2 3 4 5 6 7 August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function it(e){e=e.split("/");for(var t=e.length;t--;)e[t]=V(e[t]);return e.join("/")}function rt(e,t){var n=Gt(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||$i[n.protocol]||null}function ot(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Gt(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=G(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function st(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function at(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function lt(e){return e.replace(/(#.+)|#$/,"$1")}function ut(e){return e.substr(0,at(e).lastIndexOf("/")+1)}function ct(e,t){this.$$html5=!0,t=t||"";var i=ut(e);rt(e,this),this.$$parse=function(e){var t=st(i,e);if(!y(t))throw xi("ipthprfx",e,i);ot(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=R(this.$$search),t=this.$$hash?"#"+V(this.$$hash):"";this.$$url=it(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a;return(s=st(e,r))!==n?(a=s,a=(s=st(t,s))!==n?i+(st("/",s)||s):e+a):(s=st(i,r))!==n?a=i+s:i==r+"/"&&(a=i),a&&this.$$parse(a),!!a}}function dt(e,t){var n=ut(e);rt(e,this),this.$$parse=function(i){i=st(e,i)||st(n,i);var r;"#"===i.charAt(0)?(r=st(t,i),m(r)&&(r=i)):r=this.$$html5?i:"",ot(r,this),i=this.$$path;var o=/^\/[A-Z]:(\/.*)/;0===r.indexOf(e)&&(r=r.replace(e,"")),o.exec(r)||(i=(r=o.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var n=R(this.$$search),i=this.$$hash?"#"+V(this.$$hash):"";this.$$url=it(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return at(e)==at(t)?(this.$$parse(t),!0):!1}}function pt(e,t){this.$$html5=!0,dt.apply(this,arguments);var n=ut(e);this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return e==at(i)?o=i:(s=st(n,i))?o=e+t+s:n===i+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=R(this.$$search),i=this.$$hash?"#"+V(this.$$hash):"";this.$$url=it(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+t+this.$$url}}function gt(e){return function(){return this[e]}}function ht(e,t){return function(n){return m(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function ft(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return v(t)?(e=t,this):e},this.html5Mode=function(e){return C(e)?(t.enabled=e,this):b(e)?(C(e.enabled)&&(t.enabled=e.enabled),C(e.requireBase)&&(t.requireBase=e.requireBase),C(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(e,t,n){var r=u.url(),o=u.$$state;try{i.url(e,t,n),u.$$state=i.state()}catch(s){throw u.url(r),u.$$state=o,s}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c;c=i.baseHref();var d,p=i.url();if(t.enabled){if(!c&&t.requireBase)throw xi("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(c||"/"),c=r.history?ct:pt}else d=at(p),c=dt;u=new c(d,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=i.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=yn(e.target);"a"!==M(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");b(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Gt(a.animVal).href),g.test(a)||!a||r.attr("target")||e.isDefaultPrevented()||!u.$$parseLinkUrl(a,l)||(e.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),lt(u.absUrl())!=lt(p)&&i.url(u.absUrl(),!0);var h=!0;return i.onUrlChange(function(e,t){n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;u.$$parse(e),u.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,u.absUrl()===e&&(i?(u.$$parse(r),u.$$state=o,a(r,!1,o)):(h=!1,l(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=lt(i.url()),t=lt(u.absUrl()),o=i.state(),s=u.$$replace,c=e!==t||u.$$html5&&r.history&&o!==u.$$state;(h||c)&&(h=!1,n.$evalAsync(function(){var t=u.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(i?(u.$$parse(e),u.$$state=o):(c&&a(t,s,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function mt(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||g;e=!1;try{e=!!r.apply}catch(s){}return e?function(){var e=[];return o(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function vt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Si("isecfld",t);return e}function bt(e,t){if(e){if(e.constructor===e)throw Si("isecfn",t);if(e.window===e)throw Si("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Si("isecdom",t);if(e===Object)throw Si("isecobj",t)}return e}function yt(e){return e.constant}function _t(e,t,n,i,r){bt(e,r),bt(t,r),n=n.split(".");for(var o,s=0;1<n.length;s++){o=vt(n.shift(),r);var a=0===s&&t&&t[o]||e[o];a||(a={},e[o]=a),e=bt(a,r)}return o=vt(n.shift(),r),bt(e[o],r),e[o]=i}function wt(e){return"constructor"==e}function $t(e,t,i,r,o,s,a){vt(e,s),vt(t,s),vt(i,s),vt(r,s),vt(o,s);var l=function(e){return bt(e,s)},u=a||wt(e)?l:h,c=a||wt(t)?l:h,d=a||wt(i)?l:h,p=a||wt(r)?l:h,g=a||wt(o)?l:h;return function(s,a){var l=a&&a.hasOwnProperty(e)?a:s;return null==l?l:(l=u(l[e]),t?null==l?n:(l=c(l[t]),i?null==l?n:(l=d(l[i]),r?null==l?n:(l=p(l[r]),o?null==l?n:l=g(l[o]):l):l):l):l)}}function xt(e,t){return function(n,i){return e(n,i,bt,t)}}function kt(e,t,i){var r=t.expensiveChecks,s=r?qi:Oi,a=s[e];if(a)return a;var l=e.split("."),u=l.length;if(t.csp)a=6>u?$t(l[0],l[1],l[2],l[3],l[4],i,r):function(e,t){var o,s=0;do o=$t(l[s++],l[s++],l[s++],l[s++],l[s++],i,r)(e,t),t=n,e=o;while(u>s);return o};else{var c="";r&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=r;o(l,function(e,t){vt(e,i);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(r||wt(e))&&(n="eso("+n+", fe)",d=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;",t=new Function("s","l","eso","fe",c),t.toString=f(c),d&&(t=xt(t,i)),a=t}return a.sharedGetter=!0,a.assign=function(t,n,i){return _t(t,i,e,n,e)},s[e]=a}function St(e){return $(e.valueOf)?e.valueOf():Ii.call(e)}function Ct(){var e=ie(),t=ie();this.$get=["$filter","$sniffer",function(n,i){function r(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function s(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];r.constant||(r.inputs?s(r.inputs,t):-1===t.indexOf(r)&&t.push(r))}return t}function a(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=St(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,n,i){var r,o=i.$$inputs||(i.$$inputs=s(i.inputs,[]));if(1===o.length){var l=a,o=o[0];return e.$watch(function(e){var t=o(e);return a(t,l)||(r=i(e),l=t&&St(t)),r},t,n)}for(var u=[],c=0,d=o.length;d>c;c++)u[c]=a;return e.$watch(function(e){for(var t=!1,n=0,s=o.length;s>n;n++){var l=o[n](e);(t||(t=!a(l,u[n])))&&(u[n]=l&&St(l))}return t&&(r=i(e)),r},t,n)}function u(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,$(t)&&t.apply(this,arguments),v(e)&&i.$$postDigest(function(){v(o)&&r()})},n)}function c(e,t,n,i){function r(e){var t=!0;return o(e,function(e){v(e)||(t=!1)}),t}var s,a;return s=e.$watch(function(e){return i(e)},function(e,n,i){a=e,$(t)&&t.call(this,e,n,i),r(e)&&i.$$postDigest(function(){r(a)&&s()})},n)}function d(e,t,n,i){var r;return r=e.$watch(function(e){return i(e)},function(e,n,i){$(t)&&t.apply(this,arguments),r()},n)}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,n=n!==c&&n!==u?function(n,i){var r=e(n,i);return t(r,n,i)}:function(n,i){var r=e(n,i),o=t(r,n,i);return v(r)?o:r};return e.$$watchDelegate&&e.$$watchDelegate!==l?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=l,n.inputs=[e]),n}var h={csp:i.csp,expensiveChecks:!1},f={csp:i.csp,expensiveChecks:!0};return function(i,o,s){var a,m,v;switch(typeof i){case"string":v=i=i.trim();var b=s?t:e;return a=b[v],a||(":"===i.charAt(0)&&":"===i.charAt(1)&&(m=!0,i=i.substring(2)),s=s?f:h,a=new Pi(s),a=new ji(a,n,s).parse(i),a.constant?a.$$watchDelegate=d:m?(a=r(a),a.$$watchDelegate=a.literal?c:u):a.inputs&&(a.$$watchDelegate=l),b[v]=a),p(a,o);case"function":return p(i,o);default:return p(g,o)}}}]}function Tt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Mt(function(t){e.$evalAsync(t)},t)}]}function Et(){this.$get=["$browser","$exceptionHandler",function(e,t){return Mt(function(t){e.defer(t)},t)}]}function Mt(e,t){function r(e,t,n){function i(t){return function(n){r||(r=!0,t.call(e,n))}}var r=!1;return[i(t),i(n)]}function s(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function l(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,e(function(){var e,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var s=0,a=o.length;a>s;++s){r=o[s][0],e=o[s][i.status];try{$(e)?r.resolve(e(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(l){r.reject(l),t(l)}}}))}function u(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}var c=i("$q",TypeError);s.prototype={then:function(e,t,n){var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&l(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return p(t,!0,e)},function(t){return p(t,!1,e)},t)}},u.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(c("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(b(e)||$(e))&&(n=e&&e.then),$(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){i[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&e(function(){for(var e,r,o=0,s=i.length;s>o;o++){r=i[o][0],e=i[o][3];try{r.notify($(e)?e(n):n)}catch(a){t(a)}}})}};var d=function(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},p=function(e,t,n){var i=null;try{$(n)&&(i=n())}catch(r){return d(r,!1)}return i&&$(i.then)?i.then(function(){return d(e,t)},function(e){return d(e,!1)}):d(e,t)},g=function(e,t,n,i){var r=new u;return r.resolve(e),r.promise.then(t,n,i)},h=function f(e){if(!$(e))throw c("norslvr",e);if(!(this instanceof f))return new f(e);var t=new u;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return h.defer=function(){return new u},h.reject=function(e){var t=new u;return t.reject(e),t.promise},h.when=g,h.all=function(e){var t=new u,n=0,i=On(e)?[]:{};return o(e,function(e,r){n++,g(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise},h}function At(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Dt(){var e=10,t=i("$rootScope"),n=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,a,l,u){function c(){this.$id=++Pn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function d(e){if(y.$$phase)throw t("inprog",y.$$phase);y.$$phase=e}function p(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function h(){}function f(){for(;x.length;)try{x.shift()()}catch(e){a(e)}s=null}function v(){null===s&&(s=u.defer(function(){y.$apply(f)}))}c.prototype={constructor:c,$new:function(e,t){function n(){i.$$destroyed=!0}var i;return t=t||this,e?(i=new c,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=++Pn,this.$$ChildScope=null},this.$$ChildScope.prototype=this),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(e||t!=this)&&i.$on("$destroy",n),i},$watch:function(e,t,i){var r=l(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,i,r);var o=this.$$watchers,s={fn:t,last:h,get:r,exp:e,eq:!!i};return n=null,$(t)||(s.fn=g),o||(o=this.$$watchers=[]),o.unshift(s),function(){A(o,s),n=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(r,r,a)):t(r,i,a)}var i=Array(e.length),r=Array(e.length),s=[],a=this,l=!1,u=!0;if(!e.length){var c=!0;return a.$evalAsync(function(){c&&t(r,r,a)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){r[0]=e,i[0]=n,t(r,e===n?r:i,o)}):(o(e,function(e,t){var o=a.$watch(e,function(e,o){r[t]=e,i[t]=o,l||(l=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,s,a;if(!m(i)){if(b(i))if(r(i))for(o!==p&&(o=p,f=o.length=0,c++),e=i.length,f!==e&&(c++,o.length=f=e),t=0;e>t;t++)a=o[t],s=i[t],n=a!==a&&s!==s,n||a===s||(c++,o[t]=s);else{o!==g&&(o=g={},f=0,c++),e=0;for(t in i)i.hasOwnProperty(t)&&(e++,s=i[t],a=o[t],t in o?(n=a!==a&&s!==s,n||a===s||(c++,o[t]=s)):(f++,o[t]=s,c++));if(f>e)for(t in c++,o)i.hasOwnProperty(t)||(f--,delete o[t])}else o!==i&&(o=i,c++);return c}}n.$stateful=!0;var i,o,s,a=this,u=1<t.length,c=0,d=l(e,n),p=[],g={},h=!0,f=0;return this.$watch(d,function(){if(h?(h=!1,t(i,i,a)):t(i,s,a),u)if(b(i))if(r(i)){s=Array(i.length);for(var e=0;e<i.length;e++)s[e]=i[e]}else for(e in s={},i)kn.call(i,e)&&(s[e]=i[e]);else s=i})},$digest:function(){var i,r,o,l,c,p,g,m,v,b=e,x=[];d("$digest"),u.$$checkUrlChange(),this===y&&null!==s&&(u.defer.cancel(s),f()),n=null;do{for(p=!1,g=this;_.length;){try{v=_.shift(),v.scope.$eval(v.expression,v.locals)}catch(k){a(k)}n=null}e:do{if(l=g.$$watchers)for(c=l.length;c--;)try{if(i=l[c])if((r=i.get(g))===(o=i.last)||(i.eq?j(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(i===n){p=!1;break e}}else p=!0,n=i,i.last=i.eq?D(r,null):r,i.fn(r,o===h?r:o,g),5>b&&(m=4-b,x[m]||(x[m]=[]),x[m].push({msg:$(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:r,oldVal:o}))}catch(S){a(S)}if(!(l=g.$$childHead||g!==this&&g.$$nextSibling))for(;g!==this&&!(l=g.$$nextSibling);)g=g.$parent}while(g=l);if((p||_.length)&&!b--)throw y.$$phase=null,t("infdig",e,x)}while(p||_.length);for(y.$$phase=null;w.length;)try{w.shift()()}catch(C){a(C)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y){for(var t in this.$$listenerCount)p(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){y.$$phase||_.length||u.defer(function(){_.length&&y.$digest()}),_.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){w.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(t){a(t)}finally{y.$$phase=null;try{y.$digest()}catch(n){throw a(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&x.push(t),v()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,p(r,1,e))}},$emit:function(e,t){var n,i,r,o=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=O([u],arguments,1);do{for(n=s.$$listeners[e]||o,u.currentScope=s,i=0,r=n.length;r>i;i++)if(n[i])try{n[i].apply(null,c)}catch(d){a(d)}else n.splice(i,1),i--,r--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,i=this,r={name:e,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return r;for(var o,s,l=O([r],arguments,1);n=i;){for(r.currentScope=n,i=n.$$listeners[e]||[],o=0,s=i.length;s>o;o++)if(i[o])try{i[o].apply(null,l)}catch(u){a(u)}else i.splice(o,1),o--,s--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var y=new c,_=y.$$asyncQueue=[],w=y.$$postDigestQueue=[],x=y.$$applyAsyncQueue=[];return y}]}function Pt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=Gt(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function jt(e){if("self"===e)return e;if(y(e)){if(-1<e.indexOf("***"))throw Li("iwcard",e);return e=In(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(x(e))return new RegExp("^"+e.source+"$");throw Li("imatcher")}function Ot(e){var t=[];return v(e)&&o(e,function(e){t.push(jt(e))}),t}function qt(){this.SCE_CONTEXTS=Bi;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Ot(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Ot(e)),t},this.$get=["$injector",function(i){function r(e,t){return"self"===e?Rt(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(e){throw Li("unsafe")};i.has("$sanitize")&&(s=i.get("$sanitize"));var a=o(),l={};return l[Bi.HTML]=o(a),l[Bi.CSS]=o(a),l[Bi.URL]=o(a),l[Bi.JS]=o(a),l[Bi.RESOURCE_URL]=o(l[Bi.URL]),{trustAs:function(e,t){var i=l.hasOwnProperty(e)?l[e]:null;if(!i)throw Li("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Li("itype",e);return new i(t)},getTrusted:function(i,o){if(null===o||o===n||""===o)return o;var a=l.hasOwnProperty(i)?l[i]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(i===Bi.RESOURCE_URL){var u,c,a=Gt(o.toString()),d=!1;for(u=0,c=e.length;c>u;u++)if(r(e[u],a)){d=!0;break}if(d)for(u=0,c=t.length;c>u;u++)if(r(t[u],a)){d=!1;break}if(d)return o;throw Li("insecurl",o.toString())}if(i===Bi.HTML)return s(o);throw Li("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function It(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>bn)throw Li("iequirks");var i=P(Bi);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=h),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(Bi,function(e,t){var n=xn(t);i[se("parse_as_"+n)]=function(t){return r(e,t)},i[se("get_trusted_"+n)]=function(t){return s(e,t)},i[se("trust_as_"+n)]=function(t){return a(e,t)}}),i}]}function Lt(){this.$get=["$window","$document",function(e,t){var n,i={},r=d((/android (\d+)/.exec(xn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,u=!1,c=!1;if(l){for(var p in l)if(u=a.exec(p)){n=u[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),u=!!("transition"in l||n+"Transition"in l),c=!!("animation"in l||n+"Animation"in l),!r||u&&c||(u=y(s.body.style.webkitTransition),c=y(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||o),hasEvent:function(e){if("input"===e&&11>=bn)return!1;if(m(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:Ln(),vendorPrefix:n,transitions:u,animations:c,android:r}}]}function Bt(){this.$get=["$templateCache","$http","$q",function(e,t,n){function i(r,o){i.totalPendingRequests++;var s=t.defaults&&t.defaults.transformResponse;return On(s)?s=s.filter(function(e){return e!==Ue}):s===Ue&&(s=null),t.get(r,{cache:e,transformResponse:s})["finally"](function(){i.totalPendingRequests--}).then(function(e){return e.data},function(e){if(!o)throw pi("tpload",r);return n.reject(e)})}return i.totalPendingRequests=0,i}]}function Ft(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return o(e,function(e){var r=Dn.element(e).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+In(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!=r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function Nt(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,a,l){var u=v(l)&&!l,c=(u?i:n).defer(),d=c.promise;return a=t.defer(function(){try{c.resolve(o())}catch(t){c.reject(t),r(t)}finally{delete s[d.$$timeoutId]}u||e.$apply()},a),d.$$timeoutId=a,s[a]=c,d}var s={};return o.cancel=function(e){return e&&e.$$timeoutId in s?(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Gt(e){return bn&&(Fi.setAttribute("href",e),e=Fi.href),Fi.setAttribute("href",e),{href:Fi.href,protocol:Fi.protocol?Fi.protocol.replace(/:$/,""):"",host:Fi.host,search:Fi.search?Fi.search.replace(/^\?/,""):"",hash:Fi.hash?Fi.hash.replace(/^#/,""):"",hostname:Fi.hostname,port:Fi.port,pathname:"/"===Fi.pathname.charAt(0)?Fi.pathname:"/"+Fi.pathname}}function Rt(e){return e=y(e)?Gt(e):e,e.protocol===Ni.protocol&&e.host===Ni.host}function Vt(){this.$get=f(e)}function zt(e){function t(n,i){if(b(n)){var r={};return o(n,function(e,n){r[n]=t(n,e)}),r}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",Yt),t("date",nn),t("filter",Ht),t("json",rn),t("limitTo",on),t("lowercase",Hi),t("number",Kt),t("orderBy",sn),t("uppercase",Ui)}function Ht(){return function(e,t,n){if(!On(e))return e;var i;switch(typeof t){case"function":break;case"boolean":case"number":case"string":i=!0;case"object":t=Ut(t,n,i);break;default:return e}return e.filter(t)}}function Ut(e,t,n){var i=b(e)&&"$"in e;return!0===t?t=j:$(t)||(t=function(e,t){return b(e)||b(t)?!1:(e=xn(""+e),t=xn(""+t),-1!==e.indexOf(t))}),function(r){return i&&!b(r)?Wt(r,e.$,t,!1):Wt(r,e,t,n)}}function Wt(e,t,n,i,r){var o=typeof e,s=typeof t;if("string"===s&&"!"===t.charAt(0))return!Wt(e,t.substring(1),n,i);if(On(e))return e.some(function(e){return Wt(e,t,n,i)});switch(o){case"object":var a;if(i){for(a in e)if("$"!==a.charAt(0)&&Wt(e[a],t,n,!0))return!0;return r?!1:Wt(e,t,n,!1)}if("object"===s){for(a in t)if(r=t[a],!$(r)&&(o="$"===a,!Wt(o?e:e[a],r,n,o,o)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Yt(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return m(n)&&(n=t.CURRENCY_SYM),m(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:Xt(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Kt(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Xt(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Xt(e,t,n,i,r){if(!isFinite(e)||b(e))return"";var o=0>e;e=Math.abs(e);var s=e+"",a="",l=[],u=!1;if(-1!==s.indexOf("e")){var c=s.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>r+1?e=0:(a=s,u=!0)}if(u)r>0&&1>e&&(a=e.toFixed(r),e=parseFloat(a));else{s=(s.split(Gi)[1]||"").length,m(r)&&(r=Math.min(Math.max(t.minFrac,s),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r);var s=(""+e).split(Gi),u=s[0],s=s[1]||"",d=0,p=t.lgSize,g=t.gSize;if(u.length>=p+g)for(d=u.length-p,c=0;d>c;c++)0===(d-c)%g&&0!==c&&(a+=n),a+=u.charAt(c);for(c=d;c<u.length;c++)0===(u.length-c)%p&&0!==c&&(a+=n),a+=u.charAt(c);for(;s.length<r;)s+="0";r&&"0"!==r&&(a+=i+s.substr(0,r))}return 0===e&&(o=!1),l.push(o?t.negPre:t.posPre,a,o?t.negSuf:t.posSuf),l.join("")}function Jt(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function Zt(e,t,n,i){return n=n||0,function(r){return r=r["get"+e](),(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),Jt(r,t,i)}}function Qt(e,t){return function(n,i){var r=n["get"+e](),o=Sn(t?"SHORT"+e:e);return i[o][r]}}function en(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function tn(e){return function(t){var n=en(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),Jt(t,e)}}function nn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=d(t[9]+t[10]),r=d(t[9]+t[11])),o.call(e,d(t[1]),d(t[2])-1,d(t[3])),i=d(t[4]||0)-i,r=d(t[5]||0)-r,o=d(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),s.call(e,i,r,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,y(n)&&(n=zi.test(n)?d(n):t(n)),_(n)&&(n=new Date(n)),!w(n))return n;for(;i;)(a=Vi.exec(i))?(u=O(u,a,1),i=u.pop()):(u.push(i),i=null);return r&&"UTC"===r&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(u,function(t){s=Ri[t],l+=s?s(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function rn(){return function(e,t){return m(t)&&(t=2),L(e,t)}}function on(){return function(e,t){return _(e)&&(e=e.toString()),On(e)||y(e)?(t=1/0===Math.abs(Number(t))?Number(t):d(t))?t>0?e.slice(0,t):e.slice(t):y(e)?"":[]:e}}function sn(e){return function(t,n,i){function o(e,t){return t?function(t,n){return e(n,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function a(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))||"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function l(e,t){var n=typeof e,i=typeof t;return n===i&&"object"===n&&(e=a(e),t=a(t)),n===i?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}return r(t)?(n=On(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,i=t||h;if(y(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return o(l,n);if(i=e(t),i.constant){var r=i();return o(function(e,t){return l(e[r],t[r])},n)}}return o(function(e,t){return l(i(e),i(t))},n)}),Cn.call(t).sort(o(function(e,t){for(var i=0;i<n.length;i++){var r=n[i](e,t);if(0!==r)return r}return 0},i))):t}}function an(e){return $(e)&&(e={link:e}),e.restrict=e.restrict||"AC",f(e)}function ln(e,t,i,r,s){var a=this,l=[],u=a.$$parentForm=e.parent().controller("form")||Ki;a.$error={},a.$$success={},a.$pending=n,a.$name=s(t.name||t.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,u.$addControl(a),a.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},a.$addControl=function(e){ee(e.$name,"input"),l.push(e),e.$name&&(a[e.$name]=e)},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],o(a.$pending,function(t,n){a.$setValidity(n,null,e)}),o(a.$error,function(t,n){a.$setValidity(n,null,e)}),o(a.$$success,function(t,n){a.$setValidity(n,null,e)}),A(l,e)},mn({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(A(i,n),0===i.length&&delete e[t])},parentForm:u,$animate:r}),a.$setDirty=function(){r.removeClass(e,Ar),r.addClass(e,Dr),a.$dirty=!0,a.$pristine=!1,u.$setDirty()},a.$setPristine=function(){r.setClass(e,Ar,Dr+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,
o(l,function(e){e.$setPristine()})},a.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},a.$setSubmitted=function(){r.addClass(e,"ng-submitted"),a.$submitted=!0,u.$setSubmitted()}}function un(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function cn(e,t,n,i,r,o){var s=xn(t[0].type);if(!r.android){var a=!1;t.on("compositionstart",function(e){a=!0}),t.on("compositionend",function(){a=!1,l()})}var l=function(e){if(u&&(o.defer.cancel(u),u=null),!a){var r=t.val();e=e&&e.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=qn(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,e)}};if(r.hasEvent("input"))t.on("input",l);else{var u,c=function(e,t,n){u||(u=o.defer(function(){u=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",l),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function dn(e,t){return function(n,i){var r,s;if(w(n))return n;if(y(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Qi.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,n){n<t.length&&(s[t[n]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return 0/0}}function pn(e,t,i,r){return function(o,s,a,l,u,c,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function g(e){return v(e)?w(e)?e:i(e):n}gn(o,s,a,l),cn(o,s,a,l,u,c);var h,f=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){return l.$isEmpty(e)?null:t.test(e)?(e=i(e,h),"UTC"===f&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e):n}),l.$formatters.push(function(e){if(e&&!w(e))throw jr("datefmt",e);if(p(e)){if((h=e)&&"UTC"===f){var t=6e4*h.getTimezoneOffset();h=new Date(h.getTime()+t)}return d("date")(e,r,f)}return h=null,""}),v(a.min)||a.ngMin){var b;l.$validators.min=function(e){return!p(e)||m(b)||i(e)>=b},a.$observe("min",function(e){b=g(e),l.$validate()})}if(v(a.max)||a.ngMax){var y;l.$validators.max=function(e){return!p(e)||m(y)||i(e)<=y},a.$observe("max",function(e){y=g(e),l.$validate()})}}}function gn(e,t,i,r){(r.$$hasNativeValidators=b(t[0].validity))&&r.$parsers.push(function(e){var i=t.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:e})}function hn(e,t,n,r,o){if(v(r)){if(e=e(r),!e.constant)throw i("ngModel")("constexpr",n,r);return e(t)}return o}function fn(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[],i=0;e:for(;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){if(!On(e)){if(y(e))return e.split(" ");if(b(e)){var t=[];return o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}}return e}return{restrict:"AC",link:function(s,a,l){function u(e,t){var n=a.data("$classCounts")||{},i=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),a.data("$classCounts",n),i.join(" ")}function c(e){if(!0===t||s.$index%2===t){var o=r(e||[]);if(d){if(!j(e,d)){var c=r(d),p=i(o,c),o=i(c,o),p=u(p,1),o=u(o,-1);p&&p.length&&n.addClass(a,p),o&&o.length&&n.removeClass(a,o)}}else{var p=u(o,1);l.$addClass(p)}}d=P(e)}var d;s.$watch(l[e],c,!0),l.$observe("class",function(t){c(s.$eval(l[e]))}),"ngClass"!==e&&s.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var a=r(s.$eval(l[e]));o===t?(o=u(a,1),l.$addClass(o)):(o=u(a,-1),l.$removeClass(o))}})}}}]}function mn(e){function t(e,t){t&&!s[e]?(c.addClass(o,e),s[e]=!0):!t&&s[e]&&(c.removeClass(o,e),s[e]=!1)}function i(e,n){e=e?"-"+X(e,"-"):"",t(Er+e,!0===n),t(Mr+e,!1===n)}var r=e.ctrl,o=e.$element,s={},a=e.set,l=e.unset,u=e.parentForm,c=e.$animate;s[Mr]=!(s[Er]=o.hasClass(Er)),r.$setValidity=function(e,o,s){o===n?(r.$pending||(r.$pending={}),a(r.$pending,e,s)):(r.$pending&&l(r.$pending,e,s),vn(r.$pending)&&(r.$pending=n)),C(o)?o?(l(r.$error,e,s),a(r.$$success,e,s)):(a(r.$error,e,s),l(r.$$success,e,s)):(l(r.$error,e,s),l(r.$$success,e,s)),r.$pending?(t(Pr,!0),r.$valid=r.$invalid=n,i("",null)):(t(Pr,!1),r.$valid=vn(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),o=r.$pending&&r.$pending[e]?n:r.$error[e]?!1:r.$$success[e]?!0:null,i(e,o),u.$setValidity(e,o,r)}}function vn(e){if(e)for(var t in e)return!1;return!0}var bn,yn,_n,wn,$n=/^\/(.+)\/([a-z]*)$/,xn=function(e){return y(e)?e.toLowerCase():e},kn=Object.prototype.hasOwnProperty,Sn=function(e){return y(e)?e.toUpperCase():e},Cn=[].slice,Tn=[].splice,En=[].push,Mn=Object.prototype.toString,An=i("ng"),Dn=e.angular||(e.angular={}),Pn=0;bn=t.documentMode,g.$inject=[],h.$inject=[];var jn,On=Array.isArray,qn=function(e){return y(e)?e.trim():e},In=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ln=function(){if(v(Ln.isActive_))return Ln.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return Ln.isActive_=e},Bn=["ng-","data-ng-","ng:","x-ng-"],Fn=/[A-Z]/g,Nn=!1,Gn=1,Rn=3,Vn={full:"1.3.13",major:1,minor:3,dot:13,codeName:"meticulous-riffleshuffle"};ue.expando="ng339";var zn=ue.cache={},Hn=1;ue._data=function(e){return this.cache[e[this.expando]]||{}};var Un=/([\:\-\_]+(.))/g,Wn=/^moz([A-Z])/,Yn={mouseleave:"mouseout",mouseenter:"mouseover"},Kn=i("jqLite"),Xn=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Jn=/<|&#?\w+;/,Zn=/<([\w:]+)/,Qn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ei={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ei.optgroup=ei.option,ei.tbody=ei.tfoot=ei.colgroup=ei.caption=ei.thead,ei.th=ei.td;var ti=ue.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ue(e).on("load",i))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return yn(e>=0?this[e]:this[this.length+e])},length:0,push:En,sort:[].sort,splice:[].splice},ni={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){ni[xn(e)]=e});var ii={};o("input select option textarea button form details".split(" "),function(e){ii[e]=!0});var ri={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:fe,removeData:ge},function(e,t){ue[t]=e}),o({data:fe,inheritedData:we,scope:function(e){return yn.data(e,"$scope")||we(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return yn.data(e,"$isolateScope")||yn.data(e,"$isolateScopeNoTemplate")},controller:_e,injector:function(e){return we(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:me,css:function(e,t,n){return t=se(t),v(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,i){var r=xn(t);if(ni[r]){if(!v(i))return e[t]||(e.attributes.getNamedItem(t)||g).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(v(i))e.setAttribute(t,i);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return v(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(m(t)){var n=e.nodeType;return n===Gn||n===Rn?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(m(t)){if(e.multiple&&"select"===M(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return m(t)?e.innerHTML:(de(e,!0),void(e.innerHTML=t))},empty:$e},function(e,t){ue.prototype[t]=function(t,i){var r,o,s=this.length;if(e!==$e&&(2==e.length&&e!==me&&e!==_e?t:i)===n){if(b(t)){for(r=0;s>r;r++)if(e===fe)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(r=e.$dv,s=r===n?Math.min(s,1):s,o=0;s>o;o++){var a=e(this[o],t,i);r=r?r+a:a}return r}for(r=0;s>r;r++)e(this[r],t,i);return this}}),o({removeData:ge,on:function ro(e,t,n,i){if(v(i))throw Kn("onargs");if(ae(e)){var r=he(e,!0);i=r.events;var o=r.handle;o||(o=r.handle=Te(e,i));for(var r=0<=t.indexOf(" ")?t.split(" "):[t],s=r.length;s--;){t=r[s];var a=i[t];a||(i[t]=[],"mouseenter"===t||"mouseleave"===t?ro(e,Yn[t],function(e){var n=e.relatedTarget;n&&(n===this||this.contains(n))||o(e,t)}):"$destroy"!==t&&e.addEventListener(t,o,!1),a=i[t]),a.push(n)}}},off:pe,one:function(e,t,n){e=yn(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;de(e),o(new ue(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===Gn&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Gn||11===n){t=new ue(t);for(var n=0,i=t.length;i>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(e.nodeType===Gn){var n=e.firstChild;o(new ue(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=yn(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:xe,detach:function(e){xe(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new ue(t);for(var r=0,o=t.length;o>r;r++){var s=t[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:be,removeClass:ve,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;m(i)&&(i=!me(e,t)),(i?be:ve)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ce,triggerHandler:function(e,t,n){var i,r,s=t.type||t,a=he(e);(a=(a=a&&a.events)&&a[s])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:g,type:s,target:e},t.type&&(i=c(i,t)),t=P(a),r=n?[i].concat(n):[i],o(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(e,t){ue.prototype[t]=function(t,n,i){for(var r,o=0,s=this.length;s>o;o++)m(r)?(r=e(this[o],t,n,i),v(r)&&(r=yn(r))):ye(r,e(this[o],t,n,i));return v(r)?r:this},ue.prototype.bind=ue.prototype.on,ue.prototype.unbind=ue.prototype.off}),Ae.prototype={put:function(e,t){this[Me(e,this.nextUid)]=t},get:function(e){return this[Me(e,this.nextUid)]},remove:function(e){var t=this[e=Me(e,this.nextUid)];return delete this[e],t}};var oi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,si=/,/,ai=/^\s*(_?)(\S+?)\1\s*$/,li=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ui=i("$injector");Pe.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw y(n)&&n||(n=e.name||De(e)),ui("strictdi",n);t=e.toString().replace(li,""),t=t.match(oi),o(t[1].split(si),function(e){e.replace(ai,function(e,t,n){i.push(n)})})}e.$inject=i}}else On(e)?(t=e.length-1,Q(e[t],"fn"),i=e.slice(0,t)):Q(e,"fn",!0);return i};var ci=i("$animate"),di=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var i=t+"-animation";if(t&&"."!=t.charAt(0))throw ci("notcsel",t);this.$$selectors[t.substr(1)]=i,e.factory(i,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function i(t){var i,r=e.defer();return r.promise.$$cancelFn=function(){i&&i()},n.$$postDigest(function(){i=t(function(){r.resolve()})}),r.promise}function r(e,t){var n=[],i=[],r=ie();return o((e.attr("class")||"").split(/\s+/),function(e){r[e]=!0}),o(t,function(e,t){var o=r[t];!1===e&&o?i.push(t):!0!==e||o||n.push(t)}),0<n.length+i.length&&[n.length?n:null,i.length?i:null]}function s(e,t,n){for(var i=0,r=t.length;r>i;++i)e[t[i]]=n}function a(){return u||(u=e.defer(),t(function(){u.resolve(),u=null})),u.promise}function l(e,t){if(Dn.isObject(t)){var n=c(t.from||{},t.to||{});e.css(n)}}var u;return{animate:function(e,t,n){return l(e,{from:t,to:n}),a()},enter:function(e,t,n,i){return l(e,i),n?n.after(e):t.prepend(e),a()},leave:function(e,t){return e.remove(),a()},move:function(e,t,n,i){return this.enter(e,t,n,i)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=yn(e),t=y(t)?t:On(t)?t.join(" "):"",o(e,function(e){be(e,t)}),l(e,n),a()},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){return e=yn(e),t=y(t)?t:On(t)?t.join(" "):"",o(e,function(e){ve(e,t)}),l(e,n),a()},setClass:function(e,t,n,o){var a=this,l=!1;e=yn(e);var u=e.data("$$animateClasses");return u?o&&u.options&&(u.options=Dn.extend(u.options||{},o)):(u={classes:{},options:o},l=!0),o=u.classes,t=On(t)?t:t.split(" "),n=On(n)?n:n.split(" "),s(o,t,!0),s(o,n,!1),l&&(u.promise=i(function(t){var n=e.data("$$animateClasses");if(e.removeData("$$animateClasses"),n){var i=r(e,n.classes);i&&a.$$setClassImmediately(e,i[0],i[1],n.options)}t()}),e.data("$$animateClasses",u)),u.promise},$$setClassImmediately:function(e,t,n,i){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),l(e,i),a()},enabled:g,cancel:g}}]}],pi=i("$compile");Fe.$inject=["$provide","$$sanitizeUriProvider"];var gi=/^((?:x|data)[\:\-_])/i,hi=i("$controller"),fi="application/json",mi={"Content-Type":fi+";charset=utf-8"},vi=/^\[|^\{(?!\{)/,bi={"[":/]$/,"{":/}$/},yi=/^\)\]\}',?\n/,_i=i("$interpolate"),wi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,$i={http:80,https:443,ftp:21},xi=i("$location"),ki={$$html5:!1,$$replace:!1,absUrl:gt("$$absUrl"),url:function(e){if(m(e))return this.$$url;var t=wi.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:gt("$$protocol"),host:gt("$$host"),port:gt("$$port"),path:ht("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(y(e)||_(e))e=e.toString(),this.$$search=G(e);else{if(!b(e))throw xi("isrcharg");e=D(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:m(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:ht("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([pt,dt,ct],function(e){e.prototype=Object.create(ki),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==ct||!this.$$html5)throw xi("nostate");return this.$$state=m(t)?null:t,this}});var Si=i("$parse"),Ci=Function.prototype.call,Ti=Function.prototype.apply,Ei=Function.prototype.bind,Mi=ie();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,Mi[t]=e}),Mi["this"]=function(e){return e},Mi["this"].sharedGetter=!0;var Ai=c(ie(),{"+":function(e,t,i,r){return i=i(e,t),r=r(e,t),v(i)?v(r)?i+r:i:v(r)?r:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(v(n)?n:0)-(v(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"===":function(e,t,n,i){return n(e,t)===i(e,t)},"!==":function(e,t,n,i){return n(e,t)!==i(e,t)},"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),Di={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Pi=function(e){this.options=e};Pi.prototype={constructor:Pi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=Ai[t],r=Ai[n];Ai[e]||i||r?(e=r?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=v(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,Si("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=xn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Di[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var ji=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};ji.ZERO=c(function(){return 0},{sharedGetter:!0,constant:!0}),ji.prototype={constructor:ji,parse:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in Mi?e=Mi[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw Si("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw Si("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===i||o===r||!(t||n||i||r))return e}return!1},expect:function(e,t,n,i){return(e=this.peek(e,t,n,i))?(this.tokens.shift(),e):!1},consume:function(e){if(0===this.tokens.length)throw Si("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=Ai[e];return c(function(e,i){return n(e,i,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,i){var r=Ai[t];return c(function(t,i){return r(t,i,e,n)},{constant:e.constant&&n.constant,inputs:!i&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return kt(e,this.options,this.text)},constant:function(){var e=this.consume().value;return c(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var i,r=0,o=e.length;o>r;r++)i=e[r](t,n);return i}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},filter:function(e){var t,i,r=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],i=[];this.expect(":");)t.push(this.expression());var o=[e].concat(t||[]);return c(function(o,s){var a=e(o,s);if(i){for(i[0]=a,a=t.length;a--;)i[a+1]=t[a](o,s);return r.apply(n,i)}return r(a)},{constant:!r.$stateful&&o.every(yt),inputs:!r.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),c(function(t,i){return n.assign(t,e(t,i),i)},{inputs:[n,e]})):n},ternary:function(){var e,t=this.logicalOR();if(this.expect("?")&&(e=this.assignment(),this.consume(":"))){var n=this.assignment();return c(function(i,r){return t(i,r)?e(i,r):n(i,r)},{constant:t.constant&&e.constant&&n.constant})}return t},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(ji.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return c(function(i,r,o){return i=o||e(i,r),null==i?n:t(i)},{assign:function(n,i,r){var o=e(n,r);return o||e.assign(n,o={},r),t.assign(o,i)}})},objectIndex:function(e){var t=this.text,i=this.expression();return this.consume("]"),c(function(r,o){var s=e(r,o),a=i(r,o);return vt(a,t),s?bt(s[a],t):n},{assign:function(n,r,o){var s=vt(i(n,o),t),a=bt(e(n,o),t);return a||e.assign(n,a={},o),a[s]=r}})},functionCall:function(e,t){var i=[];if(")"!==this.peekToken().text)do i.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,o=i.length?[]:null;return function(s,a){var l=t?t(s,a):v(t)?n:s,u=e(s,a,l)||g;if(o)for(var c=i.length;c--;)o[c]=bt(i[c](s,a),r);if(bt(l,r),u){if(u.constructor===u)throw Si("isecfn",r);if(u===Ci||u===Ti||u===Ei)throw Si("isecff",r)}return l=u.apply?u.apply(l,o):u(o[0],o[1],o[2],o[3],o[4]),o&&(o.length=0),bt(l,r)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),c(function(t,n){for(var i=[],r=0,o=e.length;o>r;r++)i.push(e[r](t,n));return i},{literal:!0,constant:e.every(yt),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),c(function(n,i){for(var r={},o=0,s=t.length;s>o;o++)r[e[o]]=t[o](n,i);return r},{literal:!0,constant:t.every(yt),inputs:t})}};var Oi=ie(),qi=ie(),Ii=Object.prototype.valueOf,Li=i("$sce"),Bi={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},pi=i("$compile"),Fi=t.createElement("a"),Ni=Gt(e.location.href);zt.$inject=["$provide"],Yt.$inject=["$locale"],Kt.$inject=["$locale"];var Gi=".",Ri={yyyy:Zt("FullYear",4),yy:Zt("FullYear",2,0,!0),y:Zt("FullYear",1),MMMM:Qt("Month"),MMM:Qt("Month",!0),MM:Zt("Month",2,1),M:Zt("Month",1,1),dd:Zt("Date",2),d:Zt("Date",1),HH:Zt("Hours",2),H:Zt("Hours",1),hh:Zt("Hours",2,-12),h:Zt("Hours",1,-12),mm:Zt("Minutes",2),m:Zt("Minutes",1),ss:Zt("Seconds",2),s:Zt("Seconds",1),sss:Zt("Milliseconds",3),EEEE:Qt("Day"),EEE:Qt("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){return e=-1*e.getTimezoneOffset(),e=(e>=0?"+":"")+(Jt(Math[e>0?"floor":"ceil"](e/60),2)+Jt(Math.abs(e%60),2))},ww:tn(2),w:tn(1)},Vi=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,zi=/^\-?\d+$/;nn.$inject=["$locale"];var Hi=f(xn),Ui=f(Sn);sn.$inject=["$parse"];var Wi=f({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Mn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Yi={};o(ni,function(e,t){if("multiple"!=e){var n=Ne("ng-"+t);Yi[n]=function(){return{restrict:"A",priority:100,link:function(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}}}}}),o(ri,function(e,t){Yi[t]=function(){return{priority:100,link:function(e,n,i){return"ngPattern"===t&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match($n))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Ne("ng-"+e);Yi[t]=function(){return{priority:99,link:function(n,i,r){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===Mn.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(t,function(t){t?(r.$set(s,t),bn&&o&&i.prop(o,r[s])):"href"===e&&r.$set(s,null)})}}}});var Ki={$addControl:g,$$renameControl:function(e,t){e.$name=t},$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g};ln.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Xi=function(e){return["$timeout",function(t){return{name:"form",restrict:e?"EAC":"E",controller:ln,compile:function(e){return e.addClass(Ar).addClass(Er),{pre:function(e,i,r,o){if(!("action"in r)){var s=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()};i[0].addEventListener("submit",s,!1),i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",s,!1)},0,!1)})}var a=o.$$parentForm,l=o.$name;l&&(_t(e,null,l,o,l),r.$observe(r.name?"name":"ngForm",function(t){l!==t&&(_t(e,null,l,n,l),l=t,_t(e,null,l,o,l),a.$$renameControl(o,l))})),i.on("$destroy",function(){a.$removeControl(o),l&&_t(e,null,l,n,l),c(o,Ki)})}}}}}]},Ji=Xi(),Zi=Xi(!0),Qi=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,er=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,tr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,nr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ir=/^(\d{4})-(\d{2})-(\d{2})$/,rr=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,or=/^(\d{4})-W(\d\d)$/,sr=/^(\d{4})-(\d\d)$/,ar=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,lr={text:function(e,t,n,i,r,o){cn(e,t,n,i,r,o),un(i)},date:pn("date",ir,dn(ir,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":pn("datetimelocal",rr,dn(rr,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:pn("time",ar,dn(ar,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:pn("week",or,function(e,t){if(w(e))return e;if(y(e)){or.lastIndex=0;var n=or.exec(e);if(n){var i=+n[1],r=+n[2],o=n=0,s=0,a=0,l=en(i),r=7*(r-1);return t&&(n=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),a=t.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,s,a)}}return 0/0},"yyyy-Www"),month:pn("month",sr,dn(sr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,r,o,s){if(gn(e,t,i,r),cn(e,t,i,r,o,s),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:nr.test(e)?parseFloat(e):n}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!_(e))throw jr("numfmt",e);e=e.toString()}return e}),i.min||i.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||m(a)||e>=a},i.$observe("min",function(e){v(e)&&!_(e)&&(e=parseFloat(e,10)),a=_(e)&&!isNaN(e)?e:n,r.$validate()})}if(i.max||i.ngMax){var l;r.$validators.max=function(e){return r.$isEmpty(e)||m(l)||l>=e},i.$observe("max",function(e){v(e)&&!_(e)&&(e=parseFloat(e,10)),l=_(e)&&!isNaN(e)?e:n,r.$validate()})}},url:function(e,t,n,i,r,o){cn(e,t,n,i,r,o),un(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||er.test(n)}},email:function(e,t,n,i,r,o){cn(e,t,n,i,r,o),un(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||tr.test(n)}},radio:function(e,t,n,i){m(n.name)&&t.attr("name",++Pn),t.on("click",function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)}),i.$render=function(){t[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(e,t,n,i,r,o,s,a){var l=hn(a,e,"ngTrueValue",n.ngTrueValue,!0),u=hn(a,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return j(e,l)}),i.$parsers.push(function(e){return e?l:u})},hidden:g,button:g,submit:g,reset:g,file:g},ur=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(lr[xn(s.type)]||lr.text)(r,o,s,a[0],t,e,n,i)}}}}],cr=/^(true|false|\d+)$/,dr=function(){return{restrict:"A",priority:100,compile:function(e,t){return cr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},pr=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,r){e.$$addBindingInfo(i,r.ngBind),i=i[0],t.$watch(r.ngBind,function(e){i.textContent=e===n?"":e})}}}}],gr=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,r,o){i=e(r.attr(o.$attr.ngBindTemplate)),t.$$addBindingInfo(r,i.expressions),r=r[0],o.$observe("ngBindTemplate",function(e){r.textContent=e===n?"":e})}}}}],hr=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),s=t(r.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(s,function(){i.html(e.getTrustedHtml(o(t))||"")})}}}}],fr=f({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),mr=fn("",!0),vr=fn("Odd",0),br=fn("Even",1),yr=an({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),_r=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],wr={},$r={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){
var t=Ne("ng-"+e);wr[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){s(t,{$event:n})};$r[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var xr=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,l,u;n.$watch(r.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},e.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),a&&(u=ne(a.clone),e.leave(u).then(function(){u=null}),a=null))})}}}],kr=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Dn.noop,compile:function(r,o){var s=o.ngInclude||o.src,a=o.onload||"",l=o.autoscroll;return function(r,o,u,c,d){var p,g,h,f=0,m=function(){g&&(g.remove(),g=null),p&&(p.$destroy(),p=null),h&&(n.leave(h).then(function(){g=null}),g=h,h=null)};r.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!v(l)||l&&!r.$eval(l)||t()},u=++f;i?(e(i,!0).then(function(e){if(u===f){var t=r.$new();c.template=e,e=d(t,function(e){m(),n.enter(e,null,o).then(s)}),p=t,h=e,p.$emit("$includeContentLoaded",i),r.$eval(a)}},function(){u===f&&(m(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(m(),c.template=null)})}}}}],Sr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){/SVG/.test(i[0].toString())?(i.empty(),e(le(o.template,t).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),e(i.contents())(n))}}}],Cr=an({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Tr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,r){var s=t.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,l=a?qn(s):s;r.$parsers.push(function(e){if(!m(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(a?qn(e):e)}),t}}),r.$formatters.push(function(e){return On(e)?e.join(s):n}),r.$isEmpty=function(e){return!e||!e.length}}}},Er="ng-valid",Mr="ng-invalid",Ar="ng-pristine",Dr="ng-dirty",Pr="ng-pending",jr=new i("ngModel"),Or=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,r,s,a,l,u,c,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(i.name||"",!1)(e);var p=s(i.ngModel),h=p.assign,f=p,b=h,y=null,w=this;this.$$setOptions=function(e){if((w.$options=e)&&e.getterSetter){var t=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");f=function(e){var n=p(e);return $(n)&&(n=t(e)),n},b=function(e,t){$(p(e))?n(e,{$$$p:w.$modelValue}):h(e,w.$modelValue)}}else if(!p.assign)throw jr("nonassign",i.ngModel,F(r))},this.$render=g,this.$isEmpty=function(e){return m(e)||""===e||null===e||e!==e};var x=r.inheritedData("$formController")||Ki,k=0;mn({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:x,$animate:a}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,a.removeClass(r,Dr),a.addClass(r,Ar)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,a.removeClass(r,Ar),a.addClass(r,Dr),x.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,a.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,a.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(y),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!_(w.$modelValue)||!isNaN(w.$modelValue)){var e=w.$$rawModelValue,t=w.$valid,i=w.$modelValue,r=w.$options&&w.$options.allowInvalid;w.$$runValidators(w.$error[w.$$parserName||"parse"]?!1:n,e,w.$$lastCommittedViewValue,function(o){r||t===o||(w.$modelValue=o?e:n,w.$modelValue!==i&&w.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i,r){function s(){var e=!0;return o(w.$validators,function(n,r){var o=n(t,i);e=e&&o,l(r,o)}),e?!0:(o(w.$asyncValidators,function(e,t){l(t,null)}),!1)}function a(){var e=[],r=!0;o(w.$asyncValidators,function(o,s){var a=o(t,i);if(!a||!$(a.then))throw jr("$asyncValidators",a);l(s,n),e.push(a.then(function(){l(s,!0)},function(e){r=!1,l(s,!1)}))}),e.length?c.all(e).then(function(){u(r)},g):u(!0)}function l(e,t){d===k&&w.$setValidity(e,t)}function u(e){d===k&&r(e)}k++;var d=k;(function(e){var t=w.$$parserName||"parse";if(e===n)l(t,null);else if(l(t,e),!e)return o(w.$validators,function(e,t){l(t,null)}),o(w.$asyncValidators,function(e,t){l(t,null)}),!1;return!0})(e)&&s()?a():u(!1)},this.$commitViewValue=function(){var e=w.$viewValue;l.cancel(y),(w.$$lastCommittedViewValue!==e||""===e&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=e,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=w.$$lastCommittedViewValue,i=m(t)?n:!0;if(i)for(var r=0;r<w.$parsers.length;r++)if(t=w.$parsers[r](t),m(t)){i=!1;break}_(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=f(e));var o=w.$modelValue,s=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t,s&&(w.$modelValue=t,w.$modelValue!==o&&w.$$writeModelToScope()),w.$$runValidators(i,t,w.$$lastCommittedViewValue,function(e){s||(w.$modelValue=e?t:n,w.$modelValue!==o&&w.$$writeModelToScope())})},this.$$writeModelToScope=function(){b(e,w.$modelValue),o(w.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){w.$viewValue=e,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,i=w.$options;i&&v(i.debounce)&&(i=i.debounce,_(i)?n=i:_(i[t])?n=i[t]:_(i["default"])&&(n=i["default"])),l.cancel(y),n?y=l(function(){w.$commitViewValue()},n):u.$$phase?w.$commitViewValue():e.$apply(function(){w.$commitViewValue()})},e.$watch(function(){var t=f(e);if(t!==w.$modelValue){w.$modelValue=w.$$rawModelValue=t;for(var i=w.$formatters,r=i.length,o=t;r--;)o=i[r](o);w.$viewValue!==o&&(w.$viewValue=w.$$lastCommittedViewValue=o,w.$render(),w.$$runValidators(n,t,o,g))}return t})}],qr=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Or,priority:1,compile:function(t){return t.addClass(Ar).addClass("ng-untouched").addClass(Er),{pre:function(e,t,n,i){var r=i[0],o=i[1]||Ki;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&o.$$renameControl(r,e)}),e.$on("$destroy",function(){o.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Ir=/(\s+|^)default(\s+|$)/,Lr=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var i=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=qn(this.$options.updateOn.replace(Ir,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Br=an({terminal:!0,priority:1e3}),Fr=["$locale","$interpolate",function(e,t){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,s,a){function l(e){s.text(e||"")}var u,c=a.count,d=a.$attr.when&&s.attr(a.$attr.when),p=a.offset||0,g=r.$eval(d)||{},h={},d=t.startSymbol(),f=t.endSymbol(),m=d+c+"-"+p+f,v=Dn.noop;o(a,function(e,t){var n=i.exec(t);n&&(n=(n[1]?"-":"")+xn(n[2]),g[n]=s.attr(a.$attr[t]))}),o(g,function(e,i){h[i]=t(e.replace(n,m))}),r.$watch(c,function(t){t=parseFloat(t);var n=isNaN(t);n||t in g||(t=e.pluralCat(t-p)),t===u||n&&isNaN(u)||(v(),v=r.$watch(h[t],l),u=t)})}}}],Nr=["$parse","$animate",function(e,s){var a=i("ngRepeat"),l=function(e,t,n,i,r,o,s){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,u){var c=u.ngRepeat,d=t.createComment(" end ngRepeat: "+c+" "),p=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw a("iexp",c);var g=p[1],h=p[2],f=p[3],m=p[4],p=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!p)throw a("iidexp",g);var v=p[3]||p[1],b=p[2];if(f&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(f)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(f)))throw a("badident",f);var y,_,w,$,x={$id:Me};return m?y=e(m):(w=function(e,t){return Me(t)},$=function(e){return e}),function(e,t,i,u,p){y&&(_=function(t,n,i){return b&&(x[b]=t),x[v]=n,x.$index=i,y(e,x)});var g=ie();e.$watchCollection(h,function(i){var u,h,m,y,x,k,S,C,T,E,M=t[0],A=ie();if(f&&(e[f]=i),r(i))C=i,h=_||w;else{h=_||$,C=[];for(E in i)i.hasOwnProperty(E)&&"$"!=E.charAt(0)&&C.push(E);C.sort()}for(y=C.length,E=Array(y),u=0;y>u;u++)if(x=i===C?u:C[u],k=i[x],S=h(x,k,u),g[S])T=g[S],delete g[S],A[S]=T,E[u]=T;else{if(A[S])throw o(E,function(e){e&&e.scope&&(g[e.id]=e)}),a("dupes",c,S,k);E[u]={id:S,scope:n,clone:n},A[S]=!0}for(m in g){if(T=g[m],S=ne(T.clone),s.leave(S),S[0].parentNode)for(u=0,h=S.length;h>u;u++)S[u].$$NG_REMOVED=!0;T.scope.$destroy()}for(u=0;y>u;u++)if(x=i===C?u:C[u],k=i[x],T=E[u],T.scope){m=M;do m=m.nextSibling;while(m&&m.$$NG_REMOVED);T.clone[0]!=m&&s.move(ne(T.clone),null,yn(M)),M=T.clone[T.clone.length-1],l(T.scope,u,v,k,b,x,y)}else p(function(e,t){T.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,s.enter(e,null,yn(M)),M=n,T.clone=e,A[T.id]=T,l(T.scope,u,v,k,b,x,y)});g=A})}}}}],Gr=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Rr=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Vr=an(function(e,t,n){e.$watchCollection(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)})}),zr=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=[],l=[],u=[],c=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=u.length;r>i;++i)e.cancel(u[i]);for(i=u.length=0,r=c.length;r>i;++i){var p=ne(l[i].clone);c[i].$destroy(),(u[i]=e.leave(p)).then(d(u,i))}l.length=0,c.length=0,(a=s.cases["!"+n]||s.cases["?"])&&o(a,function(n){n.transclude(function(i,r){c.push(r);var o=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: "),l.push({clone:i}),e.enter(i,o.parent(),o)})})})}}}],Hr=an({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Ur=an({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Wr=an({restrict:"EAC",link:function(e,t,n,r,o){if(!o)throw i("ngTransclude")("orphan",F(t));o(function(e){t.empty(),t.append(e)})}}),Yr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Kr=i("ngOptions"),Xr=f({restrict:"A",terminal:!0}),Jr=["$compile","$parse",function(e,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:g};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,r=this,o={},a=s;r.databound=n.ngModel,r.init=function(e,t,n){a=e,i=n},r.addOption=function(t,n){ee(t,'"option value"'),o[t]=!0,a.$viewValue==t&&(e.val(t),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},r.removeOption=function(e){this.hasOption(e)&&(delete o[e],a.$viewValue===e&&this.renderUnknownOption(e))},r.renderUnknownOption=function(t){t="? "+Me(t)+" ?",i.val(t),e.prepend(i),e.val(t),i.prop("selected",!0)},r.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){r.renderUnknownOption=g})}],link:function(s,a,l,u){function c(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(x.parent()&&x.remove(),t.val(e),""===e&&h.prop("selected",!0)):m(e)&&h?t.val(""):i.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){x.parent()&&x.remove(),n.$setViewValue(t.val())})})}function d(e,t,n){var i;n.$render=function(){var e=new Ae(n.$viewValue);o(t.find("option"),function(t){t.selected=v(e.get(t.value))})},e.$watch(function(){j(i,n.$viewValue)||(i=P(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,s,a){function l(e,n,i){return j[x]=i,C&&(j[C]=n),e(t,j)}function u(e){var t;if(f)if(A&&On(e)){t=new Ae([]);for(var n=0;n<e.length;n++)t.put(l(A,null,e[n]),!0)}else t=new Ae(e);else A&&(e=l(A,null,e));return function(n,i){var r;return r=A?A:S?S:E,f?v(t.remove(l(r,n,i))):e===l(r,n,i)}}function c(){_||(t.$$postDigest(p),_=!0)}function d(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function p(){_=!1;var e,n,i,r,c,p={"":[]},h=[""];i=a.$viewValue,r=M(t)||[];var b,x,k,S,E=C?Object.keys(r).sort():r,O={};c=u(i);var q,I,L=!1;for(D={},S=0;k=E.length,k>S;S++)b=S,C&&(b=E[S],"$"===b.charAt(0))||(x=r[b],e=l(T,b,x)||"",(n=p[e])||(n=p[e]=[],h.push(e)),e=c(b,x),L=L||e,x=l(m,b,x),x=v(x)?x:"",I=A?A(t,j):C?E[S]:S,A&&(D[I]=b),n.push({id:I,label:x,selected:e}));for(f||(y||null===i?p[""].unshift({id:"",label:"",selected:!L}):L||p[""].unshift({id:"?",label:"",selected:!0})),b=0,E=h.length;E>b;b++){for(e=h[b],n=p[e],P.length<=b?(i={element:$.clone().attr("label",e),label:n.label},r=[i],P.push(r),s.append(i.element)):(r=P[b],i=r[0],i.label!=e&&i.element.attr("label",i.label=e)),L=null,S=0,k=n.length;k>S;S++)e=n[S],(c=r[S+1])?(L=c.element,c.label!==e.label&&(d(O,c.label,!1),d(O,e.label,!0),L.text(c.label=e.label),L.prop("label",c.label)),c.id!==e.id&&L.val(c.id=e.id),L[0].selected!==e.selected&&(L.prop("selected",c.selected=e.selected),bn&&L.prop("selected",c.selected))):(""===e.id&&y?q=y:(q=w.clone()).val(e.id).prop("selected",e.selected).attr("selected",e.selected).prop("label",e.label).text(e.label),r.push(c={element:q,label:e.label,id:e.id,selected:e.selected}),d(O,e.label,!0),L?L.after(q):i.element.append(q),L=q);for(S++;r.length>S;)e=r.pop(),d(O,e.label,!1),e.element.remove()}for(;P.length>b;){for(n=P.pop(),S=1;S<n.length;++S)d(O,n[S].label,!1);n[0].element.remove()}o(O,function(e,t){e>0?g.addOption(t):0>e&&g.removeOption(t)})}var h;if(!(h=b.match(r)))throw Kr("iexp",b,F(s));var m=i(h[2]||h[1]),x=h[4]||h[6],k=/ as /.test(h[0])&&h[1],S=k?i(k):null,C=h[5],T=i(h[3]||""),E=i(h[2]?h[1]:x),M=i(h[7]),A=h[8]?i(h[8]):null,D={},P=[[{element:s,label:""}]],j={};y&&(e(y)(t),y.removeClass("ng-scope"),y.remove()),s.empty(),s.on("change",function(){t.$apply(function(){var e,i=M(t)||[];if(f)e=[],o(s.val(),function(t){t=A?D[t]:t,e.push("?"===t?n:""===t?null:l(S?S:E,t,i[t]))});else{var r=A?D[s.val()]:s.val();e="?"===r?n:""===r?null:l(S?S:E,r,i[r])}a.$setViewValue(e),p()})}),a.$render=p,t.$watchCollection(M,c),t.$watchCollection(function(){var e,n=M(t);if(n&&On(n)){e=Array(n.length);for(var i=0,r=n.length;r>i;i++)e[i]=l(m,i,n[i])}else if(n)for(i in e={},n)n.hasOwnProperty(i)&&(e[i]=l(m,i,n[i]));return e},c),f&&t.$watchCollection(function(){return a.$modelValue},c)}if(u[1]){var g=u[0];u=u[1];var h,f=l.multiple,b=l.ngOptions,y=!1,_=!1,w=yn(t.createElement("option")),$=yn(t.createElement("optgroup")),x=w.clone();l=0;for(var k=a.children(),S=k.length;S>l;l++)if(""===k[l].value){h=y=k.eq(l);break}g.init(u,y,x),f&&(u.$isEmpty=function(e){return!e||0===e.length}),b?p(s,a,u):f?d(s,a,u):c(s,a,u,g)}}}}],Zr=["$interpolate",function(e){var t={addOption:g,removeOption:g};return{restrict:"E",priority:100,compile:function(n,i){if(m(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o=n.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.databound||(s=t),r?e.$watch(r,function(e,t){i.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,n)}):s.addOption(i.value,n),n.on("$destroy",function(){s.removeOption(i.value)})}}}}],Qr=f({restrict:"E",terminal:!1}),eo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},to=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(y(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp",a,e,F(t));s=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||m(s)||s.test(e)}}}}},no=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){e=d(e),r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},io=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=d(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(J(),oe(Dn),yn(t).ready(function(){U(t,W)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(e,n,i){i=i.ngAnimateChildren,t.isString(i)&&0===i.length?n.data("$$ngAnimateChildren",!0):e.$watch(i,function(e){n.data("$$ngAnimateChildren",!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){return function(t){return e(function(){t()})}}]).config(["$provide","$animateProvider",function(i,r){function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(1==n.nodeType)return n}}function s(e,t){return o(e)==o(t)}var a,l=t.noop,u=t.forEach,c=r.$$selectors,d=t.isArray,p=t.isString,g=t.isObject,h={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,i,f,m,v,b,y,_,w){function $(e,t){var n=e.data("$$ngAnimateState")||{};return t&&(n.running=!0,n.structural=!0,e.data("$$ngAnimateState",n)),n.disabled||n.running&&n.structural}function x(e){var t,i=n.defer();return i.promise.$$cancelFn=function(){t&&t()},b.$$postDigest(function(){t=e(function(){i.resolve()})}),i.promise}function k(e){return g(e)?(e.tempClasses&&p(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function S(e,t,n){n=n||{};var i={};u(n,function(e,t){u(t.split(" "),function(t){i[t]=e})});var r=Object.create(null);u((e.attr("class")||"").split(/\s+/),function(e){r[e]=!0});var o=[],s=[];return u(t&&t.classes||[],function(e,t){var n=r[t],a=i[t]||{};!1===e?(n||"addClass"==a.event)&&s.push(t):!0===e&&(n&&"removeClass"!=a.event||o.push(t))}),0<o.length+s.length&&[o.join(" "),s.join(" ")]}function C(e){if(e){var t=[],n={};e=e.substr(1).split("."),(f.transitions||f.animations)&&t.push(i.get(c[""]));for(var r=0;r<e.length;r++){var o=e[r],s=c[o];s&&!n[o]&&(t.push(i.get(s)),n[o]=!0)}return t}}function T(e,n,i,r){function o(e,t){var n=e[t],i=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||i?("leave"==t&&(i=n,n=null),w.push({event:t,fn:n}),b.push({event:t,fn:i}),!0):void 0}function s(t,n,o){var s=[];u(t,function(e){e.fn&&s.push(e)});var a=0;u(s,function(t,u){var d=function(){e:{if(n){if((n[u]||l)(),++a<s.length)break e;n=null}o()}};switch(t.event){case"setClass":n.push(t.fn(e,c,p,d,r));break;case"animate":n.push(t.fn(e,i,r.from,r.to,d));break;case"addClass":n.push(t.fn(e,c||i,d,r));break;case"removeClass":n.push(t.fn(e,p||i,d,r));break;default:n.push(t.fn(e,d,r))}}),n&&0===n.length&&o()}var a=e[0];if(a){r&&(r.to=r.to||{},r.from=r.from||{});var c,p;d(i)&&(c=i[0],p=i[1],c?p?i=c+" "+p:(i=c,n="addClass"):(i=p,n="removeClass"));var g="setClass"==n,h=g||"addClass"==n||"removeClass"==n||"animate"==n,f=e.attr("class")+" "+i;if(q(f)){var m=l,v=[],b=[],y=l,_=[],w=[],f=(" "+f).replace(/\s+/g,".");return u(C(f),function(e){!o(e,n)&&g&&(o(e,"addClass"),o(e,"removeClass"))}),{node:a,event:n,className:i,isClassBased:h,isSetClassOperation:g,applyStyles:function(){r&&e.css(t.extend(r.from||{},r.to||{}))},before:function(e){m=e,s(b,v,function(){m=l,e()})},after:function(e){y=e,s(w,_,function(){y=l,e()})},cancel:function(){v&&(u(v,function(e){(e||l)(!0)}),m(!0)),_&&(u(_,function(e){(e||l)(!0)}),y(!0))}}}}}function E(e,n,i,r,o,s,c,d){function p(t){var r="$animate:"+t;y&&y[r]&&0<y[r].length&&v(function(){i.triggerHandler(r,{event:e,className:n})})}function g(){p("before")}function h(){p("after")}function f(){f.hasBeenRun||(f.hasBeenRun=!0,s())}function m(){if(!m.hasBeenRun){b&&b.applyStyles(),m.hasBeenRun=!0,c&&c.tempClasses&&u(c.tempClasses,function(e){a.removeClass(i,e)});var t=i.data("$$ngAnimateState");t&&(b&&b.isClassBased?A(i,n):(v(function(){var t=i.data("$$ngAnimateState")||{};k==t.index&&A(i,n,e)}),i.data("$$ngAnimateState",t))),p("close"),d()}}var b=T(i,e,n,c);if(!b)return f(),g(),h(),m(),l;e=b.event,n=b.className;var y=t.element._data(b.node),y=y&&y.events;if(r||(r=o?o.parent():i.parent()),D(i,r))return f(),g(),h(),m(),l;r=i.data("$$ngAnimateState")||{};var _=r.active||{},w=r.totalActive||0,$=r.last;if(o=!1,w>0){if(w=[],b.isClassBased)"setClass"==$.event?(w.push($),A(i,n)):_[n]&&(x=_[n],x.event==e?o=!0:(w.push(x),A(i,n)));else if("leave"==e&&_["ng-leave"])o=!0;else{for(var x in _)w.push(_[x]);r={},A(i,!0)}0<w.length&&u(w,function(e){e.cancel()})}if(!b.isClassBased||b.isSetClassOperation||"animate"==e||o||(o="addClass"==e==i.hasClass(n)),o)return f(),g(),h(),p("close"),d(),l;_=r.active||{},w=r.totalActive||0,"leave"==e&&i.one("$destroy",function(e){e=t.element(this);var n=e.data("$$ngAnimateState");n&&(n=n.active["ng-leave"])&&(n.cancel(),A(e,"ng-leave"))}),a.addClass(i,"ng-animate"),c&&c.tempClasses&&u(c.tempClasses,function(e){a.addClass(i,e)});var k=j++;return w++,_[n]=b,i.data("$$ngAnimateState",{last:b,active:_,index:k,totalActive:w}),g(),b.before(function(t){var r=i.data("$$ngAnimateState");t=t||!r||!r.active[n]||b.isClassBased&&r.active[n].event!=e,f(),!0===t?m():(h(),b.after(m))}),b.cancel}function M(e){(e=o(e))&&(e=t.isFunction(e.getElementsByClassName)?e.getElementsByClassName("ng-animate"):e.querySelectorAll(".ng-animate"),u(e,function(e){e=t.element(e),(e=e.data("$$ngAnimateState"))&&e.active&&u(e.active,function(e){e.cancel()})}))}function A(e,t){if(s(e,m))h.disabled||(h.running=!1,h.structural=!1);else if(t){var n=e.data("$$ngAnimateState")||{},i=!0===t;!i&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(i||!n.totalActive)&&(a.removeClass(e,"ng-animate"),e.removeData("$$ngAnimateState"))}}function D(e,n){if(h.disabled)return!0;if(s(e,m))return h.running;var i,r,o;do{if(0===n.length)break;var a=s(n,m),l=a?h:n.data("$$ngAnimateState")||{};if(l.disabled)return!0;a&&(o=!0),!1!==i&&(a=n.data("$$ngAnimateChildren"),t.isDefined(a)&&(i=a)),r=r||l.running||l.last&&!l.last.isClassBased}while(n=n.parent());return!o||!i&&r}a=w,m.data("$$ngAnimateState",h);var P=b.$watch(function(){return _.totalPendingRequests},function(e,t){0===e&&(P(),b.$$postDigest(function(){b.$$postDigest(function(){h.running=!1})}))}),j=0,O=r.classNameFilter(),q=O?function(e){return O.test(e)}:function(){return!0};return{animate:function(e,n,i,r,s){return r=r||"ng-inline-animate",s=k(s)||{},s.from=i?n:null,s.to=i?i:n,x(function(n){return E("animate",r,t.element(o(e)),null,null,l,s,n)})},enter:function(n,i,r,s){return s=k(s),n=t.element(n),i=i&&t.element(i),r=r&&t.element(r),$(n,!0),e.enter(n,i,r),x(function(e){return E("enter","ng-enter",t.element(o(n)),i,r,l,s,e)})},leave:function(n,i){return i=k(i),n=t.element(n),M(n),$(n,!0),x(function(r){return E("leave","ng-leave",t.element(o(n)),null,null,function(){e.leave(n)},i,r)})},move:function(n,i,r,s){return s=k(s),n=t.element(n),i=i&&t.element(i),r=r&&t.element(r),M(n),$(n,!0),e.move(n,i,r),x(function(e){return E("move","ng-move",t.element(o(n)),i,r,l,s,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,i,r,s){if(s=k(s),n=t.element(n),n=t.element(o(n)),$(n))return e.$$setClassImmediately(n,i,r,s);var a,l=n.data("$$animateClasses"),c=!!l;return l||(l={classes:{}}),a=l.classes,i=d(i)?i:i.split(" "),u(i,function(e){e&&e.length&&(a[e]=!0)}),r=d(r)?r:r.split(" "),u(r,function(e){e&&e.length&&(a[e]=!1)}),c?(s&&l.options&&(l.options=t.extend(l.options||{},s)),l.promise):(n.data("$$animateClasses",l={classes:a,options:s}),l.promise=x(function(t){var i=n.parent(),r=o(n),s=r.parentNode;if(s&&!s.$$NG_REMOVED&&!r.$$NG_REMOVED){r=n.data("$$animateClasses"),n.removeData("$$animateClasses");var s=n.data("$$ngAnimateState")||{},a=S(n,r,s.active);return a?E("setClass",a,n,i,null,function(){a[0]&&e.$$addClassImmediately(n,a[0]),a[1]&&e.$$removeClassImmediately(n,a[1])},r.options,t):t()}t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)A(t);else{var n=t.data("$$ngAnimateState")||{};n.disabled=!0,t.data("$$ngAnimateState",n)}break;case 1:h.disabled=!e;break;default:e=!h.disabled}return!!e}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,r,s,c){function g(){P||(P=c(function(){q=[],P=null,j={}}))}function h(e,t){P&&P(),q.push(t),P=c(function(){u(q,function(e){e()}),q=[],P=null,j={}})}function f(e,n){var i=o(e);e=t.element(i),B.push(e),i=Date.now()+n,L>=i||(s.cancel(I),L=i,I=s(function(){m(B),B=[]},n,!1))}function m(e){u(e,function(e){(e=e.data("$$ngAnimateCSS3Data"))&&u(e.closeAnimationFns,function(e){e()})})}function v(e,t){var n=t?j[t]:null;if(!n){var r=0,o=0,s=0,a=0;u(e,function(e){if(1==e.nodeType){e=i.getComputedStyle(e)||{},r=Math.max(b(e[T+"Duration"]),r),o=Math.max(b(e[T+"Delay"]),o),a=Math.max(b(e[M+"Delay"]),a);var t=b(e[M+"Duration"]);t>0&&(t*=parseInt(e[M+"IterationCount"],10)||1),s=Math.max(t,s)}}),n={total:0,transitionDelay:o,transitionDuration:r,animationDelay:a,animationDuration:s},t&&(j[t]=n)}return n}function b(e){var t=0;return e=p(e)?e.split(/\s*,\s*/):[],u(e,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function y(e,t,n,i){e=0<=["ng-enter","ng-leave","ng-move"].indexOf(n);var r,s=t.parent(),l=s.data("$$ngAnimateKey");l||(s.data("$$ngAnimateKey",++O),l=O),r=l+"-"+o(t).getAttribute("class");var s=r+" "+n,l=j[s]?++j[s].total:0,u={};if(l>0){var c=n+"-stagger",u=r+" "+c;(r=!j[u])&&a.addClass(t,c),u=v(t,u),r&&a.removeClass(t,c)}a.addClass(t,n);var c=t.data("$$ngAnimateCSS3Data")||{},d=v(t,s);return r=d.transitionDuration,d=d.animationDuration,e&&0===r&&0===d?(a.removeClass(t,n),!1):(n=i||e&&r>0,e=d>0&&0<u.animationDelay&&0===u.animationDuration,t.data("$$ngAnimateCSS3Data",{stagger:u,cacheKey:s,running:c.running||0,itemIndex:l,blockTransition:n,closeAnimationFns:c.closeAnimationFns||[]}),s=o(t),n&&(w(s,!0),i&&t.css(i)),e&&(s.style[M+"PlayState"]="paused"),!0)}function _(e,t,n,i,r){function l(){t.off(P,c),a.removeClass(t,p),a.removeClass(t,g),C&&s.cancel(C),S(t,n);var e,i=o(t);for(e in h)i.style.removeProperty(h[e])}function c(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||t.timeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-T,0)>=k&&t>=x&&i()}var d=o(t);if(e=t.data("$$ngAnimateCSS3Data"),-1!=d.getAttribute("class").indexOf(n)&&e){var p="",g="";u(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;p+=n+"-active",g+=n+"-pending"});var h=[],m=e.itemIndex,b=e.stagger,y=0;if(m>0){y=0,0<b.transitionDelay&&0===b.transitionDuration&&(y=b.transitionDelay*m);var _=0;0<b.animationDelay&&0===b.animationDuration&&(_=b.animationDelay*m,h.push(D+"animation-play-state")),y=Math.round(100*Math.max(y,_))/100}y||(a.addClass(t,p),e.blockTransition&&w(d,!1));var $=v(t,e.cacheKey+" "+p),x=Math.max($.transitionDuration,$.animationDuration);if(0!==x){!y&&r&&0<Object.keys(r).length&&($.transitionDuration||(t.css("transition",$.animationDuration+"s linear all"),h.push("transition")),t.css(r));var m=Math.max($.transitionDelay,$.animationDelay),k=1e3*m;0<h.length&&(b=d.getAttribute("style")||"",";"!==b.charAt(b.length-1)&&(b+=";"),d.setAttribute("style",b+" "));var C,T=Date.now(),P=A+" "+E,m=1e3*(y+1.5*(m+x));return y>0&&(a.addClass(t,g),C=s(function(){C=null,0<$.transitionDuration&&w(d,!1),0<$.animationDuration&&(d.style[M+"PlayState"]=""),a.addClass(t,p),a.removeClass(t,g),r&&(0===$.transitionDuration&&t.css("transition",$.animationDuration+"s linear all"),t.css(r),h.push("transition"))},1e3*y,!1)),t.on(P,c),e.closeAnimationFns.push(function(){l(),i()}),e.running++,f(t,m),l}a.removeClass(t,p),S(t,n),i()}else i()}function w(e,t){e.style[T+"Property"]=t?"none":""}function $(e,t,n,i){return y(e,t,n,i)?function(e){e&&S(t,n)}:void 0}function x(e,t,n,i,r){return t.data("$$ngAnimateCSS3Data")?_(e,t,n,i,r):(S(t,n),void i())}function k(e,t,n,i,r){var o=$(e,t,n,r.from);if(o){var s=o;return h(t,function(){s=x(e,t,n,i,r.to)}),function(e){(s||l)(e)}}g(),i()}function S(e,t){a.removeClass(e,t);var n=e.data("$$ngAnimateCSS3Data");n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData("$$ngAnimateCSS3Data"))}function C(e,t){var n="";return e=d(e)?e:e.split(/\s+/),u(e,function(e,i){e&&0<e.length&&(n+=(i>0?" ":"")+e+t)}),n}var T,E,M,A,D="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(D="-webkit-",T="WebkitTransition",E="webkitTransitionEnd transitionend"):(T="transition",E="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(D="-webkit-",M="WebkitAnimation",A="webkitAnimationEnd animationend"):(M="animation",A="animationend");var P,j={},O=0,q=[],I=null,L=0,B=[];return{animate:function(e,t,n,i,r,o){return o=o||{},o.from=n,o.to=i,k("animate",e,t,r,o)},enter:function(e,t,n){return n=n||{},k("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},k("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},k("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,i,r){return r=r||{},t=C(n,"-remove")+" "+C(t,"-add"),(r=$("setClass",e,t,r.from))?(h(e,i),r):(g(),void i())},beforeAddClass:function(e,t,n,i){return i=i||{},(t=$("addClass",e,C(t,"-add"),i.from))?(h(e,n),t):(g(),void n())},beforeRemoveClass:function(e,t,n,i){return i=i||{},(t=$("removeClass",e,C(t,"-remove"),i.from))?(h(e,n),t):(g(),void n())},setClass:function(e,t,n,i,r){return r=r||{},n=C(n,"-remove"),t=C(t,"-add"),x("setClass",e,n+" "+t,i,r.to)},addClass:function(e,t,n,i){return i=i||{},x("addClass",e,C(t,"-add"),n,i.to)},removeClass:function(e,t,n,i){return i=i||{},x("removeClass",e,C(t,"-remove"),n,i.to)}}}])}])}(window,window.angular),function(e,t,n){"use strict";function i(e){var n=[];return l(n,t.noop).chars(e),n.join("")}function r(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function o(e,n){function i(e,i,o,a){if(i=t.lowercase(i),$[i])for(;b.last()&&x[b.last()];)r("",b.last());

w[i]&&b.last()==i&&r("",i),(a=_[i]||!!a)||b.push(i);var l={};o.replace(p,function(e,t,n,i,r){l[t]=s(n||i||r||"")}),n.start&&n.start(i,l,a)}function r(e,i){var r,o=0;if(i=t.lowercase(i))for(o=b.length-1;o>=0&&b[o]!=i;o--);if(o>=0){for(r=b.length-1;r>=o;r--)n.end&&n.end(b[r]);b.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,a,l,b=[],y=e;for(b.last=function(){return b[b.length-1]};e;){if(l="",a=!0,b.last()&&k[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(f,"$1").replace(v,"$1"),n.chars&&n.chars(s(t)),""}),r("",b.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),a=!1)):m.test(e)?(o=e.match(m))&&(e=e.replace(o[0],""),a=!1):h.test(e)?(o=e.match(d))&&(e=e.substring(o[0].length),o[0].replace(d,r),a=!1):g.test(e)&&((o=e.match(c))?(o[4]&&(e=e.substring(o[0].length),o[0].replace(c,i)),a=!1):(l+="<",e=e.substring(1))),a&&(o=e.indexOf("<"),l+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(s(l)))),e==y)throw u("badparse",e);y=e}r()}function s(e){if(!e)return"";var t=M.exec(e);e=t[1];var n=t[3];return(t=t[2])&&(E.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in E?E.textContent:E.innerText),e+t+n}function a(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o,s){e=t.lowercase(e),!i&&k[e]&&(i=e),i||!0!==S[e]||(r("<"),r(e),t.forEach(o,function(i,o){var s=t.lowercase(o),l="img"===e&&"src"===s||"background"===s;!0!==T[s]||!0===C[s]&&!n(i,l)||(r(" "),r(o),r('="'),r(a(i)),r('"'))}),r(s?"/>":">"))},end:function(e){e=t.lowercase(e),i||!0!==S[e]||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(a(e))}}}var u=t.$$minErr("$sanitize"),c=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,g=/^</,h=/^<\//,f=/\x3c!--(.*?)--\x3e/g,m=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]\x3e/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~| |!])/g,_=r("area,br,col,hr,img,wbr");e=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=r("rp,rt");var w=t.extend({},n,e),$=t.extend({},e,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=t.extend({},n,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));e=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var k=r("script,style"),S=t.extend({},_,$,x,w,e),C=r("background,cite,href,longdesc,src,usemap,xlink:href");e=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),n=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var T=t.extend({},C,n,e),E=document.createElement("pre"),M=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,r=/^mailto:/;return function(o,s){function a(e){e&&g.push(i(e))}function l(e,n){g.push("<a "),t.isDefined(s)&&g.push('target="',s,'" '),g.push('href="',e.replace(/"/g,"&quot;"),'">'),a(n),g.push("</a>")}if(!o)return o;for(var u,c,d,p=o,g=[];u=p.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),d=u.index,a(p.substr(0,d)),l(c,u[0].replace(r,"")),p=p.substring(d+u[0].length);return a(p),e(g.join(""))}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return B(new(B(function(){},{prototype:e})),t)}function r(e){return L(arguments,function(t){t!==e&&L(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function s(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function a(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var r,l=o(n,i),u={},c=[];for(var d in l)if(l[d].params&&(r=s(l[d].params),r.length))for(var p in r)a(c,r[p])>=0||(c.push(r[p]),u[r[p]]=e[r[p]]);return B({},u,t)}function u(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return L(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==a(n,i)&&(t[i]=e[i]);return t}function p(e,t){var n=I(e),i=n?[]:{};return L(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function g(e,t){var n=I(e)?[]:{};return L(e,function(e,i){n[i]=t(e,i)}),n}function h(e,t){var i=1,o=2,l={},u=[],c=l,p=B(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function g(e,n){if(b[n]!==o){if(v.push(n),b[n]===i)throw v.splice(0,a(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=i,O(e))m.push(n,[function(){return t.get(e)}],u);else{var r=t.annotate(e);L(r,function(e){e!==n&&l.hasOwnProperty(e)&&g(l[e],e)}),m.push(n,e,r)}v.pop(),b[n]=o}}function h(e){return q(e)&&e.then&&e.$$promises}if(!q(l))throw new Error("'invocables' must be an object");var f=s(l||{}),m=[],v=[],b={};return L(l,g),l=v=b=null,function(i,o,s){function a(){--_||(w||r(y,o.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,g.resolve(y))}function l(e){v.$$failure=e,g.reject(e)}function u(n,r,o){function u(e){d.reject(e),l(e)}function c(){if(!P(v.$$failure))try{d.resolve(t.invoke(r,s,y)),d.promise.then(function(e){y[n]=e,a()},u)}catch(e){u(e)}}var d=e.defer(),p=0;L(o,function(e){b.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(p++,b[e].then(function(t){y[e]=t,--p||c()},u))}),p||c(),b[n]=d.promise}if(h(i)&&s===n&&(s=o,o=i,i=null),i){if(!q(i))throw new Error("'locals' must be an object")}else i=c;if(o){if(!h(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=p;var g=e.defer(),v=g.promise,b=v.$$promises={},y=B({},i),_=1+m.length/3,w=!1;if(P(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&r(y,d(o.$$inheritedValues,f)),B(b,o.$$promises),o.$$values?(w=r(y,d(o.$$values,f)),v.$$inheritedValues=d(o.$$values,f),a()):(o.$$inheritedValues&&(v.$$inheritedValues=d(o.$$inheritedValues,f)),o.then(a,l));for(var $=0,x=m.length;x>$;$+=3)i.hasOwnProperty(m[$])?a():u(m[$],m[$+1],m[$+2]);return v}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function f(e,t,n){this.fromConfig=function(e,t,n){return P(e.template)?this.fromString(e.template,t):P(e.templateUrl)?this.fromUrl(e.templateUrl,t):P(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return j(e)?e(t):e},this.fromUrl=function(n,i){return j(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function m(e,t,r){function o(t,n,i,r){if(m.push(t),h[t])return h[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(f[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return f[t]=new N.Param(t,n,i,r),f[t]}function s(e,t,n){var i=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(n){case!1:i=["(",")"];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return r+i[0]+t+i[1]}function a(n,r){var o,s,a,l,u;return o=n[2]||n[3],u=t.params[o],a=e.substring(p,n.index),s=r?n[4]:n[4]||("*"==n[1]?".*":null),l=N.type(s||"string")||i(N.type("string"),{pattern:new RegExp(s)}),{id:o,regexp:s,segment:a,type:l,cfg:u}}t=B({params:{}},q(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,g=this.segments=[],h=r?r.params:{},f=this.params=r?r.params.$$new():new N.ParamSet,m=[];this.source=e;for(var v,b,y;(l=u.exec(e))&&(v=a(l,!1),!(v.segment.indexOf("?")>=0));)b=o(v.id,v.type,v.cfg,"path"),d+=s(v.segment,b.type.pattern.source,b.squash),g.push(v.segment),p=u.lastIndex;y=e.substring(p);var _=y.indexOf("?");if(_>=0){var w=this.sourceSearch=y.substring(_);if(y=y.substring(0,_),this.sourcePath=e.substring(0,p+_),w.length>0)for(p=0;l=c.exec(w);)v=a(l,!0),b=o(v.id,v.type,v.cfg,"search"),p=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=s(y)+(t.strict===!1?"/?":"")+"$",g.push(y),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=g[0],this.$$paramNames=m}function v(e){B(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function r(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(e){return this.pattern.test(e)}function l(){return{strict:y,caseInsensitive:f}}function u(e){return j(e)||I(e)&&j(e[e.length-1])}function c(){for(;x.length;){var e=x.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],h.invoke(e.def))}}function d(e){B(this,e||{})}N=this;var h,f=!1,y=!0,_=!1,w={},$=!0,x=[],k={string:{encode:e,decode:r,is:o,pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return P(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!u(e.value))return e.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(e.value)},this.caseInsensitive=function(e){return P(e)&&(f=e),f},this.strictMode=function(e){return P(e)&&(y=e),y},this.defaultSquashPolicy=function(e){if(!P(e))return _;if(e!==!0&&e!==!1&&!O(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return _=e,e},this.compile=function(e,t){return new m(e,B(l(),t))},this.isMatcher=function(e){if(!q(e))return!1;var t=!0;return L(m.prototype,function(n,i){j(n)&&(t=t&&P(e[i])&&j(e[i]))}),t},this.type=function(e,t,n){if(!P(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new v(B({name:e},t)),n&&(x.push({name:e,def:n}),$||c()),this},L(k,function(e,t){w[t]=new v(B({name:t},e))}),w=i(w,{}),this.$get=["$injector",function(e){return h=e,$=!1,c(),L(k,function(e,t){w[t]||(w[t]=new v(e))}),this}],this.Param=function(e,t,i,r){function o(e){var t=q(e)?s(e):[],n=-1===a(t,"value")&&-1===a(t,"type")&&-1===a(t,"squash")&&-1===a(t,"array");return n&&(e={value:e}),e.$$fn=u(e.value)?e.value:function(){return e.value},e}function l(t,n,i){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof v?t.type:new v(t.type):"config"===i?w.any:w.string}function c(){var t={array:"search"===r?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return B(t,n,i).array}function d(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!P(n)||null==n)return _;if(n===!0||O(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function f(e,t,i,r){var o,s,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=I(e.replace)?e.replace:[],O(r)&&o.push({from:r,to:n}),s=g(o,function(e){return e.from}),p(l,function(e){return-1===a(s,e.from)}).concat(o)}function m(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(i.$$fn)}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=g(p($.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),P(e)?$.type.decode(e):m()}function y(){return"{Param:"+e+" "+t+" squash: '"+S+"' optional: "+k+"}"}var $=this;i=o(i),t=l(i,t,r);var x=c();t=x?t.$asArray(x,"search"===r):t,"string"!==t.name||x||"path"!==r||i.value!==n||(i.value="");var k=i.value!==n,S=d(i,k),C=f(i,x,k,S);B(this,{id:e,type:t,location:r,array:x,squash:S,replace:C,isOptional:k,value:b,dynamic:n,config:i,toString:y})},d.prototype={$$new:function(){return i(this,B(new d,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=s(d.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),L(t,function(t){L(s(t),function(t){-1===a(e,t)&&-1===a(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return L(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return L(i.$$keys(),function(r){var o=e&&e[r],s=t&&t[r];i[r].type.equals(o,s)||(n=!1)}),n},$$validates:function(e){var t,n,i,r=!0,o=this;return L(this.$$keys(),function(s){i=o[s],n=e[s],t=!n&&i.isOptional,r=r&&(t||!!i.type.is(n))}),r},$$parent:n},this.ParamSet=d}function y(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function s(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return P(i)?i:!0}function a(i,r,o,s){function a(e,t,n){return"/"===f?e:t?f.slice(0,-1)+e:n?f.slice(1)+e:e}function p(e){function t(e){var t=e(o,i);return t?(O(t)&&i.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var r=h&&i.url()===h;if(h=n,r)return!0;var s,a=u.length;for(s=0;a>s;s++)if(t(u[s]))return;c&&t(c)}}function g(){return l=l||r.$on("$locationChangeSuccess",p)}var h,f=s.baseHref(),m=i.url();return d||g(),{sync:function(){p()},listen:function(){return g()},update:function(e){return e?void(m=i.url()):void(i.url()!==m&&(i.url(m),i.replace()))},push:function(e,t,r){i.url(e.format(t||{})),h=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var s=e.html5Mode();t.isObject(s)&&(s=s.enabled);var l=n.format(r);if(o=o||{},s||null===l||(l="#"+e.hashPrefix()+l),l=a(l,s,o.absolute),!o.absolute||!l)return l;var u=!s&&l?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(e){if(!j(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(O(e)){var t=e;e=function(){return t}}else if(!j(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,a=O(t);if(O(e)&&(e=i.compile(e)),!a&&!j(t)&&!I(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return a&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),B(function(n,i){return s(n,t,e.exec(i.path(),i.search()))},{prefix:O(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(n=t,t=["$match",function(e){return o(n,e)}]),B(function(n,i){return s(n,t,e.exec(i.path()))},{prefix:r(e)})}},u={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser"]}function _(e,r){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var i=O(e),r=i?e:e.name,s=o(r);if(s){if(!t)throw new Error("No reference point given for path '"+r+"'");t=d(t);for(var a=r.split("."),l=0,u=a.length,c=t;u>l;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;a=a.slice(l).join("."),r=c.name+(c.name&&a?".":"")+a}var p=k[r];return!p||!i&&(i||p!==e&&p.self!==e)?n:p}function p(e,t){S[e]||(S[e]=[]),S[e].push(t)}function h(e){for(var t=S[e]||[];t.length;)f(t.shift())}function f(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!O(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(k.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):O(t.parent)?t.parent:q(t.parent)&&O(t.parent.name)?t.parent.name:"";if(r&&!k[r])return p(r,t.self);for(var o in T)j(T[o])&&(t[o]=T[o](t,T.$delegates[o]));return k[n]=t,!t[C]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){x.$current.navigable==t&&u(e,n)||x.transitionTo(t,e,{inherit:!0,location:!1})}]),h(n),t}function m(e){return e.indexOf("*")>-1}function v(e){var t=e.split("."),n=x.$current.name.split(".");if("**"===t[0]&&(n=n.slice(a(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(a(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var i=0,r=t.length;r>i;i++)"*"===t[i]&&(n[i]="*");return n.join("")===t.join("")}function b(e,t){return O(e)&&!P(t)?T[e]:j(t)&&O(e)?(T[e]&&!T.$delegates[e]&&(T.$delegates[e]=T[e]),T[e]=t,this):this}function y(e,t){return q(e)?t=e:t.name=e,f(t),this}function _(e,r,o,a,p,h,f){function b(t,n,i,o){var s=e.$broadcast("$stateNotFound",t,n,i);if(s.defaultPrevented)return f.update(),T;if(!s.retry)return null;if(o.$retry)return f.update(),E;var a=x.transition=r.when(s.retry);return a.then(function(){return a!==x.transition?_:(t.options.$retry=!0,x.transitionTo(t.to,t.toParams,t.options))},function(){return T}),f.update(),a}function y(e,n,i,s,l,u){var d=i?n:c(e.params.$$keys(),n),g={$stateParams:d};l.resolve=p.resolve(e.resolve,g,l.resolve,e);var h=[l.resolve.then(function(e){l.globals=e})];return s&&h.push(s),L(e.views,function(n,i){var r=n.resolve&&n.resolve!==e.resolve?n.resolve:{};r.$template=[function(){return o.load(i,{view:n,locals:g,params:d,notify:u.notify})||""}],h.push(p.resolve(r,g,l.resolve,e).then(function(o){if(j(n.controllerProvider)||I(n.controllerProvider)){var s=t.extend({},r,g);o.$$controller=a.invoke(n.controllerProvider,null,s)}else o.$$controller=n.controller;o.$$state=e,o.$$controllerAs=n.controllerAs,l[i]=o}))}),r.all(h).then(function(){return l})}var _=r.reject(new Error("transition superseded")),S=r.reject(new Error("transition prevented")),T=r.reject(new Error("transition aborted")),E=r.reject(new Error("transition failed"));return $.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:$.self,$current:$,transition:null},x.reload=function(){return x.transitionTo(x.current,h,{reload:!0,inherit:!1,notify:!0})},x.go=function(e,t,n){return x.transitionTo(e,t,B({inherit:!0,relative:x.$current},n))},x.transitionTo=function(t,n,o){n=n||{},o=B({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var s,u=x.$current,p=x.params,g=u.path,m=d(t,o.relative);if(!P(m)){var v={to:t,toParams:n,options:o},k=b(v,u.self,p,o);if(k)return k;if(t=v.to,n=v.toParams,o=v.options,m=d(t,o.relative),!P(m)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(m[C])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(h,n||{},x.$current,m)),!m.params.$$validates(n))return E;n=m.params.$$values(n),t=m;var T=t.path,M=0,A=T[M],D=$.locals,j=[];if(!o.reload)for(;A&&A===g[M]&&A.ownParams.$$equals(n,p);)D=j[M]=A.locals,M++,A=T[M];if(w(t,u,D,o))return t.self.reloadOnSearch!==!1&&f.update(),x.transition=null,r.when(x.current);if(n=c(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,p).defaultPrevented)return f.update(),S;for(var O=r.when(D),q=M;q<T.length;q++,A=T[q])D=j[q]=i(D),O=y(A,n,A===t,O,D,o);var I=x.transition=O.then(function(){var i,r,s;if(x.transition!==I)return _;for(i=g.length-1;i>=M;i--)s=g[i],s.self.onExit&&a.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(i=M;i<T.length;i++)r=T[i],r.locals=j[i],r.self.onEnter&&a.invoke(r.self.onEnter,r.self,r.locals.globals);return x.transition!==I?_:(x.$current=t,x.current=t.self,x.params=n,F(x.params,h),x.transition=null,o.location&&t.navigable&&f.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,p),f.update(!0),x.current)},function(i){return x.transition!==I?_:(x.transition=null,s=e.$broadcast("$stateChangeError",t.self,n,u.self,p,i),s.defaultPrevented||f.update(),r.reject(i))});return I},x.is=function(e,t,i){i=B({relative:x.$current},i||{});var r=d(e,i.relative);return P(r)?x.$current!==r?!1:t?u(r.params.$$values(t),h):!0:n},x.includes=function(e,t,i){if(i=B({relative:x.$current},i||{}),O(e)&&m(e)){if(!v(e))return!1;e=x.$current.name}var r=d(e,i.relative);return P(r)?P(x.$current.includes[r.name])?t?u(r.params.$$values(t),h,s(t)):!0:!1:n},x.href=function(e,t,i){i=B({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},i||{});var r=d(e,i.relative);if(!P(r))return null;i.inherit&&(t=l(h,t||{},x.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?f.href(o.url,c(r.params.$$keys(),t||{}),{absolute:i.absolute}):null},x.get=function(e,t){if(0===arguments.length)return g(s(k),function(e){return k[e].self});var n=d(e,t||x.$current);return n&&n.self?n.self:null},x}function w(e,t,n,i){return e!==t||(n!==t.locals||i.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var $,x,k={},S={},C="abstract",T={parent:function(e){if(P(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):$},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=B({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(O(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||$).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new N.ParamSet;return L(e.params||{},function(e,n){t[n]||(t[n]=new N.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?B(e.parent.params.$$new(),e.ownParams):new N.ParamSet},views:function(e){var t={};return L(P(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?B({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};$=f({name:"",url:"^",views:null,"abstract":!0}),$.navigable=null,this.decorator=b,this.state=y,this.$get=_,_.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function e(e,t){return{load:function(n,i){var r,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=B(o,i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r&&i.notify&&e.$broadcast("$viewContentLoading",i),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function $(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function x(e,n,i,r){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function s(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(u)return{enter:function(e,t,n){var i=u.enter(e,null,t,n);i&&i.then&&i.then(n)},leave:function(e,t){var n=u.leave(e,t);n&&n.then&&n.then(t)}};if(l){var i=l&&l(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return n()}var a=o(),l=a("$animator"),u=a("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,a){return function(n,o,l){function u(){d&&(d.remove(),d=null),g&&(g.$destroy(),g=null),p&&(v.leave(p,function(){d=null}),d=p,p=null)}function c(s){var c,d=S(n,l,o,r),b=d&&e.$current&&e.$current.locals[d];if(s||b!==h){c=n.$new(),h=e.$current.locals[d];var y=a(c,function(e){v.enter(e,o,function(){g&&g.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&i(e)}),u()});p=y,g=c,g.$emit("$viewContentLoaded"),g.$eval(f)}}var d,p,g,h,f=l.onload||"",m=l.autoscroll,v=s(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function k(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,s,a){var l=n.$current,u=S(r,a,s,i),c=l&&l.locals[u];if(c){s.data("$uiView",{name:u,state:c.$$state}),s.html(c.$template?c.$template:o);var d=e(s.contents());if(c.$$controller){c.$scope=r;var p=t(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=p),s.data("$ngControllerController",p),s.children().data("$ngControllerController",p)}d(r)}}}}}function S(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function C(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function T(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function E(e,n){var i=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,s,a){var l=C(s.uiSref,e.current.name),u=null,c=T(o)||e.$current,d=null,p="A"===o.prop("tagName"),g="FORM"===o[0].nodeName,h=g?"action":"href",f=!0,m={relative:c,inherit:!0},v=r.$eval(s.uiSrefOpts)||{};t.forEach(i,function(e){e in v&&(m[e]=v[e])});var b=function(n){if(n&&(u=t.copy(n)),f){d=e.href(l.state,u,m);var i=a[1]||a[0];return i&&i.$$setStateInfo(l.state,u),null===d?(f=!1,!1):void s.$set(h,d)}};l.paramExpr&&(r.$watch(l.paramExpr,function(e){e!==u&&b(e)},!0),u=t.copy(r.$eval(l.paramExpr))),b(),g||o.bind("click",function(t){var i=t.which||t.button;if(!(i>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var r=n(function(){e.go(l.state,u,m)});t.preventDefault();var s=p&&!d?1:0;t.preventDefault=function(){s--<=0&&n.cancel(r)}}})}}}function M(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,r){function o(){s()?i.addClass(u):i.removeClass(u)}function s(){return"undefined"!=typeof r.uiSrefActiveEq?a&&e.is(a.name,l):a&&e.includes(a.name,l)}var a,l,u;u=n(r.uiSrefActiveEq||r.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,n){a=e.get(t,T(i)),l=n,o()},t.$on("$stateChangeSuccess",o)}]}}function A(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function D(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var P=t.isDefined,j=t.isFunction,O=t.isString,q=t.isObject,I=t.isArray,L=t.forEach,B=t.extend,F=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),h.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",h),f.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",f);var N;m.prototype.concat=function(e,t){var n={caseInsensitive:N.caseInsensitive(),strict:N.strictMode(),squash:N.defaultSquashPolicy()};return new m(this.sourcePath+e+this.sourceSearch,B(n,t),this)},m.prototype.toString=function(){return this.source},m.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var i=t(e).split(/-(?!\\)/),r=g(i,t);return g(r,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var r,o,s,a=this.parameters(),l=a.length,u=this.segments.length-1,c={};if(u!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;u>r;r++){s=a[r];var d=this.params[s],p=i[r+1];for(o=0;o<d.replace;o++)d.replace[o].from===p&&(p=d.replace[o].to);p&&d.array===!0&&(p=n(p)),c[s]=d.value(p)}for(;l>r;r++)s=a[r],c[s]=this.params[s].value(t[s]);return c},m.prototype.parameters=function(e){return P(e)?this.params[e]||null:this.$$paramNames},m.prototype.validates=function(e){return this.params.$$validates(e)},m.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var o,s=!1,a=n.length-1,l=i.length,u=n[0];for(o=0;l>o;o++){var c=a>o,d=i[o],p=r[d],h=p.value(e[d]),f=p.isOptional&&p.type.equals(p.value(),h),m=f?p.squash:!1,v=p.type.encode(h);if(c){var b=n[o+1];if(m===!1)null!=v&&(u+=I(v)?g(v,t).join("-"):encodeURIComponent(v)),u+=b;else if(m===!0){var y=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=b.match(y)[1]}else O(m)&&(u+=m+b)}else{if(null==v||f&&m!==!1)continue;I(v)||(v=[v]),v=g(v,encodeURIComponent).join("&"+d+"="),
u+=(s?"&":"?")+(d+"="+v),s=!0}}return u},v.prototype.is=function(){return!0},v.prototype.encode=function(e){return e},v.prototype.decode=function(e){return e},v.prototype.equals=function(e,t){return e==t},v.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return I(e)?e:P(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function s(e){return!e}function a(e,t){return function(n){n=r(n);var i=g(n,e);return t===!0?0===p(i,s).length:o(i)}}function l(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(!e(i[s],o[s]))return!1;return!0}}this.encode=a(i(e,"encode")),this.decode=a(i(e,"decode")),this.is=a(i(e,"is"),!0),this.equals=l(i(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),y.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",y),_.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",_),w.$inject=[],t.module("ui.router.state").provider("$view",w),t.module("ui.router.state").provider("$uiViewScroll",$),x.$inject=["$state","$injector","$uiViewScroll","$interpolate"],k.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",x),t.module("ui.router.state").directive("uiView",k),E.$inject=["$state","$timeout"],M.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",E).directive("uiSrefActive",M).directive("uiSrefActiveEq",M),A.$inject=["$state"],D.$inject=["$state"],t.module("ui.router.state").filter("isState",A).filter("includedByState",D)}(window,window.angular),!function(){function e(e,t,n,i,r,o){function s(s,a,l,u,c){function d(){return $||($=new e({afterItemsNode:O[0],containerNode:y,heightData:C,widthData:T,forceRefreshImages:!(!p(l.forceRefreshImages)||"false"===l.forceRefreshImages),keyExpression:x,renderBuffer:D,scope:s,scrollView:u.scrollView,transclude:c}))}function g(){var e=v.__clientHeight,t=v.__clientWidth;t&&e&&(g.height!==e||g.width!==t)&&(g.height=e,g.width=t,h())}function h(){if((C.computed||T.computed)&&m(),C.computed){if(C.value=E.height,!C.value)throw new Error('collection-repeat tried to compute the height of repeated elements "'+_+'", but was unable to. Please provide the "item-height" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!C.dynamic&&C.getValue&&(C.value=C.getValue());if(T.computed){if(T.value=E.width,!T.value)throw new Error('collection-repeat tried to compute the width of repeated elements "'+_+'", but was unable to. Please provide the "item-width" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!T.dynamic&&T.getValue&&(T.value=T.getValue());d().refreshLayout()}function f(e,n){if(e){var i;try{i=t(e)}catch(r){e.trim().match(/\d+(px|%)$/)&&(e='"'+e+'"'),i=t(e)}var o=e.replace(/(\'|\"|px|%)/g,"").trim(),s=o.length&&!/([a-zA-Z]|\$|:|\?)/.test(o);if(n.attrValue=e,s){var a=parseInt(i());if(e.indexOf("%")>-1){var l=a/100;n.getValue=n===C?function(){return Math.floor(l*v.__clientHeight)}:function(){return Math.floor(l*v.__clientWidth)}}else n.value=a}else n.dynamic=!0,n.getValue=n===C?function(e,t){var n=i(e,t);return n.charAt&&"%"===n.charAt(n.length-1)?Math.floor(parseInt(n)/100*v.__clientHeight):parseInt(n)}:function(e,t){var n=i(e,t);return n.charAt&&"%"===n.charAt(n.length-1)?Math.floor(parseInt(n)/100*v.__clientWidth):parseInt(n)}}}function m(){B||c(F=s.$new(),function(e){e[0].removeAttribute("collection-repeat"),B=e[0]}),F[x]=(S(s)||[])[0],r.$$phase||F.$digest(),y.appendChild(B);var e=n.getComputedStyle(B);E.width=parseInt(e.width),E.height=parseInt(e.height),y.removeChild(B)}var v=u.scrollView,b=a[0],y=angular.element('<div class="collection-repeat-container">')[0];if(b.parentNode.replaceChild(y,b),v.options.scrollingX&&v.options.scrollingY)throw new Error("collection-repeat expected a parent x or y scrollView, not an xy scrollView.");var _=l.collectionRepeat,w=_.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!w)throw new Error("collection-repeat expected expression in form of '_item_ in _collection_[ track by _id_]' but got '"+l.collectionRepeat+"'.");var $,x=w[1],k=w[2],S=t(k),C={},T={},E={},M=l.itemRenderBuffer||l.collectionBufferSize,D=angular.isDefined(M)?parseInt(M):A,P=l.itemHeight||l.collectionItemHeight,j=l.itemWidth||l.collectionItemWidth;P||j?(P?f(P,C):C.computed=!0,j||(j='"100%"'),f(j,T)):C.computed=T.computed=!0;var O=angular.element(v.__content.querySelector(".collection-repeat-after-container"));if(!O.length){var q=!1,I=[].filter.call(v.__content.childNodes,function(e){return ionic.DomUtil.contains(e,y)?(q=!0,!1):q});O=angular.element('<span class="collection-repeat-after-container">'),v.options.scrollingX&&O.addClass("horizontal"),O.append(I),v.__content.appendChild(O[0])}i(h),u.$element.one("scroll.init",h);var L=ionic.animationFrameThrottle(g);angular.element(n).on("resize",L),s.$on("$destroy",function(){angular.element(n).off("resize",L),u.$element&&u.$element.off("scroll.init",h),B&&B.parentNode&&B.parentNode.removeChild(B),F&&F.$destroy(),F=B=null,$&&$.destroy(),$=null}),s.$watchCollection(S,function(e){if(e||(e=[]),!angular.isArray(e))throw new Error("collection-repeat expected an array for '"+k+"', but got a "+typeof value);o(function(){d().refreshData(e),e.length&&h()},0,!1)});var B,F}return{restrict:"A",priority:1e3,transclude:"element",$$tlb:!0,require:"^$ionicScroll",link:s}}function t(e,t,n){var r={primaryPos:0,secondaryPos:0,primarySize:0,secondarySize:0};return function(t){function o(){return s(!0)}function s(t){if(!s.destroyed){var n,i,o,u,c=Q.getScrollValue(),d=c+Q.scrollPrimarySize;Q.updateRenderRange(c,d),z=Math.max(0,z-x),H=Math.min(T.length-1,H+x);for(n in J)(z>n||n>H)&&(i=J[n],delete J[n],K.push(i),i.isShown=!1,i.scope.$broadcast("$collectionRepeatChange"));for(n=z;H>=n;n++)n>=T.length||J[n]&&!t||(i=J[n]||(J[n]=K.length?K.pop():Y.length?Y.shift():new l),X.push(i),i.isShown=!0,u=i.scope,u.$index=n,u[$]=T[n],u.$first=0===n,u.$last=n===T.length-1,u.$middle=!(u.$first||u.$last),u.$odd=!(u.$even=0===(1&n)),u.$$disconnected&&ionic.Utils.reconnectScope(i.scope),o=Q.getDimensions(n),(i.secondaryPos!==o.secondaryPos||i.primaryPos!==o.primaryPos)&&(i.node.style[ionic.CSS.TRANSFORM]=N.replace(B,i.primaryPos=o.primaryPos).replace(F,i.secondaryPos=o.secondaryPos)),(i.secondarySize!==o.secondarySize||i.primarySize!==o.primarySize)&&(i.node.style.cssText=i.node.style.cssText.replace(M,G.replace(B,(i.primarySize=o.primarySize)+1).replace(F,i.secondarySize=o.secondarySize))));for(H===T.length-1&&(o=Q.getDimensions(T.length-1)||r,v.style[ionic.CSS.TRANSFORM]=N.replace(B,o.primaryPos+o.primarySize).replace(F,0));K.length;)i=K.pop(),ionic.Utils.disconnectScope(i.scope),Y.push(i),i.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",i.primaryPos=i.secondaryPos=null;if(y)for(n=0,ii=X.length;n<ii&&(i=X[n]);n++)if(i.images)for(var p,g=0,h=i.images.length;h>g&&(p=i.images[g]);g++){var f=p.src;p.src=E,p.src=f}if(t)for(var m=e.$$phase;X.length;)i=X.pop(),m||i.scope.$digest();else a()}}function a(){var t,i;a.running||(a.running=!0,n(function r(){if(i=X.length){for(var o=e.$$phase,s=Math.floor(i/1.25)||1;s&&X.length;)t=X.pop(),t.isShown&&(s--,o||t.scope.$digest());n(r)}else a.running=!1}))}function l(){var e=this;this.scope=k.$new(),this.id="item"+Z++,C(this.scope,function(t){e.element=t,e.element.data("$$collectionRepeatItem",e),e.node=t[0],e.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",e.node.style.cssText+=" height: 0px; width: 0px;",ionic.Utils.disconnectScope(e.scope),b.appendChild(e.node),e.images=t[0].getElementsByTagName("img")})}function u(){this.getItemPrimarySize=P,this.getItemSecondarySize=O,this.getScrollValue=function(){return Math.max(0,Math.min(S.__scrollTop-R,S.__maxScrollTop-R-V))},this.refreshDirection=function(){this.scrollPrimarySize=S.__clientHeight,this.scrollSecondarySize=S.__clientWidth,this.estimatedPrimarySize=f,this.estimatedSecondarySize=m,this.estimatedItemsAcross=I&&Math.floor(S.__clientWidth/m)||1}}function c(){this.getItemPrimarySize=O,this.getItemSecondarySize=P,this.getScrollValue=function(){return Math.max(0,Math.min(S.__scrollLeft-R,S.__maxScrollLeft-R-V))},this.refreshDirection=function(){this.scrollPrimarySize=S.__clientWidth,this.scrollSecondarySize=S.__clientHeight,this.estimatedPrimarySize=m,this.estimatedSecondarySize=f,this.estimatedItemsAcross=I&&Math.floor(S.__clientHeight/f)||1}}function d(){this.getEstimatedSecondaryPos=function(e){return e%this.estimatedItemsAcross*this.estimatedSecondarySize},this.getEstimatedPrimaryPos=function(e){return Math.floor(e/this.estimatedItemsAcross)*this.estimatedPrimarySize},this.getEstimatedIndex=function(e){return Math.floor(e/this.estimatedPrimarySize)*this.estimatedItemsAcross}}function p(){this.getEstimatedSecondaryPos=function(){return 0},this.getEstimatedPrimaryPos=function(e){return e*this.estimatedPrimarySize},this.getEstimatedIndex=function(e){return Math.floor(e/this.estimatedPrimarySize)}}function g(){this.getContentSize=function(){return this.getEstimatedPrimaryPos(T.length-1)+this.estimatedPrimarySize+R+V};var e={};this.getDimensions=function(t){return e.primaryPos=this.getEstimatedPrimaryPos(t),e.secondaryPos=this.getEstimatedSecondaryPos(t),e.primarySize=this.estimatedPrimarySize,e.secondarySize=this.estimatedSecondarySize,e},this.updateRenderRange=function(e,t){z=Math.max(0,this.getEstimatedIndex(e)),H=Math.min(T.length-1,this.getEstimatedIndex(t)+this.estimatedItemsAcross-1),W=Math.max(0,this.getEstimatedPrimaryPos(z)),U=this.getEstimatedPrimaryPos(H)+this.estimatedPrimarySize}}function h(){function e(e){var t,i,s;for(t=Math.max(0,n);e>=t&&(s=u[t]);t++)i=u[t-1]||r,s.primarySize=o.getItemPrimarySize(t,T[t]),s.secondarySize=o.scrollSecondarySize,s.primaryPos=i.primaryPos+i.primarySize,s.secondaryPos=0}function t(e){var t,i,s;for(t=Math.max(n,0);e>=t&&(s=u[t]);t++)i=u[t-1]||r,s.secondarySize=Math.min(o.getItemSecondarySize(t,T[t]),o.scrollSecondarySize),s.secondaryPos=i.secondaryPos+i.secondarySize,0===t||s.secondaryPos+s.secondarySize>o.scrollSecondarySize?(s.rowStartIndex=t,s.secondaryPos=0,s.primarySize=o.getItemPrimarySize(t,T[t]),s.primaryPos=i.primaryPos+i.primarySize):(s.rowStartIndex=i.rowStartIndex,s.primarySize=i.primarySize,s.primaryPos=i.primaryPos)}var n,o=this,s=q?function(){S.setDimensions(null,null,null,o.getContentSize(),!0)}:function(){S.setDimensions(null,null,o.getContentSize(),null,!0)},a=ionic.debounce(s,25,!0),l=I?t:e,u=[];this.getContentSize=function(){var e=u[n]||r;return(e.primaryPos+e.primarySize||0)+this.getEstimatedPrimaryPos(T.length-n-1)+R+V},this.onDestroy=function(){u.length=0},this.onRefreshData=function(){for(i=u.length,len=T.length;i<len;i++)u.push({});n=-1},this.onRefreshLayout=function(){n=-1},this.getDimensions=function(e){return e=Math.min(e,T.length-1),e>n&&(e>.9*T.length?(l(T.length-1),n=T.length-1,s()):(l(e),n=e,a())),u[e]};var c=-1,d=-1;this.updateRenderRange=function(e,t){var n,i,r;if(this.getDimensions(2*this.getEstimatedIndex(t)),-1===c||0===e)n=0;else if(e>=d)for(n=c,i=T.length;i>n&&!((r=this.getDimensions(n))&&r.primaryPos+r.primarySize>=e);n++);else for(n=c;n>=0;n--)if((r=this.getDimensions(n))&&r.primaryPos<=e){n=I?r.rowStartIndex:n;break}z=Math.min(Math.max(0,n),T.length-1),W=-1!==z?this.getDimensions(z).primaryPos:-1;var o;for(n=z+1,i=T.length;i>n;n++)if((r=this.getDimensions(n))&&r.primaryPos+r.primarySize>t){if(I)for(o=r;i-1>n&&(r=this.getDimensions(n+1)).primaryPos===o.primaryPos;)n++;break}H=Math.min(n,T.length-1),U=-1!==H?(r=this.getDimensions(H)).primaryPos+r.primarySize:-1,d=e,c=z}}var f,m,v=t.afterItemsNode,b=t.containerNode,y=t.forceRefreshImages,_=t.heightData,w=t.widthData,$=t.keyExpression,x=t.renderBuffer,k=t.scope,S=t.scrollView,C=t.transclude,T=[],A={},D=_.getValue||function(){return _.value},P=function(e,t){return A[$]=t,A.$index=e,D(k,A)},j=w.getValue||function(){return w.value},O=function(e,t){return A[$]=t,A.$index=e,j(k,A)},q=!!S.options.scrollingY,I=q?w.dynamic||w.value!==S.__clientWidth:_.dynamic||_.value!==S.__clientHeight,L=!_.dynamic&&!w.dynamic,B="PRIMARY",F="SECONDARY",N=q?"translate3d(SECONDARYpx,PRIMARYpx,0)":"translate3d(PRIMARYpx,SECONDARYpx,0)",G=q?"height: PRIMARYpx; width: SECONDARYpx;":"height: SECONDARYpx; width: PRIMARYpx;",R=0,V=0,z=-1,H=-1,U=-1,W=-1,Y=[],K=[],X=[],J={},Z=0,Q=q?new u:new c;(I?d:p).call(Q),(L?g:h).call(Q);var ee=q?"getContentHeight":"getContentWidth",te=S.options[ee];S.options[ee]=angular.bind(Q,Q.getContentSize),S.__$callback=S.__callback,S.__callback=function(e,t,n,i){var r=Q.getScrollValue();(-1===z||r+Q.scrollPrimarySize>U||W>r)&&s(),S.__$callback(e,t,n,i)};var ne=!1,ie=!1;this.refreshLayout=function(){f=P(0,T[0]),m=O(0,T[0]);var e=getComputedStyle(v)||{},t=v.firstElementChild&&getComputedStyle(v.firstElementChild)||{},n=v.lastElementChild&&getComputedStyle(v.lastElementChild)||{};V=(parseInt(e[q?"height":"width"])||0)+(t&&parseInt(t[q?"marginTop":"marginLeft"])||0)+(n&&parseInt(n[q?"marginBottom":"marginRight"])||0),R=0;var i=b;do R+=i[q?"offsetTop":"offsetLeft"];while(ionic.DomUtil.contains(S.__content,i=i.offsetParent));if((Q.onRefreshLayout||angular.noop)(),Q.refreshDirection(),!ne)for(var r=Math.max(20,3*x),s=0;r>s;s++)Y.push(new l);ne=!0,ne&&ie&&o()},this.refreshData=function(e){T=e,(Q.onRefreshData||angular.noop)(),ie=!0,ne&&ie&&(S.resize(),o())},this.destroy=function(){s.destroyed=!0,Y.forEach(function(e){e.scope.$destroy(),e.scope=e.element=e.node=e.images=null}),Y.length=X.length=K.length=0,J={},S.options[ee]=te,S.__callback=S.__$callback,S.resize(),(Q.onDestroy||angular.noop)()}}}function n(e){return["$ionicGesture","$parse",function(t,n){var i=e.substr(2).toLowerCase();return function(r,o,s){var a=n(s[e]),l=function(e){r.$apply(function(){a(r,{$event:e})})},u=t.on(i,l,o);r.$on("$destroy",function(){t.off(u,i,l)})}}]}function r(){return["$ionicScrollDelegate",function(e){return{restrict:"E",link:function(t,n,i){function r(t){for(var i=3,r=t.target;i--&&r;){if(r.classList.contains("button")||r.tagName.match(/input|textarea|select/i)||r.isContentEditable)return;r=r.parentNode}var o=t.gesture&&t.gesture.touches[0]||t.detail.touches[0],s=n[0].getBoundingClientRect();ionic.DomUtil.rectContains(o.pageX,o.pageY,s.left,s.top-20,s.left+s.width,s.top+s.height)&&e.scrollTop(!0)}"true"!=i.noTapScroll&&(ionic.on("tap",r,n[0]),t.$on("$destroy",function(){ionic.off("tap",r,n[0])}))}}}]}function o(e){return["$document","$timeout",function(t,n){return{restrict:"E",controller:"$ionicHeaderBar",compile:function(i){function r(t,n,i,r){e?(t.$watch(function(){return n[0].className},function(e){var n=-1===e.indexOf("ng-hide"),i=-1!==e.indexOf("bar-subheader");t.$hasHeader=n&&!i,t.$hasSubheader=n&&i}),t.$on("$destroy",function(){delete t.$hasHeader,delete t.$hasSubheader}),r.align(),t.$on("$ionicHeader.align",function(){ionic.requestAnimationFrame(function(){r.align()})})):(t.$watch(function(){return n[0].className},function(e){var n=-1===e.indexOf("ng-hide"),i=-1!==e.indexOf("bar-subfooter");t.$hasFooter=n&&!i,t.$hasSubfooter=n&&i}),t.$on("$destroy",function(){delete t.$hasFooter,delete t.$hasSubfooter}),t.$watch("$hasTabs",function(e){n.toggleClass("has-tabs",!!e)}))}return i.addClass(e?"bar bar-header":"bar bar-footer"),n(function(){e&&t[0].getElementsByClassName("tabs-top").length&&i.addClass("has-tabs-top")}),{pre:r}}}}]}function s(e){return e.clientHeight}function a(e){e.stopPropagation()}e.$inject=["e","t","n","i","o","r"],t.$inject=["e","t","n"];var l={method:function(e,t,n){var i=!1;return function(){return i||(i=!0,t(e)),n.apply(this,arguments)}},field:function(e,t,n,i,r){var o=!1,s=function(){return o||(o=!0,t(e)),r},a=function(n){return o||(o=!0,t(e)),r=n,n};Object.defineProperty(n,i,{get:s,set:a,enumerable:!0})}},u=angular.module("ionic",["ngAnimate","ngSanitize","ui.router"]),c=angular.extend,d=angular.forEach,p=angular.isDefined,g=angular.isNumber,h=angular.isString,f=angular.element,m=angular.noop;u.factory("$ionicActionSheet",["$rootScope","$compile","$animate","$timeout","$ionicTemplateLoader","$ionicPlatform","$ionicBody",function(e,t,n,i,r,o,s){function a(r){function a(e){e&&/icon/.test(e)&&(l.$actionSheetHasIcon=!0)}var l=e.$new(!0);c(l,{cancel:m,destructiveButtonClicked:m,buttonClicked:m,$deregisterBackButton:m,buttons:[],cancelOnStateChange:!0},r||{});for(var u=0;u<l.buttons.length;u++)a(l.buttons[u].text);a(l.cancelText),a(l.destructiveText);var d=l.element=t('<ion-action-sheet ng-class="cssClass" buttons="buttons"></ion-action-sheet>')(l),p=f(d[0].querySelector(".action-sheet-wrapper")),g=l.cancelOnStateChange?e.$on("$stateChangeSuccess",function(){l.cancel()}):m;return l.removeSheet=function(e){l.removed||(l.removed=!0,p.removeClass("action-sheet-up"),i(function(){s.removeClass("action-sheet-open")},400),l.$deregisterBackButton(),g(),n.removeClass(d,"active").then(function(){l.$destroy(),d.remove(),l.cancel.$scope=p=null,(e||m)()}))},l.showSheet=function(e){l.removed||(s.append(d).addClass("action-sheet-open"),n.addClass(d,"active").then(function(){l.removed||(e||m)()}),i(function(){l.removed||p.addClass("action-sheet-up")},20,!1))},l.$deregisterBackButton=o.registerBackButtonAction(function(){i(l.cancel)},k),l.cancel=function(){l.removeSheet(r.cancel)},l.buttonClicked=function(e){r.buttonClicked(e,r.buttons[e])===!0&&l.removeSheet()},l.destructiveButtonClicked=function(){r.destructiveButtonClicked()===!0&&l.removeSheet()},l.showSheet(),l.cancel.$scope=l,l.cancel}return{show:a}}]),f.prototype.addClass=function(e){var t,n,i,r,o,s;if(e&&"ng-scope"!=e&&"ng-isolate-scope"!=e)for(t=0;t<this.length;t++)if(r=this[t],r.setAttribute)if(e.indexOf(" ")<0&&r.classList.add)r.classList.add(e);else{for(s=(" "+(r.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),o=e.split(" "),n=0;n<o.length;n++)i=o[n].trim(),-1===s.indexOf(" "+i+" ")&&(s+=i+" ");r.setAttribute("class",s.trim())}return this},f.prototype.removeClass=function(e){var t,n,i,r,o;if(e)for(t=0;t<this.length;t++)if(o=this[t],o.getAttribute)if(e.indexOf(" ")<0&&o.classList.remove)o.classList.remove(e);else for(i=e.split(" "),n=0;n<i.length;n++)r=i[n],o.setAttribute("class",(" "+(o.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+r.trim()+" "," ").trim());return this},u.factory("$ionicBackdrop",["$document","$timeout",function(e,t){function n(){1===++s&&(o.addClass("visible"),ionic.requestAnimationFrame(function(){s&&o.addClass("active")}))}function i(){0===--s&&(o.removeClass("active"),t(function(){!s&&o.removeClass("visible")},400,!1))}function r(){return o}var o=f('<div class="backdrop">'),s=0;return e[0].body.appendChild(o[0]),{retain:n,release:i,getElement:r,_element:o}}]),u.factory("$ionicBind",["$parse","$interpolate",function(e,t){var n=/^\s*([@=&])(\??)\s*(\w*)\s*$/;return function(i,r,o){d(o||{},function(o,s){var a,l,u=o.match(n)||[],c=u[3]||s,d=u[1];switch(d){case"@":if(!r[c])return;r.$observe(c,function(e){i[s]=e}),r[c]&&(i[s]=t(r[c])(i));break;case"=":if(!r[c])return;l=i.$watch(r[c],function(e){i[s]=e}),i.$on("$destroy",l);break;case"&":if(r[c]&&r[c].match(RegExp(s+"(.*?)")))throw new Error('& expression binding "'+s+'" looks like it will recursively call "'+r[c]+'" and cause a stack overflow! Please choose a different scopeName.');a=e(r[c]),i[s]=function(e){return a(i,e)}}})}}]),u.factory("$ionicBody",["$document",function(e){return{addClass:function(){for(var t=0;t<arguments.length;t++)e[0].body.classList.add(arguments[t]);return this},removeClass:function(){for(var t=0;t<arguments.length;t++)e[0].body.classList.remove(arguments[t]);return this},enableClass:function(e){var t=Array.prototype.slice.call(arguments).slice(1);return e?this.addClass.apply(this,t):this.removeClass.apply(this,t),this},append:function(t){return e[0].body.appendChild(t.length?t[0]:t),this},get:function(){return e[0].body}}}]),u.factory("$ionicClickBlock",["$document","$ionicBody","$timeout",function(e,t,n){function i(e){e.preventDefault(),e.stopPropagation()}function r(){l&&(s?s.classList.remove(u):(s=e[0].createElement("div"),s.className="click-block",t.append(s),s.addEventListener("touchstart",i),s.addEventListener("mousedown",i)),l=!1)}function o(){s&&s.classList.add(u)}var s,a,l,u="click-block-hide";return{show:function(e){l=!0,n.cancel(a),a=n(this.hide,e||310),r()},hide:function(){l=!1,n.cancel(a),o()}}}]),u.factory("$ionicGesture",[function(){return{on:function(e,t,n,i){return window.ionic.onGesture(e,t,n[0],i)},off:function(e,t,n){return window.ionic.offGesture(e,t,n)}}}]),u.factory("$ionicHistory",["$rootScope","$state","$location","$window","$timeout","$ionicViewSwitcher","$ionicNavViewDelegate",function(e,t,n,i,r,o,s){function a(e){return e?j.views[e]:null}function l(e){return e?a(e.backViewId):null}function u(e){return e?a(e.forwardViewId):null}function d(e){return e?j.histories[e]:null}function p(e){var t=g(e);return j.histories[t.historyId]||(j.histories[t.historyId]={historyId:t.historyId,parentHistoryId:g(t.scope.$parent).historyId,stack:[],cursor:-1}),d(t.historyId)}function g(t){for(var n=t;n;){if(n.hasOwnProperty("$historyId"))return{historyId:n.$historyId,scope:n};n=n.$parent}return{historyId:"root",scope:e}}function h(e){j.currentView=a(e),j.backView=l(j.currentView),j.forwardView=u(j.currentView)}function f(){var e;if(t&&t.current&&t.current.name){if(e=t.current.name,t.params)for(var n in t.params)t.params.hasOwnProperty(n)&&t.params[n]&&(e+="_"+n+"="+t.params[n]);return e}return ionic.Utils.nextUid()}function m(){var e;if(t&&t.params)for(var n in t.params)t.params.hasOwnProperty(n)&&(e=e||{},e[n]=t.params[n]);return e}function v(e){return e&&e.length&&/ion-side-menus|ion-tabs/i.test(e[0].tagName)}var b,y,_,w,$="initialView",x="newView",k="moveBack",S="moveForward",C="back",T="forward",E="enter",M="exit",A="swap",D="none",P=0,j={histories:{root:{historyId:"root",parentHistoryId:null,stack:[],cursor:-1}},views:{},backView:null,forwardView:null,currentView:null},O=function(){};return O.prototype.initialize=function(e){if(e){for(var t in e)this[t]=e[t];return this}return null},O.prototype.go=function(){return this.stateName?t.go(this.stateName,this.stateParams):this.url&&this.url!==n.url()?j.backView===this?i.history.go(-1):j.forwardView===this?i.history.go(1):void n.url(this.url):null},O.prototype.destroy=function(){this.scope&&(this.scope.$destroy&&this.scope.$destroy(),this.scope=null)},{register:function(e,t){var i,s,u,c=f(),v=p(e),O=j.currentView,q=j.backView,I=j.forwardView,L=null,B=null,F=D,N=v.historyId,G=n.url();if(b!==c&&(b=c,P++),w)L=w.viewId,B=w.action,F=w.direction,w=null;else if(q&&q.stateId===c)L=q.viewId,N=q.historyId,B=k,q.historyId===O.historyId?F=C:O&&(F=M,i=d(q.historyId),i&&i.parentHistoryId===O.historyId?F=E:(i=d(O.historyId),i&&i.parentHistoryId===v.parentHistoryId&&(F=A)));else if(I&&I.stateId===c)L=I.viewId,N=I.historyId,B=S,I.historyId===O.historyId?F=T:O&&(F=M,O.historyId===v.parentHistoryId?F=E:(i=d(O.historyId),i&&i.parentHistoryId===v.parentHistoryId&&(F=A))),i=g(e),I.historyId&&i.scope&&(i.scope.$historyId=I.historyId,N=I.historyId);else if(O&&O.historyId!==N&&v.cursor>-1&&v.stack.length>0&&v.cursor<v.stack.length&&v.stack[v.cursor].stateId===c){var R=v.stack[v.cursor];L=R.viewId,N=R.historyId,B=k,F=A,i=d(O.historyId),i&&i.parentHistoryId===N?F=M:(i=d(N),i&&i.parentHistoryId===O.historyId&&(F=E)),i=a(R.backViewId),i&&R.historyId!==i.historyId&&(v.stack[v.cursor].backViewId=O.viewId)}else{if(u=o.createViewEle(t),this.isAbstractEle(u,t))return{action:"abstractView",direction:D,ele:u};if(L=ionic.Utils.nextUid(),O){if(O.forwardViewId=L,B=x,I&&O.stateId!==I.stateId&&O.historyId===I.historyId&&(i=d(I.historyId))){for(s=i.stack.length-1;s>=I.index;s--){var V=i.stack[s];V&&V.destroy&&V.destroy(),i.stack.splice(s)}N=I.historyId}v.historyId===O.historyId?F=T:O.historyId!==v.historyId&&(F=E,i=d(O.historyId),i&&i.parentHistoryId===v.parentHistoryId?F=A:(i=d(i.parentHistoryId),i&&i.historyId===v.historyId&&(F=M)))}else B=$;2>P&&(F=D),j.views[L]=this.createView({viewId:L,index:v.stack.length,historyId:v.historyId,backViewId:O&&O.viewId?O.viewId:null,forwardViewId:null,stateId:c,stateName:this.currentStateName(),stateParams:m(),url:G}),v.stack.push(j.views[L])}if(r.cancel(_),y){if(y.disableAnimate&&(F=D),y.disableBack&&(j.views[L].backViewId=null),y.historyRoot){for(s=0;s<v.stack.length;s++)v.stack[s].viewId===L?(v.stack[s].index=0,v.stack[s].backViewId=v.stack[s].forwardViewId=null):delete j.views[v.stack[s].viewId];v.stack=[j.views[L]]}y=null}if(h(L),j.backView&&N==j.backView.historyId&&c==j.backView.stateId&&G==j.backView.url)for(s=0;s<v.stack.length;s++)if(v.stack[s].viewId==L){B="dupNav",F=D,s>0&&(v.stack[s-1].forwardViewId=null),j.forwardView=null,j.currentView.index=j.backView.index,j.currentView.backViewId=j.backView.backViewId,j.backView=l(j.backView),v.stack.splice(s,1);break}return v.cursor=j.currentView.index,{viewId:L,action:B,direction:F,historyId:N,enableBack:this.enabledBack(j.currentView),isHistoryRoot:0===j.currentView.index,ele:u}},registerHistory:function(e){e.$historyId=ionic.Utils.nextUid()},createView:function(e){var t=new O;return t.initialize(e)},getViewById:a,viewHistory:function(){return j},currentView:function(e){return arguments.length&&(j.currentView=e),j.currentView},currentHistoryId:function(){return j.currentView?j.currentView.historyId:null},currentTitle:function(e){return j.currentView?(arguments.length&&(j.currentView.title=e),j.currentView.title):void 0},backView:function(e){return arguments.length&&(j.backView=e),j.backView},backTitle:function(e){var t=e&&a(e.backViewId)||j.backView;return t&&t.title},forwardView:function(e){return arguments.length&&(j.forwardView=e),j.forwardView},currentStateName:function(){return t&&t.current?t.current.name:null},isCurrentStateNavView:function(e){return!!(t&&t.current&&t.current.views&&t.current.views[e])},goToHistoryRoot:function(e){if(e){var t=d(e);if(t&&t.stack.length){if(j.currentView&&j.currentView.viewId===t.stack[0].viewId)return;w={viewId:t.stack[0].viewId,action:k,direction:C},t.stack[0].go()}}},goBack:function(){j.backView&&j.backView.go()},enabledBack:function(e){var t=l(e);return!(!t||t.historyId!==e.historyId)},clearHistory:function(){var e=j.histories,t=j.currentView;if(e)for(var n in e)e[n].stack&&(e[n].stack=[],e[n].cursor=-1),t&&t.historyId===n?(t.backViewId=t.forwardViewId=null,e[n].stack.push(t)):e[n].destroy&&e[n].destroy();for(var i in j.views)i!==t.viewId&&delete j.views[i];t&&h(t.viewId)},clearCache:function(){s._instances.forEach(function(e){e.clearCache()})},nextViewOptions:function(e){return arguments.length&&(r.cancel(_),null===e?y=e:(y=y||{},c(y,e),y.expire&&(_=r(function(){y=null},y.expire)))),y},isAbstractEle:function(e,t){return t&&t.$$state&&t.$$state.self["abstract"]?!0:!(!e||!v(e)&&!v(e.children()))},isActiveScope:function(e){if(!e)return!1;for(var t,n=e,i=this.currentHistoryId();n;){if(n.$$disconnected)return!1;if(!t&&n.hasOwnProperty("$historyId")&&(t=!0),i){if(n.hasOwnProperty("$historyId")&&i==n.$historyId)return!0;if(n.hasOwnProperty("$activeHistoryId")&&i==n.$activeHistoryId){if(n.hasOwnProperty("$historyId"))return!0;if(!t)return!0}}t&&n.hasOwnProperty("$activeHistoryId")&&(t=!1),n=n.$parent}return i?"root"==i:!0}}}]).run(["$rootScope","$state","$location","$document","$ionicPlatform","$ionicHistory",function(e,t,n,i,r,o){function s(e){var t=o.backView();return t?t.go():ionic.Platform.exitApp(),e.preventDefault(),!1}e.$on("$ionicView.beforeEnter",function(){ionic.keyboard&&ionic.keyboard.hide&&ionic.keyboard.hide()}),e.$on("$ionicHistory.change",function(e,i){if(i){var r=o.viewHistory(),s=i.historyId?r.histories[i.historyId]:null;if(s&&s.cursor>-1&&s.cursor<s.stack.length){var a=s.stack[s.cursor];return a.go(i)}!i.url&&i.uiSref&&(i.url=t.href(i.uiSref)),i.url&&(0===i.url.indexOf("#")&&(i.url=i.url.replace("#","")),i.url!==n.url()&&n.url(i.url))}}),e.$ionicGoBack=function(){o.goBack()},e.$on("$ionicView.afterEnter",function(e,t){t&&t.title&&(i[0].title=t.title)}),r.registerBackButtonAction(s,w)}]),u.provider("$ionicConfig",function(){function e(e,i){s.platform[e]=i,r.platform[e]={},t(s,s.platform[e]),n(s.platform[e],r.platform[e],"")}function t(e,n){for(var i in e)i!=o&&e.hasOwnProperty(i)&&(angular.isObject(e[i])?(p(n[i])||(n[i]={}),t(e[i],n[i])):p(n[i])||(n[i]=null))}function n(e,t,r){d(e,function(a,l){angular.isObject(e[l])?(t[l]={},n(e[l],t[l],r+"."+l)):t[l]=function(n){if(arguments.length)return e[l]=n,t;if(e[l]==o){var a=i(s.platform,ionic.Platform.platform()+r+"."+l);return a||a===!1?a:i(s.platform,"default"+r+"."+l)}return e[l]}})}function i(e,t){t=t.split(".");for(var n=0;n<t.length;n++){if(!e||!p(e[t[n]]))return null;e=e[t[n]]}return e}var r=this;r.platform={};var o="platform",s={views:{maxCache:o,forwardCache:o,transition:o,swipeBackEnabled:o,swipeBackHitWidth:o},navBar:{alignTitle:o,positionPrimaryButtons:o,positionSecondaryButtons:o,transition:o},backButton:{icon:o,text:o,previousTitleText:o},form:{checkbox:o,toggle:o},scrolling:{jsScrolling:o},tabs:{style:o,position:o},templates:{maxPrefetch:o},platform:{}};n(s,r,""),e("default",{views:{maxCache:10,forwardCache:!1,transition:"ios",swipeBackEnabled:!0,swipeBackHitWidth:45},navBar:{alignTitle:"center",positionPrimaryButtons:"left",positionSecondaryButtons:"right",transition:"view"},backButton:{icon:"ion-ios-arrow-back",text:"Back",previousTitleText:!0},form:{checkbox:"circle",toggle:"large"},scrolling:{jsScrolling:!0},tabs:{style:"standard",position:"bottom"},templates:{maxPrefetch:30}}),e("ios",{}),e("android",{views:{transition:"android",swipeBackEnabled:!1},navBar:{alignTitle:"left",positionPrimaryButtons:"right",positionSecondaryButtons:"right"},backButton:{icon:"ion-android-arrow-back",text:!1,previousTitleText:!1},form:{checkbox:"square",toggle:"small"},tabs:{style:"striped",position:"top"}}),r.transitions={views:{},navBar:{}},r.transitions.views.ios=function(e,t,n,i){function r(e,t,n,i){var r={};r[ionic.CSS.TRANSITION_DURATION]=o.shouldAnimate?"":0,r.opacity=t,i>-1&&(r.boxShadow="0 0 10px rgba(0,0,0,"+(o.shouldAnimate?.45*i:.3)+")"),r[ionic.CSS.TRANSFORM]="translate3d("+n+"%,0,0)",ionic.DomUtil.cachedStyles(e,r)}var o={run:function(i){"forward"==n?(r(e,1,99*(1-i),1-i),r(t,1-.1*i,-33*i,-1)):"back"==n?(r(e,1-.1*(1-i),-33*(1-i),-1),r(t,1,100*i,1-i)):(r(e,1,0,-1),r(t,0,0,-1))},shouldAnimate:i&&("forward"==n||"back"==n)};return o},r.transitions.navBar.ios=function(e,t,n,i){function r(e,t,n,i){var r={};r[ionic.CSS.TRANSITION_DURATION]=a.shouldAnimate?"":0,r.opacity=1===t?"":t,e.setCss("buttons-left",r),e.setCss("buttons-right",r),e.setCss("back-button",r),r[ionic.CSS.TRANSFORM]="translate3d("+i+"px,0,0)",e.setCss("back-text",r),r[ionic.CSS.TRANSFORM]="translate3d("+n+"px,0,0)",e.setCss("title",r)}function o(e,t,n){if(e&&t){var i=(e.titleTextX()+e.titleWidth())*(1-n),o=t&&(t.titleTextX()-e.backButtonTextLeft())*(1-n)||0;r(e,n,i,o)}}function s(e,t,n){if(e&&t){var i=(-(e.titleTextX()-t.backButtonTextLeft())-e.titleLeftRight())*n;r(e,1-n,i,0)}}var a={run:function(n){var i=e.controller(),r=t&&t.controller();"back"==a.direction?(s(i,r,1-n),o(r,i,1-n)):(o(i,r,n),s(r,i,n))},direction:n,shouldAnimate:i&&("forward"==n||"back"==n)};return a},r.transitions.views.android=function(e,t,n,i){function r(e,t){var n={};n[ionic.CSS.TRANSITION_DURATION]=o.shouldAnimate?"":0,n[ionic.CSS.TRANSFORM]="translate3d("+t+"%,0,0)",
ionic.DomUtil.cachedStyles(e,n)}i=i&&("forward"==n||"back"==n);var o={run:function(i){"forward"==n?(r(e,99*(1-i)),r(t,-100*i)):"back"==n?(r(e,-100*(1-i)),r(t,100*i)):(r(e,0),r(t,0))},shouldAnimate:i};return o},r.transitions.navBar.android=function(e,t,n,i){function r(e,t){if(e){var n={};n.opacity=1===t?"":t,e.setCss("buttons-left",n),e.setCss("buttons-right",n),e.setCss("back-button",n),e.setCss("back-text",n),e.setCss("title",n)}}return{run:function(n){r(e.controller(),n),r(t&&t.controller(),1-n)},shouldAnimate:i&&("forward"==n||"back"==n)}},r.transitions.views.none=function(e,t){return{run:function(n){r.transitions.views.android(e,t,!1,!1).run(n)},shouldAnimate:!1}},r.transitions.navBar.none=function(e,t){return{run:function(n){r.transitions.navBar.ios(e,t,!1,!1).run(n),r.transitions.navBar.android(e,t,!1,!1).run(n)},shouldAnimate:!1}},r.setPlatformConfig=e,r.$get=function(){return r}});var v='<div class="loading-container"><div class="loading"></div></div>',b="$ionicLoading instance.hide() has been deprecated. Use $ionicLoading.hide().",y="$ionicLoading instance.show() has been deprecated. Use $ionicLoading.show().",_="$ionicLoading instance.setContent() has been deprecated. Use $ionicLoading.show({ template: 'my content' }).";u.constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).factory("$ionicLoading",["$ionicLoadingConfig","$ionicBody","$ionicTemplateLoader","$ionicBackdrop","$timeout","$q","$log","$compile","$ionicPlatform","$rootScope",function(e,t,n,i,r,o,s,a,u,d){function p(){return f||(f=n.compile({template:v,appendTo:t.get()}).then(function(e){return e.show=function(s){var l=s.templateUrl?n.load(s.templateUrl):o.when(s.template||s.content||"");e.scope=s.scope||e.scope,e.isShown||(e.hasBackdrop=!s.noBackdrop&&s.showBackdrop!==!1,e.hasBackdrop&&(i.retain(),i.getElement().addClass("backdrop-loading"))),s.duration&&(r.cancel(e.durationTimeout),e.durationTimeout=r(angular.bind(e,e.hide),+s.duration)),w(),w=u.registerBackButtonAction(m,C),l.then(function(n){if(n){var i=e.element.children();i.html(n),a(i.contents())(e.scope)}e.isShown&&(e.element.addClass("visible"),ionic.requestAnimationFrame(function(){e.isShown&&(e.element.addClass("active"),t.addClass("loading-active"))}))}),e.isShown=!0},e.hide=function(){w(),e.isShown&&(e.hasBackdrop&&(i.release(),i.getElement().removeClass("backdrop-loading")),e.element.removeClass("active"),t.removeClass("loading-active"),setTimeout(function(){!e.isShown&&e.element.removeClass("visible")},200)),r.cancel(e.durationTimeout),e.isShown=!1},e})),f}function g(t){t=c({},e||{},t||{});var n=t.delay||t.showDelay||0;return $(),x(),t.hideOnStateChange&&($=d.$on("$stateChangeSuccess",h),x=d.$on("$stateChangeError",h)),r.cancel(k),k=r(m,n),k.then(p).then(function(e){return e.show(t)}),{hide:l.method(b,s.error,h),show:l.method(y,s.error,function(){g(t)}),setContent:l.method(_,s.error,function(e){p().then(function(t){t.show({template:e})})})}}function h(){$(),x(),r.cancel(k),p().then(function(e){e.hide()})}var f,w=m,$=m,x=m,k=o.when();return{show:g,hide:h,_getLoader:p}}]),u.factory("$ionicModal",["$rootScope","$ionicBody","$compile","$timeout","$ionicPlatform","$ionicTemplateLoader","$q","$log",function(e,t,n,i,r,o,s,a){var l=ionic.views.Modal.inherit({initialize:function(e){ionic.views.Modal.prototype.initialize.call(this,e),this.animation=e.animation||"slide-in-up"},show:function(e){var n=this;if(n.scope.$$destroyed)return void a.error("Cannot call "+n.viewType+".show() after remove(). Please create a new "+n.viewType+" instance.");var o=f(n.modalEl);return n.el.classList.remove("hide"),i(function(){t.addClass(n.viewType+"-open")},400),n.el.parentElement||(o.addClass(n.animation),t.append(n.el)),e&&n.positionView&&(n.positionView(e,o),ionic.on("resize",function(){ionic.off("resize",null,window),n.positionView(e,o)},window)),o.addClass("ng-enter active").removeClass("ng-leave ng-leave-active"),n._isShown=!0,n._deregisterBackButton=r.registerBackButtonAction(n.hardwareBackButtonClose?angular.bind(n,n.hide):m,x),ionic.views.Modal.prototype.show.call(n),i(function(){o.addClass("ng-enter-active"),ionic.trigger("resize"),n.scope.$parent&&n.scope.$parent.$broadcast(n.viewType+".shown",n),n.el.classList.add("active"),n.scope.$broadcast("$ionicHeader.align")},20),i(function(){n.$el.on("click",function(e){n.backdropClickToClose&&e.target===n.el&&n.hide()})},400)},hide:function(){var e=this,n=f(e.modalEl);return e.el.classList.remove("active"),n.addClass("ng-leave"),i(function(){n.addClass("ng-leave-active").removeClass("ng-enter ng-enter-active active")},20),e.$el.off("click"),e._isShown=!1,e.scope.$parent&&e.scope.$parent.$broadcast(e.viewType+".hidden",e),e._deregisterBackButton&&e._deregisterBackButton(),ionic.views.Modal.prototype.hide.call(e),e.positionView&&ionic.off("resize",null,window),i(function(){t.removeClass(e.viewType+"-open"),e.el.classList.add("hide")},e.hideDelay||320)},remove:function(){var e=this;return e.scope.$parent&&e.scope.$parent.$broadcast(e.viewType+".removed",e),e.hide().then(function(){e.scope.$destroy(),e.$el.remove()})},isShown:function(){return!!this._isShown}}),u=function(t,i){var r=i.scope&&i.scope.$new()||e.$new(!0);i.viewType=i.viewType||"modal",c(r,{$hasHeader:!1,$hasSubheader:!1,$hasFooter:!1,$hasSubfooter:!1,$hasTabs:!1,$hasTabsTop:!1});var o=n("<ion-"+i.viewType+">"+t+"</ion-"+i.viewType+">")(r);i.$el=o,i.el=o[0],i.modalEl=i.el.querySelector("."+i.viewType);var s=new l(i);return s.scope=r,i.scope||(r[i.viewType]=s),s};return{fromTemplate:function(e,t){var n=u(e,t||{});return n},fromTemplateUrl:function(e,t,n){var i;return angular.isFunction(t)&&(i=t,t=n),o.load(e).then(function(e){var n=u(e,t||{});return i&&i(n),n})}}}]),u.service("$ionicNavBarDelegate",ionic.DelegateService(["align","showBackButton","showBar","title","changeTitle","setTitle","getTitle","back","getPreviousTitle"])),u.service("$ionicNavViewDelegate",ionic.DelegateService(["clearCache"]));var w=100,$=150,x=200,k=300,S=400,C=500;u.provider("$ionicPlatform",function(){return{$get:["$q","$rootScope",function(e){var t={onHardwareBackButton:function(e){ionic.Platform.ready(function(){document.addEventListener("backbutton",e,!1)})},offHardwareBackButton:function(e){ionic.Platform.ready(function(){document.removeEventListener("backbutton",e)})},$backButtonActions:{},registerBackButtonAction:function(e,n,i){t._hasBackButtonHandler||(t.$backButtonActions={},t.onHardwareBackButton(t.hardwareBackButtonClick),t._hasBackButtonHandler=!0);var r={id:i?i:ionic.Utils.nextUid(),priority:n?n:0,fn:e};return t.$backButtonActions[r.id]=r,function(){delete t.$backButtonActions[r.id]}},hardwareBackButtonClick:function(e){var n,i;for(i in t.$backButtonActions)(!n||t.$backButtonActions[i].priority>=n.priority)&&(n=t.$backButtonActions[i]);return n?(n.fn(e),n):void 0},is:function(e){return ionic.Platform.is(e)},on:function(e,t){return ionic.Platform.ready(function(){document.addEventListener(e,t,!1)}),function(){ionic.Platform.ready(function(){document.removeEventListener(e,t)})}},ready:function(t){var n=e.defer();return ionic.Platform.ready(function(){n.resolve(),t&&t()}),n.promise}};return t}]}}),u.factory("$ionicPopover",["$ionicModal","$ionicPosition","$document","$window",function(e,t,n,i){function r(e,r){var s=f(e.target||e),a=t.offset(s),l=r.prop("offsetWidth"),u=r.prop("offsetHeight"),c=n[0].body.clientWidth,d=i.innerHeight,p={left:a.left+a.width/2-l/2},g=f(r[0].querySelector(".popover-arrow"));p.left<o?p.left=o:p.left+l+o>c&&(p.left=c-l-o),a.top+a.height+u>d&&a.top-u>0?(p.top=a.top-u,r.addClass("popover-bottom")):(p.top=a.top+a.height,r.removeClass("popover-bottom")),g.css({left:a.left+a.width/2-g.prop("offsetWidth")/2-p.left+"px"}),r.css({top:p.top+"px",left:p.left+"px",marginLeft:"0",opacity:"1"})}var o=6,s={viewType:"popover",hideDelay:1,animation:"none",positionView:r};return{fromTemplate:function(t,n){return e.fromTemplate(t,ionic.Utils.extend(s,n||{}))},fromTemplateUrl:function(t,n){return e.fromTemplateUrl(t,ionic.Utils.extend(s,n||{}))}}}]);var T='<div class="popup-container" ng-class="cssClass"><div class="popup"><div class="popup-head"><h3 class="popup-title" ng-bind-html="title"></h3><h5 class="popup-sub-title" ng-bind-html="subTitle" ng-if="subTitle"></h5></div><div class="popup-body"></div><div class="popup-buttons" ng-show="buttons.length"><button ng-repeat="button in buttons" ng-click="$buttonTapped(button, $event)" class="button" ng-class="button.type || \'button-default\'" ng-bind-html="button.text"></button></div></div></div>';u.factory("$ionicPopup",["$ionicTemplateLoader","$ionicBackdrop","$q","$timeout","$rootScope","$ionicBody","$compile","$ionicPlatform",function(e,t,n,i,r,o,s,a){function l(t){t=c({scope:null,title:"",buttons:[]},t||{});var r=e.compile({template:T,scope:t.scope&&t.scope.$new(),appendTo:o.get()}),a=t.templateUrl?e.load(t.templateUrl):n.when(t.template||t.content||"");return n.all([r,a]).then(function(e){var r=e[0],o=e[1],a=n.defer();r.responseDeferred=a;var l=f(r.element[0].querySelector(".popup-body"));return o?(l.html(o),s(l.contents())(r.scope)):l.remove(),c(r.scope,{title:t.title,buttons:t.buttons,subTitle:t.subTitle,cssClass:t.cssClass,$buttonTapped:function(e,t){var n=(e.onTap||m)(t);t=t.originalEvent||t,t.defaultPrevented||a.resolve(n)}}),r.show=function(){r.isShown||(r.isShown=!0,ionic.requestAnimationFrame(function(){r.isShown&&(r.element.removeClass("popup-hidden"),r.element.addClass("popup-showing active"),p(r.element))}))},r.hide=function(e){return e=e||m,r.isShown?(r.isShown=!1,r.element.removeClass("active"),r.element.addClass("popup-hidden"),void i(e,250)):e()},r.remove=function(){r.removed||(r.hide(function(){r.element.remove(),r.scope.$destroy()}),r.removed=!0)},r})}function u(){y[0]&&y[0].responseDeferred.resolve()}function d(e){function n(e){r.then(function(t){t.removed||t.responseDeferred.resolve(e)})}var r=_._createPopup(e),s=y[0];s&&s.hide();var l=i(m,s?b.stackPushDelay:0).then(function(){return r}).then(function(e){return s||(o.addClass("popup-open"),t.retain(),_._backButtonActionDone=a.registerBackButtonAction(u,S)),y.unshift(e),e.show(),e.responseDeferred.notify({close:l.close}),e.responseDeferred.promise.then(function(n){var r=y.indexOf(e);-1!==r&&y.splice(r,1),e.remove();var s=y[0];return s?s.show():(i(function(){o.removeClass("popup-open")},400),i(function(){t.release()},b.stackPushDelay||0),(_._backButtonActionDone||m)()),n})});return l.close=n,l}function p(e){var t=e[0].querySelector("[autofocus]");t&&t.focus()}function g(e){return d(c({buttons:[{text:e.okText||"OK",type:e.okType||"button-positive",onTap:function(){return!0}}]},e||{}))}function h(e){return d(c({buttons:[{text:e.cancelText||"Cancel",type:e.cancelType||"button-default",onTap:function(){return!1}},{text:e.okText||"OK",type:e.okType||"button-positive",onTap:function(){return!0}}]},e||{}))}function v(e){var t=r.$new(!0);t.data={};var n="";return e.template&&/<[a-z][\s\S]*>/i.test(e.template)===!1&&(n="<span>"+e.template+"</span>",delete e.template),d(c({template:n+'<input ng-model="data.response" type="'+(e.inputType||"text")+'" placeholder="'+(e.inputPlaceholder||"")+'">',scope:t,buttons:[{text:e.cancelText||"Cancel",type:e.cancelType||"button-default",onTap:function(){}},{text:e.okText||"OK",type:e.okType||"button-positive",onTap:function(){return t.data.response||""}}]},e||{}))}var b={stackPushDelay:75},y=[],_={show:d,alert:g,confirm:h,prompt:v,_createPopup:l,_popupStack:y};return _}]),u.factory("$ionicPosition",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);o!=e[0]&&(i=this.offset(f(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var s=t[0].getBoundingClientRect();return{width:s.width||t.prop("offsetWidth"),height:s.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}}]),u.service("$ionicScrollDelegate",ionic.DelegateService(["resize","scrollTop","scrollBottom","scrollTo","scrollBy","zoomTo","zoomBy","getScrollPosition","anchorScroll","freezeScroll","freezeAllScrolls","getScrollView"])),u.service("$ionicSideMenuDelegate",ionic.DelegateService(["toggleLeft","toggleRight","getOpenRatio","isOpen","isOpenLeft","isOpenRight","canDragContent","edgeDragThreshold"])),u.service("$ionicSlideBoxDelegate",ionic.DelegateService(["update","slide","select","enableSlide","previous","next","stop","autoPlay","start","currentIndex","selected","slidesCount","count","loop"])),u.service("$ionicTabsDelegate",ionic.DelegateService(["select","selectedIndex"])),function(){var e=[];u.factory("$ionicTemplateCache",["$http","$templateCache","$timeout",function(t,n,i){function r(e){return"undefined"==typeof e?o():(h(e)&&(e=[e]),d(e,function(e){a.push(e)}),void(s&&o()))}function o(){if(r._runCount++,s=!0,0!==a.length){for(var e=0;4>e&&(template=a.pop());)h(template)&&t.get(template,{cache:n}),e++;a.length&&i(o,1e3)}}var s,a=e;return r._runCount=0,r}]).config(["$stateProvider","$ionicConfigProvider",function(t,n){var i=t.state;t.state=function(r,o){if("object"==typeof o){var s=o.prefetchTemplate!==!1&&e.length<n.templates.maxPrefetch();if(s&&h(o.templateUrl)&&e.push(o.templateUrl),angular.isObject(o.views))for(var a in o.views)s=o.views[a].prefetchTemplate!==!1&&e.length<n.templates.maxPrefetch(),s&&h(o.views[a].templateUrl)&&e.push(o.views[a].templateUrl)}return i.call(t,r,o)}}]).run(["$ionicTemplateCache",function(e){e()}])}(),u.factory("$ionicTemplateLoader",["$compile","$controller","$http","$q","$rootScope","$templateCache",function(e,t,n,i,r,o){function s(e){return n.get(e,{cache:o}).then(function(e){return e.data&&e.data.trim()})}function a(n){n=c({template:"",templateUrl:"",scope:null,controller:null,locals:{},appendTo:null},n||{});var o=n.templateUrl?this.load(n.templateUrl):i.when(n.template);return o.then(function(i){var o,s=n.scope||r.$new(),a=f("<div>").html(i).contents();return n.controller&&(o=t(n.controller,c(n.locals,{$scope:s})),a.children().data("$ngControllerController",o)),n.appendTo&&f(n.appendTo).append(a),e(a)(s),{element:a,scope:s}})}return{load:s,compile:a}}]),u.factory("$ionicViewService",["$ionicHistory","$log",function(e,t){function n(e,n){t.warn("$ionicViewService"+e+" is deprecated, please use $ionicHistory"+n+" instead: http://ionicframework.com/docs/nightly/api/service/$ionicHistory/")}n("","");var i={getCurrentView:"currentView",getBackView:"backView",getForwardView:"forwardView",getCurrentStateName:"currentStateName",nextViewOptions:"nextViewOptions",clearHistory:"clearHistory"};return d(i,function(t,r){i[r]=function(){return n("."+r,"."+t),e[t].apply(this,arguments)}}),i}]),u.factory("$ionicViewSwitcher",["$timeout","$document","$q","$ionicClickBlock","$ionicConfig","$ionicNavBarDelegate",function(e,t,n,i,r,o){function s(e,t){return a(e)["abstract"]?a(e).name:t?t.stateId||t.viewId:ionic.Utils.nextUid()}function a(e){return e&&e.$$state&&e.$$state.self||{}}function l(e,t,n,i){var o=a(e),s=m||D(t,"view-transition")||o.viewTransition||r.views.transition()||"ios",l=r.navBar.transition();return n=v||D(t,"view-direction")||o.viewDirection||n||"none",c(u(i),{transition:s,navBarTransition:"view"===l?s:l,direction:n,shouldAnimate:"none"!==s&&"none"!==n})}function u(e){return e=e||{},{viewId:e.viewId,historyId:e.historyId,stateId:e.stateId,stateName:e.stateName,stateParams:e.stateParams}}function g(e,t){return arguments.length>1?void D(e,S,t):D(e,S)}function h(e){if(e&&e.length){var t=e.scope();t&&(t.$emit("$ionicView.unloaded",e.data(k)),t.$destroy()),e.remove()}}var m,v,b="webkitTransitionEnd transitionend",y="$noCache",_="$destroyEle",w="$eleId",$="$accessed",x="$fallbackTimer",k="$viewData",S="nav-view",C="active",T="cached",E="stage",M=0;ionic.transition=ionic.transition||{},ionic.transition.isActive=!1;var A,D=ionic.DomUtil.cachedAttr,P=[],j=1100,O={create:function(t,d,f,S,A,q){var I,L,B,F=++M,N={init:function(e,t){O.isTransitioning(!0),N.loadViewElements(e),N.render(e,function(){t&&t()})},loadViewElements:function(e){var n,i,r,o=t.getViewElements(),a=s(d,f),l=t.activeEleId();for(n=0,i=o.length;i>n&&(r=o.eq(n),r.data(w)===a?r.data(y)?(r.data(w,a+ionic.Utils.nextUid()),r.data(_,!0)):I=r:p(l)&&r.data(w)===l&&(L=r),!I||!L);n++);B=!!I,B||(I=e.ele||O.createViewEle(d),I.data(w,a)),q&&t.activeEleId(a),e.ele=null},render:function(e,n){if(B)ionic.Utils.reconnectScope(I.scope());else{g(I,E);var i=l(d,I,e.direction,f),o=r.transitions.views[i.transition]||r.transitions.views.none;o(I,null,i.direction,!0).run(0),I.data(k,{viewId:i.viewId,historyId:i.historyId,stateName:i.stateName,stateParams:i.stateParams}),(a(d).cache===!1||"false"===a(d).cache||"false"==I.attr("cache-view")||0===r.views.maxCache())&&I.data(y,!0);var s=t.appendViewElement(I,d);delete i.direction,delete i.transition,s.$emit("$ionicView.loaded",i)}I.data($,Date.now()),n&&n()},transition:function(s,a,p){function h(){g(I,z.shouldAnimate?"entering":C),g(L,z.shouldAnimate?"leaving":T),z.run(1),o._instances.forEach(function(e){e.triggerTransitionStart(F)}),z.shouldAnimate||_()}function y(e){e.target===this&&_()}function _(){_.x||(_.x=!0,I.off(b,y),e.cancel(I.data(x)),L&&e.cancel(L.data(x)),N.emit("after",G,R),k&&k.resolve(t),F===M&&(n.all(P).then(O.transitionEnd),N.cleanup(G)),o._instances.forEach(function(e){e.triggerTransitionEnd()}),m=v=f=S=I=L=null)}function w(e){e.target===this&&$()}function $(){g(I,T),g(L,C),I.off(b,w),e.cancel(I.data(x)),O.transitionEnd([t])}var k,G=l(d,I,s,f),R=c(c({},G),u(S));G.transitionId=R.transitionId=F,G.fromCache=!!B,G.enableBack=!!a,G.renderStart=A,G.renderEnd=q,D(I.parent(),"nav-view-transition",G.transition),D(I.parent(),"nav-view-direction",G.direction),e.cancel(I.data(x));var V=r.transitions.views[G.transition]||r.transitions.views.none,z=V(I,L,G.direction,G.shouldAnimate&&p&&q);if(z.shouldAnimate&&(I.on(b,y),I.data(x,e(_,j)),i.show(j)),A&&(N.emit("before",G,R),g(I,E),z.run(0)),q&&(k=n.defer(),P.push(k.promise)),A&&q)e(h,16);else{if(!q)return g(I,"entering"),g(L,"leaving"),{run:z.run,cancel:function(t){t?(I.on(b,w),I.data(x,e($,j)),i.show(j)):$(),z.shouldAnimate=t,z.run(0),z=null}};q&&h()}},emit:function(e,t,n){var i=I.scope();i&&(i.$emit("$ionicView."+e+"Enter",t),"after"==e&&i.$emit("$ionicView.enter",t)),L?(i=L.scope(),i&&(i.$emit("$ionicView."+e+"Leave",n),"after"==e&&i.$emit("$ionicView.leave",n))):i&&n&&n.viewId&&(i.$emit("$ionicNavView."+e+"Leave",n),"after"==e&&i.$emit("$ionicNavView.leave",n))},cleanup:function(e){L&&"back"==e.direction&&!r.views.forwardCache()&&h(L);var n,i,o,s=t.getViewElements(),a=s.length,l=a-1>r.views.maxCache(),u=Date.now();for(n=0;a>n;n++)i=s.eq(n),l&&i.data($)<u?(u=i.data($),o=s.eq(n)):i.data(_)&&g(i)!=C&&h(i);h(o),I.data(y)&&I.data(_,!0)},enteringEle:function(){return I},leavingEle:function(){return L}};return N},transitionEnd:function(e){d(e,function(e){e.transitionEnd()}),O.isTransitioning(!1),i.hide(),P=[]},nextTransition:function(e){m=e},nextDirection:function(e){v=e},isTransitioning:function(t){return arguments.length&&(ionic.transition.isActive=!!t,e.cancel(A),t&&(A=e(function(){O.isTransitioning(!1)},999))),ionic.transition.isActive},createViewEle:function(e){var n=t[0].createElement("div");return e&&e.$template&&(n.innerHTML=e.$template,1===n.children.length)?(n.children[0].classList.add("pane"),f(n.children[0])):(n.className="pane",f(n))},viewEleIsActive:function(e,t){g(e,t?C:T)},getTransitionData:l,navViewAttr:g,destroyViewEle:h};return O}]),u.config(["$provide",function(e){e.decorator("$compile",["$delegate",function(e){return e.$$addScopeInfo=function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)},e}])}]),u.config(["$provide",function(e){function t(e,t){return e.__hash=e.hash,e.hash=function(n){return p(n)&&t(function(){var e=document.querySelector(".scroll-content");e&&(e.scrollTop=0)},0,!1),e.__hash(n)},e}e.decorator("$location",["$delegate","$timeout",t])}]),u.controller("$ionicHeaderBar",["$scope","$element","$attrs","$q","$ionicConfig","$ionicHistory",function(e,t,n,i,r,o){function s(e){return k[e]||(k[e]=t[0].querySelector("."+e)),k[e]}var a="title",l="back-text",u="back-button",c="default-title",d="previous-title",p="hide",g=this,h="",f="",m=0,v=0,b="",y=!1,_=!0,w=!0,$=!1,x=0;g.beforeEnter=function(t){e.$broadcast("$ionicView.beforeEnter",t)},g.title=function(e){return arguments.length&&e!==h&&(s(a).innerHTML=e,h=e,x=0),h},g.enableBack=function(e,t){return arguments.length&&(y=e,t||g.updateBackButton()),y},g.showBack=function(e,t){return arguments.length&&(_=e,t||g.updateBackButton()),_},g.showNavBack=function(e){w=e,g.updateBackButton()},g.updateBackButton=function(){if((_&&w&&y)!==$){$=_&&w&&y;var e=s(u);e&&e.classList[$?"remove":"add"](p)}},g.titleTextWidth=function(){if(!x){var e=ionic.DomUtil.getTextBounds(s(a));x=Math.min(e&&e.width||30)}return x},g.titleWidth=function(){var e=g.titleTextWidth(),t=s(a).offsetWidth;return e>t&&(e=t+(m-v-5)),e},g.titleTextX=function(){return t[0].offsetWidth/2-g.titleWidth()/2},g.titleLeftRight=function(){return m-v},g.backButtonTextLeft=function(){for(var e=0,t=s(l);t;)e+=t.offsetLeft,t=t.parentElement;return e},g.resetBackButton=function(e){if(r.backButton.previousTitleText()){var t=s(d);if(t){t.classList.remove(p);var n=e&&o.getViewById(e.viewId),i=o.backTitle(n);i!==f&&(f=t.innerHTML=i)}var a=s(c);a&&a.classList.remove(p)}},g.align=function(e){var i=s(a);e=e||n.alignTitle||r.navBar.alignTitle();var o=g.calcWidths(e,!1);if(_&&f&&r.backButton.previousTitleText()){var l=g.calcWidths(e,!0),u=t[0].offsetWidth-l.titleLeft-l.titleRight;g.titleTextWidth()<=u&&(o=l)}return g.updatePositions(i,o.titleLeft,o.titleRight,o.buttonsLeft,o.buttonsRight,o.css,o.showPrevTitle)},g.calcWidths=function(e,n){var i,r,o,g,h,f,m,v,b,y=s(a),w=s(u),$=t[0].childNodes,x=0,k=0,S=0,C=0,T="",E=0;for(i=0;i<$.length;i++){if(h=$[i],m=0,1==h.nodeType){if(h===y){b=!0;continue}if(h.classList.contains(p))continue;if(_&&h===w){for(r=0;r<h.childNodes.length;r++)if(g=h.childNodes[r],1==g.nodeType)if(g.classList.contains(l))for(o=0;o<g.children.length;o++)if(f=g.children[o],n){if(f.classList.contains(c))continue;E+=f.offsetWidth}else{if(f.classList.contains(d))continue;E+=f.offsetWidth}else E+=g.offsetWidth;else 3==g.nodeType&&g.nodeValue.trim()&&(v=ionic.DomUtil.getTextBounds(g),E+=v&&v.width||0);m=E||h.offsetWidth}else m=h.offsetWidth}else 3==h.nodeType&&h.nodeValue.trim()&&(v=ionic.DomUtil.getTextBounds(h),m=v&&v.width||0);b?k+=m:x+=m}if("left"==e)T="title-left",x&&(S=x+15),k&&(C=k+15);else if("right"==e)T="title-right",x&&(S=x+15),k&&(C=k+15);else{var M=Math.max(x,k)+10;M>10&&(S=C=M)}return{backButtonWidth:E,buttonsLeft:x,buttonsRight:k,titleLeft:S,titleRight:C,showPrevTitle:n,css:T}},g.updatePositions=function(e,n,o,a,l,u,h){var f=i.defer();if(e&&(n!==m&&(e.style.left=n?n+"px":"",m=n),o!==v&&(e.style.right=o?o+"px":"",v=o),u!==b&&(u&&e.classList.add(u),b&&e.classList.remove(b),b=u)),r.backButton.previousTitleText()){var y=s(d),_=s(c);y&&y.classList[h?"remove":"add"](p),_&&_.classList[h?"add":"remove"](p)}return ionic.requestAnimationFrame(function(){if(e&&e.offsetWidth+10<e.scrollWidth){var n=l+5,i=t[0].offsetWidth-m-g.titleTextWidth()-20;o=n>i?n:i,o!==v&&(e.style.right=o+"px",v=o)}f.resolve()}),f.promise},g.setCss=function(e,t){ionic.DomUtil.cachedStyles(s(e),t)};var k={};e.$on("$destroy",function(){for(var e in k)k[e]=null})}]),u.controller("$ionInfiniteScroll",["$scope","$attrs","$element","$timeout",function(e,t,n,i){function r(){ionic.requestAnimationFrame(function(){n[0].classList.add("active")}),l.isLoading=!0,e.$parent&&e.$parent.$apply(t.onInfinite||"")}function o(){ionic.requestAnimationFrame(function(){n[0].classList.remove("active")}),i(function(){l.jsScrolling&&l.scrollView.resize(),l.checkBounds()},30,!1),l.isLoading=!1}function s(){if(!l.isLoading){var e={};if(l.jsScrolling){e=l.getJSMaxScroll();var t=l.scrollView.getValues();(-1!==e.left&&t.left>=e.left||-1!==e.top&&t.top>=e.top)&&r()}else e=l.getNativeMaxScroll(),(-1!==e.left&&l.scrollEl.scrollLeft>=e.left-l.scrollEl.clientWidth||-1!==e.top&&l.scrollEl.scrollTop>=e.top-l.scrollEl.clientHeight)&&r()}}function a(e){return distance=(t.distance||"2.5%").trim(),isPercent=-1!==distance.indexOf("%"),isPercent?e*(1-parseFloat(distance)/100):e-parseFloat(distance)}var l=this;l.isLoading=!1,e.icon=function(){return p(t.icon)?t.icon:"ion-load-d"},e.spinner=function(){return p(t.spinner)?t.spinner:""},e.$on("scroll.infiniteScrollComplete",function(){o()}),e.$on("$destroy",function(){l.scrollCtrl&&l.scrollCtrl.$element&&l.scrollCtrl.$element.off("scroll",l.checkBounds),l.scrollEl&&l.scrollEl.removeEventListener&&l.scrollEl.removeEventListener("scroll",l.checkBounds)}),l.checkBounds=ionic.Utils.throttle(s,300),l.getJSMaxScroll=function(){var e=l.scrollView.getScrollMax();return{left:l.scrollView.options.scrollingX?a(e.left):-1,top:l.scrollView.options.scrollingY?a(e.top):-1}},l.getNativeMaxScroll=function(){var e={left:l.scrollEl.scrollWidth,top:l.scrollEl.scrollHeight},t=window.getComputedStyle(l.scrollEl)||{};return{left:"scroll"===t.overflowX||"auto"===t.overflowX||"scroll"===l.scrollEl.style["overflow-x"]?a(e.left):-1,top:"scroll"===t.overflowY||"auto"===t.overflowY||"scroll"===l.scrollEl.style["overflow-y"]?a(e.top):-1}}}]),u.service("$ionicListDelegate",ionic.DelegateService(["showReorder","showDelete","canSwipeItems","closeOptionButtons"])).controller("$ionicList",["$scope","$attrs","$ionicListDelegate","$ionicHistory",function(e,t,n,i){var r=this,o=!0,s=!1,a=!1,l=n._registerInstance(r,t.delegateHandle,function(){return i.isActiveScope(e)});e.$on("$destroy",l),r.showReorder=function(e){return arguments.length&&(s=!!e),s},r.showDelete=function(e){return arguments.length&&(a=!!e),a},r.canSwipeItems=function(e){return arguments.length&&(o=!!e),o},r.closeOptionButtons=function(){r.listView&&r.listView.clearDragEffects()}}]),u.controller("$ionicNavBar",["$scope","$element","$attrs","$compile","$timeout","$ionicNavBarDelegate","$ionicConfig","$ionicHistory",function(e,t,n,i,r,o,s,a){function l(e,t){var n=console.warn||console.log;n&&n.call(console,"navBarController."+e+" is deprecated, please use "+t+" instead")}function u(e){return E[e]?f(E[e]):void 0}function c(){for(var e=0;e<T.length;e++)if(T[e].isActive)return T[e]}function g(){for(var e=0;e<T.length;e++)if(!T[e].isActive)return T[e]}function h(e,t){e&&ionic.DomUtil.cachedAttr(e.containerEle(),"nav-bar",t)}function m(e){ionic.DomUtil.cachedAttr(t,"nav-swipe",e)}var v,b,y,_="hide",w="$ionNavBarController",$="primaryButtons",x="secondaryButtons",k="backButton",S="primaryButtons secondaryButtons leftButtons rightButtons title".split(" "),C=this,T=[],E={},M=!0;t.parent().data(w,C);var A=n.delegateHandle||"navBar"+ionic.Utils.nextUid(),D=o._registerInstance(C,A);C.init=function(){t.addClass("nav-bar-container"),ionic.DomUtil.cachedAttr(t,"nav-bar-transition",s.views.transition()),C.createHeaderBar(!1),C.createHeaderBar(!0),e.$emit("ionNavBar.init",A)},C.createHeaderBar=function(r){function o(e,t){e&&("title"===t?m.append(e):"rightButtons"==t||t==x&&"left"!=s.navBar.positionSecondaryButtons()||t==$&&"right"==s.navBar.positionPrimaryButtons()?(h||(h=f('<div class="buttons buttons-right">'),c.append(h)),t==x?h.append(e):h.prepend(e)):(g||(g=f('<div class="buttons buttons-left">'),v[k]?v[k].after(g):c.prepend(g)),t==x?g.append(e):g.prepend(e)))}var a=f('<div class="nav-bar-block">');ionic.DomUtil.cachedAttr(a,"nav-bar",r?"active":"cached");var l=n.alignTitle||s.navBar.alignTitle(),c=f("<ion-header-bar>").addClass(n["class"]).attr("align-title",l);p(n.noTapScroll)&&c.attr("no-tap-scroll",n.noTapScroll);var g,h,m=f('<div class="title title-'+l+'">'),v={},b={};v[k]=u(k),v[k]&&c.append(v[k]),c.append(m),d(S,function(e){v[e]=u(e),o(v[e],e)});for(var y=0;y<c[0].children.length;y++)c[0].children[y].classList.add("header-item");a.append(c),t.append(i(a)(e.$new()));var w=c.data("$ionHeaderBarController"),C={isActive:r,title:function(e){w.title(e)},setItem:function(e,t){C.removeItem(t),e?("title"===t&&C.title(""),o(e,t),v[t]&&v[t].addClass(_),b[t]=e):v[t]&&v[t].removeClass(_)},removeItem:function(e){b[e]&&(b[e].scope().$destroy(),b[e].remove(),b[e]=null)},containerEle:function(){return a},headerBarEle:function(){return c},afterLeave:function(){d(S,function(e){C.removeItem(e)}),w.resetBackButton()},controller:function(){return w},destroy:function(){d(S,function(e){C.removeItem(e)}),a.scope().$destroy();for(var e in v)v[e]&&(v[e].removeData(),v[e]=null);g&&g.removeData(),h&&h.removeData(),m.removeData(),c.removeData(),a.remove(),a=c=m=g=h=null}};return T.push(C),C},C.navElement=function(e,t){return p(t)&&(E[e]=t),E[e]},C.update=function(e){var t=!e.hasHeaderBar&&e.showNavBar;e.transition=s.views.transition(),t||(e.direction="none"),C.enable(t);var n=C.isInitialized?g():c(),i=C.isInitialized?c():null,r=n.controller();r.enableBack(e.enableBack,!0),r.showBack(e.showBack,!0),r.updateBackButton(),C.title(e.title,n),C.showBar(t),e.navBarItems&&d(S,function(t){n.setItem(e.navBarItems[t],t)}),C.transition(n,i,e),C.isInitialized=!0,m("")},C.transition=function(e,n,i){function o(){for(var t=0;t<T.length;t++)T[t].isActive=!1;e.isActive=!0,h(e,"active"),h(n,"cached"),C.activeTransition=c=b=null}var a=e.controller(),l=s.transitions.navBar[i.navBarTransition]||s.transitions.navBar.none,u=i.transitionId;a.beforeEnter(i);var c=l(e,n,i.direction,i.shouldAnimate&&C.isInitialized);ionic.DomUtil.cachedAttr(t,"nav-bar-transition",i.navBarTransition),ionic.DomUtil.cachedAttr(t,"nav-bar-direction",i.direction),c.shouldAnimate&&i.renderEnd?h(e,"stage"):(h(e,"entering"),h(n,"leaving")),a.resetBackButton(i),c.run(0),C.activeTransition={run:function(e){c.shouldAnimate=!1,c.direction="back",c.run(e)},cancel:function(t,i){m(i),h(n,"active"),h(e,"cached"),c.shouldAnimate=t,c.run(0),C.activeTransition=c=null},complete:function(e,t){m(t),c.shouldAnimate=e,c.run(1),b=o}},r(a.align,16),(v=function(){y===u&&(h(e,"entering"),h(n,"leaving"),c.run(1),b=function(){y!=u&&c.shouldAnimate||o()},v=null)})()},C.triggerTransitionStart=function(e){y=e,v&&v()},C.triggerTransitionEnd=function(){b&&b()},C.showBar=function(t){return arguments.length&&(C.visibleBar(t),e.$parent.$hasHeader=!!t),!!e.$parent.$hasHeader},C.visibleBar=function(e){e&&!M?t.removeClass(_):!e&&M&&t.addClass(_),M=e},C.enable=function(e){C.visibleBar(e);for(var t=0;t<o._instances.length;t++)o._instances[t]!==C&&o._instances[t].visibleBar(!1)},C.showBackButton=function(t){for(var n=0;n<T.length;n++)T[n].controller().showNavBack(!!t);return e.$isBackButtonShown=!!t,e.$isBackButtonShown},C.showActiveBackButton=function(e){var t=c();t&&t.controller().showBack(e)},C.title=function(t,n){return p(t)&&(t=t||"",n=n||c(),n&&n.title(t),e.$title=t,a.currentTitle(t)),e.$title},C.align=function(e,t){t=t||c(),t&&t.controller().align(e)},C.hasTabsTop=function(e){t[e?"addClass":"removeClass"]("nav-bar-tabs-top")},C.changeTitle=function(e){l("changeTitle(val)","title(val)"),C.title(e)},C.setTitle=function(e){l("setTitle(val)","title(val)"),C.title(e)},C.getTitle=function(){return l("getTitle()","title()"),C.title()},C.back=function(){l("back()","$ionicHistory.goBack()"),a.goBack()},C.getPreviousTitle=function(){l("getPreviousTitle()","$ionicHistory.backTitle()"),a.goBack()},e.$on("$destroy",function(){e.$parent.$hasHeader=!1,t.parent().removeData(w);for(var n=0;n<T.length;n++)T[n].destroy();t.remove(),t=T=null,D()})}]),u.controller("$ionicNavView",["$scope","$element","$attrs","$compile","$controller","$ionicNavBarDelegate","$ionicNavViewDelegate","$ionicHistory","$ionicViewSwitcher","$ionicConfig","$ionicScrollDelegate",function(e,t,n,i,r,o,s,a,l,u,d){
function p(e){ionic.DomUtil.cachedAttr(t,"nav-swipe",e)}function g(e,t){var n=h();n&&n.hasTabsTop(t)}function h(){if(m)for(var e=0;e<o._instances.length;e++)if(o._instances[e].$$delegateHandle==m)return o._instances[e];return t.inheritedData("$ionNavBarController")}var f,m,v,b,y,_="$eleId",w="$destroyEle",$="$noCache",x="active",k="cached",S=this,C=!1,T=l.navViewAttr;S.scope=e,S.element=t,S.init=function(){var i=n.name||"",r=t.parent().inheritedData("$uiView"),o=r&&r.state?r.state.name:"";i.indexOf("@")<0&&(i=i+"@"+o);var a={name:i,state:null};t.data("$uiView",a);var l=s._registerInstance(S,n.delegateHandle);return e.$on("$destroy",function(){l(),S.isSwipeFreeze&&d.freezeAllScrolls(!1)}),e.$on("$ionicHistory.deselect",S.cacheCleanup),e.$on("$ionicTabs.top",g),ionic.Platform.ready(function(){ionic.Platform.isWebView()&&u.views.swipeBackEnabled()&&S.initSwipeBack()}),a},S.register=function(t){var n=c({},a.currentView()),i=a.register(e,t);S.update(i);var r=a.getViewById(i.viewId)||{},o=b!==i.viewId;S.render(i,t,r,n,o,!0)},S.update=function(e){C=!0,f=e.direction;var n=t.parent().inheritedData("$ionNavViewController");n&&(n.isPrimary(!1),("enter"===f||"exit"===f)&&(n.direction(f),"enter"===f&&(f="none")))},S.render=function(e,t,n,i,r,o){var s=l.create(S,t,n,i,r,o);s.init(e,function(){s.transition(S.direction(),e.enableBack,!y),b=y=null})},S.beforeEnter=function(e){if(C){m=e.navBarDelegate;var t=h();t&&t.update(e),p("")}},S.activeEleId=function(e){return arguments.length&&(v=e),v},S.transitionEnd=function(){var e,n,i,r=t.children();for(e=0,n=r.length;n>e;e++)i=r.eq(e),i.data(_)===v?T(i,x):("leaving"===T(i)||T(i)===x||T(i)===k)&&(i.data(w)||i.data($)?l.destroyViewEle(i):(T(i,k),ionic.Utils.disconnectScope(i.scope())));p(""),S.isSwipeFreeze&&d.freezeAllScrolls(!1)},S.cacheCleanup=function(){for(var e=t.children(),n=0,i=e.length;i>n;n++)e.eq(n).data(w)&&l.destroyViewEle(e.eq(n))},S.clearCache=function(){for(var e,n,i=t.children(),r=0,o=i.length;o>r;r++)e=i.eq(r),T(e)==k?l.destroyViewEle(e):T(e)==x&&(n=e.scope(),n&&n.$broadcast("$ionicView.clearCache"))},S.getViewElements=function(){return t.children()},S.appendViewElement=function(n,o){var s=i(n);t.append(n);var a=e.$new();if(o&&o.$$controller){o.$scope=a;var l=r(o.$$controller,o);t.children().data("$ngControllerController",l)}return s(a),a},S.title=function(e){var t=h();t&&t.title(e)},S.enableBackButton=function(e){var t=h();t&&t.enableBackButton(e)},S.showBackButton=function(e){var t=h();t&&t.showActiveBackButton(e)},S.showBar=function(e){var t=h();t&&t.showBar(e)},S.isPrimary=function(e){return arguments.length&&(C=e),C},S.direction=function(e){return arguments.length&&(f=e),f},S.initSwipeBack=function(){function n(e){if(C&&($=o(e),!($>k)&&(f=a.backView(),f&&f.historyId===a.currentView().historyId))){w||(w=window.innerWidth),S.isSwipeFreeze=d.freezeAllScrolls(!0);var n={direction:"back"};x=[];var s=l.create(S,n,f,a.currentView(),!0,!1);s.loadViewElements(n),s.render(n),c=s.transition("back",a.enabledBack(f),!0),g=h(),v=ionic.onGesture("drag",i,t[0]),_=ionic.onGesture("release",r,t[0])}}function i(e){if(C&&c){var t=o(e);if(x.push({t:Date.now(),x:t}),t>=w-15)r(e);else{var n=Math.min(Math.max(s(t),0),1);c.run(n),g&&g.activeTransition&&g.activeTransition.run(n)}}}function r(e){if(C&&c&&x&&x.length>1){for(var t=Date.now(),n=o(e),a=x[x.length-1],l=x.length-2;l>=0&&!(t-a.t>200);l--)a=x[l];var u=n>=x[x.length-2].x,h=s(n),m=Math.abs(a.x-n)/(t-a.t);if(b=f.viewId,y=.03>h||h>.97,u&&(h>.5||m>.1)){var $=m>.5||.05>m||n>w-45?"fast":"slow";p(y?"":$),f.go(),g&&g.activeTransition&&g.activeTransition.complete(!y,$)}else p(y?"":"fast"),b=null,c.cancel(!y),g&&g.activeTransition&&g.activeTransition.cancel(!y,"fast"),y=null}ionic.offGesture(v,"drag",i),ionic.offGesture(_,"release",r),w=c=x=null,S.isSwipeFreeze=d.freezeAllScrolls(!1)}function o(e){return ionic.tap.pointerCoord(e.gesture.srcEvent).x}function s(e){return(e-$)/w}var c,g,f,m,v,_,w,$,x,k=u.views.swipeBackHitWidth();m=ionic.onGesture("dragstart",n,t[0]),e.$on("$destroy",function(){ionic.offGesture(m,"dragstart",n),ionic.offGesture(v,"drag",i),ionic.offGesture(_,"release",r),S.element=c=g=null})}}]),u.controller("$ionicRefresher",["$scope","$attrs","$element","$ionicBind","$timeout",function(e,t,n,i,r){function o(){return P||x?(A=null,x?(x=!1,S=0,C>T?(m(),d(T,M)):(d(0,M,f),k=!1),!0):(S=0,k=!1,c(!1),!0)):void 0}function s(e){if(P&&!(e.touches.length>1)){if(null===A&&(A=parseInt(e.touches[0].screenY,10)),D=parseInt(e.touches[0].screenY,10)-A,0>=D-S||0!==_.scrollTop)return k&&(k=!1,c(!1)),x&&u(_,-1*parseInt(D-S,10)),0!==C&&l(0),!0;D>0&&0===_.scrollTop&&!k&&(S=D),e.preventDefault(),k||(k=!0,c(!0)),x=!0,l(parseInt((D-S)/3,10)),!E&&C>T?(E=!0,ionic.requestAnimationFrame(h)):E&&T>C&&(E=!1,ionic.requestAnimationFrame(f))}}function a(e){P=0===e.target.scrollTop||x}function l(e){w.style[ionic.CSS.TRANSFORM]="translateY("+e+"px)",C=e}function u(e,t){e.scrollTop=t;var n=document.createEvent("UIEvents");n.initUIEvent("scroll",!0,!0,window,1),e.dispatchEvent(n)}function c(e){ionic.requestAnimationFrame(e?function(){w.classList.add("overscroll"),v()}:function(){w.classList.remove("overscroll"),b(),f()})}function d(e,t,n){function i(e){return--e*e*e+1}function r(){var a=Date.now(),u=Math.min(1,(a-o)/t),d=i(u);l(parseInt(d*(e-s)+s,10)),1>u?ionic.requestAnimationFrame(r):(5>e&&e>-5&&(k=!1,c(!1)),n&&n())}var o=Date.now(),s=C;return s===e?void n():void ionic.requestAnimationFrame(r)}function g(){ionic.off("touchmove",s,w),ionic.off("touchend",o,w),ionic.off("scroll",a,_),_=null,w=null}function h(){n[0].classList.add("active"),e.$onPulling()}function f(){r(function(){n.removeClass("active refreshing refreshing-tail"),E&&(E=!1)},150)}function m(){n[0].classList.add("refreshing"),e.$onRefresh()}function v(){n[0].classList.remove("invisible")}function b(){n[0].classList.add("invisible")}function y(){n[0].classList.add("refreshing-tail")}var _,w,$=this,x=!1,k=!1,S=0,C=0,T=60,E=!1,M=500,A=null,D=null,P=!0;p(t.pullingIcon)||t.$set("pullingIcon","ion-android-arrow-down"),e.showSpinner=!p(t.refreshingIcon)&&"none"!=t.spinner,e.showIcon=p(t.refreshingIcon),i(e,t,{pullingIcon:"@",pullingText:"@",refreshingIcon:"@",refreshingText:"@",spinner:"@",disablePullingRotation:"@",$onRefresh:"&onRefresh",$onPulling:"&onPulling"}),e.$on("scroll.refreshComplete",function(){r(function(){ionic.requestAnimationFrame(y),d(0,M,f),r(function(){k&&(k=!1,c(!1))},M)},M)}),$.init=function(){if(_=n.parent().parent()[0],w=n.parent()[0],!_.classList.contains("ionic-scroll")||!w.classList.contains("scroll"))throw new Error("Refresher must be immediate child of ion-content or ion-scroll");ionic.on("touchmove",s,w),ionic.on("touchend",o,w),ionic.on("scroll",a,_),e.$on("$destroy",g)},$.getRefresherDomMethods=function(){return{activate:h,deactivate:f,start:m,show:v,hide:b,tail:y}},$.__handleTouchmove=s,$.__getScrollChild=function(){return w},$.__getScrollParent=function(){return _}}]),u.controller("$ionicScroll",["$scope","scrollViewOptions","$timeout","$window","$location","$document","$ionicScrollDelegate","$ionicHistory",function(e,t,n,i,r,o,s,a){var l=this;l.__timeout=n,l._scrollViewOptions=t;var u=l.element=t.el,c=l.$element=f(u),d=l.scrollView=new ionic.views.Scroll(t);(c.parent().length?c.parent():c).data("$$ionicScrollController",l);var g=s._registerInstance(l,t.delegateHandle,function(){return a.isActiveScope(e)});p(t.bouncing)||ionic.Platform.ready(function(){d.options&&(d.options.bouncing=!0,ionic.Platform.isAndroid()&&(d.options.bouncing=!1,d.options.deceleration=.95))});var h=angular.bind(d,d.resize);ionic.on("resize",h,i);var m=function(t){var n=(t.originalEvent||t).detail||{};e.$onScroll&&e.$onScroll({event:t,scrollTop:n.scrollTop||0,scrollLeft:n.scrollLeft||0})};c.on("scroll",m),e.$on("$destroy",function(){g(),d&&d.__cleanup&&d.__cleanup(),ionic.off("resize",h,i),i.removeEventListener("resize",h),c.off("scroll",m),d=l.scrollView=t=l._scrollViewOptions=t.el=l._scrollViewOptions.el=c=l.$element=u=null}),n(function(){d&&d.run&&d.run(),c.triggerHandler("scroll.init")}),l.getScrollView=function(){return d},l.getScrollPosition=function(){return d.getValues()},l.resize=function(){return n(h).then(function(){c&&c.triggerHandler("scroll.resize")})},l.scrollTop=function(e){l.resize().then(function(){d.scrollTo(0,0,!!e)})},l.scrollBottom=function(e){l.resize().then(function(){var t=d.getScrollMax();d.scrollTo(t.left,t.top,!!e)})},l.scrollTo=function(e,t,n){l.resize().then(function(){d.scrollTo(e,t,!!n)})},l.zoomTo=function(e,t,n,i){l.resize().then(function(){d.zoomTo(e,!!t,n,i)})},l.zoomBy=function(e,t,n,i){l.resize().then(function(){d.zoomBy(e,!!t,n,i)})},l.scrollBy=function(e,t,n){l.resize().then(function(){d.scrollBy(e,t,!!n)})},l.anchorScroll=function(e){l.resize().then(function(){var t=r.hash(),n=t&&o[0].getElementById(t);if(!t||!n)return void d.scrollTo(0,0,!!e);var i=n,s=0,a=0,u=0;do null!==i&&(s+=i.offsetLeft),null!==i&&(a+=i.offsetTop),i=i.offsetParent,u++;while(i.attributes!=l.element.attributes&&i.offsetParent);d.scrollTo(s,a,!!e)})},l.freezeScroll=d.freeze,l.freezeAllScrolls=function(e){for(var t=0;t<s._instances.length;t++)s._instances[t].freezeScroll(e)},l._setRefresher=function(e,t,n){l.refresher=t;var i=l.refresher.clientHeight||60;d.activatePullToRefresh(i,n)}}]),u.controller("$ionicSideMenus",["$scope","$attrs","$ionicSideMenuDelegate","$ionicPlatform","$ionicBody","$ionicHistory","$ionicScrollDelegate",function(e,t,n,i,r,o,s){function a(e){e&&!v.isScrollFreeze?s.freezeAllScrolls(e):!e&&v.isScrollFreeze&&s.freezeAllScrolls(!1),v.isScrollFreeze=e}var l,u,c,d,p,h,f,v=this,b=!0;v.$scope=e,v.initialize=function(e){v.left=e.left,v.right=e.right,v.setContent(e.content),v.dragThresholdX=e.dragThresholdX||10,o.registerHistory(v.$scope)},v.setContent=function(e){e&&(v.content=e,v.content.onDrag=function(e){v._handleDrag(e)},v.content.endDrag=function(e){v._endDrag(e)})},v.isOpenLeft=function(){return v.getOpenAmount()>0},v.isOpenRight=function(){return v.getOpenAmount()<0},v.toggleLeft=function(e){if(!f&&v.left.isEnabled){var t=v.getOpenAmount();0===arguments.length&&(e=0>=t),v.content.enableAnimation(),v.openPercentage(e?100:0)}},v.toggleRight=function(e){if(!f&&v.right.isEnabled){var t=v.getOpenAmount();0===arguments.length&&(e=t>=0),v.content.enableAnimation(),v.openPercentage(e?-100:0)}},v.toggle=function(e){"right"==e?v.toggleRight():v.toggleLeft()},v.close=function(){v.openPercentage(0)},v.getOpenAmount=function(){return v.content&&v.content.getTranslateX()||0},v.getOpenRatio=function(){var e=v.getOpenAmount();return e>=0?e/v.left.width:e/v.right.width},v.isOpen=function(){return 0!==v.getOpenAmount()},v.getOpenPercentage=function(){return 100*v.getOpenRatio()},v.openPercentage=function(e){var t=e/100;v.left&&e>=0?v.openAmount(v.left.width*t):v.right&&0>e&&(v.right.width,v.openAmount(v.right.width*t)),r.enableClass(0!==e,"menu-open"),a(!1)},v.openAmount=function(e){var t=v.left&&v.left.width||0,n=v.right&&v.right.width||0;return(!v.left||!v.left.isEnabled)&&e>0||(!v.right||!v.right.isEnabled)&&0>e?void v.content.setTranslateX(0):u&&e>t?void v.content.setTranslateX(t):l&&-n>e?void v.content.setTranslateX(-n):(v.content.setTranslateX(e),void(e>=0?(u=!0,l=!1,e>0&&(v.right&&v.right.pushDown&&v.right.pushDown(),v.left&&v.left.bringUp&&v.left.bringUp())):(l=!0,u=!1,v.right&&v.right.bringUp&&v.right.bringUp(),v.left&&v.left.pushDown&&v.left.pushDown())))},v.snapToRest=function(e){v.content.enableAnimation(),c=!1;var t=v.getOpenRatio();if(0===t)return void v.openPercentage(0);var n=.3,i=e.gesture.velocityX,r=e.gesture.direction;v.openPercentage(t>0&&.5>t&&"right"==r&&n>i?0:t>.5&&"left"==r&&n>i?100:0>t&&t>-.5&&"left"==r&&n>i?0:.5>t&&"right"==r&&n>i?-100:"right"==r&&t>=0&&(t>=.5||i>n)?100:"left"==r&&0>=t&&(-.5>=t||i>n)?-100:0)},v.enableMenuWithBackViews=function(e){return arguments.length&&(b=!!e),b},v.isAsideExposed=function(){return!!f},v.exposeAside=function(e){(v.left&&v.left.isEnabled||v.right&&v.right.isEnabled)&&(v.close(),f!==e&&ionic.trigger("resize",null,window),f=e,v.left&&v.left.isEnabled?v.content.setMarginLeft(f?v.left.width:0):v.right&&v.right.isEnabled&&v.content.setMarginRight(f?v.right.width:0),v.$scope.$emit("$ionicExposeAside",f))},v.activeAsideResizing=function(e){r.enableClass(e,"aside-resizing")},v._endDrag=function(e){a(!1),f||(c&&v.snapToRest(e),d=null,p=null,h=null)},v._handleDrag=function(t){!f&&e.dragContent&&(d?p=t.gesture.touches[0].pageX:(d=t.gesture.touches[0].pageX,p=d),!c&&Math.abs(p-d)>v.dragThresholdX&&(d=p,c=!0,v.content.disableAnimation(),h=v.getOpenAmount()),c&&(v.openAmount(h+(p-d)),a(!0)))},v.canDragContent=function(t){return arguments.length&&(e.dragContent=!!t),e.dragContent},v.edgeThreshold=25,v.edgeThresholdEnabled=!1,v.edgeDragThreshold=function(e){return arguments.length&&(g(e)&&e>0?(v.edgeThreshold=e,v.edgeThresholdEnabled=!0):v.edgeThresholdEnabled=!!e),v.edgeThresholdEnabled},v.isDraggableTarget=function(t){var n=v.edgeThresholdEnabled&&!v.isOpen(),i=t.gesture.startEvent&&t.gesture.startEvent.center&&t.gesture.startEvent.center.pageX,r=!n||i<=v.edgeThreshold||i>=v.content.element.offsetWidth-v.edgeThreshold,s=o.backView(),a=b?!0:!s;if(!a){var l=o.currentView()||{};return s.historyId!==l.historyId}return(e.dragContent||v.isOpen())&&r&&!t.gesture.srcEvent.defaultPrevented&&a&&!t.target.tagName.match(/input|textarea|select|object|embed/i)&&!t.target.isContentEditable&&!(t.target.dataset?t.target.dataset.preventScroll:"true"==t.target.getAttribute("data-prevent-scroll"))},e.sideMenuContentTranslateX=0;var y=m,_=angular.bind(v,v.close);e.$watch(function(){return 0!==v.getOpenAmount()},function(e){y(),e&&(y=i.registerBackButtonAction(_,$))});var w=n._registerInstance(v,t.delegateHandle,function(){return o.isActiveScope(e)});e.$on("$destroy",function(){w(),y(),v.$scope=null,v.content&&(v.content.element=null,v.content=null),a(!1)}),v.initialize({left:{width:275},right:{width:275}})}]),function(e){function t(e,i,r,o){var s,a,l,u=document.createElement(p[e]||e);for(s in i)if(angular.isArray(i[s]))for(a=0;a<i[s].length;a++)if(i[s][a].fn)for(l=0;l<i[s][a].t;l++)t(s,i[s][a].fn(l,o),u,o);else t(s,i[s][a],u,o);else n(u,s,i[s]);r.appendChild(u)}function n(e,t,n){e.setAttribute(p[t]||t,n)}function i(e,t){var n=e.split(";"),i=n.slice(t),r=n.slice(0,n.length-i.length);return n=i.concat(r).reverse(),n.join(";")+";"+n[0]}function r(e,t){return e/=t/2,1>e?.5*e*e*e:(e-=2,.5*(e*e*e+2))}var o="translate(32,32)",s="stroke-opacity",a="round",l="indefinite",c="750ms",d="none",p={a:"animate",an:"attributeName",at:"animateTransform",c:"circle",da:"stroke-dasharray",os:"stroke-dashoffset",f:"fill",lc:"stroke-linecap",rc:"repeatCount",sw:"stroke-width",t:"transform",v:"values"},g={v:"0,32,32;360,32,32",an:"transform",type:"rotate",rc:l,dur:c},h={sw:4,lc:a,line:[{fn:function(e,t){return{y1:"ios"==t?17:12,y2:"ios"==t?29:20,t:o+" rotate("+(30*e+(6>e?180:-180))+")",a:[{fn:function(){return{an:s,dur:c,v:i("0;.1;.15;.25;.35;.45;.55;.65;.7;.85;1",e),rc:l}},t:1}]}},t:12}]},f={android:{c:[{sw:6,da:128,os:82,r:26,cx:32,cy:32,f:d}]},ios:h,"ios-small":h,bubbles:{sw:0,c:[{fn:function(e){return{cx:24*Math.cos(2*Math.PI*e/8),cy:24*Math.sin(2*Math.PI*e/8),t:o,a:[{fn:function(){return{an:"r",dur:c,v:i("1;2;3;4;5;6;7;8",e),rc:l}},t:1}]}},t:8}]},circles:{c:[{fn:function(e){return{r:5,cx:24*Math.cos(2*Math.PI*e/8),cy:24*Math.sin(2*Math.PI*e/8),t:o,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:c,v:i(".3;.3;.3;.4;.7;.85;.9;1",e),rc:l}},t:1}]}},t:8}]},crescent:{c:[{sw:4,da:128,os:82,r:26,cx:32,cy:32,f:d,at:[g]}]},dots:{c:[{fn:function(e){return{cx:16+16*e,cy:32,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:c,v:i(".5;.6;.8;1;.8;.6;.5",e),rc:l}},t:1},{fn:function(){return{an:"r",dur:c,v:i("4;5;6;5;4;3;3",e),rc:l}},t:1}]}},t:3}]},lines:{sw:7,lc:a,line:[{fn:function(e){return{x1:10+14*e,x2:10+14*e,a:[{fn:function(){return{an:"y1",dur:c,v:i("16;18;28;18;16",e),rc:l}},t:1},{fn:function(){return{an:"y2",dur:c,v:i("48;44;36;46;48",e),rc:l}},t:1},{fn:function(){return{an:s,dur:c,v:i("1;.8;.5;.4;1",e),rc:l}},t:1}]}},t:4}]},ripple:{f:d,"fill-rule":"evenodd",sw:3,circle:[{fn:function(e){return{cx:32,cy:32,a:[{fn:function(){return{an:"r",begin:-1*e+"s",dur:"2s",v:"0;24",keyTimes:"0;1",keySplines:"0.1,0.2,0.3,1",calcMode:"spline",rc:l}},t:1},{fn:function(){return{an:s,begin:-1*e+"s",dur:"2s",v:".2;1;.2;0",rc:l}},t:1}]}},t:2}]},spiral:{defs:[{linearGradient:[{id:"sGD",gradientUnits:"userSpaceOnUse",x1:55,y1:46,x2:2,y2:46,stop:[{offset:.1,"class":"stop1"},{offset:1,"class":"stop2"}]}]}],g:[{sw:4,lc:a,f:d,path:[{stroke:"url(#sGD)",d:"M4,32 c0,15,12,28,28,28c8,0,16-4,21-9"},{d:"M60,32 C60,16,47.464,4,32,4S4,16,4,32"}],at:[g]}]}},m={android:function(t){function i(){var t=r(Date.now()-o,650),c=1,d=0,p=188-58*t,g=182-182*t;s%2&&(c=-1,d=-64,p=128- -58*t,g=182*t);var h=[0,-101,-90,-11,-180,79,-270,-191][s];n(u,"da",Math.max(Math.min(p,188),128)),n(u,"os",Math.max(Math.min(g,182),0)),n(u,"t","scale("+c+",1) translate("+d+",0) rotate("+h+",32,32)"),a+=4.1,a>359&&(a=0),n(l,"t","rotate("+a+",32,32)"),t>=1&&(s++,s>7&&(s=0),o=Date.now()),e.requestAnimationFrame(i)}var o,s=0,a=0,l=t.querySelector("g"),u=t.querySelector("circle");return function(){o=Date.now(),i()}}};u.controller("$ionicSpinner",["$element","$attrs",function(n,i){var r,o;this.init=function(){r=i.icon||e.Platform.platform(),o=f[r],o||(r="ios",o=f.ios);var s=document.createElement("div");return t("svg",{viewBox:"0 0 64 64",g:[f[r]]},s,r),n.html(s.innerHTML),this.start(),r},this.start=function(){m[r]&&m[r](n[0])()}}])}(ionic),u.controller("$ionicTab",["$scope","$ionicHistory","$attrs","$location","$state",function(e,t,n,i,r){this.$scope=e,this.hrefMatchesState=function(){return n.href&&0===i.path().indexOf(n.href.replace(/^#/,"").replace(/\/$/,""))},this.srefMatchesState=function(){return n.uiSref&&r.includes(n.uiSref.split("(")[0])},this.navNameMatchesState=function(){return this.navViewName&&t.isCurrentStateNavView(this.navViewName)},this.tabMatchesState=function(){return this.hrefMatchesState()||this.srefMatchesState()||this.navNameMatchesState()}}]),u.controller("$ionicTabs",["$scope","$element","$ionicHistory",function(e,t,n){var i,r=this,o=null;r.tabs=[],r.selectedIndex=function(){return r.tabs.indexOf(o)},r.selectedTab=function(){return o},r.add=function(e){n.registerHistory(e),r.tabs.push(e)},r.remove=function(e){var t=r.tabs.indexOf(e);if(-1!==t){if(e.$tabSelected)if(r.deselect(e),1===r.tabs.length);else{var n=t===r.tabs.length-1?t-1:t+1;r.select(r.tabs[n])}r.tabs.splice(t,1)}},r.deselect=function(e){e.$tabSelected&&(o=i=null,e.$tabSelected=!1,(e.onDeselect||m)(),e.$broadcast&&e.$broadcast("$ionicHistory.deselect"))},r.select=function(t,s){var a;if(g(t)){if(a=t,a>=r.tabs.length)return;t=r.tabs[a]}else a=r.tabs.indexOf(t);1===arguments.length&&(s=!(!t.navViewName&&!t.uiSref)),o&&o.$historyId==t.$historyId?s&&n.goToHistoryRoot(t.$historyId):i!==a&&(d(r.tabs,function(e){r.deselect(e)}),o=t,i=a,r.$scope&&r.$scope.$parent&&(r.$scope.$parent.$activeHistoryId=t.$historyId),t.$tabSelected=!0,(t.onSelect||m)(),s&&e.$emit("$ionicHistory.change",{type:"tab",tabIndex:a,historyId:t.$historyId,navViewName:t.navViewName,hasNavView:!!t.navViewName,title:t.title,url:t.href,uiSref:t.uiSref}))},r.hasActiveScope=function(){for(var e=0;e<r.tabs.length;e++)if(n.isActiveScope(r.tabs[e]))return!0;return!1}}]),u.controller("$ionicView",["$scope","$element","$attrs","$compile","$rootScope","$ionicViewSwitcher",function(e,t,n,i,r){function o(){var t=p(n.viewTitle)&&"viewTitle"||p(n.title)&&"title";t&&(s(n[t]),b.push(n.$observe(t,s))),p(n.hideBackButton)&&b.push(e.$watch(n.hideBackButton,function(e){d.showBackButton(!e)})),p(n.hideNavBar)&&b.push(e.$watch(n.hideNavBar,function(e){d.showBar(!e)}))}function s(e){p(e)&&e!==f&&(f=e,d.title(f))}function a(){for(var e=0;e<b.length;e++)b[e]();b=[]}function l(t){return t?i(t)(e.$new()):void 0}function u(t){return!!e.$eval(n[t])}var d,g,h,f,m=this,v={},b=[],y=e.$on("ionNavBar.init",function(e,t){e.stopPropagation(),g=t});m.init=function(){y();var n=t.inheritedData("$ionModalController");d=t.inheritedData("$ionNavViewController"),d&&!n&&(e.$on("$ionicView.beforeEnter",m.beforeEnter),e.$on("$ionicView.afterEnter",o),e.$on("$ionicView.beforeLeave",a))},m.beforeEnter=function(t,i){if(i&&!i.viewNotified){i.viewNotified=!0,r.$$phase||e.$digest(),f=p(n.viewTitle)?n.viewTitle:n.title;var o={};for(var s in v)o[s]=l(v[s]);d.beforeEnter(c(i,{title:f,showBack:!u("hideBackButton"),navBarItems:o,navBarDelegate:g||null,showNavBar:!u("hideNavBar"),hasHeaderBar:!!h})),a()}},m.navElement=function(e,t){v[e]=t}}]),u.directive("ionActionSheet",["$document",function(e){return{restrict:"E",scope:!0,replace:!0,link:function(t,n){var i=function(e){27==e.which&&(t.cancel(),t.$apply())},r=function(e){e.target==n[0]&&(t.cancel(),t.$apply())};t.$on("$destroy",function(){n.remove(),e.unbind("keyup",i)}),e.bind("keyup",i),n.bind("click",r)},template:'<div class="action-sheet-backdrop"><div class="action-sheet-wrapper"><div class="action-sheet" ng-class="{\'action-sheet-has-icons\': $actionSheetHasIcon}"><div class="action-sheet-group action-sheet-options"><div class="action-sheet-title" ng-if="titleText" ng-bind-html="titleText"></div><button class="button action-sheet-option" ng-click="buttonClicked($index)" ng-repeat="b in buttons" ng-bind-html="b.text"></button><button class="button destructive action-sheet-destructive" ng-if="destructiveText" ng-click="destructiveButtonClicked()" ng-bind-html="destructiveText"></button></div><div class="action-sheet-group action-sheet-cancel" ng-if="cancelText"><button class="button" ng-click="cancel()" ng-bind-html="cancelText"></button></div></div></div></div>'}}]),u.directive("ionCheckbox",["$ionicConfig",function(e){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-checkbox"><div class="checkbox checkbox-input-hidden disable-pointer-events"><input type="checkbox"><i class="checkbox-icon"></i></div><div class="item-content disable-pointer-events" ng-transclude></div></label>',compile:function(t,n){var i=t.find("input");d({name:n.name,"ng-value":n.ngValue,"ng-model":n.ngModel,"ng-checked":n.ngChecked,"ng-disabled":n.ngDisabled,"ng-true-value":n.ngTrueValue,"ng-false-value":n.ngFalseValue,"ng-change":n.ngChange},function(e,t){p(e)&&i.attr(t,e)});var r=t[0].querySelector(".checkbox");r.classList.add("checkbox-"+e.form.checkbox())}}}]),u.directive("collectionRepeat",e).factory("$ionicCollectionManager",t);var E="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",M=/height:.*?px;\s*width:.*?px/,A=3;e.$inject=["$ionicCollectionManager","$parse","$window","$$rAF","$rootScope","$timeout"],t.$inject=["$rootScope","$window","$$rAF"],u.directive("ionContent",["$timeout","$controller","$ionicBind","$ionicConfig",function(e,t,n,i){return{restrict:"E",require:"^?ionNavView",scope:!0,priority:800,compile:function(e,r){function o(e,o,a){var l=e.$parent;if(e.$watch(function(){return(l.$hasHeader?" has-header":"")+(l.$hasSubheader?" has-subheader":"")+(l.$hasFooter?" has-footer":"")+(l.$hasSubfooter?" has-subfooter":"")+(l.$hasTabs?" has-tabs":"")+(l.$hasTabsTop?" has-tabs-top":"")},function(e,t){o.removeClass(t),o.addClass(e)}),e.$hasHeader=e.$hasSubheader=e.$hasFooter=e.$hasSubfooter=e.$hasTabs=e.$hasTabsTop=!1,n(e,a,{$onScroll:"&onScroll",$onScrollComplete:"&onScrollComplete",hasBouncing:"@",padding:"@",direction:"@",scrollbarX:"@",scrollbarY:"@",startX:"@",startY:"@",scrollEventInterval:"@"}),e.direction=e.direction||"y",p(a.padding)&&e.$watch(a.padding,function(e){(s||o).toggleClass("padding",!!e)}),"false"===a.scroll);else if("true"!==r.overflowScroll&&i.scrolling.jsScrolling()){var u={el:o[0],delegateHandle:r.delegateHandle,locking:"true"===(r.locking||"true"),bouncing:e.$eval(e.hasBouncing),startX:e.$eval(e.startX)||0,startY:e.$eval(e.startY)||0,scrollbarX:e.$eval(e.scrollbarX)!==!1,scrollbarY:e.$eval(e.scrollbarY)!==!1,scrollingX:e.direction.indexOf("x")>=0,scrollingY:e.direction.indexOf("y")>=0,scrollEventInterval:parseInt(e.scrollEventInterval,10)||10,scrollingComplete:function(){e.$onScrollComplete({scrollTop:this.__scrollTop,scrollLeft:this.__scrollLeft})}};t("$ionicScroll",{$scope:e,scrollViewOptions:u}),e.$on("$destroy",function(){u.scrollingComplete=m,delete u.el,s=null,o=null,r.$$element=null})}else o.addClass("overflow-scroll")}var s;return e.addClass("scroll-content ionic-scroll"),"false"!=r.scroll?(s=f('<div class="scroll"></div>'),s.append(e.contents()),e.append(s)):e.addClass("scroll-content-false"),{pre:o}}}}]),u.directive("exposeAsideWhen",["$window",function(e){return{restrict:"A",require:"^ionSideMenus",link:function(t,n,i,r){function o(){var t="large"==i.exposeAsideWhen?"(min-width:768px)":i.exposeAsideWhen;r.exposeAside(e.matchMedia(t).matches),r.activeAsideResizing(!1)}function s(){r.activeAsideResizing(!0),a()}var a=ionic.debounce(function(){t.$apply(o)},300,!1);o(),ionic.on("resize",s,e),t.$on("$destroy",function(){ionic.off("resize",s,e)})}}}]);var D="onHold onTap onDoubleTap onTouch onRelease onDrag onDragUp onDragRight onDragDown onDragLeft onSwipe onSwipeUp onSwipeRight onSwipeDown onSwipeLeft".split(" ");D.forEach(function(e){u.directive(e,n(e))}),u.directive("ionHeaderBar",r()).directive("ionHeaderBar",o(!0)).directive("ionFooterBar",o(!1)),u.directive("ionInfiniteScroll",["$timeout",function(e){return{restrict:"E",require:["?^$ionicScroll","ionInfiniteScroll"],template:function(e,t){return t.icon?'<i class="icon {{icon()}} icon-refreshing {{scrollingType}}"></i>':'<ion-spinner icon="{{spinner()}}"></ion-spinner>'},scope:!0,controller:"$ionInfiniteScroll",link:function(t,n,i,r){var o=r[1],s=o.scrollCtrl=r[0],a=o.jsScrolling=!!s;if(a)o.scrollView=s.scrollView;else{var l=ionic.DomUtil.getParentOrSelfWithClass(n[0].parentNode,"overflow-scroll");if(o.scrollEl=l,!l)throw"Infinite scroll must be used inside a scrollable div"}a?(t.scrollingType="js-scrolling",s.$element.on("scroll",o.checkBounds)):o.scrollEl.addEventListener("scroll",o.checkBounds);var u=p(i.immediateCheck)?t.$eval(i.immediateCheck):!0;u&&e(function(){o.checkBounds()})}}}]);var P='<a class="item-content" ng-href="{{$href()}}" target="{{$target()}}"></a>',j='<div class="item-content"></div>';u.directive("ionItem",function(){return{restrict:"E",controller:["$scope","$element",function(e,t){this.$scope=e,this.$element=t}],scope:!0,compile:function(e,t){var n=p(t.href)||p(t.ngHref)||p(t.uiSref),i=n||/ion-(delete|option|reorder)-button/i.test(e.html());if(i){var r=f(n?P:j);r.append(e.contents()),e.append(r),e.addClass("item item-complex")}else e.addClass("item");return function(e,t,n){e.$href=function(){return n.href||n.ngHref},e.$target=function(){return n.target||"_self"};var i=t[0].querySelector(".item-content");i&&e.$on("$collectionRepeatChange",function(){i&&(i.style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)")})}}}});var O='<div class="item-left-edit item-delete enable-pointer-events"></div>';u.directive("ionDeleteButton",function(){return{restrict:"E",require:["^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(e,t){return t.$set("class",(t["class"]||"")+" button icon button-icon",!0),function(e,t,n,i){var r=i[0],o=i[1],s=f(O);s.append(t),r.$element.append(s).addClass("item-left-editable"),o&&o.showDelete()&&s.addClass("visible active")}}}}),u.directive("itemFloatingLabel",function(){return{restrict:"C",link:function(e,t){var n=t[0],i=n.querySelector("input, textarea"),r=n.querySelector(".input-label");if(i&&r){var o=function(){i.value?r.classList.add("has-input"):r.classList.remove("has-input")};i.addEventListener("input",o);var s=f(i).controller("ngModel");s&&(s.$render=function(){i.value=s.$viewValue||"",o()}),e.$on("$destroy",function(){i.removeEventListener("input",o)})}}}});var q='<div class="item-options invisible"></div>';u.directive("ionOptionButton",["$compile",function(){function e(e){e.stopPropagation()}return{restrict:"E",require:"^ionItem",priority:Number.MAX_VALUE,compile:function(t,n){return n.$set("class",(n["class"]||"")+" button",!0),function(t,n,i,r){r.optionsContainer||(r.optionsContainer=f(q),r.$element.append(r.optionsContainer)),r.optionsContainer.append(n),r.$element.addClass("item-right-editable"),n.on("click",e)}}}}]);var I='<div data-prevent-scroll="true" class="item-right-edit item-reorder enable-pointer-events"></div>';u.directive("ionReorderButton",["$parse",function(e){return{restrict:"E",require:["^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(t,n){return n.$set("class",(n["class"]||"")+" button icon button-icon",!0),t[0].setAttribute("data-prevent-scroll",!0),function(t,n,i,r){var o=r[0],s=r[1],a=e(i.onReorder);t.$onReorder=function(e,n){a(t,{$fromIndex:e,$toIndex:n})},i.ngClick||i.onClick||i.onclick||(n[0].onclick=function(e){return e.stopPropagation(),!1});var l=f(I);l.append(n),o.$element.append(l).addClass("item-right-editable"),s&&s.showReorder()&&l.addClass("visible active")}}}}]),u.directive("keyboardAttach",function(){return function(e,t){function n(e){if(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen){var n=e.keyboardHeight||e.detail.keyboardHeight;t.css("bottom",n+"px"),r=t.controller("$ionicScroll"),r&&(r.scrollView.__container.style.bottom=n+s(t[0])+"px")}}function i(){(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen)&&(t.css("bottom",""),r&&(r.scrollView.__container.style.bottom=""))}ionic.on("native.keyboardshow",n,window),ionic.on("native.keyboardhide",i,window),ionic.on("native.showkeyboard",n,window),ionic.on("native.hidekeyboard",i,window);var r;e.$on("$destroy",function(){ionic.off("native.keyboardshow",n,window),ionic.off("native.keyboardhide",i,window),ionic.off("native.showkeyboard",n,window),ionic.off("native.hidekeyboard",i,window)})}}),u.directive("ionList",["$timeout",function(e){return{restrict:"E",require:["ionList","^?$ionicScroll"],controller:"$ionicList",compile:function(t,n){var i=f('<div class="list">').append(t.contents()).addClass(n.type);return t.append(i),function(t,i,r,o){function s(){function r(e,t){t()&&e.addClass("visible")||e.removeClass("active"),ionic.requestAnimationFrame(function(){t()&&e.addClass("active")||e.removeClass("visible")})}var o=a.listView=new ionic.views.ListView({el:i[0],listEl:i.children()[0],scrollEl:l&&l.element,scrollView:l&&l.scrollView,onReorder:function(t,n,i){var r=f(t).scope();r&&r.$onReorder&&e(function(){r.$onReorder(n,i)})},canSwipe:function(){return a.canSwipeItems()}});t.$on("$destroy",function(){o&&(o.deregister&&o.deregister(),o=null)}),p(n.canSwipe)&&t.$watch("!!("+n.canSwipe+")",function(e){a.canSwipeItems(e)}),p(n.showDelete)&&t.$watch("!!("+n.showDelete+")",function(e){a.showDelete(e)}),p(n.showReorder)&&t.$watch("!!("+n.showReorder+")",function(e){a.showReorder(e)}),t.$watch(function(){return a.showDelete()},function(e,t){if(e||t){e&&a.closeOptionButtons(),a.canSwipeItems(!e),i.children().toggleClass("list-left-editing",e),i.toggleClass("disable-pointer-events",e);var n=f(i[0].getElementsByClassName("item-delete"));r(n,a.showDelete)}}),t.$watch(function(){return a.showReorder()},function(e,t){if(e||t){e&&a.closeOptionButtons(),a.canSwipeItems(!e),i.children().toggleClass("list-right-editing",e),i.toggleClass("disable-pointer-events",e);var n=f(i[0].getElementsByClassName("item-reorder"));r(n,a.showReorder)}})}var a=o[0],l=o[1];e(s)}}}}]),u.directive("menuClose",["$ionicHistory",function(e){return{restrict:"AC",link:function(t,n){n.bind("click",function(){var t=n.inheritedData("$ionSideMenusController");t&&(e.nextViewOptions({historyRoot:!0,disableAnimate:!0,expire:300}),t.close())})}}}]),u.directive("menuToggle",function(){return{restrict:"AC",link:function(e,t,n){e.$on("$ionicView.beforeEnter",function(e,n){if(n.enableBack){var i=t.inheritedData("$ionSideMenusController");i.enableMenuWithBackViews()||t.addClass("hide")}else t.removeClass("hide")}),t.bind("click",function(){var e=t.inheritedData("$ionSideMenusController");e&&e.toggle(n.menuToggle)})}}}),u.directive("ionModal",[function(){
return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="modal-backdrop"><div class="modal-wrapper" ng-transclude></div></div>'}}]),u.directive("ionModalView",function(){return{restrict:"E",compile:function(e){e.addClass("modal")}}}),u.directive("ionNavBackButton",["$ionicConfig","$document",function(e,t){return{restrict:"E",require:"^ionNavBar",compile:function(n,i){function r(e){return/ion-|icon/.test(e.className)}var o=t[0].createElement("button");for(var s in i.$attr)o.setAttribute(i.$attr[s],i[s]);i.ngClick||o.setAttribute("ng-click","$ionicGoBack($event)"),o.className="button back-button hide buttons "+(n.attr("class")||""),o.innerHTML=n.html()||"";for(var a,l,u,c,d=r(n[0]),p=0;p<n[0].childNodes.length;p++)a=n[0].childNodes[p],1===a.nodeType?r(a)?d=!0:a.classList.contains("default-title")?u=!0:a.classList.contains("previous-title")&&(c=!0):l||3!==a.nodeType||(l=!!a.nodeValue.trim());var g=e.backButton.icon();if(!d&&g&&"none"!==g&&(o.innerHTML='<i class="icon '+g+'"></i> '+o.innerHTML,o.className+=" button-clear"),!l){var h=t[0].createElement("span");h.className="back-text",!u&&e.backButton.text()&&(h.innerHTML+='<span class="default-title">'+e.backButton.text()+"</span>"),!c&&e.backButton.previousTitleText()&&(h.innerHTML+='<span class="previous-title"></span>'),o.appendChild(h)}return n.attr("class","hide"),n.empty(),{pre:function(e,t,n,i){i.navElement("backButton",o.outerHTML),o=null}}}}}]),u.directive("ionNavBar",function(){return{restrict:"E",controller:"$ionicNavBar",scope:!0,link:function(e,t,n,i){i.init()}}}),u.directive("ionNavButtons",["$document",function(e){return{require:"^ionNavBar",restrict:"E",compile:function(t,n){var i="left";/^primary|secondary|right$/i.test(n.side||"")&&(i=n.side.toLowerCase());var r=e[0].createElement("span");r.className=i+"-buttons",r.innerHTML=t.html();var o=i+"Buttons";return t.attr("class","hide"),t.empty(),{pre:function(e,t,n,i){var s=t.parent().data("$ionViewController");s?s.navElement(o,r.outerHTML):i.navElement(o,r.outerHTML),r=null}}}}}]),u.directive("navDirection",["$ionicViewSwitcher",function(e){return{restrict:"A",priority:1e3,link:function(t,n,i){n.bind("click",function(){e.nextDirection(i.navDirection)})}}}]),u.directive("ionNavTitle",["$document",function(e){return{require:"^ionNavBar",restrict:"E",compile:function(t,n){var i="title",r=e[0].createElement("span");for(var o in n.$attr)r.setAttribute(n.$attr[o],n[o]);return r.classList.add("nav-bar-title"),r.innerHTML=t.html(),t.attr("class","hide"),t.empty(),{pre:function(e,t,n,o){var s=t.parent().data("$ionViewController");s?s.navElement(i,r.outerHTML):o.navElement(i,r.outerHTML),r=null}}}}}]),u.directive("navTransition",["$ionicViewSwitcher",function(e){return{restrict:"A",priority:1e3,link:function(t,n,i){n.bind("click",function(){e.nextTransition(i.navTransition)})}}}]),u.directive("ionNavView",["$state","$ionicConfig",function(e,t){return{restrict:"E",terminal:!0,priority:2e3,transclude:!0,controller:"$ionicNavView",compile:function(n,i,r){return n.addClass("view-container"),ionic.DomUtil.cachedAttr(n,"nav-view-transition",t.views.transition()),function(t,n,i,o){function s(t){var n=e.$current&&e.$current.locals[l.name];n&&(t||n!==a)&&(a=n,l.state=n.$$state,o.register(n))}var a;r(t,function(e){n.append(e)});var l=o.init();t.$on("$stateChangeSuccess",function(){s(!1)}),t.$on("$viewContentLoading",function(){s(!1)}),s(!0)}}}}]),u.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]).factory("$ionicNgClick",["$parse",function(e){return function(t,n,i){var r=angular.isFunction(i)?i:e(i);n.on("click",function(e){t.$apply(function(){r(t,{$event:e})})}),n.onclick=function(){}}}]).directive("ngClick",["$ionicNgClick",function(e){return function(t,n,i){e(t,n,i.ngClick)}}]).directive("ionStopEvent",function(){return{restrict:"A",link:function(e,t,n){t.bind(n.ionStopEvent,a)}}}),u.directive("ionPane",function(){return{restrict:"E",link:function(e,t){t.addClass("pane")}}}),u.directive("ionPopover",[function(){return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="popover-backdrop"><div class="popover-wrapper" ng-transclude></div></div>'}}]),u.directive("ionPopoverView",function(){return{restrict:"E",compile:function(e){e.append(f('<div class="popover-arrow">')),e.addClass("popover")}}}),u.directive("ionRadio",function(){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-radio"><input type="radio" name="radio-group"><div class="item-content disable-pointer-events" ng-transclude></div><i class="radio-icon disable-pointer-events icon ion-checkmark"></i></label>',compile:function(e,t){t.icon&&e.children().eq(2).removeClass("ion-checkmark").addClass(t.icon);var n=e.find("input");return d({name:t.name,value:t.value,disabled:t.disabled,"ng-value":t.ngValue,"ng-model":t.ngModel,"ng-disabled":t.ngDisabled,"ng-change":t.ngChange},function(e,t){p(e)&&n.attr(t,e)}),function(e,t,n){e.getValue=function(){return e.ngValue||n.value}}}}}),u.directive("ionRefresher",[function(){return{restrict:"E",replace:!0,require:["?^$ionicScroll","ionRefresher"],controller:"$ionicRefresher",template:'<div class="scroll-refresher invisible" collection-repeat-ignore><div class="ionic-refresher-content" ng-class="{\'ionic-refresher-with-text\': pullingText || refreshingText}"><div class="icon-pulling" ng-class="{\'pulling-rotation-disabled\':disablePullingRotation}"><i class="icon {{pullingIcon}}"></i></div><div class="text-pulling" ng-bind-html="pullingText"></div><div class="icon-refreshing"><ion-spinner ng-if="showSpinner" icon="{{spinner}}"></ion-spinner><i ng-if="showIcon" class="icon {{refreshingIcon}}"></i></div><div class="text-refreshing" ng-bind-html="refreshingText"></div></div></div>',link:function(e,t,n,i){var r=i[0],o=i[1];r?(t[0].classList.add("js-scrolling"),r._setRefresher(e,t[0],o.getRefresherDomMethods()),e.$on("scroll.refreshComplete",function(){e.$evalAsync(function(){r.scrollView.finishPullToRefresh()})})):o.init()}}}]),u.directive("ionScroll",["$timeout","$controller","$ionicBind",function(e,t,n){return{restrict:"E",scope:!0,controller:function(){},compile:function(e){function i(e,i,o){var s,a;n(e,o,{direction:"@",paging:"@",$onScroll:"&onScroll",scroll:"@",scrollbarX:"@",scrollbarY:"@",zooming:"@",minZoom:"@",maxZoom:"@"}),e.direction=e.direction||"y",p(o.padding)&&e.$watch(o.padding,function(e){r.toggleClass("padding",!!e)}),e.$eval(e.paging)===!0&&r.addClass("scroll-paging"),e.direction||(e.direction="y");var l=e.$eval(e.paging)===!0,u={el:i[0],delegateHandle:o.delegateHandle,locking:"true"===(o.locking||"true"),bouncing:e.$eval(o.hasBouncing),paging:l,scrollbarX:e.$eval(e.scrollbarX)!==!1,scrollbarY:e.$eval(e.scrollbarY)!==!1,scrollingX:e.direction.indexOf("x")>=0,scrollingY:e.direction.indexOf("y")>=0,zooming:e.$eval(e.zooming)===!0,maxZoom:e.$eval(e.maxZoom)||3,minZoom:e.$eval(e.minZoom)||.5,preventDefault:!0};l&&(u.speedMultiplier=.8,u.bouncing=!1),a=t("$ionicScroll",{$scope:e,scrollViewOptions:u}),s=e.$parent.scrollView=a.scrollView}e.addClass("scroll-view ionic-scroll");var r=f('<div class="scroll"></div>');return r.append(e.contents()),e.append(r),{pre:i}}}}]),u.directive("ionSideMenu",function(){return{restrict:"E",require:"^ionSideMenus",scope:!0,compile:function(e,t){return angular.isUndefined(t.isEnabled)&&t.$set("isEnabled","true"),angular.isUndefined(t.width)&&t.$set("width","275"),e.addClass("menu menu-"+t.side),function(e,n,i,r){e.side=i.side||"left";var o=r[e.side]=new ionic.views.SideMenu({width:t.width,el:n[0],isEnabled:!0});e.$watch(i.width,function(e){var t=+e;t&&t==e&&o.setWidth(+e)}),e.$watch(i.isEnabled,function(e){o.setIsEnabled(!!e)})}}}}),u.directive("ionSideMenuContent",["$timeout","$ionicGesture","$window",function(e,t,n){return{restrict:"EA",require:"^ionSideMenus",scope:!0,compile:function(i,r){function o(o,s,a,l){function u(e){0!==l.getOpenAmount()?(l.close(),e.gesture.srcEvent.preventDefault(),f=null,m=null):f||(f=ionic.tap.pointerCoord(e.gesture.srcEvent))}function c(e){l.isDraggableTarget(e)&&"x"==h(e)&&(l._handleDrag(e),e.gesture.srcEvent.preventDefault())}function d(e){"x"==h(e)&&e.gesture.srcEvent.preventDefault()}function g(e){l._endDrag(e),f=null,m=null}function h(e){if(m)return m;if(e&&e.gesture){if(f){var t=ionic.tap.pointerCoord(e.gesture.srcEvent),n=Math.abs(t.x-f.x),i=Math.abs(t.y-f.y),r=i>n?"y":"x";return Math.max(n,i)>30&&(m=r),r}f=ionic.tap.pointerCoord(e.gesture.srcEvent)}return"y"}var f=null,m=null;p(r.dragContent)?o.$watch(r.dragContent,function(e){l.canDragContent(e)}):l.canDragContent(!0),p(r.edgeDragThreshold)&&o.$watch(r.edgeDragThreshold,function(e){l.edgeDragThreshold(e)});var v={element:i[0],onDrag:function(){},endDrag:function(){},getTranslateX:function(){return o.sideMenuContentTranslateX||0},setTranslateX:ionic.animationFrameThrottle(function(t){var n=v.offsetX+t;s[0].style[ionic.CSS.TRANSFORM]="translate3d("+n+"px,0,0)",e(function(){o.sideMenuContentTranslateX=t})}),setMarginLeft:ionic.animationFrameThrottle(function(e){e?(e=parseInt(e,10),s[0].style[ionic.CSS.TRANSFORM]="translate3d("+e+"px,0,0)",s[0].style.width=n.innerWidth-e+"px",v.offsetX=e):(s[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)",s[0].style.width="",v.offsetX=0),ionic.trigger("resize",null,window)}),setMarginRight:ionic.animationFrameThrottle(function(e){e?(e=parseInt(e,10),s[0].style.width=n.innerWidth-e+"px",v.offsetX=e):(s[0].style.width="",v.offsetX=0),s[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)"}),enableAnimation:function(){o.animationEnabled=!0,s[0].classList.add("menu-animated")},disableAnimation:function(){o.animationEnabled=!1,s[0].classList.remove("menu-animated")},offsetX:0};l.setContent(v);var b={stop_browser_behavior:!1},y=t.on("tap",u,s,b),_=t.on("dragright",c,s,b),w=t.on("dragleft",c,s,b),$=t.on("dragup",d,s,b),x=t.on("dragdown",d,s,b),k=t.on("release",g,s,b);o.$on("$destroy",function(){v&&(v.element=null,v=null),t.off(w,"dragleft",c),t.off(_,"dragright",c),t.off($,"dragup",d),t.off(x,"dragdown",d),t.off(k,"release",g),t.off(y,"tap",u)})}return i.addClass("menu-content pane"),{pre:o}}}}]),u.directive("ionSideMenus",["$ionicBody",function(e){return{restrict:"ECA",controller:"$ionicSideMenus",compile:function(t,n){function i(t,n,i,r){r.enableMenuWithBackViews(t.$eval(i.enableMenuWithBackViews)),t.$on("$ionicExposeAside",function(n,i){t.$exposeAside||(t.$exposeAside={}),t.$exposeAside.active=i,e.enableClass(i,"aside-open")}),t.$on("$ionicView.beforeEnter",function(e,n){n.historyId&&(t.$activeHistoryId=n.historyId)}),t.$on("$destroy",function(){e.removeClass("menu-open","aside-open")})}return n.$set("class",(n["class"]||"")+" view"),{pre:i}}}}]),u.directive("ionSlideBox",["$timeout","$compile","$ionicSlideBoxDelegate","$ionicHistory",function(e,t,n,i){return{restrict:"E",replace:!0,transclude:!0,scope:{autoPlay:"=",doesContinue:"@",slideInterval:"@",showPager:"@",pagerClick:"&",disableScroll:"@",onSlideChanged:"&",activeSlide:"=?"},controller:["$scope","$element","$attrs",function(t,r,o){var s=t.$eval(t.doesContinue)===!0,a=p(o.autoPlay)?!!t.autoPlay:!1,l=a?t.$eval(t.slideInterval)||4e3:0,u=new ionic.views.Slider({el:r[0],auto:l,continuous:s,startSlide:t.activeSlide,slidesChanged:function(){t.currentSlide=u.currentIndex(),e(function(){})},callback:function(n){t.currentSlide=n,t.onSlideChanged({index:t.currentSlide,$index:t.currentSlide}),t.$parent.$broadcast("slideBox.slideChanged",n),t.activeSlide=n,e(function(){})}});u.enableSlide(t.$eval(o.disableScroll)!==!0),t.$watch("activeSlide",function(e){p(e)&&u.slide(e)}),t.$on("slideBox.nextSlide",function(){u.next()}),t.$on("slideBox.prevSlide",function(){u.prev()}),t.$on("slideBox.setSlide",function(e,t){u.slide(t)}),this.__slider=u;var c=n._registerInstance(u,o.delegateHandle,function(){return i.isActiveScope(t)});t.$on("$destroy",c),this.slidesCount=function(){return u.slidesCount()},this.onPagerClick=function(e){t.pagerClick({index:e})},e(function(){u.load()})}],template:'<div class="slider"><div class="slider-slides" ng-transclude></div></div>',link:function(e,n,i){function r(){if(!o){var i=e.$new();o=f("<ion-pager></ion-pager>"),n.append(o),o=t(o)(i)}return o}i.$observe("showPager",function(t){t=e.$eval(t),r().toggleClass("hide",!t)});var o}}}]).directive("ionSlide",function(){return{restrict:"E",require:"^ionSlideBox",compile:function(e){return e.addClass("slider-slide"),function(){}}}}).directive("ionPager",function(){return{restrict:"E",replace:!0,require:"^ionSlideBox",template:'<div class="slider-pager"><span class="slider-pager-page" ng-repeat="slide in numSlides() track by $index" ng-class="{active: $index == currentSlide}" ng-click="pagerClick($index)"><i class="icon ion-record"></i></span></div>',link:function(e,t,n,i){var r=function(e){for(var n=t[0].children,i=n.length,r=0;i>r;r++)r==e?n[r].classList.add("active"):n[r].classList.remove("active")};e.pagerClick=function(e){i.onPagerClick(e)},e.numSlides=function(){return new Array(i.slidesCount())},e.$watch("currentSlide",function(e){r(e)})}}}),u.directive("ionSpinner",function(){return{restrict:"E",controller:"$ionicSpinner",link:function(e,t,n,i){var r=i.init();t.addClass("spinner spinner-"+r)}}}),u.directive("ionTab",["$compile","$ionicConfig","$ionicBind","$ionicViewSwitcher",function(e,t,n,i){function r(e,t){return p(t)?" "+e+'="'+t+'"':""}return{restrict:"E",require:["^ionTabs","ionTab"],controller:"$ionicTab",scope:!0,compile:function(o,s){for(var a="<ion-tab-nav"+r("ng-click",s.ngClick)+r("title",s.title)+r("icon",s.icon)+r("icon-on",s.iconOn)+r("icon-off",s.iconOff)+r("badge",s.badge)+r("badge-style",s.badgeStyle)+r("hidden",s.hidden)+r("disabled",s.disabled)+r("class",s["class"])+"></ion-tab-nav>",l=document.createElement("div"),u=0;u<o[0].children.length;u++)l.appendChild(o[0].children[u].cloneNode(!0));var c=l.childElementCount;o.empty();var d,p;return c&&("ION-NAV-VIEW"===l.children[0].tagName&&(d=l.children[0].getAttribute("name"),l.children[0].classList.add("view-container"),p=!0),1===c&&(l=l.children[0]),p||l.classList.add("pane"),l.classList.add("tab-content")),function(r,o,s,u){function p(){y.tabMatchesState()&&b.select(r,!1)}function g(n){n&&c?(_||(m=r.$new(),v=f(l),i.viewEleIsActive(v,!0),b.$element.append(v),e(v)(m),_=!0),i.viewEleIsActive(v,!0)):_&&v&&(t.views.maxCache()>0?i.viewEleIsActive(v,!1):h())}function h(){m&&m.$destroy(),_&&v&&v.remove(),l.innerHTML="",_=m=v=null}var m,v,b=u[0],y=u[1],_=!1;n(r,s,{onSelect:"&",onDeselect:"&",title:"@",uiSref:"@",href:"@"}),b.add(r),r.$on("$destroy",function(){r.$tabsDestroy||b.remove(r),w.isolateScope().$destroy(),w.remove(),w=l=v=null}),o[0].removeAttribute("title"),d&&(y.navViewName=r.navViewName=d),r.$on("$stateChangeSuccess",p),p();var w=f(a);w.data("$ionTabsController",b),w.data("$ionTabController",y),b.$tabsElement.append(e(w)(r)),r.$watch("$tabSelected",g),r.$on("$ionicView.afterEnter",function(){i.viewEleIsActive(v,r.$tabSelected)}),r.$on("$ionicView.clearCache",function(){r.$tabSelected||h()})}}}}]),u.directive("ionTabNav",[function(){return{restrict:"E",replace:!0,require:["^ionTabs","^ionTab"],template:"<a ng-class=\"{'tab-item-active': isTabActive(), 'has-badge':badge, 'tab-hidden':isHidden()}\" "+' ng-disabled="disabled()" class="tab-item"><span class="badge {{badgeStyle}}" ng-if="badge">{{badge}}</span><i class="icon {{getIconOn()}}" ng-if="getIconOn() && isTabActive()"></i><i class="icon {{getIconOff()}}" ng-if="getIconOff() && !isTabActive()"></i><span class="tab-title" ng-bind-html="title"></span></a>',scope:{title:"@",icon:"@",iconOn:"@",iconOff:"@",badge:"=",hidden:"@",disabled:"&",badgeStyle:"@","class":"@"},compile:function(){return function(e,t,n,i){var r=i[0],o=i[1];t[0].removeAttribute("title"),e.selectTab=function(e){e.preventDefault(),r.select(o.$scope,!0)},n.ngClick||t.on("click",function(t){e.$apply(function(){e.selectTab(t)})}),e.isHidden=function(){return"true"===n.hidden||n.hidden===!0?!0:!1},e.getIconOn=function(){return e.iconOn||e.icon},e.getIconOff=function(){return e.iconOff||e.icon},e.isTabActive=function(){return r.selectedTab()===o.$scope}}}}}]),u.directive("ionTabs",["$ionicTabsDelegate","$ionicConfig","$ionicHistory",function(e,t){return{restrict:"E",scope:!0,controller:"$ionicTabs",compile:function(n){function i(t,n,i,r){function s(e,t){e.stopPropagation();var n=r.selectedTab();n&&n.$emit(e.name.replace("NavView","View"),t)}var a=e._registerInstance(r,i.delegateHandle,r.hasActiveScope);r.$scope=t,r.$element=n,r.$tabsElement=f(n[0].querySelector(".tabs")),t.$watch(function(){return n[0].className},function(e){var n=-1!==e.indexOf("tabs-top"),i=-1!==e.indexOf("tabs-item-hide");t.$hasTabs=!n&&!i,t.$hasTabsTop=n&&!i,t.$emit("$ionicTabs.top",t.$hasTabsTop)}),t.$on("$ionicNavView.beforeLeave",s),t.$on("$ionicNavView.afterLeave",s),t.$on("$ionicNavView.leave",s),t.$on("$destroy",function(){t.$tabsDestroy=!0,a(),r.$tabsElement=r.$element=r.$scope=o=null,delete t.$hasTabs,delete t.$hasTabsTop})}function r(e,t,n,i){i.selectedTab()||i.select(0)}var o=f('<div class="tab-nav tabs">');return o.append(n.contents()),n.append(o).addClass("tabs-"+t.tabs.position()+" tabs-"+t.tabs.style()),{pre:i,post:r}}}}]),u.directive("ionToggle",["$timeout","$ionicConfig",function(e,t){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<div class="item item-toggle"><div ng-transclude></div><label class="toggle"><input type="checkbox"><div class="track"><div class="handle"></div></div></label></div>',compile:function(e,n){var i=e.find("input");return d({name:n.name,"ng-value":n.ngValue,"ng-model":n.ngModel,"ng-checked":n.ngChecked,"ng-disabled":n.ngDisabled,"ng-true-value":n.ngTrueValue,"ng-false-value":n.ngFalseValue,"ng-change":n.ngChange},function(e,t){p(e)&&i.attr(t,e)}),n.toggleClass&&e[0].getElementsByTagName("label")[0].classList.add(n.toggleClass),e.addClass("toggle-"+t.form.toggle()),function(e,t){var n=t[0].getElementsByTagName("label")[0],i=n.children[0],r=n.children[1],o=r.children[0],s=f(i).controller("ngModel");e.toggle=new ionic.views.Toggle({el:n,track:r,checkbox:i,handle:o,onChange:function(){s&&(s.$setViewValue(i.checked),e.$apply())}}),e.$on("$destroy",function(){e.toggle.destroy()})}}}}]),u.directive("ionView",function(){return{restrict:"EA",priority:1e3,controller:"$ionicView",compile:function(e){return e.addClass("pane"),e[0].removeAttribute("title"),function(e,t,n,i){i.init()}}}})}(),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.progressbar"]),angular.module("ui.bootstrap.tpls",["template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html"]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){r||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.popover","ui.bootstrap.tooltip","ui.bootstrap.position","ui.bootstrap.bindHtml"]),angular.module("ui.bootstrap.tpls",["template/popover/popover.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html"]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,o,s,a,l,u){return function(r,c,d){function p(e){var t=e||g.trigger||d,i=n[t]||t;return{show:t,hide:i}}var g=angular.extend({},t,i),h=e(r),f=u.startSymbol(),m=u.endSymbol(),v="<div "+h+'-popup title="'+f+"title"+m+'" content="'+f+"content"+m+'" placement="'+f+"placement"+m+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(e,t){var n=o(v);return function(e,t,i){function o(){M.isOpen?d():u()}function u(){(!E||e.$eval(i[c+"Enable"]))&&(b(),M.popupDelay?S||(S=s(h,M.popupDelay,!1),S.then(function(e){e()})):h()())}function d(){e.$apply(function(){f()})}function h(){return S=null,k&&(s.cancel(k),k=null),M.content?(m(),$.css({top:0,left:0,display:"block"}),C?a.find("body").append($):t.after($),A(),M.isOpen=!0,M.$digest(),A):angular.noop}function f(){M.isOpen=!1,s.cancel(S),S=null,M.animation?k||(k=s(v,500)):v()}function m(){$&&v(),x=M.$new(),$=n(x,angular.noop)}function v(){k=null,$&&($.remove(),$=null),x&&(x.$destroy(),x=null)}function b(){y(),_()}function y(){var e=i[c+"Placement"];M.placement=angular.isDefined(e)?e:g.placement}function _(){var e=i[c+"PopupDelay"],t=parseInt(e,10);M.popupDelay=isNaN(t)?g.popupDelay:t}function w(){var e=i[c+"Trigger"];D(),T=p(e),T.show===T.hide?t.bind(T.show,o):(t.bind(T.show,u),t.bind(T.hide,d))}var $,x,k,S,C=angular.isDefined(g.appendToBody)?g.appendToBody:!1,T=p(void 0),E=angular.isDefined(i[c+"Enable"]),M=e.$new(!0),A=function(){var e=l.positionElements(t,$,M.placement,C);e.top+="px",e.left+="px",$.css(e)};M.isOpen=!1,i.$observe(r,function(e){M.content=e,!e&&M.isOpen&&f()}),i.$observe(c+"Title",function(e){M.title=e});var D=function(){t.unbind(T.show,u),t.unbind(T.hide,d)};w();var P=e.$eval(i[c+"Animation"]);M.animation=angular.isDefined(P)?!!P:g.animation;var j=e.$eval(i[c+"AppendToBody"]);C=angular.isDefined(j)?j:C,C&&e.$on("$locationChangeSuccess",function(){M.isOpen&&f()}),e.$on("$destroy",function(){s.cancel(k),s.cancel(S),D(),v(),M=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);o!=e[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var s=t[0].getBoundingClientRect();return{width:s.width||t.prop("offsetWidth"),height:s.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,o,s,a,l=n.split("-"),u=l[0],c=l[1]||"center";r=i?this.offset(e):this.position(e),o=t.prop("offsetWidth"),s=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},p={center:function(){return r.top+r.height/2-s/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":a={top:p[c](),left:d[u]()};break;case"left":a={top:p[c](),left:r.left-o};break;case"bottom":a={top:p[u](),left:d[c]()};break;default:a={top:r.top-s,left:d[c]()}}return a}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),function(){function e(e,t,n){for(var i=(n||0)-1,r=e?e.length:0;++i<r;)if(e[i]===t)return i;return-1}function t(t,n){var i=typeof n;if(t=t.cache,"boolean"==i||null==n)return t[n]?0:-1;"number"!=i&&"string"!=i&&(i="object");var r="number"==i?n:v+n;return t=(t=t[i])&&t[r],"object"==i?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?e:v+e,r=t[n]||(t[n]={});"object"==n?(r[i]||(r[i]=[])).push(e):r[i]=!0}}function i(e){return e.charCodeAt(0)}function r(e,t){for(var n=e.criteria,i=t.criteria,r=-1,o=n.length;++r<o;){var s=n[r],a=i[r];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return e.index-t.index}function o(e){var t=-1,i=e.length,r=e[0],o=e[i/2|0],s=e[i-1];if(r&&"object"==typeof r&&o&&"object"==typeof o&&s&&"object"==typeof s)return!1;var a=l();a["false"]=a["null"]=a["true"]=a.undefined=!1;var u=l();for(u.array=e,u.cache=a,u.push=n;++t<i;)u.push(e[t]);return u}function s(e){return"\\"+W[e]}function a(){return h.pop()||[]}function l(){return f.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function u(e){e.length=0,h.length<y&&h.push(e)}function c(e){var t=e.cache;t&&c(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,f.length<y&&f.push(e)}function d(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,r=n-t||0,o=Array(0>r?0:r);++i<r;)o[i]=e[t+i];return o}function p(n){function h(e){return e&&"object"==typeof e&&!Zn(e)&&On.call(e,"__wrapped__")?e:new f(e)}function f(e,t){this.__chain__=!!t,this.__wrapped__=e}function y(e){function t(){if(i){var e=d(i);qn.apply(e,arguments)}if(this instanceof t){var o=K(n.prototype),s=n.apply(o,e||arguments);return Ae(s)?s:o}return n.apply(r,e||arguments)}var n=e[0],i=e[2],r=e[4];return Jn(t,e),t}function W(e,t,n,i,r){if(n){var o=n(e);if("undefined"!=typeof o)return o}var s=Ae(e);if(!s)return e;var l=Tn.call(e);if(!V[l])return e;var c=Kn[l];switch(l){case I:case L:return new c(+e);case F:case R:return new c(e);case G:return o=c(e.source,S.exec(e)),o.lastIndex=e.lastIndex,o}var p=Zn(e);if(t){var g=!i;i||(i=a()),r||(r=a());for(var h=i.length;h--;)if(i[h]==e)return r[h];o=p?c(e.length):{}}else o=p?d(e):oi({},e);return p&&(On.call(e,"index")&&(o.index=e.index),On.call(e,"input")&&(o.input=e.input)),t?(i.push(e),r.push(o),(p?Xe:li)(e,function(e,s){o[s]=W(e,t,n,i,r)}),g&&(u(i),u(r)),o):o}function K(e,t){return Ae(e)?Nn(e):{}}function X(e,t,n){if("function"!=typeof e)return Jt;if("undefined"==typeof t||!("prototype"in e))return e;var i=e.__bindData__;if("undefined"==typeof i&&(Xn.funcNames&&(i=!e.name),i=i||!Xn.funcDecomp,!i)){var r=Pn.call(e);Xn.funcNames||(i=!C.test(r)),i||(i=A.test(r),Jn(e,i))}if(i===!1||i!==!0&&1&i[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return Ot(e,t)}function J(e){function t(){var e=l?s:this;if(r){var h=d(r);qn.apply(h,arguments)}if((o||c)&&(h||(h=d(arguments)),o&&qn.apply(h,o),c&&h.length<a))return i|=16,J([n,p?i:-4&i,h,null,s,a]);if(h||(h=arguments),u&&(n=e[g]),this instanceof t){e=K(n.prototype);var f=n.apply(e,h);return Ae(f)?f:e}return n.apply(e,h)}var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=1&i,u=2&i,c=4&i,p=8&i,g=n;return Jn(t,e),t}function Z(n,i){var r=-1,s=le(),a=n?n.length:0,l=a>=b&&s===e,u=[];if(l){var d=o(i);d?(s=t,i=d):l=!1}for(;++r<a;){var p=n[r];s(i,p)<0&&u.push(p)}return l&&c(i),u}function ee(e,t,n,i){for(var r=(i||0)-1,o=e?e.length:0,s=[];++r<o;){var a=e[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Zn(a)||pe(a))){t||(a=ee(a,t,n));var l=-1,u=a.length,c=s.length;for(s.length+=u;++l<u;)s[c++]=a[l]}else n||s.push(a)}return s}function te(e,t,n,i,r,o){if(n){var s=n(e,t);if("undefined"!=typeof s)return!!s}if(e===t)return 0!==e||1/e==1/t;var l=typeof e,c=typeof t;if(!(e!==e||e&&U[l]||t&&U[c]))return!1;if(null==e||null==t)return e===t;var d=Tn.call(e),p=Tn.call(t);if(d==O&&(d=N),p==O&&(p=N),d!=p)return!1;switch(d){case I:case L:return+e==+t;case F:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case G:case R:return e==$n(t)}var g=d==q;if(!g){var h=On.call(e,"__wrapped__"),f=On.call(t,"__wrapped__");if(h||f)return te(h?e.__wrapped__:e,f?t.__wrapped__:t,n,i,r,o);

if(d!=N)return!1;var m=e.constructor,v=t.constructor;if(m!=v&&!(Me(m)&&m instanceof m&&Me(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var b=!r;r||(r=a()),o||(o=a());for(var y=r.length;y--;)if(r[y]==e)return o[y]==t;var _=0;if(s=!0,r.push(e),o.push(t),g){if(y=e.length,_=t.length,s=_==y,s||i)for(;_--;){var w=y,$=t[_];if(i)for(;w--&&!(s=te(e[w],$,n,i,r,o)););else if(!(s=te(e[_],$,n,i,r,o)))break}}else ai(t,function(t,a,l){return On.call(l,a)?(_++,s=On.call(e,a)&&te(e[a],t,n,i,r,o)):void 0}),s&&!i&&ai(e,function(e,t,n){return On.call(n,t)?s=--_>-1:void 0});return r.pop(),o.pop(),b&&(u(r),u(o)),s}function ne(e,t,n,i,r){(Zn(t)?Xe:li)(t,function(t,o){var s,a,l=t,u=e[o];if(t&&((a=Zn(t))||ui(t))){for(var c=i.length;c--;)if(s=i[c]==t){u=r[c];break}if(!s){var d;n&&(l=n(u,t),(d="undefined"!=typeof l)&&(u=l)),d||(u=a?Zn(u)?u:[]:ui(u)?u:{}),i.push(t),r.push(u),d||ne(u,t,n,i,r)}}else n&&(l=n(u,t),"undefined"==typeof l&&(l=t)),"undefined"!=typeof l&&(u=l);e[o]=u})}function ie(e,t){return e+Dn(Yn()*(t-e+1))}function re(n,i,r){var s=-1,l=le(),d=n?n.length:0,p=[],g=!i&&d>=b&&l===e,h=r||g?a():p;if(g){var f=o(h);l=t,h=f}for(;++s<d;){var m=n[s],v=r?r(m,s,n):m;(i?!s||h[h.length-1]!==v:l(h,v)<0)&&((r||g)&&h.push(v),p.push(m))}return g?(u(h.array),c(h)):r&&u(h),p}function oe(e){return function(t,n,i){var r={};n=h.createCallback(n,i,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s;){var a=t[o];e(r,a,n(a,o,t),t)}else li(t,function(t,i,o){e(r,t,n(t,i,o),o)});return r}}function se(e,t,n,i,r,o){var s=1&t,a=2&t,l=4&t,u=16&t,c=32&t;if(!a&&!Me(e))throw new xn;u&&!n.length&&(t&=-17,u=n=!1),c&&!i.length&&(t&=-33,c=i=!1);var p=e&&e.__bindData__;if(p&&p!==!0)return p=d(p),p[2]&&(p[2]=d(p[2])),p[3]&&(p[3]=d(p[3])),!s||1&p[1]||(p[4]=r),!s&&1&p[1]&&(t|=8),!l||4&p[1]||(p[5]=o),u&&qn.apply(p[2]||(p[2]=[]),n),c&&Bn.apply(p[3]||(p[3]=[]),i),p[1]|=t,se.apply(null,p);var g=1==t||17===t?y:J;return g([e,t,n,i,r,o])}function ae(e){return ti[e]}function le(){var t=(t=h.indexOf)===vt?e:t;return t}function ue(e){return"function"==typeof e&&En.test(e)}function ce(e){var t,n;return e&&Tn.call(e)==N&&(t=e.constructor,!Me(t)||t instanceof t)?(ai(e,function(e,t){n=t}),"undefined"==typeof n||On.call(e,n)):!1}function de(e){return ni[e]}function pe(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Tn.call(e)==O||!1}function ge(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n=t,t=!1),W(e,t,"function"==typeof n&&X(n,i,1))}function he(e,t,n){return W(e,!0,"function"==typeof t&&X(t,n,1))}function fe(e,t){var n=K(e);return t?oi(n,t):n}function me(e,t,n){var i;return t=h.createCallback(t,n,3),li(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i}function ve(e,t,n){var i;return t=h.createCallback(t,n,3),ye(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i}function be(e,t,n){var i=[];ai(e,function(e,t){i.push(t,e)});var r=i.length;for(t=X(t,n,3);r--&&t(i[r--],i[r],e)!==!1;);return e}function ye(e,t,n){var i=ei(e),r=i.length;for(t=X(t,n,3);r--;){var o=i[r];if(t(e[o],o,e)===!1)break}return e}function _e(e){var t=[];return ai(e,function(e,n){Me(e)&&t.push(n)}),t.sort()}function we(e,t){return e?On.call(e,t):!1}function $e(e){for(var t=-1,n=ei(e),i=n.length,r={};++t<i;){var o=n[t];r[e[o]]=o}return r}function xe(e){return e===!0||e===!1||e&&"object"==typeof e&&Tn.call(e)==I||!1}function ke(e){return e&&"object"==typeof e&&Tn.call(e)==L||!1}function Se(e){return e&&1===e.nodeType||!1}function Ce(e){var t=!0;if(!e)return t;var n=Tn.call(e),i=e.length;return n==q||n==R||n==O||n==N&&"number"==typeof i&&Me(e.splice)?!i:(li(e,function(){return t=!1}),t)}function Te(e,t,n,i){return te(e,t,"function"==typeof n&&X(n,i,2))}function Ee(e){return Rn(e)&&!Vn(parseFloat(e))}function Me(e){return"function"==typeof e}function Ae(e){return!(!e||!U[typeof e])}function De(e){return je(e)&&e!=+e}function Pe(e){return null===e}function je(e){return"number"==typeof e||e&&"object"==typeof e&&Tn.call(e)==F||!1}function Oe(e){return e&&"object"==typeof e&&Tn.call(e)==G||!1}function qe(e){return"string"==typeof e||e&&"object"==typeof e&&Tn.call(e)==R||!1}function Ie(e){return"undefined"==typeof e}function Le(e,t,n){var i={};return t=h.createCallback(t,n,3),li(e,function(e,n,r){i[n]=t(e,n,r)}),i}function Be(e){var t=arguments,n=2;if(!Ae(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var i=X(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(i=t[--n]);for(var r=d(arguments,1,n),o=-1,s=a(),l=a();++o<n;)ne(e,r[o],i,s,l);return u(s),u(l),e}function Fe(e,t,n){var i={};if("function"!=typeof t){var r=[];ai(e,function(e,t){r.push(t)}),r=Z(r,ee(arguments,!0,!1,1));for(var o=-1,s=r.length;++o<s;){var a=r[o];i[a]=e[a]}}else t=h.createCallback(t,n,3),ai(e,function(e,n,r){t(e,n,r)||(i[n]=e)});return i}function Ne(e){for(var t=-1,n=ei(e),i=n.length,r=hn(i);++t<i;){var o=n[t];r[t]=[o,e[o]]}return r}function Ge(e,t,n){var i={};if("function"!=typeof t)for(var r=-1,o=ee(arguments,!0,!1,1),s=Ae(e)?o.length:0;++r<s;){var a=o[r];a in e&&(i[a]=e[a])}else t=h.createCallback(t,n,3),ai(e,function(e,n,r){t(e,n,r)&&(i[n]=e)});return i}function Re(e,t,n,i){var r=Zn(e);if(null==n)if(r)n=[];else{var o=e&&e.constructor,s=o&&o.prototype;n=K(s)}return t&&(t=h.createCallback(t,i,4),(r?Xe:li)(e,function(e,i,r){return t(n,e,i,r)})),n}function Ve(e){for(var t=-1,n=ei(e),i=n.length,r=hn(i);++t<i;)r[t]=e[n[t]];return r}function ze(e){for(var t=arguments,n=-1,i=ee(t,!0,!1,1),r=t[2]&&t[2][t[1]]===e?1:i.length,o=hn(r);++n<r;)o[n]=e[i[n]];return o}function He(e,t,n){var i=-1,r=le(),o=e?e.length:0,s=!1;return n=(0>n?Hn(0,o+n):n)||0,Zn(e)?s=r(e,t,n)>-1:"number"==typeof o?s=(qe(e)?e.indexOf(t,n):r(e,t,n))>-1:li(e,function(e){return++i>=n?!(s=e===t):void 0}),s}function Ue(e,t,n){var i=!0;t=h.createCallback(t,n,3);var r=-1,o=e?e.length:0;if("number"==typeof o)for(;++r<o&&(i=!!t(e[r],r,e)););else li(e,function(e,n,r){return i=!!t(e,n,r)});return i}function We(e,t,n){var i=[];t=h.createCallback(t,n,3);var r=-1,o=e?e.length:0;if("number"==typeof o)for(;++r<o;){var s=e[r];t(s,r,e)&&i.push(s)}else li(e,function(e,n,r){t(e,n,r)&&i.push(e)});return i}function Ye(e,t,n){t=h.createCallback(t,n,3);var i=-1,r=e?e.length:0;if("number"!=typeof r){var o;return li(e,function(e,n,i){return t(e,n,i)?(o=e,!1):void 0}),o}for(;++i<r;){var s=e[i];if(t(s,i,e))return s}}function Ke(e,t,n){var i;return t=h.createCallback(t,n,3),Je(e,function(e,n,r){return t(e,n,r)?(i=e,!1):void 0}),i}function Xe(e,t,n){var i=-1,r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:X(t,n,3),"number"==typeof r)for(;++i<r&&t(e[i],i,e)!==!1;);else li(e,t);return e}function Je(e,t,n){var i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:X(t,n,3),"number"==typeof i)for(;i--&&t(e[i],i,e)!==!1;);else{var r=ei(e);i=r.length,li(e,function(e,n,o){return n=r?r[--i]:--i,t(o[n],n,o)})}return e}function Ze(e,t){var n=d(arguments,2),i=-1,r="function"==typeof t,o=e?e.length:0,s=hn("number"==typeof o?o:0);return Xe(e,function(e){s[++i]=(r?t:e[t]).apply(e,n)}),s}function Qe(e,t,n){var i=-1,r=e?e.length:0;if(t=h.createCallback(t,n,3),"number"==typeof r)for(var o=hn(r);++i<r;)o[i]=t(e[i],i,e);else o=[],li(e,function(e,n,r){o[++i]=t(e,n,r)});return o}function et(e,t,n){var r=-(1/0),o=r;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zn(e))for(var s=-1,a=e.length;++s<a;){var l=e[s];l>o&&(o=l)}else t=null==t&&qe(e)?i:h.createCallback(t,n,3),Xe(e,function(e,n,i){var s=t(e,n,i);s>r&&(r=s,o=e)});return o}function tt(e,t,n){var r=1/0,o=r;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zn(e))for(var s=-1,a=e.length;++s<a;){var l=e[s];o>l&&(o=l)}else t=null==t&&qe(e)?i:h.createCallback(t,n,3),Xe(e,function(e,n,i){var s=t(e,n,i);r>s&&(r=s,o=e)});return o}function nt(e,t,n,i){if(!e)return n;var r=arguments.length<3;t=h.createCallback(t,i,4);var o=-1,s=e.length;if("number"==typeof s)for(r&&(n=e[++o]);++o<s;)n=t(n,e[o],o,e);else li(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)});return n}function it(e,t,n,i){var r=arguments.length<3;return t=h.createCallback(t,i,4),Je(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function rt(e,t,n){return t=h.createCallback(t,n,3),We(e,function(e,n,i){return!t(e,n,i)})}function ot(e,t,n){if(e&&"number"!=typeof e.length&&(e=Ve(e)),null==t||n)return e?e[ie(0,e.length-1)]:g;var i=st(e);return i.length=Un(Hn(0,t),i.length),i}function st(e){var t=-1,n=e?e.length:0,i=hn("number"==typeof n?n:0);return Xe(e,function(e){var n=ie(0,++t);i[t]=i[n],i[n]=e}),i}function at(e){var t=e?e.length:0;return"number"==typeof t?t:ei(e).length}function lt(e,t,n){var i;t=h.createCallback(t,n,3);var r=-1,o=e?e.length:0;if("number"==typeof o)for(;++r<o&&!(i=t(e[r],r,e)););else li(e,function(e,n,r){return!(i=t(e,n,r))});return!!i}function ut(e,t,n){var i=-1,o=Zn(t),s=e?e.length:0,d=hn("number"==typeof s?s:0);for(o||(t=h.createCallback(t,n,3)),Xe(e,function(e,n,r){var s=d[++i]=l();o?s.criteria=Qe(t,function(t){return e[t]}):(s.criteria=a())[0]=t(e,n,r),s.index=i,s.value=e}),s=d.length,d.sort(r);s--;){var p=d[s];d[s]=p.value,o||u(p.criteria),c(p)}return d}function ct(e){return e&&"number"==typeof e.length?d(e):Ve(e)}function dt(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function pt(e){return Z(e,ee(arguments,!0,!0,1))}function gt(e,t,n){var i=-1,r=e?e.length:0;for(t=h.createCallback(t,n,3);++i<r;)if(t(e[i],i,e))return i;return-1}function ht(e,t,n){var i=e?e.length:0;for(t=h.createCallback(t,n,3);i--;)if(t(e[i],i,e))return i;return-1}function ft(e,t,n){var i=0,r=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=h.createCallback(t,n,3);++o<r&&t(e[o],o,e);)i++}else if(i=t,null==i||n)return e?e[0]:g;return d(e,0,Un(Hn(0,i),r))}function mt(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(e=Qe(e,n,i)),ee(e,t)}function vt(t,n,i){if("number"==typeof i){var r=t?t.length:0;i=0>i?Hn(0,r+i):i||0}else if(i){var o=Ct(t,n);return t[o]===n?o:-1}return e(t,n,i)}function bt(e,t,n){var i=0,r=e?e.length:0;if("number"!=typeof t&&null!=t){var o=r;for(t=h.createCallback(t,n,3);o--&&t(e[o],o,e);)i++}else i=null==t||n?1:t||i;return d(e,0,Un(Hn(0,r-i),r))}function yt(){for(var n=[],i=-1,r=arguments.length,s=a(),l=le(),d=l===e,p=a();++i<r;){var g=arguments[i];(Zn(g)||pe(g))&&(n.push(g),s.push(d&&g.length>=b&&o(i?n[i]:p)))}var h=n[0],f=-1,m=h?h.length:0,v=[];e:for(;++f<m;){var y=s[0];if(g=h[f],(y?t(y,g):l(p,g))<0){for(i=r,(y||p).push(g);--i;)if(y=s[i],(y?t(y,g):l(n[i],g))<0)continue e;v.push(g)}}for(;r--;)y=s[r],y&&c(y);return u(s),u(p),v}function _t(e,t,n){var i=0,r=e?e.length:0;if("number"!=typeof t&&null!=t){var o=r;for(t=h.createCallback(t,n,3);o--&&t(e[o],o,e);)i++}else if(i=t,null==i||n)return e?e[r-1]:g;return d(e,Hn(0,r-i))}function wt(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(0>n?Hn(0,i+n):Un(n,i-1))+1);i--;)if(e[i]===t)return i;return-1}function $t(e){for(var t=arguments,n=0,i=t.length,r=e?e.length:0;++n<i;)for(var o=-1,s=t[n];++o<r;)e[o]===s&&(Ln.call(e,o--,1),r--);return e}function xt(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var i=-1,r=Hn(0,Mn((t-e)/(n||1))),o=hn(r);++i<r;)o[i]=e,e+=n;return o}function kt(e,t,n){var i=-1,r=e?e.length:0,o=[];for(t=h.createCallback(t,n,3);++i<r;){var s=e[i];t(s,i,e)&&(o.push(s),Ln.call(e,i--,1),r--)}return o}function St(e,t,n){if("number"!=typeof t&&null!=t){var i=0,r=-1,o=e?e.length:0;for(t=h.createCallback(t,n,3);++r<o&&t(e[r],r,e);)i++}else i=null==t||n?1:Hn(0,t);return d(e,i)}function Ct(e,t,n,i){var r=0,o=e?e.length:r;for(n=n?h.createCallback(n,i,1):Jt,t=n(t);o>r;){var s=r+o>>>1;n(e[s])<t?r=s+1:o=s}return r}function Tt(){return re(ee(arguments,!0,!0))}function Et(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(n=h.createCallback(n,i,3)),re(e,t,n)}function Mt(e){return Z(e,d(arguments,1))}function At(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Zn(n)||pe(n))var i=i?re(Z(i,n).concat(Z(n,i))):n}return i||[]}function Dt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?et(gi(e,"length")):0,i=hn(0>n?0:n);++t<n;)i[t]=gi(e,t);return i}function Pt(e,t){var n=-1,i=e?e.length:0,r={};for(t||!i||Zn(e[0])||(t=[]);++n<i;){var o=e[n];t?r[o]=t[n]:o&&(r[o[0]]=o[1])}return r}function jt(e,t){if(!Me(t))throw new xn;return function(){return--e<1?t.apply(this,arguments):void 0}}function Ot(e,t){return arguments.length>2?se(e,17,d(arguments,2),null,t):se(e,1,null,null,t)}function qt(e){for(var t=arguments.length>1?ee(arguments,!0,!1,1):_e(e),n=-1,i=t.length;++n<i;){var r=t[n];e[r]=se(e[r],1,null,null,e)}return e}function It(e,t){return arguments.length>2?se(t,19,d(arguments,2),null,e):se(t,3,null,null,e)}function Lt(){for(var e=arguments,t=e.length;t--;)if(!Me(e[t]))throw new xn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Bt(e,t){return t="number"==typeof t?t:+t||e.length,se(e,4,null,null,null,t)}function Ft(e,t,n){var i,r,o,s,a,l,u,c=0,d=!1,p=!0;if(!Me(e))throw new xn;if(t=Hn(0,t)||0,n===!0){var h=!0;p=!1}else Ae(n)&&(h=n.leading,d="maxWait"in n&&(Hn(t,n.maxWait)||0),p="trailing"in n?n.trailing:p);var f=function(){var n=t-(fi()-s);if(0>=n){r&&An(r);var d=u;r=l=u=g,d&&(c=fi(),o=e.apply(a,i),l||r||(i=a=null))}else l=In(f,n)},m=function(){l&&An(l),r=l=u=g,(p||d!==t)&&(c=fi(),o=e.apply(a,i),l||r||(i=a=null))};return function(){if(i=arguments,s=fi(),a=this,u=p&&(l||!h),d===!1)var n=h&&!l;else{r||h||(c=s);var g=d-(s-c),v=0>=g;v?(r&&(r=An(r)),c=s,o=e.apply(a,i)):r||(r=In(m,g))}return v&&l?l=An(l):l||t===d||(l=In(f,t)),n&&(v=!0,o=e.apply(a,i)),!v||l||r||(i=a=null),o}}function Nt(e){if(!Me(e))throw new xn;var t=d(arguments,1);return In(function(){e.apply(g,t)},1)}function Gt(e,t){if(!Me(e))throw new xn;var n=d(arguments,2);return In(function(){e.apply(g,n)},t)}function Rt(e,t){if(!Me(e))throw new xn;var n=function(){var i=n.cache,r=t?t.apply(this,arguments):v+arguments[0];return On.call(i,r)?i[r]:i[r]=e.apply(this,arguments)};return n.cache={},n}function Vt(e){var t,n;if(!Me(e))throw new xn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function zt(e){return se(e,16,d(arguments,1))}function Ht(e){return se(e,32,null,d(arguments,1))}function Ut(e,t,n){var i=!0,r=!0;if(!Me(e))throw new xn;return n===!1?i=!1:Ae(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),z.leading=i,z.maxWait=t,z.trailing=r,Ft(e,t,z)}function Wt(e,t){return se(t,16,[e])}function Yt(e){return function(){return e}}function Kt(e,t,n){var i=typeof e;if(null==e||"function"==i)return X(e,t,n);if("object"!=i)return tn(e);var r=ei(e),o=r[0],s=e[o];return 1!=r.length||s!==s||Ae(s)?function(t){for(var n=r.length,i=!1;n--&&(i=te(t[r[n]],e[r[n]],null,!0)););return i}:function(e){var t=e[o];return s===t&&(0!==s||1/s==1/t)}}function Xt(e){return null==e?"":$n(e).replace(ri,ae)}function Jt(e){return e}function Zt(e,t,n){var i=!0,r=t&&_e(t);t&&(n||r.length)||(null==n&&(n=t),o=f,t=e,e=h,r=_e(t)),n===!1?i=!1:Ae(n)&&"chain"in n&&(i=n.chain);var o=e,s=Me(o);Xe(r,function(n){var r=e[n]=t[n];s&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,s=[n];qn.apply(s,arguments);var a=r.apply(e,s);if(i||t){if(n===a&&Ae(a))return this;a=new o(a),a.__chain__=t}return a})})}function Qt(){return n._=Cn,this}function en(){}function tn(e){return function(t){return t[e]}}function nn(e,t,n){var i=null==e,r=null==t;if(null==n&&("boolean"==typeof e&&r?(n=e,e=1):r||"boolean"!=typeof t||(n=t,r=!0)),i&&r&&(t=1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Yn();return Un(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return ie(e,t)}function rn(e,t){if(e){var n=e[t];return Me(n)?e[t]():n}}function on(e,t,n){var i=h.templateSettings;e=$n(e||""),n=si({},n,i);var r,o=si({},n.imports,i.imports),a=ei(o),l=Ve(o),u=0,c=n.interpolate||M,d="__p += '",p=wn((n.escape||M).source+"|"+c.source+"|"+(c===T?k:M).source+"|"+(n.evaluate||M).source+"|$","g");e.replace(p,function(t,n,i,o,a,l){return i||(i=o),d+=e.slice(u,l).replace(D,s),n&&(d+="' +\n__e("+n+") +\n'"),a&&(r=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),d+="';\n";var f=n.variable,m=f;m||(f="obj",d="with ("+f+") {\n"+d+"\n}\n"),d=(r?d.replace(w,""):d).replace($,"$1").replace(x,"$1;"),d="function("+f+") {\n"+(m?"":f+" || ("+f+" = {});\n")+"var __t, __p = '', __e = _.escape"+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+j++ +"]")+"\n*/";try{var b=vn(a,"return "+d+v).apply(g,l)}catch(y){throw y.source=d,y}return t?b(t):(b.source=d,b)}function sn(e,t,n){e=(e=+e)>-1?e:0;var i=-1,r=hn(e);for(t=X(t,n,1);++i<e;)r[i]=t(i);return r}function an(e){return null==e?"":$n(e).replace(ii,de)}function ln(e){var t=++m;return $n(null==e?"":e)+t}function un(e){return e=new f(e),e.__chain__=!0,e}function cn(e,t){return t(e),e}function dn(){return this.__chain__=!0,this}function pn(){return $n(this.__wrapped__)}function gn(){return this.__wrapped__}n=n?Q.defaults(Y.Object(),n,Q.pick(Y,P)):Y;var hn=n.Array,fn=n.Boolean,mn=n.Date,vn=n.Function,bn=n.Math,yn=n.Number,_n=n.Object,wn=n.RegExp,$n=n.String,xn=n.TypeError,kn=[],Sn=_n.prototype,Cn=n._,Tn=Sn.toString,En=wn("^"+$n(Tn).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Mn=bn.ceil,An=n.clearTimeout,Dn=bn.floor,Pn=vn.prototype.toString,jn=ue(jn=_n.getPrototypeOf)&&jn,On=Sn.hasOwnProperty,qn=kn.push,In=n.setTimeout,Ln=kn.splice,Bn=kn.unshift,Fn=function(){try{var e={},t=ue(t=_n.defineProperty)&&t,n=t(e,e,e)&&t}catch(i){}return n}(),Nn=ue(Nn=_n.create)&&Nn,Gn=ue(Gn=hn.isArray)&&Gn,Rn=n.isFinite,Vn=n.isNaN,zn=ue(zn=_n.keys)&&zn,Hn=bn.max,Un=bn.min,Wn=n.parseInt,Yn=bn.random,Kn={};Kn[q]=hn,Kn[I]=fn,Kn[L]=mn,Kn[B]=vn,Kn[N]=_n,Kn[F]=yn,Kn[G]=wn,Kn[R]=$n,f.prototype=h.prototype;var Xn=h.support={};Xn.funcDecomp=!ue(n.WinRTError)&&A.test(p),Xn.funcNames="string"==typeof vn.name,h.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:T,variable:"",imports:{_:h}},Nn||(K=function(){function e(){}return function(t){if(Ae(t)){e.prototype=t;var i=new e;e.prototype=null}return i||n.Object()}}());var Jn=Fn?function(e,t){H.value=t,Fn(e,"__bindData__",H)}:en,Zn=Gn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Tn.call(e)==q||!1},Qn=function(e){var t,n=e,i=[];if(!n)return i;if(!U[typeof e])return i;for(t in n)On.call(n,t)&&i.push(t);return i},ei=zn?function(e){return Ae(e)?zn(e):[]}:Qn,ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=$e(ti),ii=wn("("+ei(ni).join("|")+")","g"),ri=wn("["+ei(ti).join("")+"]","g"),oi=function(e,t,n){var i,r=e,o=r;if(!r)return o;var s=arguments,a=0,l="number"==typeof n?2:s.length;if(l>3&&"function"==typeof s[l-2])var u=X(s[--l-1],s[l--],2);else l>2&&"function"==typeof s[l-1]&&(u=s[--l]);for(;++a<l;)if(r=s[a],r&&U[typeof r])for(var c=-1,d=U[typeof r]&&ei(r),p=d?d.length:0;++c<p;)i=d[c],o[i]=u?u(o[i],r[i]):r[i];return o},si=function(e,t,n){var i,r=e,o=r;if(!r)return o;for(var s=arguments,a=0,l="number"==typeof n?2:s.length;++a<l;)if(r=s[a],r&&U[typeof r])for(var u=-1,c=U[typeof r]&&ei(r),d=c?c.length:0;++u<d;)i=c[u],"undefined"==typeof o[i]&&(o[i]=r[i]);return o},ai=function(e,t,n){var i,r=e,o=r;if(!r)return o;if(!U[typeof r])return o;t=t&&"undefined"==typeof n?t:X(t,n,3);for(i in r)if(t(r[i],i,e)===!1)return o;return o},li=function(e,t,n){var i,r=e,o=r;if(!r)return o;if(!U[typeof r])return o;t=t&&"undefined"==typeof n?t:X(t,n,3);for(var s=-1,a=U[typeof r]&&ei(r),l=a?a.length:0;++s<l;)if(i=a[s],t(r[i],i,e)===!1)return o;return o},ui=jn?function(e){if(!e||Tn.call(e)!=N)return!1;var t=e.valueOf,n=ue(t)&&(n=jn(t))&&jn(n);return n?e==n||jn(e)==n:ce(e)}:ce,ci=oe(function(e,t,n){On.call(e,n)?e[n]++:e[n]=1}),di=oe(function(e,t,n){(On.call(e,n)?e[n]:e[n]=[]).push(t)}),pi=oe(function(e,t,n){e[n]=t}),gi=Qe,hi=We,fi=ue(fi=mn.now)&&fi||function(){return(new mn).getTime()},mi=8==Wn(_+"08")?Wn:function(e,t){return Wn(qe(e)?e.replace(E,""):e,t||0)};return h.after=jt,h.assign=oi,h.at=ze,h.bind=Ot,h.bindAll=qt,h.bindKey=It,h.chain=un,h.compact=dt,h.compose=Lt,h.constant=Yt,h.countBy=ci,h.create=fe,h.createCallback=Kt,h.curry=Bt,h.debounce=Ft,h.defaults=si,h.defer=Nt,h.delay=Gt,h.difference=pt,h.filter=We,h.flatten=mt,h.forEach=Xe,h.forEachRight=Je,h.forIn=ai,h.forInRight=be,h.forOwn=li,h.forOwnRight=ye,h.functions=_e,h.groupBy=di,h.indexBy=pi,h.initial=bt,h.intersection=yt,h.invert=$e,h.invoke=Ze,h.keys=ei,h.map=Qe,h.mapValues=Le,h.max=et,h.memoize=Rt,h.merge=Be,h.min=tt,h.omit=Fe,h.once=Vt,h.pairs=Ne,h.partial=zt,h.partialRight=Ht,h.pick=Ge,h.pluck=gi,h.property=tn,h.pull=$t,h.range=xt,h.reject=rt,h.remove=kt,h.rest=St,h.shuffle=st,h.sortBy=ut,h.tap=cn,h.throttle=Ut,h.times=sn,h.toArray=ct,h.transform=Re,h.union=Tt,h.uniq=Et,h.values=Ve,h.where=hi,h.without=Mt,h.wrap=Wt,h.xor=At,h.zip=Dt,h.zipObject=Pt,h.collect=Qe,h.drop=St,h.each=Xe,h.eachRight=Je,h.extend=oi,h.methods=_e,h.object=Pt,h.select=We,h.tail=St,h.unique=Et,h.unzip=Dt,Zt(h),h.clone=ge,h.cloneDeep=he,h.contains=He,h.escape=Xt,h.every=Ue,h.find=Ye,h.findIndex=gt,h.findKey=me,h.findLast=Ke,h.findLastIndex=ht,h.findLastKey=ve,h.has=we,h.identity=Jt,h.indexOf=vt,h.isArguments=pe,h.isArray=Zn,h.isBoolean=xe,h.isDate=ke,h.isElement=Se,h.isEmpty=Ce,h.isEqual=Te,h.isFinite=Ee,h.isFunction=Me,h.isNaN=De,h.isNull=Pe,h.isNumber=je,h.isObject=Ae,h.isPlainObject=ui,h.isRegExp=Oe,h.isString=qe,h.isUndefined=Ie,h.lastIndexOf=wt,h.mixin=Zt,h.noConflict=Qt,h.noop=en,h.now=fi,h.parseInt=mi,h.random=nn,h.reduce=nt,h.reduceRight=it,h.result=rn,h.runInContext=p,h.size=at,h.some=lt,h.sortedIndex=Ct,h.template=on,h.unescape=an,h.uniqueId=ln,h.all=Ue,h.any=lt,h.detect=Ye,h.findWhere=Ye,h.foldl=nt,h.foldr=it,h.include=He,h.inject=nt,Zt(function(){var e={};return li(h,function(t,n){h.prototype[n]||(e[n]=t)}),e}(),!1),h.first=ft,h.last=_t,h.sample=ot,h.take=ft,h.head=ft,li(h,function(e,t){var n="sample"!==t;h.prototype[t]||(h.prototype[t]=function(t,i){var r=this.__chain__,o=e(this.__wrapped__,t,i);return r||null!=t&&(!i||n&&"function"==typeof t)?new f(o,r):o})}),h.VERSION="2.4.1",h.prototype.chain=dn,h.prototype.toString=pn,h.prototype.value=gn,h.prototype.valueOf=gn,Xe(["join","pop","shift"],function(e){var t=kn[e];h.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new f(n,e):n}}),Xe(["push","reverse","sort","unshift"],function(e){var t=kn[e];h.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Xe(["concat","slice","splice"],function(e){var t=kn[e];h.prototype[e]=function(){return new f(t.apply(this.__wrapped__,arguments),this.__chain__)}}),h}var g,h=[],f=[],m=0,v=+new Date+"",b=75,y=40,_=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",w=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,k=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,S=/\w*$/,C=/^\s*function[ \n\r\t]+\w/,T=/<%=([\s\S]+?)%>/g,E=RegExp("^["+_+"]*0+(?=.$)"),M=/($^)/,A=/\bthis\b/,D=/['\n\r\t\u2028\u2029\\]/g,P=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],j=0,O="[object Arguments]",q="[object Array]",I="[object Boolean]",L="[object Date]",B="[object Function]",F="[object Number]",N="[object Object]",G="[object RegExp]",R="[object String]",V={};V[B]=!1,V[O]=V[q]=V[I]=V[L]=V[F]=V[N]=V[G]=V[R]=!0;var z={leading:!1,maxWait:0,trailing:!1},H={configurable:!1,enumerable:!1,value:null,writable:!1},U={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},W={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Y=U[typeof window]&&window||this,K=U[typeof exports]&&exports&&!exports.nodeType&&exports,X=U[typeof module]&&module&&!module.nodeType&&module,J=X&&X.exports===K&&K,Z=U[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(Y=Z);var Q=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Y._=Q,define(function(){return Q})):K&&X?J?(X.exports=Q)._=Q:K._=Q:Y._=Q}.call(this),function(){var e,t,n,i,r,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a=this;this.Stripe=function(){function e(){}return e.version=2,e.endpoint="https://api.stripe.com/v1",e.setPublishableKey=function(t){return e.key=t,e.utils.validateProtocol(e.key)},e._corsGateAmount=0,e._corsGate=function(){return Math.random()<this._corsGateAmount},e._transport="undefined"!=typeof window&&null!==window&&e._corsGate()&&"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest?"cors":"jsonp",e.request=function(t){return t.data.payment_user_agent=t.data.payment_user_agent?""+t.data.payment_user_agent+" ("+e.stripejs_ua+")":e.stripejs_ua,"cors"===this._transport?this.xhr(t):this.ajaxJSONP(t)},e.complete=function(t,n){return function(i,r,o){var s;return"success"!==i?(s=Math.round((new Date).getTime()/1e3),(new Image).src="https://q.stripe.com?event=stripejs-error&type="+i+"&key="+e.key+"&timestamp="+s+"&payment_user_agent="+encodeURIComponent(e.stripejs_ua),"function"==typeof t?t(500,{error:{code:i,type:i,message:n}}):void 0):void 0}},e}.call(this),e=this.Stripe,this.Stripe.token=function(){function t(){}return t.validate=function(e,t){if(!e)throw t+" required";if("object"!=typeof e)throw t+" invalid"},t.formatData=function(t,n){return e.utils.isElement(t)&&(t=e.utils.paramsFromForm(t,n)),e.utils.underscoreKeys(t),t},t.create=function(t,n){return t.key||(t.key=e.key||e.publishableKey),e.utils.validateKey(t.key),e.request({url:""+e.endpoint+"/tokens",data:t,method:"POST",success:function(e,t){return"function"==typeof n?n(t,e):void 0},complete:e.complete(n,"A network error has occurred, and you have not been charged. Please try again."),timeout:4e4})},t.get=function(t,n){if(!t)throw"token required";return e.utils.validateKey(e.key),e.request({url:""+e.endpoint+"/tokens/"+t,data:{key:e.key},success:function(e,t){return"function"==typeof n?n(t,e):void 0},complete:e.complete(n,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t}.call(this),this.Stripe.card=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,t),n.tokenName="card",n.whitelistedAttrs=["number","cvc","exp_month","exp_year","name","address_line1","address_line2","address_city","address_state","address_zip","address_country"],n.createToken=function(t,i,r){var o;return null==i&&(i={}),e.token.validate(t,"card"),"function"==typeof i?(r=i,i={}):"object"!=typeof i&&(o=parseInt(i,10),i={},o>0&&(i.amount=o)),i[n.tokenName]=e.token.formatData(t,n.whitelistedAttrs),e.token.create(i,r)},n.getToken=function(t,n){return e.token.get(t,n)},n.validateCardNumber=function(e){return e=(e+"").replace(/\s+|-/g,""),e.length>=10&&e.length<=16&&n.luhnCheck(e)},n.validateCVC=function(t){return t=e.utils.trim(t),/^\d+$/.test(t)&&t.length>=3&&t.length<=4},n.validateExpiry=function(t,n){var i,r;return t=e.utils.trim(t),n=e.utils.trim(n),/^\d+$/.test(t)&&/^\d+$/.test(n)&&t>=1&&12>=t?(2===n.length&&(n=70>n?"20"+n:"19"+n),4!==n.length?!1:(r=new Date(n,t),i=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>i)):!1},n.luhnCheck=function(e){var t,n,i,r,o,s;for(i=!0,r=0,n=(e+"").split("").reverse(),o=0,s=n.length;s>o;o++)t=n[o],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),r+=t;return r%10===0},n.cardType=function(e){return n.cardTypes[e.slice(0,2)]||"Unknown"},n.cardBrand=function(e){return n.cardType(e)},n.cardTypes=function(){var e,t,n,i;for(t={},e=n=40;49>=n;e=++n)t[e]="Visa";for(e=i=50;59>=i;e=++i)t[e]="MasterCard";return t[34]=t[37]="American Express",t[60]=t[62]=t[64]=t[65]="Discover",t[35]="JCB",t[30]=t[36]=t[38]=t[39]="Diners Club",t}(),n}.call(this,this.Stripe.token),this.Stripe.bankAccount=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,t),n.tokenName="bank_account",n.whitelistedAttrs=["country","routing_number","account_number"],n.createToken=function(t,i,r){return null==i&&(i={}),e.token.validate(t,"bank account"),"function"==typeof i&&(r=i,i={}),i[n.tokenName]=e.token.formatData(t,n.whitelistedAttrs),e.token.create(i,r)},n.getToken=function(t,n){return e.token.get(t,n)},n.validateRoutingNumber=function(t,i){switch(t=e.utils.trim(t),i){case"US":return/^\d+$/.test(t)&&9===t.length&&n.routingChecksum(t);case"CA":return/\d{5}\-\d{3}/.test(t)&&9===t.length;default:return!0}},n.validateAccountNumber=function(t,n){switch(t=e.utils.trim(t),n){case"US":return/^\d+$/.test(t)&&t.length>=1&&t.length<=17;default:return!0}},n.routingChecksum=function(e){var t,n,i,r,o,s;for(i=0,t=(e+"").split(""),s=[0,3,6],r=0,o=s.length;o>r;r++)n=s[r],i+=3*parseInt(t[n]),i+=7*parseInt(t[n+1]),i+=parseInt(t[n+2]);return 0!==i&&i%10===0},n}.call(this,this.Stripe.token),this.Stripe.bitcoinReceiver=function(){function t(){}return t._whitelistedAttrs=["amount","currency","email","description"],t.createReceiver=function(t,n){var i;return e.token.validate(t,"bitcoin_receiver data"),i=e.token.formatData(t,this._whitelistedAttrs),i.key=e.key||e.publishableKey,e.utils.validateKey(i.key),e.request({url:""+e.endpoint+"/bitcoin/receivers",data:i,method:"POST",success:function(e,t){return"function"==typeof n?n(t,e):void 0},complete:e.complete(n,"A network error has occurred while creating a Bitcoin address. Please try again."),timeout:4e4})},t.getReceiver=function(t,n){var i;if(!t)throw"receiver id required";return i=e.key||e.publishableKey,e.utils.validateKey(i),e.request({url:""+e.endpoint+"/bitcoin/receivers/"+t,data:{key:i},success:function(e,t){return"function"==typeof n?n(t,e):void 0},complete:e.complete(n,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t._activeReceiverPolls={},t._clearReceiverPoll=function(e){return delete t._activeReceiverPolls[e]},t._pollInterval=1500,t.pollReceiver=function(e,t){if(null!=this._activeReceiverPolls[e])throw"You are already polling receiver "+e+". Please cancel that poll before polling it again.";return this._activeReceiverPolls[e]={},this._pollReceiver(e,t)},t._pollReceiver=function(e,n){t.getReceiver(e,function(i,r){var o,s;if(null!=t._activeReceiverPolls[e])return 200===i&&r.filled?(t._clearReceiverPoll(e),"function"==typeof n?n(i,r):void 0):i>=400&&500>i?(t._clearReceiverPoll(e),"function"==typeof n?n(i,r):void 0):(o=500===i?5e3:t._pollInterval,s=setTimeout(function(){return t._pollReceiver(e,n)},o),t._activeReceiverPolls[e].timeoutId=s)})},t.cancelReceiverPoll=function(e){var n;if(n=t._activeReceiverPolls[e],null==n)throw"You are not polling receiver "+e+".";null!=n.timeoutId&&clearTimeout(n.timeoutId),t._clearReceiverPoll(e)},t}.call(this),t=["createToken","getToken","cardType","validateExpiry","validateCVC","validateCardNumber"];for(i=0,r=t.length;r>i;i++)n=t[i],this.Stripe[n]=this.Stripe.card[n];"undefined"!=typeof module&&null!==module&&(module.exports=this.Stripe),"function"==typeof define&&define("stripe",[],function(){return a.Stripe})}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.utils=function(){function t(){}var n,i;return i=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t.trim=function(e){return null===e?"":(e+"").replace(n,"")},t.parseJSON=function(e){var t,n,r,o;if(null!=(o=window.JSON)?o.parse:void 0)return window.JSON.parse(e+"");if(n=void 0,t=null,r=Stripe.utils.trim(e+""),r&&!Stripe.utils.trim(r.replace(i,function(e,i,r,o){return n&&i&&(t=0),0===t?e:(n=r||i,t+=!o-!r,"")})))return Function("return "+r)();throw new Error("Invalid JSON: "+e)},t.serialize=function(e,t,n){var i,r;null==t&&(t=[]);try{for(i in e)r=e[i],n&&(i=""+n+"["+i+"]"),"object"==typeof r?this.serialize(r,t,i):t.push(""+i+"="+encodeURIComponent(r));

return t.join("&").replace(/%20/g,"+")}catch(o){throw new Error("Unable to serialize: "+e)}},t.underscore=function(e){return(e+"").replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()}).replace(/-/g,"_")},t.underscoreKeys=function(e){var t,n,i;i=[];for(t in e)n=e[t],delete e[t],i.push(e[this.underscore(t)]=n);return i},t.isElement=function(e){return"object"!=typeof e?!1:e.jquery?!0:1===e.nodeType},t.paramsFromForm=function(t,n){var i,r,o,s,a,l,u,c,d,p;for(null==n&&(n=[]),t.jquery&&(t=t[0]),o=t.getElementsByTagName("input"),a=t.getElementsByTagName("select"),l={},u=0,d=o.length;d>u;u++)r=o[u],i=this.underscore(r.getAttribute("data-stripe")),e.call(n,i)<0||(l[i]=r.value);for(c=0,p=a.length;p>c;c++)s=a[c],i=this.underscore(s.getAttribute("data-stripe")),e.call(n,i)<0||null!=s.selectedIndex&&(l[i]=s.options[s.selectedIndex].value);return l},t.validateProtocol=function(e){var t;if(e&&"string"==typeof e)return/_live_/g.test(e)&&"https:"!==window.location.protocol&&null!=(null!=(t=window.console)?t.warn:void 0)?window.console.warn("You are using Stripe.js in live mode over an insecure connection. This is considered unsafe. Please conduct live requests only on sites served over https. For more info, see https://stripe.com/help/ssl"):void 0},t.validateKey=function(e){if(!e||"string"!=typeof e)throw new Error("You did not set a valid publishable key. Call Stripe.setPublishableKey() with your publishable key. For more info, see https://stripe.com/docs/stripe.js");if(/\s/g.test(e))throw new Error("Your key is invalid, as it contains whitespace. For more info, see https://stripe.com/docs/stripe.js");if(/^sk_/.test(e))throw new Error("You are using a secret key with Stripe.js, instead of the publishable one. For more info, see https://stripe.com/docs/stripe.js")},t}()}.call(this),function(){var e,t=[].slice;e=(new Date).getTime(),this.Stripe.ajaxJSONP=function(n){var i,r,o,s,a,l;return null==n&&(n={}),o="sjsonp"+ ++e,a=document.createElement("script"),r=null,i=function(e){var t;return null==e&&(e="abort"),clearTimeout(r),null!=(t=a.parentNode)&&t.removeChild(a),o in window&&(window[o]=function(){}),"function"==typeof n.complete?n.complete(e,l,n):void 0},l={abort:i},a.onerror=function(){return l.abort(),"function"==typeof n.error?n.error(l,n):void 0},window[o]=function(){var e;e=1<=arguments.length?t.call(arguments,0):[],clearTimeout(r),a.parentNode.removeChild(a);try{delete window[o]}catch(i){window[o]=void 0}return"function"==typeof n.success&&n.success.apply(n,e),"function"==typeof n.complete?n.complete("success",l,n):void 0},n.data||(n.data={}),n.data.callback=o,n.method&&(n.data._method=n.method),a.src=n.url+"?"+Stripe.utils.serialize(n.data),s=document.getElementsByTagName("head")[0],s.appendChild(a),n.timeout>0&&(r=setTimeout(function(){return l.abort("timeout")},n.timeout)),l}}.call(this),function(){var e,t,n,i,r,o,s,a,l,u={}.hasOwnProperty;t={contentType:"application/x-www-form-urlencoded",accept:{json:"application/json"}},s=/^(20\d|1223)$/,o="invalid_json_response",i=function(e,t,n){return function(){return e._aborted?n("aborted"):e.request&&4===e.request.readyState?(e.request.onreadystatechange=function(){},s.test(e.request.status)?t(e.request,e.request.status):(t(e.request,e.request.status),n("response_code"))):void 0}},a=function(e,n){var i,r,o;r=n.headers||{},r.Accept||(r.Accept=t.accept.json),r["Content-Type"]||(r["Content-Type"]=t.contentType),o=[];for(i in r)u.call(r,i)&&o.push("setRequestHeader"in e?e.setRequestHeader(i,r[i]):void 0);return o},l=function(e,t){return/\?/.test(e)?e+"&"+t:e+"?"+t},n=function(e,t){var n,r,o,s,u,c,d,p;return u=this.o,s=(u.method||"GET").toUpperCase(),c=u.url,o=null!=(d=u.data)?d.key:void 0,n=Stripe.utils.serialize(u.data),r=void 0,"GET"===s&&n&&(c=l(c,n),n=null),p=new XMLHttpRequest,p.open(s,c,!0),a(p,u),p.onreadystatechange=i(this,e,t),p.send(n),p},e=function(e){return this.o=e,r.apply(this,arguments)},r=function(e){var t,i,r,s=this;return this.url=e.url,this.timeout=null,this._successHandler=function(){},this._errorHandlers=[],this._completeHandlers=[],e.timeout&&(this.timeout=setTimeout(function(){return s.abort()},e.timeout)),e.success&&(this._successHandler=function(){return e.success.apply(e,arguments)}),e.error&&this._errorHandlers.push(function(){return e.error.apply(e,arguments)}),e.complete&&this._completeHandlers.push(function(){return e.complete.apply(e,arguments)}),t=function(t){var n;for(e.timeout&&clearTimeout(s.timeout),s.timeout=null,n=[];s._completeHandlers.length>0;)n.push(s._completeHandlers.shift()("success",t,e));return n},r=function(e,n){var r;if(r=e.responseText)try{e=Stripe.utils.parseJSON(r)}catch(a){i(o)}return s._successHandler(e,n),t(e)},i=function(e){var n,i;if(i=s.request,n=i.responseText)try{i=Stripe.utils.parseJSON(n)}catch(r){e=o}for(;s._errorHandlers.length>0;)s._errorHandlers.shift()(i,e);return t(i)},this.request=n.call(this,r,i)},e.prototype={abort:function(){return this._aborted=!0,this.request.abort()}},this.Stripe.xhr=function(t){return new e(t)}}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.validator={"boolean":function(e,t){return"true"!==t&&"false"!==t?"Enter a boolean string (true or false)":void 0},integer:function(e,t){return/^\d+$/.test(t)?void 0:"Enter an integer"},positive:function(e,t){return!this.integer(e,t)&&parseInt(t,10)>0?void 0:"Enter a positive value"},range:function(t,n){var i;return i=parseInt(n,10),e.call(t,i)<0?"Needs to be between "+t[0]+" and "+t[t.length-1]:void 0},required:function(e,t){return!e||null!=t&&""!==t?void 0:"Required"},year:function(e,t){return/^\d{4}$/.test(t)?void 0:"Enter a 4-digit year"},birthYear:function(e,t){var n;return n=this.year(e,t),n?n:parseInt(t,10)>2e3?"You must be over 18":parseInt(t,10)<1900?"Enter your birth year":void 0},month:function(e,t){return this.integer(e,t)?"Please enter a month":this.range([1,2,3,4,5,6,7,8,9,10,11,12],t)?"Needs to be between 1 and 12":void 0},choices:function(t,n){return e.call(t,n)<0?"Not an acceptable value for this field":void 0},email:function(e,t){return/^[^@<\s>]+@[^@<\s>]+$/.test(t)?void 0:"That doesn't look like an email address"},url:function(e,t){return/^https?:\/\/.+\..+/.test(t)?void 0:"Not a valid url"},usTaxID:function(e,t){return/^\d{2}-?\d{1}-?\d{2}-?\d{4}$/.test(t)?void 0:"Not a valid tax ID"},ein:function(e,t){return/^\d{2}-?\d{7}$/.test(t)?void 0:"Not a valid EIN"},ssnLast4:function(e,t){return/^\d{4}$/.test(t)?void 0:"Not a valid last 4 digits for an SSN"},ownerPersonalID:function(e,t){var n;return n=function(){switch(e){case"CA":return/^\d{3}-?\d{3}-?\d{3}$/.test(t);case"US":return!0}}(),n?void 0:"Not a valid ID"},bizTaxID:function(e,t){var n,i,r,o,s,a,l,u;if(a={CA:["Tax ID",[/^\d{9}$/]],US:["EIN",[/^\d{2}-?\d{7}$/]]},s=a[e],null!=s){for(n=s[0],o=s[1],i=!1,l=0,u=o.length;u>l;l++)if(r=o[l],r.test(t)){i=!0;break}if(!i)return"Not a valid "+n}},zip:function(e,t){var n;return n=function(){switch(e.toUpperCase()){case"CA":return/^[\d\w]{6}$/.test(null!=t?t.replace(/\s+/g,""):void 0);case"US":return/^\d{5}$/.test(t)||/^\d{9}$/.test(t)}}(),n?void 0:"Not a valid zip"},bankAccountNumber:function(e,t){return/^\d{1,17}$/.test(t)?void 0:"Invalid bank account number"},usRoutingNumber:function(e){var t,n,i,r,o,s,a;if(!/^\d{9}$/.test(e))return"Routing number must have 9 digits";for(o=0,t=s=0,a=e.length-1;a>=s;t=s+=3)n=3*parseInt(e.charAt(t),10),i=7*parseInt(e.charAt(t+1),10),r=parseInt(e.charAt(t+2),10),o+=n+i+r;return 0===o||o%10!==0?"Invalid routing number":void 0},caRoutingNumber:function(e){return/^\d{5}\-\d{3}$/.test(e)?void 0:"Invalid transit number"},routingNumber:function(e,t){switch(e.toUpperCase()){case"CA":return this.caRoutingNumber(t);case"US":return this.usRoutingNumber(t)}},phoneNumber:function(e,t){var n;return n=t.replace(/[^0-9]/g,""),10!==n.length?"Invalid phone number":void 0},bizDBA:function(e,t){return/^.{1,23}$/.test(t)?void 0:"Statement descriptors can only have up to 23 characters"},nameLength:function(e,t){return 1===t.length?"Names need to be longer than one character":void 0}}}.call(this),function(){this.Stripe.stripejs_ua="stripe.js/15d3aa9"}.call(this),!function(e,t,n){"use strict";(function(){t.module("uiGmapgoogle-maps.providers",[]),t.module("uiGmapgoogle-maps.wrapped",[]),t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),t.module("uiGmapgoogle-maps.directives.api.managers",[]),t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),t.module("uiGmapgoogle-maps.directives.api.options.builders",[]),t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(n,i){var r,o,s,a;return a=void 0,r=function(e){return e.china?"http://maps.google.cn/maps/api/js?":"auto"===e.transport?"//maps.googleapis.com/maps/api/js?":e.transport+"://maps.googleapis.com/maps/api/js?"},o=function(e){var t,n,o;return t=["transport","isGoogleMapsForWork","china"],e.isGoogleMapsForWork&&t.push("key"),n=_.map(_.omit(e,t),function(e,t){return t+"="+e}),a&&document.getElementById(a).remove(),n=n.join("&"),o=document.createElement("script"),o.id=a="ui_gmap_map_load_"+i.generate(),o.type="text/javascript",o.src=r(e)+n,document.body.appendChild(o)},s=function(){return t.isDefined(e.google)&&t.isDefined(e.google.maps)},{load:function(t){var i,r;return i=n.defer(),s()?(i.resolve(e.google.maps),i.promise):(r=t.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),e[r]=function(){e[r]=null,i.resolve(e.google.maps)},e.navigator.connection&&e.Connection&&e.navigator.connection.type===e.Connection.NONE?document.addEventListener("online",function(){return s()?void 0:o(t)}):o(t),i.promise)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3.17",libraries:"",language:"en",sensor:"false"},this.configure=function(e){t.extend(this.options,e)},this.$get=["uiGmapMapScriptLoader",function(e){return function(t){return t.load(e.options)}}(this)],this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){return google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow?(google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(e,t,n){null==n&&(this._isOpen=!0,this._open(e,t,!0))},google.maps.InfoWindow.prototype.close=function(e){null==e&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},e.InfoBox&&(e.InfoBox.prototype._open=e.InfoBox.prototype.open,e.InfoBox.prototype._close=e.InfoBox.prototype.close,e.InfoBox.prototype._isOpen=!1,e.InfoBox.prototype.open=function(e,t){this._isOpen=!0,this._open(e,t)},e.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},e.InfoBox.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e}),e.MarkerLabel_?e.MarkerLabel_.prototype.setContent=function(){var e;e=this.marker_.get("labelContent"),e&&!_.isEqual(this.oldContent,e)&&("undefined"==typeof(null!=e?e.nodeType:void 0)?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=e):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(e),this.oldContent=e))}:void 0):void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){return this.intersectionObjects=function(e,t,n){var i;return null==n&&(n=void 0),i=_.map(e,function(){return function(e){return _.find(t,function(t){return null!=n?n(e,t):_.isEqual(e,t)})}}(this)),_.filter(i,function(e){return null!=e})},this.containsObject=_.includeObject=function(e,t,n){return null==n&&(n=void 0),null===e?!1:_.any(e,function(){return function(e){return null!=n?n(e,t):_.isEqual(e,t)}}(this))},this.differenceObjects=function(e,t,n){return null==n&&(n=void 0),_.filter(e,function(e){return function(i){return!e.containsObject(t,i,n)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(e,t,n,i){var r,o;if(null==e)return-1;if(r=0,o=e.length,i){if("number"!=typeof i)return r=_.sortedIndex(e,t),e[r]===t?r:-1;r=0>i?Math.max(0,o+i):i}for(;o>r;){if(null!=n){if(n(e[r],t))return r}else if(_.isEqual(e[r],t))return r;r++}return-1},this.isNullOrUndefined=function(e){return _.isNull(e||_.isUndefined(e))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(e){return this.contains=function(t,n){return-1!==e.indexOf(t,n)},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var e;return e=void 0,{then:function(t){return e=t},resolve:function(){return e.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(e,n,i,r,o,s){var a,l,u,c,d,p,g,h,f,m,v,b,y,w,$,x,k,S,C;return S=n.promiseTypes,v=n.isInProgress,k=n.promiseStatus,a=n.ExposedPromise,u=n.SniffedPromise,b=function(e,t){var n;return n=e.promise(),n.promiseType=e.promiseType,n.$$state&&i.debug("promiseType: "+n.promiseType+", state: "+k(n.$$state.status)),n.cancelCb=t,n},h=function(e,t){return e.promiseType===S.create&&t.promiseType!==S["delete"]&&t.promiseType!==S.init?(i.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+e.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},x=function(e,t,n){var r;return t.promiseType===S["delete"]&&n.promiseType!==S["delete"]&&null!=n.cancelCb&&_.isFunction(n.cancelCb)&&v(n)&&(i.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+n.promiseType),n.cancelCb("cancel safe"),r=e.peek(),null!=r&&v(r))?r.hasOwnProperty("cancelCb")&&_.isFunction(r.cancelCb)?(i.debug("promiseType: "+r.promiseType+", CANCELING FIRST PROMISE type: "+r.promiseType),r.cancelCb("cancel safe")):i.warn("first promise was not cancelable"):void 0},l=function(e,t,n){var i,r;if(e.existingPieces){if(i=_.last(e.existingPieces._content),h(t,i))return;return x(e.existingPieces,t,i),r=a(i["finally"](function(){return b(t,n)})),r.cancelCb=n,r.promiseType=t.promiseType,e.existingPieces.enqueue(r),i["finally"](function(){return e.existingPieces.dequeue()})}return e.existingPieces=new o.Queue,e.existingPieces.enqueue(b(t,n))},w=function(e,t,n,r,o){var s;return null==n&&(n=""),s=function(e){return i.debug(e+": "+e),null!=r&&_.isFunction(r)?r(e):void 0},l(e,u(o,t),s)},p=80,m={value:null},C=function(e,t,n){var i;try{return e.apply(t,n)}catch(r){return i=r,m.value=i,m}},y=function(e,t,n,r){var o,s;return s=C(e,t,r),s===m&&(o="error within chunking iterator: "+m.value,i.error(o),n.reject(o)),"cancel safe"===s?!1:!0},d=function(e,t,n){var i,r;return i=e===t,r=t[n],i?r:e[r]},c=function(e,n,i,r){var o;return t.isArray(e)?o=e:(o=n?n:Object.keys(_.omit(e,["length","forEach","map"])),n=o),null==r&&(r=i),t.isArray(o)&&(void 0===o||(null!=o?o.length:void 0)<=0)&&r!==i?i():r(o,n)},g=function(n,i,r,o,s,a,l,u){return c(n,u,function(u,c){var p,h,f,m;for(p=i&&i<u.length?i:u.length,h=l,f=!0;f&&p--&&h<(u?u.length:h+1);)m=d(n,u,h),f=t.isFunction(m)?!0:y(o,void 0,a,[m,h]),++h;if(u){if(!(f&&h<u.length))return a.resolve();if(l=h,i)return null!=s&&_.isFunction(s)&&y(s,void 0,a,[]),e(function(){return g(n,i,r,o,s,a,l,c)},r,!1)}})},f=function(e,t,r,o,s,a,l){var u,d,h;return null==r&&(r=p),null==s&&(s=0),null==a&&(a=1),h=void 0,d=n.defer(),h=d.promise,a?c(e,l,function(){return d.resolve(),h},function(n,i){return g(e,r,a,t,o,d,s,i),h}):(u="pause (delay) must be set from _async!",i.error(u),d.reject(u),h)},$=function(e,t,i,r,o,s,a){var l;return l=[],c(e,a,function(){return n.resolve(l)},function(n,a){return f(e,function(e){return l.push(t(e))},i,r,o,s,a).then(function(){return l})})},{each:f,map:$,managePromiseQueue:w,promiseLock:w,defaultChunkSize:p,chunkSizeFrom:function(e,t){return null==t&&(t=void 0),_.isNumber(e)&&(t=e),(s.isFalse(e)||e===!1)&&(t=!1),t}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t,n;return n=["extended","included"],t=function(){function t(){}return t.extend=function(t){var i,r,o;for(i in t)o=t[i],e.call(n,i)<0&&(this[i]=o);return null!=(r=t.extended)&&r.apply(this),this},t.include=function(t){var i,r,o;for(i in t)o=t[i],e.call(n,i)<0&&(this.prototype[i]=o);return null!=(r=t.included)&&r.apply(this),this},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(e){var t;return t={handle:function(n){return n.$on("$destroy",function(){return t.handle(n)}),n.deferred=e.defer(),{getScope:function(){return n}}},mapPromise:function(e,t){var n;return n=t.getScope(),n.deferred.promise.then(function(t){return e.map=t}),n.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(){var e,n;return n=function(e){return t.isDefined(e.events)&&null!=e.events&&t.isObject(e.events)},e=function(e,t){return n(e)?e:n(t)?t:void 0},{setEvents:function(n,i,r,o){var s;return s=e(i,r),null!=s?_.compact(_.map(s.events,function(e,a){var l;return o&&(l=_(o).contains(a)),s.events.hasOwnProperty(a)&&t.isFunction(s.events[a])&&!l?google.maps.event.addListener(n,a,function(){return i.$evalAsync||(i.$evalAsync=function(){}),i.$evalAsync(e.apply(i,[n,a,r,arguments]))}):void 0})):void 0},removeEvents:function(e){return e?e.forEach(function(e){return e?google.maps.event.removeListener(e):void 0}):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger","uiGmap_async",function(){return{fit:function(e,t){var n,i;return t&&e&&e.length>0&&(n=new google.maps.LatLngBounds,i=!1,e.forEach(function(){return function(e){return e?(i||(i=!0),n.extend(e.getPosition())):void 0}}(this)),i)?t.fitBounds(n):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(e,n){var i,r,o,s,a,l;return r=function(e,t,n){return e===t||-1!==n.indexOf(e)},i=function(e){return r(e,!1,["false","FALSE",0,"n","N","no","NO"])},s=function(e){return Array.isArray(e)&&2===e.length?e[1]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[1]:e.latitude},a=function(e){return Array.isArray(e)&&2===e.length?e[0]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[0]:e.longitude},o=function(e){return e?Array.isArray(e)&&2===e.length?new google.maps.LatLng(e[1],e[0]):t.isDefined(e.type)&&"Point"===e.type?new google.maps.LatLng(e.coordinates[1],e.coordinates[0]):new google.maps.LatLng(e.latitude,e.longitude):void 0},l=function(e){if(t.isUndefined(e))return!1;if(_.isArray(e)){if(2===e.length)return!0}else if(null!=e&&(null!=e?e.type:void 0)&&"Point"===e.type&&_.isArray(e.coordinates)&&2===e.coordinates.length)return!0;return e&&t.isDefined((null!=e?e.latitude:void 0)&&t.isDefined(null!=e?e.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(e,n){return e?(Array.isArray(e)&&2===e.length?(e[1]=n.lat(),e[0]=n.lng()):t.isDefined(e.type)&&"Point"===e.type?(e.coordinates[1]=n.lat(),e.coordinates[0]=n.lng()):(e.latitude=n.lat(),e.longitude=n.lng()),e):void 0},getLabelPositionPoint:function(e){var t,n;return void 0===e?void 0:(e=/^([-\d\.]+)\s([-\d\.]+)$/.exec(e),t=parseFloat(e[1]),n=parseFloat(e[2]),null!=t&&null!=n?new google.maps.Point(t,n):void 0)},createWindowOptions:function(i,r,s,a){var l;return null!=s&&null!=a&&null!=n?(l=t.extend({},a,{content:this.buildContent(r,a,s),position:null!=a.position?a.position:t.isObject(i)?i.getPosition():o(r.coords)}),null!=i&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):a?a:(e.error("infoWindow defaults not defined"),s?void 0:e.error("infoWindow content not defined"))},buildContent:function(e,t,i){var r,o;return null!=t.content?o=t.content:null!=n?(i=i.replace(/^\s+|\s+$/g,""),r=""===i?"":n(i)(e),r.length>0&&(o=r[0])):o=i,o},defaultDelay:50,isTrue:function(e){return r(e,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:i,isFalsy:function(e){return r(e,!1,[void 0,null])||i(e)},getCoords:o,validateCoords:l,equalCoords:function(e,t){return s(e)===s(t)&&a(e)===a(t)},validatePath:function(e){var n,i,r,o;if(i=0,t.isUndefined(e.type)){if(!Array.isArray(e)||e.length<2)return!1;for(;i<e.length;){if(!(t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)||"function"==typeof e[i].lat&&"function"==typeof e[i].lng))return!1;i++}return!0}if(t.isUndefined(e.coordinates))return!1;if("Polygon"===e.type){if(e.coordinates[0].length<4)return!1;n=e.coordinates[0]}else if("MultiPolygon"===e.type){if(o={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},o),r=e.coordinates[o.index],n=r[0],n.length<4)return!1}else{if("LineString"!==e.type)return!1;if(e.coordinates.length<2)return!1;n=e.coordinates}for(;i<n.length;){if(2!==n[i].length)return!1;i++}return!0},convertPathPoints:function(e){var n,i,r,o,s;if(i=0,o=new google.maps.MVCArray,t.isUndefined(e.type))for(;i<e.length;)t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)?r=new google.maps.LatLng(e[i].latitude,e[i].longitude):"function"==typeof e[i].lat&&"function"==typeof e[i].lng&&(r=e[i]),o.push(r),i++;else for("Polygon"===e.type?n=e.coordinates[0]:"MultiPolygon"===e.type?(s={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},s),n=e.coordinates[s.index][0]):"LineString"===e.type&&(n=e.coordinates);i<n.length;)o.push(new google.maps.LatLng(n[i][1],n[i][0])),i++;return o},extendMapBounds:function(e,t){var n,i;for(n=new google.maps.LatLngBounds,i=0;i<t.length;)n.extend(t.getAt(i)),i++;return e.fitBounds(n)},getPath:function(e,t){var n;return null!=t&&_.isString(t)?(n=e,_.each(t.split("."),function(e){return n?n=n[e]:void 0}),n):t},validateBoundPoints:function(e){return t.isUndefined(e.sw.latitude)||t.isUndefined(e.sw.longitude)||t.isUndefined(e.ne.latitude)||t.isUndefined(e.ne.longitude)?!1:!0},convertBoundPoints:function(e){var t;return t=new google.maps.LatLngBounds(new google.maps.LatLng(e.sw.latitude,e.sw.longitude),new google.maps.LatLng(e.ne.latitude,e.ne.longitude))},fitMapBounds:function(e,t){return e.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(e,t){var n,i,r;return n=0,r=[],i=function(){return e.all(r)},{spawn:function(){var t;return t=e.defer(),r.push(t.promise),n+=1,{instance:n,deferred:t}},promises:i,instances:function(){return n},promise:function(r){var o,s;return null==r&&(r=1),o=e.defer(),s=function(){return t(function(){return n!==r?s():o.resolve(i())})},s(),o.promise},reset:function(){return n=0,r.length=0},decrement:function(){return n-=1,r.length=r.length-1}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(t){var n;return n=function(t){function n(e,t,n,i){this.scope=e,this.element=t,this.attrs=n,this.ctrls=i}return e(n,t),n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["$log",function(e){var t,n,i,r;return t={log:1,info:2,debug:3,warn:4,error:5,none:6},r=function(e,t,n){return e>=t?n():void 0},i=function(t,n){return null!=e?e[t](n):console[t](n)},new(n=function(){function n(){var e;this.doLog=!0,e={},["log","info","debug","warn","error"].forEach(function(n){return function(o){return e[o]=function(e){return n.doLog?r(t[o],n.currentLevel,function(){return i(o,e)}):void 0}}}(this)),this.LEVELS=t,this.currentLevel=t.error,this.log=e.log,this.info=e.info,this.debug=e.debug,this.warn=e.warn,this.error=e.error}return n.prototype.spawn=function(){return new n},n.prototype.setLog=function(t){return e=t},n}())}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapPromise","$q","$timeout",function(i,r){var o;return o=function(i){function o(t){this.scope=t,this.modelsLength=e(this.modelsLength,this),this.updateChild=e(this.updateChild,this),this.destroy=e(this.destroy,this),this.onDestroy=e(this.onDestroy,this),this.setChildScope=e(this.setChildScope,this),this.getChanges=e(this.getChanges,this),this.getProp=e(this.getProp,this),this.setIdKey=e(this.setIdKey,this),this.modelKeyComparison=e(this.modelKeyComparison,this),o.__super__.constructor.call(this),this["interface"]={},this["interface"].scopeKeys=[],this.defaultIdKey="id",this.idKey=void 0}return n(o,i),o.prototype.evalModelHandle=function(e,t){return null!=e&&null!=t?"self"===t?e:(_.isFunction(t)&&(t=t()),r.getPath(e,t)):void 0},o.prototype.modelKeyComparison=function(e,t){var n,i,o;if(n=_.contains(this["interface"].scopeKeys,"coords"),(n&&null!=this.scope.coords||!n)&&(o=this.scope),null==o)throw"No scope set!";return n&&(i=r.equalCoords(this.evalModelHandle(e,o.coords),this.evalModelHandle(t,o.coords)),!i)?i:i=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(i){return n.evalModelHandle(e,o[i])===n.evalModelHandle(t,o[i])}}(this))},o.prototype.setIdKey=function(e){return this.idKey=null!=e.idKey?e.idKey:this.defaultIdKey},o.prototype.setVal=function(e,t,n){var i;return i=this.modelOrKey(e,t),i=n,e},o.prototype.modelOrKey=function(e,t){return null!=t?"self"!==t?r.getPath(e,t):e:void 0},o.prototype.getProp=function(e,t){return this.modelOrKey(t,e)},o.prototype.getChanges=function(e,t,n){var i,r,o;n&&(t=_.pick(t,n),e=_.pick(e,n)),r={},o={},i={};for(o in e)t&&t[o]===e[o]||(_.isArray(e[o])?r[o]=e[o]:_.isObject(e[o])?(i=this.getChanges(e[o],t?t[o]:null),_.isEmpty(i)||(r[o]=i)):r[o]=e[o]);return r},o.prototype.scopeOrModelVal=function(e,t,n,i){var r,o,s,a;return null==i&&(i=!1),r=function(e,t,n){return null==n&&(n=!1),n?{isScope:e,value:t}:t},a=t[e],_.isFunction(a)?r(!0,a(n),i):_.isObject(a)?r(!0,a,i):_.isString(a)?(o=a,s=o?"self"===o?n:n[o]:n[e],_.isFunction(s)?r(!1,s(),i):r(!1,s,i)):r(!0,a,i)},o.prototype.setChildScope=function(e,t,n){return _.each(e,function(e){return function(i){var r,o;return r=e.scopeOrModelVal(i,t,n,!0),null!=(null!=r?r.value:void 0)&&(o=r.value,o!==t[i])?t[i]=o:void 0}}(this)),t.model=n},o.prototype.onDestroy=function(){},o.prototype.destroy=function(e){var t;return null==e&&(e=!1),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?this.clean():this.scope.$destroy()},o.prototype.updateChild=function(e,t){return null==t[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):e.updateModel(t)},o.prototype.modelsLength=function(e){var n,i;return null==e&&(e=void 0),n=0,i=e?e:this.scope.models,null==i?n:n=t.isArray(i)||null!=i.length?i.length:Object.keys(i).length},o}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(e,t,n,i){return{didQueueInitPromise:function(e,n){return 0===n.models.length?(t.promiseLock(e,i.promiseTypes.init,null,null,function(){return function(){return i.resolve()}}(this)),!0):!1},figureOutState:function(t,n,i,r){var o,s,a,l,u;return o=[],a={},l=[],u=[],n.models.forEach(function(n){var s;return null==n[t]?e.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(a[n[t]]={},null==i.get(n[t])?o.push(n):(s=i.get(n[t]),r(n,s.clonedModel)?void 0:u.push({model:n,child:s})))}),s=i.values(),s.forEach(function(n){var i;return null==n?void e.error("child undefined in ModelsWatcher."):null==n.model?void e.error("child.model undefined in ModelsWatcher."):(i=n.model[t],null==a[i]?l.push(n):void 0)}),{adds:o,removals:l,updates:u}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(e,t,n){var i,r,o,s,a,l,u,c,d,p,g;return d={create:"create",update:"update","delete":"delete",init:"init"},c={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},g=function(){var e;return e={},e[""+c.IN_PROGRESS]="in-progress",e[""+c.RESOLVED]="resolved",e[""+c.REJECTED]="rejected",e}(),s=function(e){return e.$$state?e.$$state.status===c.IN_PROGRESS:e.hasOwnProperty("$$v")?void 0:!0},a=function(e){return e.$$state?e.$$state.status===c.RESOLVED:e.hasOwnProperty("$$v")?!0:void 0},u=function(e){return g[e]||"done w error"},i=function(t){var n,i,r;return n=e.defer(),i=e.all([t,n.promise]),r=e.defer(),t.then(n.resolve,function(){},function(e){return n.notify(e),r.notify(e)}),i.then(function(e){return r.resolve(e[0]||e[1])},function(e){return r.reject(e)}),r.promise.cancel=function(e){return null==e&&(e="canceled"),n.reject(e)},r.promise.notify=function(e){return null==e&&(e="cancel safe"),r.notify(e),t.hasOwnProperty("notify")?t.notify(e):void 0},null!=t.promiseType&&(r.promise.promiseType=t.promiseType),r.promise},r=function(e,t){return{promise:e,promiseType:t}},o=function(){return e.defer()},p=function(){var t;return t=e.defer(),t.resolve.apply(void 0,arguments),t.promise},l=function(i){var r;return _.isFunction(i)?(r=e.defer(),t(function(){var e;return e=i(),r.resolve(e)}),r.promise):void n.error("uiGmapPromise.promise() only accepts functions")},{defer:o,promise:l,resolve:p,promiseTypes:d,isInProgress:s,isResolved:a,promiseStatus:u,ExposedPromise:i,SniffedPromise:r}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){var t;return t=function(){function t(){this.removeAll=e(this.removeAll,this),this.slice=e(this.slice,this),this.push=e(this.push,this),this.keys=e(this.keys,this),this.values=e(this.values,this),this.remove=e(this.remove,this),this.put=e(this.put,this),this.stateChanged=e(this.stateChanged,this),this.get=e(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return t.prototype.get=function(e){return this.dict[e]},t.prototype.stateChanged=function(){return this.didValsStateChange=!0,
this.didKeysStateChange=!0},t.prototype.put=function(e,t){return null==this.get(e)&&this.length++,this.stateChanged(),this.dict[e]=t},t.prototype.remove=function(e,t){var n;return null==t&&(t=!1),t&&!this.get(e)?void 0:(n=this.dict[e],delete this.dict[e],this.length--,this.stateChanged(),n)},t.prototype.valuesOrKeys=function(e){var t,n;return null==e&&(e="Keys"),this["did"+e+"StateChange"]?(n=[],t=[],_.each(this.dict,function(e,i){return n.push(e),t.push(i)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=n,this.allKeys=t,this["all"+e]):this["all"+e]},t.prototype.values=function(){return this.valuesOrKeys("Vals")},t.prototype.keys=function(){return this.valuesOrKeys()},t.prototype.push=function(e,t){return null==t&&(t="key"),this.put(e[t],e)},t.prototype.slice=function(){return this.keys().map(function(e){return function(t){return e.remove(t)}}(this))},t.prototype.removeAll=function(){return this.slice()},t.prototype.each=function(e){return _.each(this.dict,function(t){return e(t)})},t.prototype.map=function(e){return _.map(this.dict,function(t){return e(t)})},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(){var e;return e=function(e){return this.setIfChange=function(t,n){var i;return i=this.exp,_.isEqual(n,t)?void 0:e(i,t)},this.sic=this.setIfChange,this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(n,i,r){var o;return o=function(){function o(t,i,s,a){null==i&&(i={}),this.opt_options=null!=s?s:{},this.opt_events=a,this.checkSync=e(this.checkSync,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=o.type,this.clusterer=new NgMapMarkerClusterer(t,i,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return o.type="ClustererMarkerManager",o.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",n.error(t)):void 0},o.prototype.add=function(e){return this.checkKey(e),this.clusterer.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},o.prototype.update=function(e){return this.remove(e),this.add(e)},o.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},o.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(this.clusterer.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},o.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},o.prototype.draw=function(){return this.clusterer.repaint()},o.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},o.prototype.attachEvents=function(e,i){var r,o,s;if(t.isDefined(e)&&null!=e&&t.isObject(e)){s=[];for(o in e)r=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])?(n.info(i+": Attaching event: "+o+" to clusterer"),s.push(google.maps.event.addListener(this.clusterer,o,e[o]))):s.push(void 0);return s}},o.prototype.clearEvents=function(e,i){var r,o,s;if(t.isDefined(e)&&null!=e&&t.isObject(e)){s=[];for(o in e)r=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])?(n.info(i+": Clearing event: "+o+" to clusterer"),s.push(google.maps.event.clearListeners(this.clusterer,o))):s.push(void 0);return s}},o.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},o.prototype.fit=function(){return i.fit(this.getGMarkers(),this.clusterer.getMap())},o.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},o.prototype.checkSync=function(){},o}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,n,i){var r;return r=function(){function r(n){this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.handleOptDraw=e(this.handleOptDraw,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=r.type,this.gMap=n,this.gMarkers=new i,this.$log=t,this.$log.info(this)}return r.type="MarkerManager",r.prototype.add=function(e,n){var i,r;if(null==n&&(n=!0),null==e.key)throw r="gMarker.key undefined and it is REQUIRED!!",t.error(r),r;return i=this.gMarkers.get(e.key),i?void 0:(this.handleOptDraw(e,n,!0),this.gMarkers.put(e.key,e))},r.prototype.update=function(e,t){return null==t&&(t=!0),this.remove(e,t),this.add(e,t)},r.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},r.prototype.remove=function(e,t){return null==t&&(t=!0),this.handleOptDraw(e,t,!1),this.gMarkers.get(e.key)?this.gMarkers.remove(e.key):void 0},r.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},r.prototype.draw=function(){var e;return e=[],this.gMarkers.each(function(t){return function(n){return n.isDrawn?void 0:n.doAdd?(n.setMap(t.gMap),n.isDrawn=!0):e.push(n)}}(this)),e.forEach(function(e){return function(t){return t.isDrawn=!1,e.remove(t,!0)}}(this))},r.prototype.clear=function(){return this.gMarkers.each(function(e){return e.setMap(null)}),delete this.gMarkers,this.gMarkers=new i},r.prototype.handleOptDraw=function(e,t,n){return t===!0?(e.setMap(n?this.gMap:null),e.isDrawn=!0):(e.isDrawn=!1,e.doAdd=n)},r.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},r.prototype.getGMarkers=function(){return this.gMarkers.values()},r}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(e){var n,i;return n=function(t,n,i){return google.maps.event.addListener(t,n,function(){return i.apply(this,arguments),e(function(){},!0)})},i=function(e,i,r){var o;return r?n(e,i,r):(o=[],t.forEach(i,function(t,i){return o.push(n(e,i,t))}),function(){return t.forEach(o,function(e){return google.maps.event.removeListener(e)}),o=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(e){return function(n,i,r,o){var s,a,l,u,c,d,p,g,h;return u=!1,g=i.$eval(r),i["static"]||(c={set_at:function(e){var t;return!u&&(t=n.getAt(e))?t.lng&&t.lat?(g[e].latitude=t.lat(),g[e].longitude=t.lng()):g[e]=t:void 0},insert_at:function(e){var t;return!u&&(t=n.getAt(e))?t.lng&&t.lat?g.splice(e,0,{latitude:t.lat(),longitude:t.lng()}):g.splice(e,0,t):void 0},remove_at:function(e){return u?void 0:g.splice(e,1)}},"Polygon"===g.type?s=g.coordinates[0]:"LineString"===g.type&&(s=g.coordinates),a={set_at:function(e){var t;return!u&&(t=n.getAt(e),t&&t.lng&&t.lat)?(s[e][1]=t.lat(),s[e][0]=t.lng()):void 0},insert_at:function(e){var t;return!u&&(t=n.getAt(e),t&&t.lng&&t.lat)?s.splice(e,0,[t.lng(),t.lat()]):void 0},remove_at:function(e){return u?void 0:s.splice(e,1)}},p=e(n,t.isUndefined(g.type)?c:a)),d=function(e){var t,i,r,s,a,l,c,d;if(u=!0,l=n,t=!1,e){for(i=0,c=l.getLength(),s=e.length,r=Math.min(c,s),a=void 0;r>i;)d=l.getAt(i),a=e[i],"function"==typeof a.equals?a.equals(d)||(l.setAt(i,a),t=!0):(d.lat()!==a.latitude||d.lng()!==a.longitude)&&(l.setAt(i,new google.maps.LatLng(a.latitude,a.longitude)),t=!0),i++;for(;s>i;)a=e[i],l.push("function"==typeof a.lat&&"function"==typeof a.lng?a:new google.maps.LatLng(a.latitude,a.longitude)),t=!0,i++;for(;c>i;)l.pop(),t=!0,i++}return u=!1,t?o(l):void 0},l=function(e){var t,i,r,s,a,l,c,d,p;if(u=!0,c=n,i=!1,e){for("Polygon"===g.type?t=e.coordinates[0]:"LineString"===g.type&&(t=e.coordinates),r=0,d=c.getLength(),a=t.length,s=Math.min(d,a),l=void 0;s>r;)p=c.getAt(r),l=t[r],(p.lat()!==l[1]||p.lng()!==l[0])&&(c.setAt(r,new google.maps.LatLng(l[1],l[0])),i=!0),r++;for(;a>r;)l=t[r],c.push(new google.maps.LatLng(l[1],l[0])),i=!0,r++;for(;d>r;)c.pop(),i=!0,r++}return u=!1,i?o(c):void 0},i["static"]||(h=t.isUndefined(g.type)?i.$watchCollection(r,d):i.$watch(r,l,!0)),function(){return p&&(p(),p=null),h?(h(),h=null):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(e){return{maybeRepaint:function(t){return t?(t.style.opacity=.9,e(function(){return t.style.opacity=1})):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var e,t,n,i;return e=["length","forEach","map"],t=[],n=function(t){return t.forEach=function(n){return _.each(_.omit(t,e),function(e){return _.isFunction(e)?void 0:n(e)})},t},t.push(n),i=function(t){return t.map=function(n){return _.map(_.omit(t,e),function(e){return _.isFunction(e)?void 0:n(e)})},t},t.push(i),{slapMap:i,slapForEach:n,slapAll:function(e){return t.forEach(function(t){return t(e)}),e}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(i,r,o){var s;return s=function(i){function o(){return this.watchProps=e(this.watchProps,this),this.buildOpts=e(this.buildOpts,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],o.prototype.getCorrectModel=function(e){return t.isDefined(null!=e?e.model:void 0)?e.model:e},o.prototype.buildOpts=function(e,n,i){var o,s,a;return null==e&&(e={}),null==i&&(i={}),this.scope?this.map?(o=this.getCorrectModel(this.scope),a=this.scopeOrModelVal("stroke",this.scope,o),s=t.extend(e,this.DEFAULTS,{map:this.map,strokeColor:null!=a?a.color:void 0,strokeOpacity:null!=a?a.opacity:void 0,strokeWeight:null!=a?a.weight:void 0}),t.forEach(t.extend(i,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(e){return function(i,r){var a;return a=n?n[r]:e.scopeOrModelVal(r,e.scope,o),s[r]=t.isUndefined(a)?i:o[r]}}(this)),s["static"]&&(s.editable=!1),s):void r.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void r.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},o.prototype.watchProps=function(e){return null==e&&(e=this.props),e.forEach(function(e){return function(t){return null!=e.attrs[t]||null!=e.attrs[null!=t?t.prop:void 0]?(null!=t?t.isColl:void 0)?e.scope.$watchCollection(t.prop,e.setMyOptions):e.scope.$watch(t,e.setMyOptions):void 0}}(this))},o}(o)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.buildOpts=function(e,n,r){var o,s;return s=this.getCorrectModel(this.scope),o=n?n.fill:this.scopeOrModelVal("fill",this.scope,s),e=t.extend(e,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),i.__super__.buildOpts.call(this,e,n,r)},i}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{bounds:e},t)},n}(t)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t,i){return n.__super__.buildOpts.call(this,{center:e,radius:t},i)},n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(e,n){return _.extend(n,{createOptions:function(e,i,r,o){var s;return null==r&&(r={}),s=t.extend({},r,{position:null!=r.position?r.position:n.getCoords(e),visible:null!=r.visible?r.visible:n.validateCoords(e)}),(null!=r.icon||null!=i)&&(s=t.extend(s,{icon:null!=r.icon?r.icon:i})),null!=o&&(s.map=o),s},isLabel:function(e){return null==e?!1:null!=e.labelContent||null!=e.labelAnchor||null!=e.labelClass||null!=e.labelStyle||null!=e.labelVisible}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(i,r,o,s,a){return function(i,r){var l;return l=function(i){function l(n,i,s,l,u){var c;this.scope=n,this.attrs=i,this.map=s,this.defaults=l,this.model=u,this.clean=e(this.clean,this),this.clonedModel=_.clone(this.model,!0),this.isDragging=!1,this.internalEvents={dragend:function(e){return function(){return _.defer(function(){return e.isDragging=!1})}}(this),dragstart:function(e){return function(){return e.isDragging=!0}}(this)},c=function(e){return function(){var n,i;return e.isDragging?void 0:(i=e.convertPathPoints(e.scope.path),null!=e.gObject&&e.clean(),null!=e.scope.model&&(n=e.scope),i.length>0&&(e.gObject=r(e.buildOpts(i,n))),e.gObject?(e.scope.fit&&e.extendMapBounds(e.map,i),o(e.gObject.getPath(),e.scope,"path",function(t){return e.scope.fit?e.extendMapBounds(e.map,t):void 0}),t.isDefined(e.scope.events)&&t.isObject(e.scope.events)&&(e.listeners=e.model?a.setEvents(e.gObject,e.scope,e.model):a.setEvents(e.gObject,e.scope,e.scope)),e.internalListeners=e.model?a.setEvents(e.gObject,{events:e.internalEvents},e.model):a.setEvents(e.gObject,{events:e.internalEvents},e.scope)):void 0)}}(this),c(),this.scope.$watch("path",function(e){return function(t,n){return _.isEqual(t,n)&&e.gObject?void 0:c()}}(this),!0),!this.scope["static"]&&t.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(e){return function(t,n){var i;return t!==n?(t=!e.isFalse(t),null!=(i=e.gObject)?i.setEditable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(e){return function(t,n){var i;return t!==n?(t=!e.isFalse(t),null!=(i=e.gObject)?i.setDraggable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(e){return function(t,n){var i;return t!==n&&(t=!e.isFalse(t)),null!=(i=e.gObject)?i.setVisible(t):void 0}}(this),!0),t.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(e){return function(t,n){var i;return t!==n?(t=!e.isFalse(t),null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(e){return function(t,n){var i;return t!==n&&null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(e){return function(t,n){var i;return t!==n&&null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(e){return function(t,n){var i;return t!==n&&null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(e){return function(t,n){var i;return t!==n&&null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),this.scope.$on("$destroy",function(e){return function(){return e.clean(),e.scope=null}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this))}return n(l,i),l.include(s),l.prototype.clean=function(){var e;return a.removeEvents(this.listeners),a.removeEvents(this.internalListeners),null!=(e=this.gObject)&&e.setMap(null),this.gObject=null},l}(i)}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(e,t){var n,i;return n=function(e,t,n){var i,r;return r=new google.maps.Polyline({map:e,clickable:!1}),i=google.maps.event.addListener(e,"mousemove",function(e){return r.getPath().push(e.latLng)}),void google.maps.event.addListenerOnce(e,"mouseup",function(){var o;return google.maps.event.removeListener(i),o=r.getPath(),r.setMap(null),t.push(new google.maps.Polygon({map:e,path:o})),r=null,google.maps.event.clearListeners(e.getDiv(),"mousedown"),n()})},i=function(i,r){var o,s;return this.map=i,r||(r={draggable:!0,zoomControl:!0,scrollwheel:!0,disableDoubleClickZoom:!0}),s=function(e){return function(){var t;return null!=(t=e.deferred)&&t.resolve(),_.defer(function(){return e.map.setOptions(_.extend(e.oldOptions,r))})}}(this),o=function(t){return function(){return e.info("disabling map move"),t.oldOptions=map.getOptions(),t.oldOptions.center=map.getCenter(),t.map.setOptions({draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!1})}}(this),this.engage=function(i){return function(r){return i.polys=r,i.deferred=t.defer(),o(),e.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(i.map.getDiv(),"mousedown",function(){return n(i.map,i.polys,s)}),i.deferred.promise}}(this),this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(t,i,r,o,s,a,l,u,c){var d;return d=function(t){function d(t,n,i,o,a,l,u,g,h,f){var m;this.model=n,this.keys=i,this.gMap=o,this.defaults=a,this.doClick=l,this.gManager=u,this.doDrawSelf=null!=g?g:!0,this.trackModel=null!=h?h:!0,this.needRedraw=null!=f?f:!1,this.internalEvents=e(this.internalEvents,this),this.setLabelOptions=e(this.setLabelOptions,this),this.setOptions=e(this.setOptions,this),this.setIcon=e(this.setIcon,this),this.setCoords=e(this.setCoords,this),this.isNotValid=e(this.isNotValid,this),this.maybeSetScopeValue=e(this.maybeSetScopeValue,this),this.createMarker=e(this.createMarker,this),this.setMyScope=e(this.setMyScope,this),this.updateModel=e(this.updateModel,this),this.handleModelChanges=e(this.handleModelChanges,this),this.destroy=e(this.destroy,this),this.clonedModel=_.extend({},this.model),this.deferred=c.defer(),_.each(this.keys,function(e){return function(t,n){return e[n+"Key"]=_.isFunction(e.keys[n])?e.keys[n]():e.keys[n]}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),d.__super__.constructor.call(this,t),this.scope.getGMarker=function(e){return function(){return e.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(e){return function(t,n){return t!==n?e.handleModelChanges(t,n):void 0}}(this),!0)):(m=new s(function(e){return function(n){return e.firstTime?void 0:e.setMyScope(n,t)}}(this),!1),_.each(this.keys,function(e,n){return t.$watch(n,m.sic,!0)})),this.scope.$on("$destroy",function(e){return function(){return p(e)}}(this)),this.createMarker(this.model),r.info(this)}var p;return n(d,t),d.include(i),d.include(o),d.include(a),p=function(e){return null!=(null!=e?e.gObject:void 0)&&(e.removeEvents(e.externalListeners),e.removeEvents(e.internalListeners),null!=e?e.gObject:void 0)?(e.removeFromManager&&e.gManager.remove(e.gObject),e.gObject.setMap(null),e.gObject=null):void 0},d.prototype.destroy=function(e){return null==e&&(e=!0),this.removeFromManager=e,this.scope.$destroy()},d.prototype.handleModelChanges=function(e,t){var n,i,r;return n=this.getChanges(e,t,l.keys),this.firstTime?void 0:(i=0,r=_.keys(n).length,_.each(n,function(n){return function(o,s){var a;return i+=1,a=r===i,n.setMyScope(s,e,t,!1,!0,a),n.needRedraw=!0}}(this)))},d.prototype.updateModel=function(e){return this.clonedModel=_.extend({},e),this.setMyScope("all",e,this.model)},d.prototype.renderGMarker=function(e,t){var n;if(null==e&&(e=!0),n=this.getProp(this.coordsKey,this.model),null!=n){if(!this.validateCoords(n))return void r.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=t&&t(),e&&this.gObject)return this.gManager.add(this.gObject)}else if(e&&this.gObject)return this.gManager.remove(this.gObject)},d.prototype.setMyScope=function(e,t,n,i,r){var o;switch(null==n&&(n=void 0),null==i&&(i=!1),null==r&&(r=!0),null==t?t=this.model:this.model=t,this.gObject||(this.setOptions(this.scope,r),o=!0),e){case"all":return _.each(this.keys,function(e){return function(o,s){return e.setMyScope(s,t,n,i,r)}}(this));case"icon":return this.maybeSetScopeValue("icon",t,n,this.iconKey,this.evalModelHandle,i,this.setIcon,r);case"coords":return this.maybeSetScopeValue("coords",t,n,this.coordsKey,this.evalModelHandle,i,this.setCoords,r);case"options":if(!o)return this.createMarker(t,n,i,r)}},d.prototype.createMarker=function(e,t,n,i){return null==t&&(t=void 0),null==n&&(n=!1),null==i&&(i=!0),this.maybeSetScopeValue("options",e,t,this.optionsKey,this.evalModelHandle,n,this.setOptions,i),this.firstTime=!1},d.prototype.maybeSetScopeValue=function(e,t,n,i,r,o,s,a){return null==s&&(s=void 0),null==a&&(a=!0),null!=s?s(this.scope,a):void 0},d.doDrawSelf&&doDraw&&d.gManager.draw(),d.prototype.isNotValid=function(e,t){var n,i;return null==t&&(t=!0),i=t?void 0===this.gObject:!1,n=this.trackModel?!1:e.$id!==this.scope.$id,n||i},d.prototype.setCoords=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(e){return function(){var t,n,i;return n=e.getProp(e.coordsKey,e.model),t=e.getCoords(n),i=e.gObject.getPosition(),null==i||null==t||t.lng()!==i.lng()||t.lat()!==i.lat()?(e.gObject.setPosition(t),e.gObject.setVisible(e.validateCoords(n))):void 0}}(this))},d.prototype.setIcon=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(e){return function(){var t,n,i;return i=e.gObject.getIcon(),n=e.getProp(e.iconKey,e.model),i!==n?(e.gObject.setIcon(n),t=e.getProp(e.coordsKey,e.model),e.gObject.setPosition(e.getCoords(t)),e.gObject.setVisible(e.validateCoords(t))):void 0}}(this))},d.prototype.setOptions=function(e,t){var n;if(null==t&&(t=!0),!this.isNotValid(e,!1)){if(this.renderGMarker(t,function(e){return function(){var t,n,i;return n=e.getProp(e.coordsKey,e.model),i=e.getProp(e.iconKey,e.model),t=e.getProp(e.optionsKey,e.model),e.opts=e.createOptions(n,i,t),e.isLabel(e.gObject)!==e.isLabel(e.opts)&&null!=e.gObject&&(e.gManager.remove(e.gObject),e.gObject=void 0),null!=e.gObject&&e.gObject.setOptions(e.setLabelOptions(e.opts)),e.gObject||(e.gObject=e.isLabel(e.opts)?new MarkerWithLabel(e.setLabelOptions(e.opts)):new google.maps.Marker(e.opts),_.extend(e.gObject,{model:e.model})),e.externalListeners&&e.removeEvents(e.externalListeners),e.internalListeners&&e.removeEvents(e.internalListeners),e.externalListeners=e.setEvents(e.gObject,e.scope,e.model,["dragend"]),e.internalListeners=e.setEvents(e.gObject,{events:e.internalEvents(),$evalAsync:function(){}},e.model),null!=e.id?e.gObject.key=e.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==u.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");(null!=(n=this.gObject)?n.getMap():0)&&this.gManager.type===u.type||(r.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},d.prototype.setLabelOptions=function(e){return e.labelAnchor=this.getLabelPositionPoint(e.labelAnchor),e},d.prototype.internalEvents=function(){return{dragend:function(e){return function(t,n,i,r){var o,s,a;return s=e.trackModel?e.scope.model:e.model,a=e.setCoordsFromEvent(e.modelOrKey(s,e.coordsKey),e.gObject.getPosition()),s=e.setVal(i,e.coordsKey,a),o=e.scope.events,null!=(null!=o?o.dragend:void 0)&&o.dragend(t,n,s,r),e.scope.$apply()}}(this),click:function(e){return function(t,n,i,r){var o;return o=_.isFunction(e.clickKey)?e.clickKey:e.getProp(e.clickKey,e.model),e.doClick&&null!=o?e.scope.$evalAsync(o(t,n,e.model,r)):void 0}}(this)}},d}(t)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(t,n){var i,r,o;return o=function(e){return new google.maps.Polygon(e)},r=new t(n,o),i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(r)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(t,n){var i,r,o;return o=function(e){return new google.maps.Polyline(e)},r=t(n,o),i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(r)}])}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(r,o,s,a,l,u,c,d){var p;return p=function(r){function p(e,t,i,r,o,a,l,u,c){var d;this.model=e,this.scope=t,this.opts=i,this.isIconVisibleOnClick=r,this.mapCtrl=o,this.markerScope=a,this.element=l,this.needToManualDestroy=null!=u?u:!1,this.markerIsVisibleAfterWindowClose=null!=c?c:!0,this.updateModel=n(this.updateModel,this),this.destroy=n(this.destroy,this),this.remove=n(this.remove,this),this.getLatestPosition=n(this.getLatestPosition,this),this.hideWindow=n(this.hideWindow,this),this.showWindow=n(this.showWindow,this),this.handleClick=n(this.handleClick,this),this.watchOptions=n(this.watchOptions,this),this.watchCoords=n(this.watchCoords,this),this.createGWin=n(this.createGWin,this),this.watchElement=n(this.watchElement,this),this.watchAndDoShow=n(this.watchAndDoShow,this),this.doShow=n(this.doShow,this),this.clonedModel=_.clone(this.model,!0),this.getGmarker=function(){var e,t;return null!=(null!=(e=this.markerScope)?e.getGMarker:void 0)&&null!=(t=this.markerScope)?t.getGMarker():void 0},this.listeners=[],this.createGWin(),d=this.getGmarker(),null!=d&&d.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(e){return function(){return e.destroy()}}(this)),s.info(this)}return i(p,r),p.include(o),p.include(d),p.prototype.doShow=function(e){return this.scope.show===!0||e?this.showWindow():this.hideWindow()},p.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},p.prototype.watchElement=function(){return this.scope.$watch(function(e){return function(){var t,n;return(e.element||e.html)&&e.html!==e.element.html()&&e.gObject?(null!=(t=e.opts)&&(t.content=void 0),n=e.gObject.isOpen(),e.remove(),e.createGWin(n)):void 0}}(this))},p.prototype.createGWin=function(t){var n,i,r,o,s;return null==t&&(t=!1),r=this.getGmarker(),i={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),i=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),n=this.scope.options?this.scope.options:i,this.opts=this.createWindowOptions(r,this.markerScope||this.scope,this.html,n),null!=this.opts?(this.gObject||(this.gObject=this.opts.boxClass&&e.InfoBox&&"function"==typeof e.InfoBox?new e.InfoBox(this.opts):new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return c.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(e){return function(){return r&&(r.setAnimation(e.oldMarkerAnimation),e.markerIsVisibleAfterWindowClose&&_.delay(function(){return r.setVisible(!1),r.setVisible(e.markerIsVisibleAfterWindowClose)},250)),e.gObject.close(),e.model.show=!1,null!=e.scope.closeClick?e.scope.$evalAsync(e.scope.closeClick()):e.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(o=this.scope)&&null!=(s=o.options)?s.forceClick:void 0)||t),this.doShow(this.gObject.isOpen())):void 0},p.prototype.watchCoords=function(){var e;return e=null!=this.markerScope?this.markerScope:this.scope,e.$watch("coords",function(e){return function(t,n){var i;if(t!==n){if(null==t)e.hideWindow();else if(!e.validateCoords(t))return void s.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(e.model));if(i=e.getCoords(t),e.gObject.setPosition(i),e.opts)return e.opts.position=i}}}(this),!0)},p.prototype.watchOptions=function(){return this.scope.$watch("options",function(e){
return function(t,n){if(t!==n&&(e.opts=t,null!=e.gObject)){if(e.gObject.setOptions(e.opts),null!=e.opts.visible&&e.opts.visible)return e.showWindow();if(null!=e.opts.visible)return e.hideWindow()}}}(this),!0)},p.prototype.handleClick=function(e){var t,n;return null!=this.gObject?(n=this.getGmarker(),t=function(e){return function(){return null==e.gObject&&e.createGWin(),e.showWindow(),null!=n?(e.initialMarkerVisibility=n.getVisible(),e.oldMarkerAnimation=n.getAnimation(),n.setVisible(e.isIconVisibleOnClick)):void 0}}(this),e&&t(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:t}},this.model)):void 0):void 0},p.prototype.showWindow=function(){var e,n,i;return null!=this.gObject?(n=function(e){return function(){var t,n,i;if(!e.gObject.isOpen()){if(n=e.getGmarker(),null!=e.gObject&&null!=e.gObject.getPosition&&(i=e.gObject.getPosition()),n&&(i=n.getPosition()),!i)return;if(e.gObject.open(e.mapCtrl,n),t=e.gObject.isOpen(),e.model.show!==t)return e.model.show=t}}}(this),this.scope.templateUrl?l.get(this.scope.templateUrl,{cache:u}).then(function(e){return function(i){var r,o;return o=e.scope.$new(),t.isDefined(e.scope.templateParameter)&&(o.parameter=e.scope.templateParameter),r=a(i.data)(o),e.gObject.setContent(r[0]),n()}}(this)):this.scope.template?(i=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(i.parameter=this.scope.templateParameter),e=a(this.scope.template)(i),this.gObject.setContent(e[0]),n()):n()):void 0},p.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},p.prototype.getLatestPosition=function(e){var t;return t=this.getGmarker(),null==this.gObject||null==t||e?e?this.gObject.setPosition(e):void 0:this.gObject.setPosition(t.getPosition())},p.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},p.prototype.destroy=function(e){var t;return null==e&&(e=!1),this.remove(),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?void 0:this.scope.$destroy()},p.prototype.updateModel=function(e){return this.clonedModel=_.extend({},e),_.extend(this.model,this.clonedModel)},p}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise",function(i,r,o,s,a,l,u){return function(i,c,d){var p;return p=function(o){function p(t,n,o,s,l){this.element=n,this.attrs=o,this.gMap=s,this.defaults=l,this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),p.__super__.constructor.call(this,t),this["interface"]=i,this.$log=r,this.plurals=new a,_.each(i.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return n(p,o),p.include(s),p.prototype.watchModels=function(e){return e.$watchCollection("models",function(t){return function(n,i){return n!==i?t.doINeedToWipe(n)||e.doRebuildAll?t.rebuildAll(e,!0,!0):t.createChildScopes(!1):void 0}}(this))},p.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},p.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},p.prototype.onDestroy=function(){return p.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,u.promiseTypes["delete"],void 0,void 0,function(e){return function(){return l.each(e.plurals.values(),function(e){return e.destroy(!0)},l.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},p.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.rebuildAll(e,!1,!0)}}(this))},p.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?void this.$log.error("No models to create "+d+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},p.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,i){return n!==i&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},p.prototype.createAllNew=function(e,t){var n;return null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.didQueueInitPromise(this,e)?void 0:(n=null,l.promiseLock(this,u.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return l.each(e.models,function(e){var i;return i=t.createChild(e,t.gMap),n&&(r.debug("createNew should fall through safely"),i.isEnabled=!1),n},l.chunkSizeFrom(e.chunk)).then(function(){return t.firstTime=!1})}}(this)))},p.prototype.pieceMeal=function(e,t){var n,i;return null==t&&(t=!0),e.$$destroyed?void 0:(n=null,i=null,this.models=e.models,null!=e&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,u.promiseTypes.update,"pieceMeal",function(e){return n=e},function(t){return function(){return u.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(o){return i=o,i.updates.length&&r.info("polygons updates: "+i.updates.length+" will be missed"),l.each(i.removals,function(e){return null!=e?(e.destroy(),t.plurals.remove(e.model[t.idKey]),n):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(i.adds,function(e){return n&&r.debug("pieceMeal should fall through safely"),t.createChild(e,t.gMap),n},l.chunkSizeFrom(e.chunk))})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},p.prototype.createChild=function(e,t){var n,r;return r=this.scope.$new(!1),this.setChildScope(i.scopeKeys,r,e),r.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(r,t):void 0}}(this),!0),r["static"]=this.scope["static"],n=new c(r,this.attrs,t,this.defaults,e),null==e[this.idKey]?void this.$log.error(d+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(e[this.idKey],n),n)},p}(o)}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(n,i,r,o,s){var a;return a=function(i){function s(e,i,o,s,a){var l,u,c;this.attrs=o,this.map=s,this.DEFAULTS=a,this.scope=e,c=null,l=function(e){return function(){return c=null,null!=e.listeners?(e.removeEvents(e.listeners),e.listeners=void 0):void 0}}(this),u=new google.maps.Circle(this.buildOpts(r.getCoords(e.center),e.radius)),this.setMyOptions=function(t){return function(n,i){return _.isEqual(n,i)?void 0:u.setOptions(t.buildOpts(r.getCoords(e.center),e.radius))}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),l(),this.listeners=this.setEvents(u,e,e,["radius_changed"]),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(u,"radius_changed",function(){var n,i;return n=u.getRadius(),n!==c?(c=n,i=function(){var t,i;return n!==e.radius&&(e.radius=n),(null!=(t=e.events)?t.radius_changed:void 0)&&_.isFunction(null!=(i=e.events)?i.radius_changed:void 0)?e.events.radius_changed(u,"radius_changed",e,arguments):void 0},t.mock?i():e.$evalAsync(function(){return i()})):void 0})),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(u,"center_changed",function(){return e.$evalAsync(function(){return t.isDefined(e.center.type)?(e.center.coordinates[1]=u.getCenter().lat(),e.center.coordinates[0]=u.getCenter().lng()):(e.center.latitude=u.getCenter().lat(),e.center.longitude=u.getCenter().lng())})})),e.$on("$destroy",function(){return function(){return l(),u.setMap(null)}}(this)),n.info(this)}return e(s,i),s.include(r),s.include(o),s}(s)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(t,n,i,r){var o;return o=function(t){function n(e,t,n,i){var r,o;this.scope=e,this.attrs=n,this.map=i,r=new google.maps.drawing.DrawingManager(this.scope.options),r.setMap(this.map),o=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return r}),!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(e){return null!=r?r.setOptions(e):void 0},!0),null!=this.scope.events&&(o=this.setEvents(r,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,n){return _.isEqual(t,n)?void 0:(null!=o&&e.removeEvents(o),o=e.setEvents(r,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(e){return function(){return null!=o&&e.removeEvents(o),r.setMap(null),r=null}}(this))}return e(n,t),n.include(r),n}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,s,a){if(this.scope=n,this.element=i,this.attrs=s,this.map=a,this.onWatch=e(this.onWatch,this),this.watch=e(this.watch,this),this.validateScope=e(this.validateScope,this),o.__super__.constructor.call(this,this.scope),this.$log=r,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(e){return function(){return e.onDestroy(e.scope)}}(this))}return n(o,i),o.prototype.DEFAULTS={},o.prototype.validateScope=function(e){var t;return null==e?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(t=null!=e.coords,t?t:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},o.prototype.watch=function(e,t,n){return null==n&&(n=!0),t.$watch(e,function(n){return function(i,r){return _.isEqual(i,r)?void 0:n.onWatch(e,t,i,r)}}(this),n)},o.prototype.onWatch=function(){},o}(i)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(t,n,i){var r;return r=function(t){function r(e,t,n,o,s,a,l,u){r.__super__.constructor.call(this,e),this.$log=i,this.$timeout=s,this.$compile=a,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=e.options&&(this.DEFAULTS=e.options)}return e(r,t),r.include(n),r.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},r}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(i,r){var o;return o=function(i){function o(n,i,o,s,a,l){return this.scope=n,this.element=i,this.attrs=o,this.gMap=s,this.onLayerCreated=null!=a?a:void 0,this.$log=null!=l?l:r,this.createGoogleLayer=e(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,e.gObject.setMap(t?e.gMap:null)):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return t!==n?(e.gObject.setMap(null),e.gObject=null,e.createGoogleLayer()):void 0}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.gObject.setMap(null)}}(this)))}return n(o,i),o.prototype.createGoogleLayer=function(){var e;return this.gObject=null==this.attrs.options?void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(e=this.onLayerCreated(this.scope,this.gObject))?e(this.gObject):void 0},o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,o,s,a){return this.scope=n,this.element=i,this.attrs=o,this.gMap=s,this.$log=null!=a?a:r,this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.refreshMapType=e(this.refreshMapType,this),this.createMapType=e(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.showOverlay():e.hideOverlay()):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return _.isEqual(t,n)?void 0:e.refreshMapType()}}(this),!0),t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(e){return function(t,n){return _.isEqual(t,n)?void 0:e.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.hideOverlay(),e.mapType=null}}(this)))}return n(o,i),o.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},o.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},o.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},o.prototype.hideOverlay=function(){var e;return e=!1,this.gMap.overlayMapTypes.forEach(function(t){return function(n,i){e||n.layerId!==t.id||(e=!0,t.gMap.overlayMapTypes.removeAt(i))}}(this))},o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger",function(i,r,o,s,a,l,u,c,d,p,g){var h,f;return f=function(e,t){return t.plurals=new o,t.scope.plurals=t.plurals,t},h=function(i){function c(t,n,i,r){this.onDestroy=e(this.onDestroy,this),this.newChildMarker=e(this.newChildMarker,this),this.pieceMeal=e(this.pieceMeal,this),this.rebuildAll=e(this.rebuildAll,this),this.createAllNew=e(this.createAllNew,this),this.createChildScopes=e(this.createChildScopes,this),this.validateScope=e(this.validateScope,this),this.onWatch=e(this.onWatch,this);var s;c.__super__.constructor.call(this,t,n,i,r),this["interface"]=d,s=this,f(new o,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(e){return function(t,n){if(!_.isEqual(t,n)||!e.modelsRendered){if(0===t.length&&0===n.length)return;return e.modelsRendered=!0,e.onWatch("models",e.scope,t,n)}}}(this),!this.isTrue(i.modelsbyref)),this.watch("doCluster",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return n(c,i),c.include(g),c.include(r),c.prototype.onWatch=function(e,t,n,i){return"idKey"===e&&n!==i&&(this.idKey=n),this.doRebuildAll||"doCluster"===e?this.rebuildAll(t):this.pieceMeal(t)},c.prototype.validateScope=function(e){var n;return n=t.isUndefined(e.models)||void 0===e.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),c.__super__.validateScope.call(this,e)||n},c.prototype.createChildScopes=function(e){return null!=this.gMap&&null!=this.scope.models?e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},c.prototype.createAllNew=function(e){var n,i,r,o,s;return null!=this.gManager&&(this.gManager.clear(),delete this.gManager),e.doCluster?(e.clusterEvents&&(s=this,this.origClusterEvents?t.extend(e.clusterEvents,this.origClusterEvents):this.origClusterEvents={click:null!=(i=e.clusterEvents)?i.click:void 0,mouseout:null!=(r=e.clusterEvents)?r.mouseout:void 0,mouseover:null!=(o=e.clusterEvents)?o.mouseover:void 0},t.extend(e.clusterEvents,{click:function(e){return s.maybeExecMappedEvent(e,"click")},mouseout:function(e){return s.maybeExecMappedEvent(e,"mouseout")},mouseover:function(e){return s.maybeExecMappedEvent(e,"mouseover")}})),this.gManager=new l(this.map,void 0,e.clusterOptions,e.clusterEvents)):this.gManager=new u(this.map),this.didQueueInitPromise(this,e)?void 0:(n=null,a.promiseLock(this,p.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return a.each(e.models,function(i){return t.newChildMarker(i,e),n},a.chunkSizeFrom(e.chunk)).then(function(){return t.modelsRendered=!0,e.fit&&t.gManager.fit(),t.gManager.draw(),t.scope.pluralsUpdate.updateCtr+=1},a.chunkSizeFrom(e.chunk))}}(this)))},c.prototype.rebuildAll=function(e){var t;return e.doRebuild||void 0===e.doRebuild?(null!=(t=this.scope.plurals)?t.length:void 0)?this.onDestroy(e).then(function(t){return function(){return t.createAllNew(e)}}(this)):this.createAllNew(e):void 0},c.prototype.pieceMeal=function(e){var t,n;return e.$$destroyed?void 0:(t=null,n=null,this.modelsLength()&&this.scope.plurals.length?a.promiseLock(this,p.promiseTypes.update,"pieceMeal",function(e){return t=e},function(i){return function(){return p.promise(function(){return i.figureOutState(i.idKey,e,i.scope.plurals,i.modelKeyComparison)}).then(function(r){return n=r,a.each(n.removals,function(e){return null!=e?(null!=e.destroy&&e.destroy(),i.scope.plurals.remove(e.id),t):void 0},a.chunkSizeFrom(e.chunk))}).then(function(){return a.each(n.adds,function(n){return i.newChildMarker(n,e),t},a.chunkSizeFrom(e.chunk))}).then(function(){return a.each(n.updates,function(e){return i.updateChild(e.child,e.model),t},a.chunkSizeFrom(e.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(e.plurals=i.scope.plurals,e.fit&&i.gManager.fit(),i.gManager.draw()),i.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(e)))},c.prototype.newChildMarker=function(e,t){var n,i,r,o;return null==e[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.plurals),i=t.$new(!0),i.events=t.events,o={},d.scopeKeys.forEach(function(e){return o[e]=t[e]}),n=new s(i,e,o,this.map,this.DEFAULTS,this.doClick,this.gManager,r=!1),this.scope.plurals.put(e[this.idKey],n),n)},c.prototype.onDestroy=function(e){return c.__super__.onDestroy.call(this,e),a.promiseLock(this,p.promiseTypes["delete"],void 0,void 0,function(e){return function(){return a.each(e.scope.plurals.values(),function(e){return null!=e?e.destroy(!1):void 0},a.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){return null!=e.gManager&&e.gManager.clear(),e.plurals.removeAll(),e.plurals!==e.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),e.scope.pluralsUpdate.updateCtr+=1})}}(this))},c.prototype.maybeExecMappedEvent=function(e,t){var n,i;return _.isFunction(null!=(i=this.scope.clusterEvents)?i[t]:void 0)&&(n=this.mapClusterToPlurals(e),this.origClusterEvents[t])?this.origClusterEvents[t](n.cluster,n.mapped):void 0},c.prototype.mapClusterToPlurals=function(e){var t;return t=e.getMarkers().map(function(e){return function(t){return e.scope.plurals.get(t.key).model}}(this)),{cluster:e,mapped:t}},c.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},c}(i)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(e){return t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+e+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+e+"ChildModel","uiGmapI"+e,function(t,n,i){return t(i,n,e)}])})}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(t,n,i,r){var o;return o=function(r){function o(e,n,i,r,o){var s,a,l,u,c,d,p,g,h,f,m;this.scope=e,this.attrs=i,this.map=r,this.DEFAULTS=o,s=void 0,u=!1,h=[],g=void 0,c=function(e){return function(){return e.isTrue(e.attrs.fit)?e.fitMapBounds(e.map,s):void 0}}(this),l=function(e){return function(){var n,i,r;return null!=e.scope.bounds&&null!=(null!=(n=e.scope.bounds)?n.sw:void 0)&&null!=(null!=(i=e.scope.bounds)?i.ne:void 0)&&e.validateBoundPoints(e.scope.bounds)?(s=e.convertBoundPoints(e.scope.bounds),t.info("new new bounds created: "+JSON.stringify(s))):null!=e.scope.bounds.getNorthEast&&null!=e.scope.bounds.getSouthWest?s=e.scope.bounds:null!=e.scope.bounds?t.error("Invalid bounds for newValue: "+JSON.stringify(null!=(r=e.scope)?r.bounds:void 0)):void 0}}(this),l(),d=new google.maps.Rectangle(this.buildOpts(s)),t.info("gObject (rectangle) created: "+d),f=!1,m=function(e){return function(){var t,n,i;return t=d.getBounds(),n=t.getNorthEast(),i=t.getSouthWest(),f?void 0:e.scope.$evalAsync(function(e){return null!=e.bounds&&null!=e.bounds.sw&&null!=e.bounds.ne&&(e.bounds.ne={latitude:n.lat(),longitude:n.lng()},e.bounds.sw={latitude:i.lat(),longitude:i.lng()}),null!=e.bounds.getNorthEast&&null!=e.bounds.getSouthWest?e.bounds=t:void 0})}}(this),p=function(e){return function(){return c(),e.removeEvents(h),h.push(google.maps.event.addListener(d,"dragstart",function(){return u=!0})),h.push(google.maps.event.addListener(d,"dragend",function(){return u=!1,m()})),h.push(google.maps.event.addListener(d,"bounds_changed",function(){return u?void 0:m()}))}}(this),a=function(e){return function(){return e.removeEvents(h),null!=g&&e.removeEvents(g),d.setMap(null)}}(this),null!=s&&p(),this.scope.$watch("bounds",function(e,t){var n;return _.isEqual(e,t)&&null!=s||u?void 0:(f=!0,null==e?void a():(null==s?n=!0:c(),l(),d.setBounds(s),f=!1,n&&null!=s?p():void 0))},!0),this.setMyOptions=function(e){return function(t,n){return _.isEqual(t,n)||null==s||null==t?void 0:d.setOptions(e.buildOpts(s))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(g=this.setEvents(d,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,n){return _.isEqual(t,n)?void 0:(null!=g&&e.removeEvents(g),g=e.setEvents(d,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(){return function(){return a()}}(this)),t.info(this)}return e(o,r),o.include(n),o.include(i),o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper","$timeout","$http","$templateCache",function(i,r,o){var s;return s=function(i){function s(n,i,o,s,a,l,u){var c;return this.scope=n,this.element=i,this.attrs=o,this.gMap=s,this.ctrlPosition=a,this.template=l,this.$log=null!=u?u:r,this.setVisibility=e(this.setVisibility,this),this.getBounds=e(this.getBounds,this),this.setBounds=e(this.setBounds,this),this.createSearchBox=e(this.createSearchBox,this),this.addToParentDiv=e(this.addToParentDiv,this),this.addAsMapControl=e(this.addAsMapControl,this),this.init=e(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,c=t.element("<div></div>"),c.append(this.template),this.input=c.find("input")[0],void this.init())}return n(s,i),s.include(o),s.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(e){return function(n){return t.isObject(n)&&(null!=n.bounds&&e.setBounds(n.bounds),null!=n.visible&&e.visible!==n.visible)?e.setVisibility(n.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.listener=this.autocomplete?google.maps.event.addListener(this.gObject,"place_changed",function(e){return function(){return e.places=e.gObject.getPlace()}}(this)):google.maps.event.addListener(this.gObject,"places_changed",function(e){return function(){return e.places=e.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$destroy",function(e){return function(){return e.gObject=null}}(this))},s.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},s.prototype.addToParentDiv=function(){return this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)},s.prototype.createSearchBox=function(){return this.gObject=this.autocomplete?new google.maps.places.Autocomplete(this.input,this.scope.options):new google.maps.places.SearchBox(this.input,this.scope.options)},s.prototype.setBounds=function(e){if(t.isUndefined(e.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(e.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(e)},s.prototype.getBounds=function(){return this.gObject.getBounds()},s.prototype.setVisibility=function(e){return null!=this.attrs.parentdiv?e===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):e===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=e},s}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(i,r,o,s,a,l,u,c,d,p,g,h,f,m,v){var b;return b=function(i){function b(t,n,i,r,s,l){this.gMap=s,this.markersScope=l,this.modelKeyComparison=e(this.modelKeyComparison,this),this.interpolateContent=e(this.interpolateContent,this),this.setChildScope=e(this.setChildScope,this),this.createWindow=e(this.createWindow,this),this.setContentKeys=e(this.setContentKeys,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.go=e(this.go,this),b.__super__.constructor.call(this,t,n,i,r,c,d,p,g),this["interface"]=m,this.plurals=new o,_.each(m.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.linked=new a(t,n,i,r),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(t)}return n(b,i),b.include(r),b.prototype.go=function(e){return this.watchOurScope(e),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,e.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.createChildScopes()},b.prototype.watchModels=function(e){var t;return t=null!=this.markersScope?"pluralsUpdate":"models",
e.$watch(t,function(t){return function(n,i){var r;return!_.isEqual(n,i)||t.firstWatchModels?(t.firstWatchModels=!1,t.doRebuildAll||t.doINeedToWipe(e.models)?t.rebuildAll(e,!0,!0):(r=0===t.plurals.length,null!=t.existingPieces?_.last(t.existingPieces._content).then(function(){return t.createChildScopes(r)}):t.createChildScopes(r))):void 0}}(this),!0)},b.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},b.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},b.prototype.onDestroy=function(){return b.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,f.promiseTypes["delete"],void 0,void 0,function(e){return function(){return l.each(e.plurals.values(),function(e){return e.destroy()},l.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},b.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(e,!1,!0)}}(this))},b.prototype.watchOurScope=function(e){return _.each(m.scopeKeys,function(t){return function(n){var i;return i=n+"Key",t[i]="function"==typeof e[n]?e[n]():e[n]}}(this))},b.prototype.createChildScopes=function(e){var n,i,r;return null==e&&(e=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=t.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(i=this.markersScope)?i.plurals:void 0)&&void 0!==(null!=(r=this.markersScope)?r.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),e?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),e?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},b.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,i){return n!==i&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},b.prototype.createAllNew=function(e,t,n,i){var r;return null==n&&(n="models"),null==i&&(i=!1),this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.setContentKeys(e.models),this.didQueueInitPromise(this,e)?void 0:(r=null,l.promiseLock(this,f.promiseTypes.create,"createAllNew",function(e){return r=e},function(i){return function(){return l.each(e.models,function(o){var s,a;return s=t&&null!=(a=i.getItem(e,n,o[i.idKey]))?a.gObject:void 0,r||(!s&&i.markersScope&&u.error("Unable to get gMarker from markersScope!"),i.createWindow(o,s,i.gMap)),r},l.chunkSizeFrom(e.chunk)).then(function(){return i.firstTime=!1})}}(this)))},b.prototype.pieceMeal=function(e,t,n,i){var r,o;return null==n&&(n="models"),null==i&&(i=!0),e.$$destroyed?void 0:(r=null,o=null,null!=e&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,f.promiseTypes.update,"pieceMeal",function(e){return r=e},function(t){return function(){return f.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(n){return o=n,l.each(o.removals,function(e){return null!=e?(t.plurals.remove(e.id),null!=e.destroy&&e.destroy(!0),r):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(o.adds,function(i){var o,s;if(o=null!=(s=t.getItem(e,n,i[t.idKey]))?s.gObject:void 0,!o)throw"Gmarker undefined";return t.createWindow(i,o,t.gMap),r})}).then(function(){return l.each(o.updates,function(e){return t.updateChild(e.child,e.model),r},l.chunkSizeFrom(e.chunk))})}}(this)):(u.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},b.prototype.setContentKeys=function(e){return this.modelsLength(e)?this.contentKeys=Object.keys(e[0]):void 0},b.prototype.createWindow=function(e,t,n){var i,r,o,a,l,u;return r=this.linked.scope.$new(!1),this.setChildScope(r,e),r.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(r,t):void 0}}(this),!0),o={html:function(t){return function(){return t.interpolateContent(t.linked.element.html(),e)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,e)||{},a=this.createWindowOptions(t,r,o.html(),this.DEFAULTS),i=new s(e,r,a,this.isIconVisibleOnClick,n,null!=(l=this.markersScope)&&null!=(u=l.plurals.get(e[this.idKey]))?u.scope:void 0,o,!1,!0),null==e[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(e[this.idKey],i),i)},b.prototype.setChildScope=function(e,t){return _.each(m.scopeKeys,function(n){return function(i){var r,o;return r=i+"Key",o="self"===n[r]?t:t[n[r]],o!==e[i]?e[i]=o:void 0}}(this)),e.model=t},b.prototype.interpolateContent=function(e,t){var n,i,r,o,s,a;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=h(e),r={},a=this.contentKeys,i=0,s=a.length;s>i;i++)o=a[i],r[o]=t[o];return n(r)}},b.prototype.modelKeyComparison=function(e,t){var n,i;if(i=null!=this.scope.coords?this.scope:this.parentScope,null==i)throw"No scope or parentScope set!";return(n=v.equalCoords(this.evalModelHandle(e,i.coords),this.evalModelHandle(t,i.coords)))?n=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(r){return n.evalModelHandle(e,i[r])===n.evalModelHandle(t,i[r])}}(this)):n},b}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(e,t){return _.extend(e,{link:function(e,n,i,r){return r.getScope().deferred.promise.then(function(){return function(r){return new t(e,n,i,r)}}(this))}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(i,r,o,s,a,l){var u;return u=function(u){function c(){this.link=e(this.link,this),c.__super__.constructor.call(this)}return n(c,u),c.prototype.link=function(e,n,u,c){return l.then(function(n){return function(l){var u,d;return t.isUndefined(e.template)?void n.$log.error("mapControl: could not find a valid template property"):(u=t.isDefined(e.index&&!isNaN(parseInt(e.index)))?parseInt(e.index):void 0,d=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[d]?i.mapPromise(e,c).then(function(i){var l,c;return l=void 0,c=t.element("<div></div>"),r.get(e.template,{cache:o}).success(function(n){var i,r;return r=e.$new(),c.append(n),t.isDefined(e.controller)&&(i=a(e.controller,{$scope:r}),c.children().data("$ngControllerController",i)),l=s(c.children())(r),u?l[0].index=u:void 0}).error(function(){return n.$log.error("mapControl: template could not be found")}).then(function(){return i.controls[google.maps.ControlPosition[d]].push(l[0])})}):void n.$log.error("mapControl: invalid position property"))}}(this))},c}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(e,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,n){return t.ctrlType="uiGmapDragZoom",_.extend(this,e.handle(t,n))}],link:function(n,i,r,o){return e.mapPromise(n,o).then(function(e){var i,r,o;return i=function(t){return e.enableKeyDragZoom(t),n.spec?n.spec.enableKeyDragZoom(t):void 0},r=new t(function(e,t){return t?i({key:t}):i()}),o=new t(function(e,t){return t?i(t):void 0}),n.$watch("keyboardkey",r.sic),r.sic(n.keyboardkey),n.$watch("options",o.sic),o.sic(n.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(e,t){return _.extend(e,{link:function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return new t(e,n,i,r)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,i,r,o,s){var a;return a=function(i){function a(){return this.link=e(this.link,this),a.__super__.constructor.apply(this,arguments)}return n(a,i),a.include(r),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope={polygons:"=",draw:"=",revertmapoptions:"="},a.prototype.link=function(e,n,i,r){return this.mapPromise(e,r).then(function(){return function(n){var i,r;return e.polygons?_.isArray(e.polygons)?(i=new o(n,e.revertmapoptions),r=void 0,e.draw=function(){return"function"==typeof r&&r(),i.engage(e.polygons).then(function(){var t;return t=!0,r=e.$watchCollection("polygons",function(e,n){var i;return t||e===n?void(t=!1):(i=s.differenceObjects(n,e),i.forEach(function(e){return e.setMap(null)}))})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")}}(this))},a}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var e;return e={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",zIndex:"=zindex"}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,i){var r;return r=function(t){function r(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return e(r,t),r.extend(i),r.prototype.link=function(){throw new Exception("Not implemented!!")},r}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(t,n){var i;return i=function(t){function i(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},i.scope)}return e(i,t),i.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},i.scopeKeys=_.keys(i.scope),i.keys=i.scopeKeys,i.extend(n),i}(t)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,i,r){var o;return o=function(n){function o(){}return e(o,n),o.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},o.scopeKeys=_.keys(o.scope),o.include(t),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,i,r){var o;return o=function(n){function o(){}return e(o,n),o.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},o.scopeKeys=_.keys(o.scope),o.include(t),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var e;return e={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(t,n,i){var r;return r=function(t){function r(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=_.extend(this.scope||{},r.scope)}return e(r,t),r.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},r.scopeKeys=_.keys(r.scope),r.include(n),r.extend(i),r}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","uiGmapLogger","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper",function(r,o,s,a,l,u,c,d,p,g,h,f,m){var v,b,y;return v=void 0,y=[h,p,g],b=function(o){function l(){this.link=e(this.link,this);var t,n;t=function(e){var t,n;return n=void 0,e.$on("$destroy",function(){return c.decrement()}),t=u.handle(e),e.ctrlType="Map",e.deferred.promise.then(function(){return y.forEach(function(e){return e.init()})}),t.getMap=function(){return e.map},n=_.extend(this,t)},this.controller=["$scope",t],n=this}return i(l,o),l.include(a),l.prototype.restrict="EMA",l.prototype.transclude=!0,l.prototype.replace=!1,l.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container"></div><div ng-transclude style="display: none"></div></div>',l.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},l.prototype.link=function(e,i,o){var a,l;return a=[],e.$on("$destroy",function(){return m.removeEvents(a)}),e.idleAndZoomChanged=!1,null==e.center?void(l=e.$watch("center",function(t){return function(){return e.center?(l(),t.link(e,i,o)):void 0}}(this))):f.then(function(l){return function(u){var p,g,h,f,b,y,w,$,x,k,S,C,T,E,M,A,D;if(v={mapTypeId:u.MapTypeId.ROADMAP},E=c.spawn(),C=function(){return E.deferred.resolve({instance:E.instance,map:p})},!l.validateCoords(e.center))return void s.error("angular-google-maps: could not find a valid center property");if(!t.isDefined(e.zoom))return void s.error("angular-google-maps: map zoom property not set");if(b=t.element(i),b.addClass("angular-google-map"),k={options:{}},o.options&&(k.options=e.options),o.styles&&(k.styles=e.styles),o.type&&(M=o.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(M)?k.mapTypeId=google.maps.MapTypeId[o.type.toUpperCase()]:s.error("angular-google-maps: invalid map type '"+o.type+"'")),$=t.extend({},v,k,{center:l.getCoords(e.center),zoom:e.zoom,bounds:e.bounds}),p=new google.maps.Map(b.find("div")[1],$),p.uiGmap_id=d.generate(),f=!1,a.push(google.maps.event.addListenerOnce(p,"idle",function(){return e.deferred.resolve(p),C()})),h=o.events&&null!=(null!=(S=e.events)?S.blacklist:void 0)?e.events.blacklist:[],_.isString(h)&&(h=[h]),x=function(t,n,i){return _.contains(h,t)?void 0:(i&&i(),a.push(google.maps.event.addListener(p,t,function(){var t;return(null!=(t=e.update)?t.lazy:void 0)?void 0:n()})))},_.contains(h,"all")||(x("dragstart",function(){return f=!0,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=f:void 0})}),x("dragend",function(){return f=!1,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=f:void 0})}),A=function(n,i){if(null==n&&(n=p.center),null==i&&(i=e),!_.contains(h,"center"))if(t.isDefined(i.center.type)){if(i.center.coordinates[1]!==n.lat()&&(i.center.coordinates[1]=n.lat()),i.center.coordinates[0]!==n.lng())return i.center.coordinates[0]=n.lng()}else if(i.center.latitude!==n.lat()&&(i.center.latitude=n.lat()),i.center.longitude!==n.lng())return i.center.longitude=n.lng()},T=!1,x("idle",function(){var t,i,r;return t=p.getBounds(),i=t.getNorthEast(),r=t.getSouthWest(),T=!0,e.$evalAsync(function(t){return A(),null===t.bounds||t.bounds===n||void 0===t.bounds||_.contains(h,"bounds")||(t.bounds.northeast={latitude:i.lat(),longitude:i.lng()},t.bounds.southwest={latitude:r.lat(),longitude:r.lng()}),_.contains(h,"zoom")||(t.zoom=p.zoom,e.idleAndZoomChanged=!e.idleAndZoomChanged),T=!1})})),t.isDefined(e.events)&&null!==e.events&&t.isObject(e.events)){w=function(t){return function(){return e.events[t].apply(e,[p,t,arguments])}},g=[];for(y in e.events)e.events.hasOwnProperty(y)&&t.isFunction(e.events[y])&&g.push(google.maps.event.addListener(p,y,w(y)));a.concat(g)}return p.getOptions=function(){return $},e.map=p,null!=o.control&&null!=e.control&&(e.control.refresh=function(e){var t,n,i;return null!=p?(null!=("undefined"!=typeof google&&null!==google&&null!=(n=google.maps)&&null!=(i=n.event)?i.trigger:void 0)&&null!=p&&google.maps.event.trigger(p,"resize"),null!=(null!=e?e.latitude:void 0)&&null!=(null!=e?e.longitude:void 0)?(t=l.getCoords(e),l.isTrue(o.pan)?p.panTo(t):p.setCenter(t)):void 0):void 0},e.control.getGMap=function(){return p},e.control.getMapOptions=function(){return $},e.control.getCustomEventListeners=function(){return g},e.control.removeEvents=function(e){return m.removeEvents(e)}),e.$watch("center",function(t,n){var i,r;return t===n||T||(i=l.getCoords(e.center),i.lat()===p.center.lat()&&i.lng()===p.center.lng())?void 0:(r=!0,f||(l.validateCoords(t)||s.error("Invalid center for newValue: "+JSON.stringify(t)),l.isTrue(o.pan)&&e.zoom===p.zoom?p.panTo(i):p.setCenter(i)),r=!1)},!0),D=null,e.$watch("zoom",function(t,n){var i,o,s;return null==t||_.isEqual(t,n)||(null!=p?p.getZoom():void 0)===(null!=e?e.zoom:void 0)||T?void 0:(s=!0,null!=D&&r.cancel(D),D=r(function(){return p.setZoom(t),s=!1},(null!=(i=e.eventOpts)&&null!=(o=i.debounce)?o.zoomMs:void 0)+20,!1))}),e.$watch("bounds",function(e,t){var n,i,r,o,a,l,u;return e!==t?null==(null!=e&&null!=(r=e.northeast)?r.latitude:void 0)||null==(null!=e&&null!=(o=e.northeast)?o.longitude:void 0)||null==(null!=e&&null!=(a=e.southwest)?a.latitude:void 0)||null==(null!=e&&null!=(l=e.southwest)?l.longitude:void 0)?void s.error("Invalid map bounds for new value: "+JSON.stringify(e)):(i=new google.maps.LatLng(e.northeast.latitude,e.northeast.longitude),u=new google.maps.LatLng(e.southwest.latitude,e.southwest.longitude),n=new google.maps.LatLngBounds(u,i),p.fitBounds(n)):void 0}),["options","styles"].forEach(function(t){return e.$watch(t,function(e,t){var n;return n=this.exp,_.isEqual(e,t)?void 0:("options"===n?k.options=e:k.options[n]=e,null!=p?p.setOptions(k):void 0)},!0)})}}(this))},l}(l)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,i,r,o){var s;return s=function(s){function a(){this.link=e(this.link,this),a.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',o.info(this)}return n(a,s),a.prototype.controller=["$scope","$element",function(e,n){return e.ctrlType="Marker",_.extend(this,t.handle(e,n))}],a.prototype.link=function(e,n,o,s){var a;return a=t.mapPromise(e,s),a.then(function(){return function(n){var o,s,a,l,u,c;return a=new r(n),l=_.object(t.keys,t.keys),u=new i(e,e,l,n,{},o=!0,a,s=!1,c=!1),u.deferred.promise.then(function(t){return e.deferred.resolve(t)}),null!=e.control?e.control.getGMarkers=a.getGMarkers:void 0}}(this)),e.$on("$destroy",function(){return function(){var e;return"undefined"!=typeof e&&null!==e&&e.clear(),e=null}}(this))},a}(t)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(t,n,i,r,o){var s;return s=function(r){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',n.extend(this,{doCluster:"=docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref"}),o.info(this)}return e(s,r),s.prototype.controller=["$scope","$element",function(e,n){return e.ctrlType="Markers",_.extend(this,t.handle(e,n))}],s.prototype.link=function(e,r,o,s){var a,l;return a=void 0,l=function(){return e.deferred.resolve()},t.mapPromise(e,s).then(function(t){var u;return u=s.getScope(),u.$watch("idleAndZoomChanged",function(){return _.defer(a.gManager.draw)}),a=new i(e,r,o,t),n.link(e,a),null!=e.control&&(e.control.getGMarkers=function(){var e;return null!=(e=a.gManager)?e.getGMarkers():void 0},e.control.getChildMarkers=function(){return a.plurals}),_.last(a.existingPieces._content).then(function(){return l()})})},s}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var e;return e=function(e,t){return null!=e.control?(e.control.updateModels=function(n){return e.models=n,t.createChildScopes(!1)},e.control.newModels=function(n){return e.models=n,t.rebuildAll(e,!0,!0)},e.control.clean=function(){return t.rebuildAll(e,!1,!0)},e.control.getPlurals=function(){return t.plurals},e.control.getManager=function(){return t.gManager},e.control.hasManager=function(){return null!=t.gManager==1},e.control.managerDraw=function(){var t;return e.control.hasManager()&&null!=(t=e.control.getManager())?t.draw():void 0}):void 0},{extend:function(e,t){return _.extend(e.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(t,n){return e(t,n)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonChildModel",function(t,i,r,o){var s;return s=function(i){function r(){return this.link=e(this.link,this),r.__super__.constructor.apply(this,arguments)}return n(r,i),r.prototype.link=function(e,n,i,r){var s,a;return s=[],a=t.mapPromise(e,r),null!=e.control&&(e.control.getInstance=this,e.control.polygons=s,e.control.promise=a),a.then(function(t){return function(n){return s.push(new o(e,i,n,t.DEFAULTS))}}(this))},r}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonsParentModel","uiGmapPlural",function(i,r,o,s,a){var l;return l=function(i){function r(){this.link=e(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(o){return(t.isUndefined(e.path)||null===e.path)&&r.$log.warn("polygons: no valid path attribute found"),e.models||r.$log.warn("polygons: no models found to create from"),a.link(e,new s(e,n,i,o,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylineChildModel",function(i,r,o,s){var a;return a=function(r){function o(){return this.link=e(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,r),o.prototype.link=function(e,n,r,o){return i.mapPromise(e,o).then(function(n){return function(i){return(t.isUndefined(e.path)||null===e.path||!n.validatePath(e.path))&&n.$log.warn("polyline: no valid path attribute found"),new s(e,r,i,n.DEFAULTS)}}(this))},o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylinesParentModel","uiGmapPlural",function(i,r,o,s,a){var l;return l=function(i){function r(){this.link=e(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(o){return(t.isUndefined(e.path)||null===e.path)&&r.$log.warn("polylines: no valid path attribute found"),e.models||r.$log.warn("polylines: no models found to create from"),a.link(e,new s(e,n,i,o,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(e,t,n,i){return _.extend(n,{link:function(e,t,n,r){return r.getScope().deferred.promise.then(function(){return function(r){return new i(e,t,n,r)}}(this))}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(i,r,o,s,a){var l;return l=function(l){function u(){this.link=e(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',a.debug(this),this.childWindows=[]}return n(u,l),u.include(r),u.prototype.link=function(e,n,r,o){var s,a;return s=o.length>1&&null!=o[1]?o[1]:void 0,a=null!=s?s.getScope():void 0,this.mapPromise=i.mapPromise(e,o[0]),this.mapPromise.then(function(i){return function(o){var l;return l=!0,t.isDefined(r.isiconvisibleonclick)&&(l=e.isIconVisibleOnClick),s?a.deferred.promise.then(function(){return i.init(e,n,l,o,a)}):void i.init(e,n,l,o)}}(this))},u.prototype.init=function(e,t,n,i,r){var a,l,u,c,d;return l=null!=e.options?e.options:{},c=null!=e&&this.validateCoords(e.coords),null!=(null!=r?r.getGMarker:void 0)&&(u=r.getGMarker()),d=c?this.createWindowOptions(u,e,t.html(),l):l,null!=i&&(a=new o({},e,d,n,i,r,t),this.childWindows.push(a),e.$on("$destroy",function(e){return function(){return e.childWindows=s.withoutObjects(e.childWindows,[a],function(e,t){return e.scope.$id===t.scope.$id}),e.childWindows.length=0}}(this))),null!=e.control&&(e.control.getGWindows=function(e){return function(){return e.childWindows.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(e){return function(){return e.childWindows}}(this),e.control.getPlurals=e.control.getChildWindows,e.control.showWindow=function(e){return function(){return e.childWindows.map(function(e){return e.showWindow()})}}(this),e.control.hideWindow=function(e){return function(){return e.childWindows.map(function(e){return e.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=a?this.onChildCreation(a):void 0},u}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,i,r,o,s){var a;return a=function(t){function a(){this.init=e(this.init,this),this.link=e(this.link,this),a.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',i.extend(this),s.debug(this)}return n(a,t),a.prototype.link=function(e,t,n,i){var r,s,a;return r=i[0].getScope(),s=i.length>1&&null!=i[1]?i[1]:void 0,a=null!=s?s.getScope():void 0,r.deferred.promise.then(function(r){return function(s){var l,u;return l=(null!=a&&null!=(u=a.deferred)?u.promise:void 0)||o.resolve(),l.then(function(){var o,l;return o=null!=(l=r.parentModel)?l.existingPieces:void 0,o?o.then(function(){return r.init(e,t,n,i,s,a)}):r.init(e,t,n,i,s,a)})}}(this))},a.prototype.init=function(e,t,n,o,s,a){var l;return l=new r(e,t,n,o,s,a),i.link(e,l),null!=e.control?(e.control.getGWindows=function(){return function(){return l.plurals.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(){return function(){return l.plurals}}(this)):void 0},a}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(e){
return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(e,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(e,t,n,i,r){return new r(e,t,n,i)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(e,t,n,i,r,o){return new o(e,t,n,i,r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,n,i){var r;return new(r=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(e,t,n,r){return r.getScope().deferred.promise.then(function(){return function(r){return null!=e.onCreated?new i(e,t,n,r,e.onCreated):new i(e,t,n,r)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,n,i){var r;return new(r=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(e,t,n,r){return r.getScope().deferred.promise.then(function(){return function(r){return new i(e,t,n,r)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,i,r,o,s,a){var l;return new(l=function(){function l(){this.link=e(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(e,i,l,u){return n.then(function(n){return function(c){return o.get(e.template,{cache:s}).success(function(o){return t.isUndefined(e.events)?void n.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(s){var u;return u=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new r(e,i,l,s,u,a(o)(e)):void n.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(e,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(i,r){var o,s,a;return o=function(t,n){return e[t](r,"ng-hide").then(function(){return n()})},s=function(t,n){return e[t](r,"ng-hide",n)},a=function(e,i){return t.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+t.version.major+'"'):1===t.version.major&&t.version.minor<3?s(e,i):o(e,i)},i.$watch("uiGmapShow",function(e){return e&&a("removeClass",i.uiGmapAfterShow),e?void 0:a("addClass",i.uiGmapAfterHide)})}}}])}.call(this),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function e(){}return e.generate=function(){var t=e._gri,n=e._ha;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._gri=function(e){return 0>e?0/0:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):0/0},e._ha=function(e,t){for(var n=e.toString(16),i=t-n.length,r="0";i>0;i>>>=1,r+=r)1&i&&(n=r+n);return n},e}),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){function t(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof e.visible&&(e.visible="undefined"==typeof e.isHidden?!0:!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function i(e,t){e.getMarkerClusterer().extend(i,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=t,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function r(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new i(this,e.getStyles())}function o(e,t,i){this.extend(o,google.maps.OverlayView),t=t||[],i=i||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.title_=i.title||"",this.zoomOnClick_=!0,i.zoomOnClick!==n&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,i.averageCenter!==n&&(this.averageCenter_=i.averageCenter),this.ignoreHidden_=!1,i.ignoreHidden!==n&&(this.ignoreHidden_=i.ignoreHidden),this.enableRetinaIcons_=!1,i.enableRetinaIcons!==n&&(this.enableRetinaIcons_=i.enableRetinaIcons),this.imagePath_=i.imagePath||o.IMAGE_PATH,this.imageExtension_=i.imageExtension||o.IMAGE_EXTENSION,this.imageSizes_=i.imageSizes||o.IMAGE_SIZES,this.calculator_=i.calculator||o.CALCULATOR,this.batchSize_=i.batchSize||o.BATCH_SIZE,this.batchSizeIE_=i.batchSizeIE||o.BATCH_SIZE_IE,this.clusterClass_=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}function s(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=a.getSharedCross(t)}function l(e){e=e||{},e.labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,"undefined"==typeof e.labelVisible&&(e.labelVisible=!0),"undefined"==typeof e.raiseOnDrag&&(e.raiseOnDrag=!0),"undefined"==typeof e.clickable&&(e.clickable=!0),"undefined"==typeof e.draggable&&(e.draggable=!1),"undefined"==typeof e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new a(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}t.prototype=new google.maps.OverlayView,t.prototype.createInfoBoxDiv_=function(){var e,t,n,i=this,r=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},o=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),i.enableEventPropagation_||r(e)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],r));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",o),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},t.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},t.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},t.prototype.panBox_=function(e){var t,n,i=0,r=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),n=t.getBounds();var o=t.getDiv(),s=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset_.width,u=this.pixelOffset_.height,c=this.div_.offsetWidth,d=this.div_.offsetHeight,p=this.infoBoxClearance_.width,g=this.infoBoxClearance_.height,h=this.getProjection().fromLatLngToContainerPixel(this.position_);h.x<-l+p?i=h.x+l-p:h.x+c+l+p>s&&(i=h.x+c+l+p-s),this.alignBottom_?h.y<-u+g+d?r=h.y+u-g-d:h.y+u+g>a&&(r=h.y+u+g-a):h.y<-u+g?r=h.y+u-g:h.y+d+u+g>a&&(r=h.y+d+u+g-a),(0!==i||0!==r)&&(t.getCenter(),t.panBy(i,r))}},t.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},t.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=n.ownerDocument.defaultView.getComputedStyle(n,""),e&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(t.top=parseInt(n.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(n.currentStyle.borderRightWidth,10)||0),t},t.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},t.prototype.setOptions=function(e){"undefined"!=typeof e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),"undefined"!=typeof e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),"undefined"!=typeof e.content&&this.setContent(e.content),"undefined"!=typeof e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),"undefined"!=typeof e.maxWidth&&(this.maxWidth_=e.maxWidth),"undefined"!=typeof e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),"undefined"!=typeof e.alignBottom&&(this.alignBottom_=e.alignBottom),"undefined"!=typeof e.position&&this.setPosition(e.position),"undefined"!=typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!=typeof e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),"undefined"!=typeof e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),"undefined"!=typeof e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),"undefined"!=typeof e.isHidden&&(this.isHidden_=e.isHidden),"undefined"!=typeof e.visible&&(this.isHidden_=!e.visible),"undefined"!=typeof e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},t.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},t.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},t.prototype.getContent=function(){return this.content_},t.prototype.getPosition=function(){return this.position_},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.getVisible=function(){var e;return e="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},t.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},t.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},t.prototype.open=function(e,t){var n=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},t.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function t(e,t){var n=this,i=new google.maps.OverlayView;i.onAdd=function(){n.init_(e,t)},i.draw=function(){},i.onRemove=function(){},i.setMap(e),this.prjov_=i}var n=function(e){var t;switch(e){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=e}return t},i=function(e){var t,i={};if(document.defaultView&&document.defaultView.getComputedStyle){if(t=e.ownerDocument.defaultView.getComputedStyle(e,""))return i.top=parseInt(t.borderTopWidth,10)||0,i.bottom=parseInt(t.borderBottomWidth,10)||0,i.left=parseInt(t.borderLeftWidth,10)||0,i.right=parseInt(t.borderRightWidth,10)||0,i}else if(document.documentElement.currentStyle&&e.currentStyle)return i.top=parseInt(n(e.currentStyle.borderTopWidth),10)||0,i.bottom=parseInt(n(e.currentStyle.borderBottomWidth),10)||0,i.left=parseInt(n(e.currentStyle.borderLeftWidth),10)||0,i.right=parseInt(n(e.currentStyle.borderRightWidth),10)||0,i;return i.top=parseInt(e.style["border-top-width"],10)||0,i.bottom=parseInt(e.style["border-bottom-width"],10)||0,i.left=parseInt(e.style["border-left-width"],10)||0,i.right=parseInt(e.style["border-right-width"],10)||0,i},r={x:0,y:0},o=function(){r.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,r.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var s=function(t){var n=0,i=0;return t=t||e.event,"undefined"!=typeof t.pageX?(n=t.pageX,i=t.pageY):"undefined"!=typeof t.clientX&&(n=t.clientX+r.x,i=t.clientY+r.y),{left:n,top:i}},a=function(t){for(var n=t.offsetLeft,i=t.offsetTop,r=t.offsetParent;null!==r;){r!==document.body&&r!==document.documentElement&&(n-=r.scrollLeft,i-=r.scrollTop);var o=r,s=o.offsetLeft,a=o.offsetTop;if(!s&&!a&&e.getComputedStyle){var l=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");s+=parseInt(u[4],10)||0,a+=parseInt(u[5],10)||0}}n+=s,i+=a,r=r.offsetParent}return{left:n,top:i}},l=function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u=function(e,t){"undefined"!=typeof t&&(e.style.opacity=t),"undefined"!=typeof e.style.opacity&&""!==e.style.opacity&&(e.style.filter="alpha(opacity="+100*e.style.opacity+")")};t.prototype.init_=function(t,n){var r,s=this;for(this.map_=t,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=i(this.map_.getDiv()),this.veilDiv_=[],r=0;4>r;r++)this.veilDiv_[r]=document.createElement("div"),this.veilDiv_[r].onselectstart=function(){return!1},l(this.veilDiv_[r].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[r].style,n.paneStyle),l(this.veilDiv_[r].style,n.veilStyle),l(this.veilDiv_[r].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[r].style.MozUserSelect="none"),u(this.veilDiv_[r]),"transparent"===this.veilDiv_[r].style.backgroundColor&&(this.veilDiv_[r].style.backgroundColor="white",u(this.veilDiv_[r],0)),this.map_.getDiv().appendChild(this.veilDiv_[r]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=i(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(e){s.onKeyDown_(e)}),google.maps.event.addDomListener(document,"keyup",function(e){s.onKeyUp_(e)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(e){s.onMouseDown_(e)}),google.maps.event.addDomListener(document,"mousedown",function(e){s.onMouseDownDocument_(e)}),google.maps.event.addDomListener(document,"mousemove",function(e){s.onMouseMove_(e)}),google.maps.event.addDomListener(document,"mouseup",function(e){s.onMouseUp_(e)}),google.maps.event.addDomListener(e,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},t.prototype.initControl_=function(e){var t,n,i=this;return t=document.createElement("div"),t.className=this.visualClass_,t.style.position="relative",t.style.overflow="hidden",t.style.height=this.visualSize_.height+"px",t.style.width=this.visualSize_.width+"px",t.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",t.appendChild(n),t.onclick=function(e){i.hotKeyDown_=!i.hotKeyDown_,i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on,i.activatedByControl_=!0,google.maps.event.trigger(i,"activate")):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off,google.maps.event.trigger(i,"deactivate")),i.onMouseMove_(e)},t.onmouseover=function(){i.buttonDiv_.firstChild.style.left=-(1*i.visualSize_.width)+"px"},t.onmouseout=function(){i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off)},t.ondragstart=function(){return!1},l(t.style,{cursor:"pointer",marginTop:e.height+"px",marginLeft:e.width+"px"}),t},t.prototype.isHotKeyDown_=function(t){var n;if(t=t||e.event,n=t.shiftKey&&"shift"===this.key_||t.altKey&&"alt"===this.key_||t.ctrlKey&&"ctrl"===this.key_,!n)switch(t.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},t.prototype.isMouseOnMap_=function(){var e=this.mousePosn_;if(e){var t=this.mapPosn_,n=this.map_.getDiv();return e.left>t.left&&e.left<t.left+n.offsetWidth&&e.top>t.top&&e.top<t.top+n.offsetHeight}return!1},t.prototype.setVeilVisibility_=function(){var e;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var t=this.map_.getDiv();if(this.mapWidth_=t.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=t.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,i=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,r=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=i+"px",this.veilDiv_[3].style.top=i+o+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(i+o)+"px",e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",e=1;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.width="0px",this.veilDiv_[e].style.height="0px";for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}}else for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none"},t.prototype.onKeyDown_=function(e){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(e)&&(this.mapPosn_=a(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},t.prototype.getMousePoint_=function(e){var t=s(e),n=new google.maps.Point;return n.x=t.left-this.mapPosn_.left-this.borderWidths_.left,n.y=t.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},t.prototype.onMouseDown_=function(e){if(this.map_&&this.hotKeyDown_){this.mapPosn_=a(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(e),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection(),n=t.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},t.prototype.onMouseDownDocument_=function(){this.mouseDown_=!0},t.prototype.onMouseMove_=function(e){if(this.mousePosn_=s(e),this.dragging_){this.endPt_=this.getMousePoint_(e);var t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,i-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,r-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+r+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+r)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=t+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(t,n+r),new google.maps.Point(t+i,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=a(this.map_.getDiv()),this.setVeilVisibility_())},t.prototype.onMouseUp_=function(e){var t,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(e).x===this.startPt_.x&&this.getMousePoint_(e).y===this.startPt_.y)return void this.onKeyUp_(e);var i=Math.min(this.startPt_.x,this.endPt_.x),r=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),s=Math.abs(this.startPt_.y-this.endPt_.y),a=!0;a&&(i+=this.borderWidths_.left,r+=this.borderWidths_.top);var l=this.prjov_.getProjection(),u=l.fromContainerPixelToLatLng(new google.maps.Point(i,r+s)),c=l.fromContainerPixelToLatLng(new google.maps.Point(i+o,r)),d=new google.maps.LatLngBounds(u,c);if(this.noZoom_)this.boxDiv_.style.display="none";else{t=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<t&&this.map_.setZoom(t);var p=l.fromLatLngToContainerPixel(u),g=l.fromLatLngToContainerPixel(c);a&&(p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top,g.x-=this.borderWidths_.left,g.y-=this.borderWidths_.top),this.boxDiv_.style.left=p.x+"px",this.boxDiv_.style.top=g.y+"px",this.boxDiv_.style.width=Math.abs(g.x-p.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(g.y-p.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(e),google.maps.event.trigger(this,"dragend",d),this.isHotKeyDown_(e)||this.onKeyUp_(e)}},t.prototype.onKeyUp_=function(){var e,t,n,i,r,o,s,a,l=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=this.prjov_.getProjection(),s=o.fromContainerPixelToLatLng(new google.maps.Point(t,n+r)),a=o.fromContainerPixelToLatLng(new google.maps.Point(t+i,n)),l=new google.maps.LatLngBounds(s,a)),e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",l)}},google.maps.Map.prototype.enableKeyDragZoom=function(e){this.dragZoom_=new t(this,e)},google.maps.Map.prototype.disableKeyDragZoom=function(){var e,t=this.dragZoom_;if(t){for(e=0;e<t.listeners_.length;++e)google.maps.event.removeListener(t.listeners_[e]);for(this.getDiv().removeChild(t.boxDiv_),e=0;e<t.veilDiv_.length;e++)this.getDiv().removeChild(t.veilDiv_[e]);t.visualEnabled_&&this.controls[t.visualPosition_].removeAt(t.controlIndex_),
t.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),i.prototype.onAdd=function(){var e,t,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(i){if(e=!1,!t){var r,o,s=n.cluster_.getMarkerClusterer();google.maps.event.trigger(s,"click",n.cluster_),google.maps.event.trigger(s,"clusterclick",n.cluster_),s.getZoomOnClick()&&(o=s.getMaxZoom(),r=n.cluster_.getBounds(),s.getMap().fitBounds(r),setTimeout(function(){s.getMap().fitBounds(r),null!==o&&s.getMap().getZoom()>o&&s.getMap().setZoom(o+1)},100)),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",n.cluster_)})},i.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},i.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},i.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},i.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),i=parseInt(t[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),e="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(e+="clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);"),e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},i.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var n=this.styles_[t];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},i.prototype.setCenter=function(e){this.center_=e},i.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},i.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},r.prototype.getSize=function(){return this.markers_.length},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getCenter=function(){return this.center_},r.prototype.getMap=function(){return this.map_},r.prototype.getMarkerClusterer=function(){return this.markerClusterer_},r.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(e=0;e<n.length;e++)t.extend(n[e].getPosition());return t},r.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},r.prototype.addMarker=function(e){var t,n,i;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+e.getPosition().lat())/r,s=(this.center_.lng()*(r-1)+e.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,s),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),n=this.markers_.length,i=this.markerClusterer_.getMaxZoom(),null!==i&&this.map_.getZoom()>i)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n===this.minClusterSize_)for(t=0;n>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return this.updateIcon_(),!0},r.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},r.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},r.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return void this.clusterIcon_.hide();if(e<this.minClusterSize_)return void this.clusterIcon_.hide();var n=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()},r.prototype.isMarkerAlreadyAdded_=function(e){var t;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(e);for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t])return!0;return!1},o.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},o.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},o.prototype.draw=function(){},o.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},o.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),n=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)n.extend(t[e].getPosition());this.getMap().fitBounds(n)},o.prototype.getGridSize=function(){return this.gridSize_},o.prototype.setGridSize=function(e){this.gridSize_=e},o.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},o.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},o.prototype.getMaxZoom=function(){return this.maxZoom_},o.prototype.setMaxZoom=function(e){this.maxZoom_=e},o.prototype.getStyles=function(){return this.styles_},o.prototype.setStyles=function(e){this.styles_=e},o.prototype.getTitle=function(){return this.title_},o.prototype.setTitle=function(e){this.title_=e},o.prototype.getZoomOnClick=function(){return this.zoomOnClick_},o.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},o.prototype.getAverageCenter=function(){return this.averageCenter_},o.prototype.setAverageCenter=function(e){this.averageCenter_=e},o.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},o.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},o.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},o.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},o.prototype.getImageExtension=function(){return this.imageExtension_},o.prototype.setImageExtension=function(e){this.imageExtension_=e},o.prototype.getImagePath=function(){return this.imagePath_},o.prototype.setImagePath=function(e){this.imagePath_=e},o.prototype.getImageSizes=function(){return this.imageSizes_},o.prototype.setImageSizes=function(e){this.imageSizes_=e},o.prototype.getCalculator=function(){return this.calculator_},o.prototype.setCalculator=function(e){this.calculator_=e},o.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},o.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},o.prototype.getClusterClass=function(){return this.clusterClass_},o.prototype.setClusterClass=function(e){this.clusterClass_=e},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getTotalMarkers=function(){return this.markers_.length},o.prototype.getClusters=function(){return this.clusters_},o.prototype.getTotalClusters=function(){return this.clusters_.length},o.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},o.prototype.addMarkers=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.pushMarkerTo_(e[n]);t||this.redraw_()},o.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},o.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},o.prototype.removeMarkers=function(e,t){var n,i,r=!1;for(n=0;n<e.length;n++)i=this.removeMarker_(e[n]),r=r||i;return!t&&r&&this.repaint(),r},o.prototype.removeMarker_=function(e){var t,n=-1;if(this.markers_.indexOf)n=this.markers_.indexOf(e);else for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t]){n=t;break}return-1===n?!1:(e.setMap(null),this.markers_.splice(n,1),!0)},o.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},o.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},o.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),r=t.fromLatLngToDivPixel(n);r.x+=this.gridSize_,r.y-=this.gridSize_;var o=t.fromLatLngToDivPixel(i);o.x-=this.gridSize_,o.y+=this.gridSize_;var s=t.fromDivPixelToLatLng(r),a=t.fromDivPixelToLatLng(o);return e.extend(s),e.extend(a),e},o.prototype.redraw_=function(){this.createClusters_(0)},o.prototype.resetViewport_=function(e){var t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)n=this.markers_[t],n.isAdded=!1,e&&n.setMap(null)},o.prototype.distanceBetweenPoints_=function(e,t){var n=6371,i=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2),s=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),a=n*s;return a},o.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},o.prototype.addToClosestCluster_=function(e){var t,n,i,o,s=4e4,a=null;for(t=0;t<this.clusters_.length;t++)i=this.clusters_[t],o=i.getCenter(),o&&(n=this.distanceBetweenPoints_(o,e.getPosition()),s>n&&(s=n,a=i));a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(i=new r(this),i.addMarker(e),this.clusters_.push(i))},o.prototype.createClusters_=function(e){var t,n,i,r=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),s=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;s>t;t++)n=this.markers_[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);s<this.markers_.length?this.timerRefStatic=setTimeout(function(){r.createClusters_(s)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},o.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},o.CALCULATOR=function(e,t){for(var n=0,i="",r=e.length.toString(),o=r;0!==o;)o=parseInt(o/10,10),n++;return n=Math.min(n,t),{text:r,index:n,title:i}},o.BATCH_SIZE=2e3,o.BATCH_SIZE_IE=500,o.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",o.IMAGE_EXTENSION="png",o.IMAGE_SIZES=[53,56,66,78,90],s(a,google.maps.OverlayView),a.getSharedCross=function(e){var t;return"undefined"==typeof a.getSharedCross.crossDiv&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,a.getSharedCross.crossDiv=t),a.getSharedCross.crossDiv},a.prototype.onAdd=function(){var e,t,n,i,r,o,s,l=this,u=!1,c=!1,d=20,p="url("+this.handCursorURL_+")",g=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},h=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof a.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),a.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=p),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",e),g(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",t)),c){if(r){n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()),n.y+=d,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(h,1406)}catch(o){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(e),i=!0,c=!1,t.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",t)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(i){var a;u&&(c?(i.latLng=new google.maps.LatLng(i.latLng.lat()-t,i.latLng.lng()-n),a=l.getProjection().fromLatLngToDivPixel(i.latLng),r&&(l.crossDiv_.style.left=a.x+"px",l.crossDiv_.style.top=a.y+"px",l.crossDiv_.style.display="",a.y-=d),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(a)),r&&(l.eventDiv_.style.top=a.y+d+"px"),google.maps.event.trigger(l.marker_,"drag",i)):(t=i.latLng.lat()-l.marker_.getPosition().lat(),n=i.latLng.lng()-l.marker_.getPosition().lng(),e=l.marker_.getZIndex(),o=l.marker_.getPosition(),s=l.marker_.getMap().getCenter(),r=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),i.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",i)))}),google.maps.event.addDomListener(document,"keydown",function(e){c&&27===e.keyCode&&(r=!1,l.marker_.setPosition(o),l.marker_.getMap().setCenter(s),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(i?i=!1:(google.maps.event.trigger(l.marker_,"click",e),g(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",e),g(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(){c||(r=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(){c||r&&(l.setPosition(d),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(){c||r&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},a.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},a.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},a.prototype.setContent=function(){var e=this.marker_.get("labelContent");"undefined"==typeof e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(e))},a.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},a.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},a.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},a.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},a.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},a.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},a.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get("labelVisible")&&this.marker_.getVisible()?"block":"none",this.eventDiv_.style.display=this.labelDiv_.style.display},s(l,google.maps.Marker),l.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},e.InfoBox=t,e.Cluster=r,e.ClusterIcon=i,e.MarkerClusterer=o,e.MarkerLabel_=a,e.MarkerWithLabel=l})}}),function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,i){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:i(1).Graph,Queue:i(1).Queue}})},function(e,t,n){(function(){e.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(e){(function(){var t,n={}.hasOwnProperty;t=function(){function e(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return e.prototype.addNode=function(e){return this._nodes[e]?void 0:(this.nodeSize++,this._nodes[e]={_outEdges:{},_inEdges:{}})},e.prototype.getNode=function(e){return this._nodes[e]},e.prototype.removeNode=function(e){var t,i,r,o,s;if(i=this._nodes[e]){o=i._outEdges;for(r in o)n.call(o,r)&&this.removeEdge(e,r);s=i._inEdges;for(t in s)n.call(s,t)&&this.removeEdge(t,e);return this.nodeSize--,delete this._nodes[e],i}},e.prototype.addEdge=function(e,t,n){var i,r,o;return null==n&&(n=1),!this.getEdge(e,t)&&(r=this._nodes[e],o=this._nodes[t],r&&o)?(i={weight:n},r._outEdges[t]=i,o._inEdges[e]=i,this.edgeSize++,i):void 0},e.prototype.getEdge=function(e,t){var n,i;return n=this._nodes[e],i=this._nodes[t],n&&i?n._outEdges[t]:void 0},e.prototype.removeEdge=function(e,t){var n,i,r;return i=this._nodes[e],r=this._nodes[t],(n=this.getEdge(e,t))?(delete i._outEdges[t],delete r._inEdges[e],this.edgeSize--,n):void 0},e.prototype.getInEdgesOf=function(e){var t,i,r,o;r=this._nodes[e],i=[],o=null!=r?r._inEdges:void 0;for(t in o)n.call(o,t)&&i.push(this.getEdge(t,e));return i},e.prototype.getOutEdgesOf=function(e){var t,i,r,o;t=this._nodes[e],i=[],o=null!=t?t._outEdges:void 0;for(r in o)n.call(o,r)&&i.push(this.getEdge(e,r));return i},e.prototype.getAllEdgesOf=function(e){var t,n,i,r,o,s,a;if(n=this.getInEdgesOf(e),i=this.getOutEdgesOf(e),0===n.length)return i;for(r=this.getEdge(e,e),t=o=0,s=n.length;s>=0?s>o:o>s;t=s>=0?++o:--o)if(n[t]===r){a=[n[n.length-1],n[t]],n[t]=a[0],n[n.length-1]=a[1],n.pop();break}return n.concat(i)},e.prototype.forEachNode=function(e){var t,i,r;r=this._nodes;for(t in r)n.call(r,t)&&(i=r[t],e(i,t))},e.prototype.forEachEdge=function(e){var t,i,r,o,s,a;s=this._nodes;for(i in s)if(n.call(s,i)){r=s[i],a=r._outEdges;for(o in a)n.call(a,o)&&(t=a[o],e(t))}},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,i,r;t=function(){function e(e){var t,n,i,r,o,s;for(null==e&&(e=[]),this._data=[void 0],i=0,o=e.length;o>i;i++)n=e[i],null!=n&&this._data.push(n);if(this._data.length>1)for(t=r=2,s=this._data.length;s>=2?s>r:r>s;t=s>=2?++r:--r)this._upHeap(t);this.size=this._data.length-1}return e.prototype.add=function(e){return null!=e?(this._data.push(e),this._upHeap(this._data.length-1),this.size++,e):void 0},e.prototype.removeMin=function(){var e;return 1!==this._data.length?(this.size--,2===this._data.length?this._data.pop():(e=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),e)):void 0},e.prototype.peekMin=function(){return this._data[1]},e.prototype._upHeap=function(e){var t,n;for(t=this._data[e];this._data[e]<this._data[i(e)]&&e>1;)n=[this._data[i(e)],this._data[e]],this._data[e]=n[0],this._data[i(e)]=n[1],e=i(e)},e.prototype._downHeap=function(){var e,t,i;for(e=1;n(e<this._data.length)&&(t=n(e),t<this._data.length-1&&this._data[r(e)]<this._data[t]&&(t=r(e)),this._data[t]<this._data[e]);)i=[this._data[e],this._data[t]],this._data[t]=i[0],this._data[e]=i[1],e=t},e}(),i=function(e){return e>>1},n=function(e){return e<<1},r=function(e){return(e<<1)+1},e.exports=t}).call(this)},function(e){(function(){var t;t=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,i=e.length;i>n;n++)t=e[n],this.add(t)}return e.prototype.at=function(e){var t,n,i,r,o;if(-this.size<=e&&e<this.size){if(e=this._adjust(e),2*e<this.size)for(t=this.head,n=i=1;e>=i;n=i+=1)t=t.next;else for(t=this.tail,n=r=1,o=this.size-e-1;o>=r;n=r+=1)t=t.prev;return t}},e.prototype.add=function(e,t){var n,i,r,o,s;return null==t&&(t=this.size),-this.size<=t&&t<=this.size?(i={value:e},t=this._adjust(t),0===this.size?this.head=i:0===t?(r=[i,this.head,i],this.head.prev=r[0],i.next=r[1],this.head=r[2]):(n=this.at(t-1),o=[n.next,i,i,n],i.next=o[0],null!=(s=n.next)?s.prev=o[1]:void 0,n.next=o[2],i.prev=o[3]),t===this.size&&(this.tail=i),this.size++,e):void 0},e.prototype.removeAt=function(e){var t,n,i;return null==e&&(e=this.size-1),-this.size<=e&&e<this.size&&0!==this.size?(e=this._adjust(e),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===e?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(t=this.at(e),n=t.value,t.prev.next=t.next,null!=(i=t.next)&&(i.prev=t.prev),e===this.size-1&&(this.tail=t.prev)),this.size--,n):void 0},e.prototype.remove=function(e){var t;if(null!=e){for(t=this.head;t&&t.value!==e;)t=t.next;if(t)return 1===this.size?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,e}},e.prototype.indexOf=function(e,t){var n,i;if(null==t&&(t=0),null==this.head.value&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),n=this.at(t),i=t;n&&n.value!==e;)n=n.next,i++;return i===this.size?-1:i},e.prototype._adjust=function(e){return 0>e?this.size+e:e},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,i,r,o={}.hasOwnProperty;n="_mapId_",t=function(){function e(t){var n,i;this._content={},this._itemId=0,this._id=e._newMapId(),this.size=0;for(n in t)o.call(t,n)&&(i=t[n],this.set(n,i))}return e._mapIdTracker=0,e._newMapId=function(){return this._mapIdTracker++},e.prototype.hash=function(e,t){var o,s;return null==t&&(t=!1),s=i(e),r(e)?(o=n+this._id,t&&!e[o]&&(e[o]=this._itemId++),o+"_"+e[o]):s+"_"+e},e.prototype.set=function(e,t){return this.has(e)||this.size++,this._content[this.hash(e,!0)]=[t,e],t},e.prototype.get=function(e){var t;return null!=(t=this._content[this.hash(e)])?t[0]:void 0},e.prototype.has=function(e){return this.hash(e)in this._content},e.prototype["delete"]=function(e){var t;return t=this.hash(e),t in this._content?(delete this._content[t],r(e)&&delete e[n+this._id],this.size--,!0):!1},e.prototype.forEach=function(e){var t,n,i;i=this._content;for(t in i)o.call(i,t)&&(n=i[t],e(n[1],n[0]))},e}(),r=function(e){var t,n,r,o,s;for(t=["Boolean","Number","String","Undefined","Null","RegExp","Function"],r=i(e),o=0,s=t.length;s>o;o++)if(n=t[o],r===n)return!1;return!0},i=function(e){return Object.prototype.toString.apply(e).match(/\[object (.+)\]/)[1]},e.exports=t}).call(this)},function(e){(function(){var t;t=function(){function e(e){null==e&&(e=[]),this._content=e,this._dequeueIndex=0,this.size=this._content.length}return e.prototype.enqueue=function(e){return this.size++,this._content.push(e),e},e.prototype.dequeue=function(){var e;return 0!==this.size?(this.size--,e=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),e):void 0},e.prototype.peek=function(){return this._content[this._dequeueIndex]},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,i,r,o,s,a,l,u,c,d,p,g,h,f;n=0,i=1,r=2,a=3,o=1,t=2,s=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this._root,this.size=0,n=0,i=e.length;i>n;n++)t=e[n],null!=t&&this.add(t)}return e.prototype.add=function(e){var s,d,p,g;if(null!=e){if(this.size++,p={value:e,_color:o},this._root){if(d=l(this._root,function(t){return e===t.value?n:e<t.value?t._left?i:(p._parent=t,t._left=p,a):t._right?r:(p._parent=t,t._right=p,a)}),null!=d)return}else this._root=p;for(s=p;;){if(s===this._root){s._color=t;break}if(s._parent._color===t)break;if((null!=(g=f(s))?g._color:void 0)!==o){!c(s)&&c(s._parent)?(this._rotateLeft(s._parent),s=s._left):c(s)&&!c(s._parent)&&(this._rotateRight(s._parent),s=s._right),s._parent._color=t,u(s)._color=o,c(s)?this._rotateRight(u(s)):this._rotateLeft(u(s));break}s._parent._color=t,f(s)._color=t,u(s)._color=o,s=u(s)}return e}},e.prototype.has=function(e){var t;return t=l(this._root,function(t){return e===t.value?n:e<t.value?i:r}),t?!0:!1},e.prototype.peekMin=function(){var e;return null!=(e=g(this._root))?e.value:void 0},e.prototype.peekMax=function(){var e;return null!=(e=p(this._root))?e.value:void 0},e.prototype.remove=function(e){var t;return(t=l(this._root,function(t){return e===t.value?n:e<t.value?i:r}))?(this._removeNode(this._root,t),this.size--,e):void 0},e.prototype.removeMin=function(){var e,t;return(e=g(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype.removeMax=function(){var e,t;return(e=p(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype._removeNode=function(e,n){var i,r,s,a,l,u,p,f,m,v;if(n._left&&n._right&&(r=g(n._right),n.value=r.value,n=r),r=n._left||n._right,r||(r={color:t,_right:void 0,_left:void 0,isLeaf:!0}),r._parent=n._parent,null!=(s=n._parent)&&(s[d(n)]=r),n._color===t)if(r._color===o)r._color=t,r._parent||(this._root=r);else for(;;){if(!r._parent){this._root=r.isLeaf?void 0:r;break}if(i=h(r),(null!=i?i._color:void 0)===o&&(r._parent._color=o,i._color=t,c(r)?this._rotateLeft(r._parent):this._rotateRight(r._parent)),i=h(r),r._parent._color!==t||i&&(i._color!==t||i._left&&i._left._color!==t||i._right&&i._right._color!==t)){if(!(r._parent._color!==o||i&&(i._color!==t||i._left&&(null!=(a=i._left)?a._color:void 0)!==t||i._right&&(null!=(l=i._right)?l._color:void 0)!==t))){null!=i&&(i._color=o),r._parent._color=t;break}if((null!=i?i._color:void 0)===t){!c(r)||i._right&&i._right._color!==t||(null!=(u=i._left)?u._color:void 0)!==o?c(r)||i._left&&i._left._color!==t||(null!=(f=i._right)?f._color:void 0)!==o||(i._color=o,null!=(m=i._right)&&(m._color=t),this._rotateLeft(i)):(i._color=o,null!=(p=i._left)&&(p._color=t),this._rotateRight(i));break}i=h(r),i._color=r._parent._color,c(r)?(i._right._color=t,this._rotateRight(r._parent)):(i._left._color=t,this._rotateLeft(r._parent))}else null!=i&&(i._color=o),r.isLeaf&&(r._parent[d(r)]=void 0),r=r._parent}return r.isLeaf&&null!=(v=r._parent)?v[d(r)]=void 0:void 0},e.prototype._rotateLeft=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._right),e._right._parent=e._parent,e._parent=e._right,e._right=e._right._left,e._parent._left=e,null!=(n=e._right)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0;

},e.prototype._rotateRight=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._left),e._left._parent=e._parent,e._parent=e._left,e._left=e._left._right,e._parent._right=e,null!=(n=e._left)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e}(),c=function(e){return e===e._parent._left},d=function(e){return c(e)?"_left":"_right"},l=function(e,t){var o,s,l;for(s=e,l=void 0;s;){if(o=t(s),o===n){l=s;break}if(o===i)s=s._left;else if(o===r)s=s._right;else if(o===a)break}return l},g=function(e){return l(e,function(e){return e._left?i:n})},p=function(e){return l(e,function(e){return e._right?r:n})},u=function(e){var t;return null!=(t=e._parent)?t._parent:void 0},f=function(e){return u(e)?c(e._parent)?u(e)._right:u(e)._left:void 0},h=function(e){return c(e)?e._parent._right:e._parent._left},e.exports=s}).call(this)},function(e,t,n){(function(){var t,i,r,o,s={}.hasOwnProperty;t=n(6),r="end",i=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this._root={},this.size=0,n=0,i=e.length;i>n;n++)t=e[n],this.add(t)}return e.prototype.add=function(e){var t,n,i,o;if(null!=e){for(this.size++,t=this._root,i=0,o=e.length;o>i;i++)n=e[i],null==t[n]&&(t[n]={}),t=t[n];return t[r]=!0,e}},e.prototype.has=function(e){var t,n,i,o;if(null==e)return!1;for(t=this._root,i=0,o=e.length;o>i;i++){if(n=e[i],null==t[n])return!1;t=t[n]}return t[r]?!0:!1},e.prototype.longestPrefixOf=function(e){var t,n,i,r,o;if(null==e)return"";for(t=this._root,i="",r=0,o=e.length;o>r&&(n=e[r],null!=t[n]);r++)i+=n,t=t[n];return i},e.prototype.wordsWithPrefix=function(e){var n,i,o,a,l,u,c,d,p,g;if(null==e)return[];for(null!=e||(e=""),c=[],i=this._root,d=0,p=e.length;p>d;d++)if(o=e[d],i=i[o],null==i)return[];for(l=new t,l.enqueue([i,""]);0!==l.size;){g=l.dequeue(),a=g[0],n=g[1],a[r]&&c.push(e+n);for(o in a)s.call(a,o)&&(u=a[o],l.enqueue([u,n+o]))}return c},e.prototype.remove=function(e){var t,n,i,s,a,l,u,c;if(null!=e){for(t=this._root,s=[],a=0,u=e.length;u>a;a++){if(i=e[a],null==t[i])return;t=t[i],s.push([i,t])}if(t[r]){if(this.size--,delete t[r],o(t,1))return e;for(n=l=c=s.length-1;(1>=c?1>=l:l>=1)&&!o(s[n][1],1);n=1>=c?++l:--l)delete s[n-1][1][s[n][0]];return o(this._root[s[0][0]],1)||delete this._root[s[0][0]],e}}},e}(),o=function(e,t){var n,i;if(0===t)return!0;i=0;for(n in e)if(s.call(e,n)&&(i++,i>=t))return!0;return!1},e.exports=i}).call(this)}]),t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(t,n){return{init:_.once(function(){(function(){var i={}.hasOwnProperty,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e.NgMapCluster=function(e){function i(e){i.__super__.constructor.call(this,e),this.markers_=new n}return r(i,e),i.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded_(e)){var i=this.markers_.get(e.key);if(i.getPosition().lat()==e.getPosition().lat()&&i.getPosition().lon()==e.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+e.getPosition().lat())/r,s=(this.center_.lng()*(r-1)+e.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,s),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),t=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?e.getMap()!==this.map_&&e.setMap(this.map_):t<this.minClusterSize_?e.getMap()!==this.map_&&e.setMap(this.map_):t===this.minClusterSize_?this.markers_.each(function(e){e.setMap(null)}):e.setMap(null),!0},i.prototype.isMarkerAlreadyAdded_=function(e){return t.isNullOrUndefined(this.markers_.get(e.key))},i.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){e.extend(t.getPosition())}),e},i.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new n,delete this.markers_},i}(Cluster),e.NgMapMarkerClusterer=function(e){function t(e,i,r){t.__super__.constructor.call(this,e,i,r),this.markers_=new n}return r(t,e),t.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new n},t.prototype.removeMarker_=function(e){return this.markers_.get(e.key)?(e.setMap(null),this.markers_.remove(e.key),!0):!1},t.prototype.createClusters_=function(e){var t,n,i,r=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),s=Math.min(e+this.batchSize_,this.markers_.length),a=this.markers_.values();for(t=e;s>t;t++)n=a[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(s<this.markers_.length)this.timerRefStatic=setTimeout(function(){r.createClusters_(s)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},t.prototype.addToClosestCluster_=function(e){var t,n,i,r,o=4e4,s=null;for(t=0;t<this.clusters_.length;t++)i=this.clusters_[t],r=i.getCenter(),r&&(n=this.distanceBetweenPoints_(r,e.getPosition()),o>n&&(o=n,s=i));s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(i=new NgMapCluster(this),i.addMarker(e),this.clusters_.push(i))},t.prototype.redraw_=function(){this.createClusters_(0)},t.prototype.resetViewport_=function(e){var t;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[],this.markers_.each(function(t){t.isAdded=!1,e&&t.setMap(null)})},t.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)"constructor"!==t&&(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),i=parseInt(t[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),e="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},t}(MarkerClusterer)}).call(this)})}}])}(window,angular),function(){var e=angular.module("restangular",[]);e.provider("Restangular",function(){var e={};e.init=function(e,t){function n(e,t,n,i){var r={};return _.each(_.keys(i),function(o){var s=i[o];s.params=_.extend({},s.params,e.defaultRequestParams[s.method.toLowerCase()]),_.isEmpty(s.params)&&delete s.params,r[o]=e.isSafe(s.method)?function(){return t(_.extend(s,{url:n}))}:function(e){return t(_.extend(s,{url:n,data:e}))}}),r}e.configuration=t;var i=["get","head","options","trace","getlist"];t.isSafe=function(e){return _.contains(i,e.toLowerCase())};var r=/^https?:\/\//i;t.isAbsoluteUrl=function(e){return _.isUndefined(t.absoluteUrl)||_.isNull(t.absoluteUrl)?e&&r.test(e):t.absoluteUrl},t.absoluteUrl=_.isUndefined(t.absoluteUrl)?!0:t.absoluteUrl,e.setSelfLinkAbsoluteUrl=function(e){t.absoluteUrl=e},t.baseUrl=_.isUndefined(t.baseUrl)?"":t.baseUrl,e.setBaseUrl=function(e){return t.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},t.extraFields=t.extraFields||[],e.setExtraFields=function(e){return t.extraFields=e,this},t.defaultHttpFields=t.defaultHttpFields||{},e.setDefaultHttpFields=function(e){return t.defaultHttpFields=e,this},t.withHttpValues=function(e,n){return _.defaults(n,e,t.defaultHttpFields)},t.encodeIds=_.isUndefined(t.encodeIds)?!0:t.encodeIds,e.setEncodeIds=function(e){t.encodeIds=e},t.defaultRequestParams=t.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},e.setDefaultRequestParams=function(e,n){var i=[],r=n||e;return _.isUndefined(n)?i.push("common"):_.isArray(e)?i=e:i.push(e),_.each(i,function(e){t.defaultRequestParams[e]=r}),this},e.requestParams=t.defaultRequestParams,t.defaultHeaders=t.defaultHeaders||{},e.setDefaultHeaders=function(n){return t.defaultHeaders=n,e.defaultHeaders=t.defaultHeaders,this},e.defaultHeaders=t.defaultHeaders,t.methodOverriders=t.methodOverriders||[],e.setMethodOverriders=function(e){var n=_.extend([],e);return t.isOverridenMethod("delete",n)&&n.push("remove"),t.methodOverriders=n,this},t.jsonp=_.isUndefined(t.jsonp)?!1:t.jsonp,e.setJsonp=function(e){t.jsonp=e},t.isOverridenMethod=function(e,n){var i=n||t.methodOverriders;return!_.isUndefined(_.find(i,function(t){return t.toLowerCase()===e.toLowerCase()}))},t.urlCreator=t.urlCreator||"path",e.setUrlCreator=function(e){if(!_.has(t.urlCreatorFactory,e))throw new Error("URL Path selected isn't valid");return t.urlCreator=e,this},t.restangularFields=t.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save"},e.setRestangularFields=function(e){return t.restangularFields=_.extend(t.restangularFields,e),this},t.isRestangularized=function(e){return!!e[t.restangularFields.one]||!!e[t.restangularFields.all]},t.setFieldToElem=function(e,t,n){var i=e.split("."),r=t;return _.each(_.initial(i),function(e){r[e]={},r=r[e]}),r[_.last(i)]=n,this},t.getFieldFromElem=function(e,t){var n=e.split("."),i=t;return _.each(n,function(e){i&&(i=i[e])}),angular.copy(i)},t.setIdToElem=function(e,n){return t.setFieldToElem(t.restangularFields.id,e,n),this},t.getIdFromElem=function(e){return t.getFieldFromElem(t.restangularFields.id,e)},t.isValidId=function(e){return""!==e&&!_.isUndefined(e)&&!_.isNull(e)},t.setUrlToElem=function(e,n,i){return t.setFieldToElem(t.restangularFields.selfLink,e,n),this},t.getUrlFromElem=function(e){return t.getFieldFromElem(t.restangularFields.selfLink,e)},t.useCannonicalId=_.isUndefined(t.useCannonicalId)?!1:t.useCannonicalId,e.setUseCannonicalId=function(e){return t.useCannonicalId=e,this},t.getCannonicalIdFromElem=function(e){var n=e[t.restangularFields.cannonicalId],i=t.isValidId(n)?n:t.getIdFromElem(e);return i},t.responseInterceptors=t.responseInterceptors||[],t.defaultResponseInterceptor=function(e,t,n,i,r,o){return e},t.responseExtractor=function(e,n,i,r,o,s){var a=angular.copy(t.responseInterceptors);a.push(t.defaultResponseInterceptor);var l=e;return _.each(a,function(e){l=e(l,n,i,r,o,s)}),l},e.addResponseInterceptor=function(e){return t.responseInterceptors.push(e),this},e.setResponseInterceptor=e.addResponseInterceptor,e.setResponseExtractor=e.addResponseInterceptor,t.requestInterceptors=t.requestInterceptors||[],t.defaultInterceptor=function(e,t,n,i,r,o,s){return{element:e,headers:r,params:o,httpConfig:s}},t.fullRequestInterceptor=function(e,n,i,r,o,s,a){var l=angular.copy(t.requestInterceptors),u=t.defaultInterceptor(e,n,i,r,o,s,a);return _.reduce(l,function(e,t){return _.extend(e,t(e.element,n,i,r,e.headers,e.params,e.httpConfig))},u)},e.addRequestInterceptor=function(e){return t.requestInterceptors.push(function(t,n,i,r,o,s,a){return{headers:o,params:s,element:e(t,n,i,r),httpConfig:a}}),this},e.setRequestInterceptor=e.addRequestInterceptor,e.addFullRequestInterceptor=function(e){return t.requestInterceptors.push(e),this},e.setFullRequestInterceptor=e.addFullRequestInterceptor,t.errorInterceptor=t.errorInterceptor||function(){},e.setErrorInterceptor=function(e){return t.errorInterceptor=e,this},t.onBeforeElemRestangularized=t.onBeforeElemRestangularized||function(e){return e},e.setOnBeforeElemRestangularized=function(e){return t.onBeforeElemRestangularized=e,this},t.onElemRestangularized=t.onElemRestangularized||function(e){return e},e.setOnElemRestangularized=function(e){return t.onElemRestangularized=e,this},t.shouldSaveParent=t.shouldSaveParent||function(){return!0},e.setParentless=function(e){return _.isArray(e)?t.shouldSaveParent=function(t){return!_.contains(e,t)}:_.isBoolean(e)&&(t.shouldSaveParent=function(){return!e}),this},t.suffix=_.isUndefined(t.suffix)?null:t.suffix,e.setRequestSuffix=function(e){return t.suffix=e,this},t.transformers=t.transformers||{},e.addElementTransformer=function(n,i,r){var o=null,s=null;2===arguments.length?s=i:(s=r,o=i);var a=t.transformers[n];return a||(a=t.transformers[n]=[]),a.push(function(e,t){return _.isNull(o)||e==o?s(t):t}),e},e.extendCollection=function(t,n){return e.addElementTransformer(t,!0,n)},e.extendModel=function(t,n){return e.addElementTransformer(t,!1,n)},t.transformElem=function(e,n,i,r,o){if(!o&&!t.transformLocalElements&&!e[t.restangularFields.fromServer])return e;var s=t.transformers[i],a=e;return s&&_.each(s,function(e){a=e(n,a)}),t.onElemRestangularized(a,n,i,r)},t.transformLocalElements=_.isUndefined(t.transformLocalElements)?!1:t.transformLocalElements,e.setTransformOnlyServerElements=function(e){t.transformLocalElements=!e},t.fullResponse=_.isUndefined(t.fullResponse)?!1:t.fullResponse,e.setFullResponse=function(e){return t.fullResponse=e,this},t.urlCreatorFactory={};var o=function(){};o.prototype.setConfig=function(e){return this.config=e,this},o.prototype.parentsArray=function(e){for(var t=[];e;)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},o.prototype.resource=function(e,i,r,o,s,a,l,u){var c=_.defaults(s||{},this.config.defaultRequestParams.common),d=_.defaults(o||{},this.config.defaultHeaders);l&&(t.isSafe(u)?d["If-None-Match"]=l:d["If-Match"]=l);var p=this.base(e);if(a){var g="";/\/$/.test(p)||(g+="/"),g+=a,p+=g}return this.config.suffix&&-1===p.indexOf(this.config.suffix,p.length-this.config.suffix.length)&&!this.config.getUrlFromElem(e)&&(p+=this.config.suffix),e[this.config.restangularFields.httpConfig]=void 0,n(this.config,i,p,{getList:this.config.withHttpValues(r,{method:"GET",params:c,headers:d}),get:this.config.withHttpValues(r,{method:"GET",params:c,headers:d}),jsonp:this.config.withHttpValues(r,{method:"jsonp",params:c,headers:d}),put:this.config.withHttpValues(r,{method:"PUT",params:c,headers:d}),post:this.config.withHttpValues(r,{method:"POST",params:c,headers:d}),remove:this.config.withHttpValues(r,{method:"DELETE",params:c,headers:d}),head:this.config.withHttpValues(r,{method:"HEAD",params:c,headers:d}),trace:this.config.withHttpValues(r,{method:"TRACE",params:c,headers:d}),options:this.config.withHttpValues(r,{method:"OPTIONS",params:c,headers:d}),patch:this.config.withHttpValues(r,{method:"PATCH",params:c,headers:d})})};var s=function(){};s.prototype=new o,s.prototype.base=function(e){var n=this;return _.reduce(this.parentsArray(e),function(e,i){var r,o=n.config.getUrlFromElem(i);if(o){if(n.config.isAbsoluteUrl(o))return o;r=o}else if(r=i[n.config.restangularFields.route],i[n.config.restangularFields.restangularCollection]){var s=i[n.config.restangularFields.ids];s&&(r+="/"+s.join(","))}else{var a;a=n.config.useCannonicalId?n.config.getCannonicalIdFromElem(i):n.config.getIdFromElem(i),t.isValidId(a)&&!i.singleOne&&(r+="/"+(n.config.encodeIds?encodeURIComponent(a):a))}return e.replace(/\/$/,"")+"/"+r},this.config.baseUrl)},s.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},s.prototype.fetchRequestedUrl=function(e,n){function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function r(e,t,n){for(var r=i(e),o=0;o<r.length;o++)t.call(n,e[r[o]],r[o]);return r}function o(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var s=this.fetchUrl(e,n),a=e[t.restangularFields.reqParams];if(!a)return s;var l=[];return r(a,function(e,t){null!=e&&void 0!=e&&(angular.isArray(e)||(e=[e]),angular.forEach(e,function(e){angular.isObject(e)&&(e=angular.toJson(e)),l.push(o(t)+"="+o(e))}))}),s+(this.config.suffix||"")+(-1===s.indexOf("?")?"?":"&")+l.join("&")},t.urlCreatorFactory.path=s};var t={};e.init(this,t),this.$get=["$http","$q",function(n,i){function r(t){function o(e,n,i,r,o){if(n[t.restangularFields.route]=i,n[t.restangularFields.getRestangularUrl]=_.bind(R.fetchUrl,R,n),n[t.restangularFields.getRequestedUrl]=_.bind(R.fetchRequestedUrl,R,n),n[t.restangularFields.addRestangularMethod]=_.bind(B,n),n[t.restangularFields.clone]=_.bind(v,n,n),n[t.restangularFields.reqParams]=_.isEmpty(r)?null:r,n[t.restangularFields.withHttpConfig]=_.bind(C,n),n[t.restangularFields.plain]=_.bind(f,n,n),n[t.restangularFields.one]=_.bind(s,n,n),n[t.restangularFields.all]=_.bind(a,n,n),n[t.restangularFields.several]=_.bind(l,n,n),n[t.restangularFields.oneUrl]=_.bind(u,n,n),n[t.restangularFields.allUrl]=_.bind(c,n,n),n[t.restangularFields.fromServer]=!!o,e&&t.shouldSaveParent(i)){var d=t.getIdFromElem(e),p=t.getUrlFromElem(e),g=_.union(_.values(_.pick(t.restangularFields,["route","singleOne","parentResource"])),t.extraFields),h=_.pick(e,g);t.isValidId(d)&&t.setIdToElem(h,d),t.isValidId(p)&&t.setUrlToElem(h,p),n[t.restangularFields.parentResource]=h}else n[t.restangularFields.parentResource]=null;return n}function s(e,n,i,r){if(_.isNumber(n)||_.isNumber(e)){var o="You're creating a Restangular entity with the number ";throw o+="instead of the route or the parent. You can't call .one(12)",new Error(o)}var s={};return t.setIdToElem(s,i),t.setFieldToElem(t.restangularFields.singleOne,s,r),b(e,s,n,!1)}function a(e,t){return y(e,[],t,!1)}function l(e,n,i){var r=[];return r[t.restangularFields.ids]=Array.prototype.splice.call(arguments,2),y(e,r,n,!1)}function u(e,n,i){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var r={};return t.setUrlToElem(r,i,n),b(e,r,n,!1)}function c(e,n,i){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var r={};return t.setUrlToElem(r,i,n),y(e,r,n,!1)}function d(e,n,i){return e.call=_.bind(p,e),e.get=_.bind(g,e),e[t.restangularFields.restangularCollection]=n,n&&(e.push=_.bind(p,e,"push")),e.$object=i,e}function p(e){var n=i.defer(),r=arguments,o={};return this.then(function(t){var i=Array.prototype.slice.call(r,1),s=t[e];s.apply(t,i),o=t,n.resolve(t)}),d(n.promise,this[t.restangularFields.restangularCollection],o)}function g(e){var n=i.defer(),r={};return this.then(function(t){r=t[e],n.resolve(r)}),d(n.promise,this[t.restangularFields.restangularCollection],r)}function h(e,n,i,r){return _.extend(r,i),t.fullResponse?e.resolve(_.extend(n,{data:i})):void e.resolve(i)}function f(e){if(_.isArray(e)){var n=[];return _.each(e,function(e){n.push(f(e))}),n}return _.omit(e,_.values(_.omit(t.restangularFields,"id")))}function m(e){e[t.restangularFields.customOperation]=_.bind(L,e),_.each(["put","post","get","delete"],function(t){_.each(["do","custom"],function(n){var i,r="delete"===t?"remove":t,o=n+t.toUpperCase();i="put"!==r&&"post"!==r?L:function(e,t,n,i,r){return _.bind(L,this)(e,n,i,r,t)},e[o]=_.bind(i,e,r)})}),e[t.restangularFields.customGETLIST]=_.bind(S,e),e[t.restangularFields.doGETLIST]=e[t.restangularFields.customGETLIST]}function v(e,n){var i=angular.copy(e,n);return b(i[t.restangularFields.parentResource],i,i[t.restangularFields.route],!0)}function b(e,n,i,r,s,a){var l=t.onBeforeElemRestangularized(n,!1,i),u=o(e,l,i,a,r);return t.useCannonicalId&&(u[t.restangularFields.cannonicalId]=t.getIdFromElem(u)),s&&(u[t.restangularFields.getParentList]=function(){return s}),u[t.restangularFields.restangularCollection]=!1,u[t.restangularFields.get]=_.bind(M,u),u[t.restangularFields.getList]=_.bind(S,u),u[t.restangularFields.put]=_.bind(D,u),u[t.restangularFields.post]=_.bind(P,u),u[t.restangularFields.remove]=_.bind(A,u),u[t.restangularFields.head]=_.bind(j,u),u[t.restangularFields.trace]=_.bind(O,u),u[t.restangularFields.options]=_.bind(q,u),u[t.restangularFields.patch]=_.bind(I,u),u[t.restangularFields.save]=_.bind(T,u),m(u),t.transformElem(u,!1,i,G,!0)}function y(e,n,i,r,s){var a=t.onBeforeElemRestangularized(n,!0,i),l=o(e,a,i,s,r);return l[t.restangularFields.restangularCollection]=!0,l[t.restangularFields.post]=_.bind(P,l,null),l[t.restangularFields.remove]=_.bind(A,l),l[t.restangularFields.head]=_.bind(j,l),l[t.restangularFields.trace]=_.bind(O,l),l[t.restangularFields.putElement]=_.bind(x,l),l[t.restangularFields.options]=_.bind(q,l),l[t.restangularFields.patch]=_.bind(I,l),l[t.restangularFields.get]=_.bind($,l),l[t.restangularFields.getList]=_.bind(S,l,null),m(l),t.transformElem(l,!0,i,G,!0)}function w(e,t,n){var i=y(e,t,n,!1);return _.each(i,function(t){b(e,t,n,!1)}),i}function $(e,t,n){return this.customGET(e.toString(),t,n)}function x(e,n,r){var o=this,s=this[e],a=i.defer(),l=[];return l=t.transformElem(l,!0,s[t.restangularFields.route],G),s.put(n,r).then(function(t){var n=v(o);n[e]=t,l=n,a.resolve(n)},function(e){a.reject(e)}),d(a.promise,!0,l)}function k(e,n,i,r,o,s){var a=t.responseExtractor(e,n,i,r,o,s),l=o.headers("ETag");return a&&l&&(a[t.restangularFields.etag]=l),a}function S(e,r,o){var s=this,a=i.defer(),l="getList",u=R.fetchUrl(this,e),c=e||s[t.restangularFields.route],p=t.fullRequestInterceptor(null,l,c,u,o||{},r||{},this[t.restangularFields.httpConfig]||{}),g=[];g=t.transformElem(g,!0,c,G);var f="getList";return t.jsonp&&(f="jsonp"),R.resource(this,n,p.httpConfig,p.headers,p.params,e,this[t.restangularFields.etag],l)[f]().then(function(n){var i=n.data,r=n.config.params,o=k(i,l,c,u,n,a);if((_.isUndefined(o)||""===o)&&(o=[]),!_.isArray(o))throw new Error("Response for getList SHOULD be an array and not an object or something else");var d=_.map(o,function(n){return s[t.restangularFields.restangularCollection]?b(s[t.restangularFields.parentResource],n,s[t.restangularFields.route],!0,o):b(s,n,e,!0,o)});d=_.extend(o,d),s[t.restangularFields.restangularCollection]?h(a,n,y(s[t.restangularFields.parentResource],d,s[t.restangularFields.route],!0,r),g):h(a,n,y(s,d,e,!0,r),g)},function(e){304===e.status&&s[t.restangularFields.restangularCollection]?h(a,e,s,g):t.errorInterceptor(e,a)!==!1&&a.reject(e)}),d(a.promise,!0,g)}function C(e){return this[t.restangularFields.httpConfig]=e,this}function T(e,n){return this[t.restangularFields.fromServer]?this[t.restangularFields.put](e,n):_.bind(E,this)("post",void 0,e,void 0,n)}function E(e,r,o,s,a){var l=this,u=i.defer(),c=o||{},p=r||this[t.restangularFields.route],g=R.fetchUrl(this,r),m=s||this,v=m[t.restangularFields.etag]||("post"!=e?this[t.restangularFields.etag]:null);_.isObject(m)&&t.isRestangularized(m)&&(m=f(m));var y=t.fullRequestInterceptor(m,e,p,g,a||{},c||{},this[t.restangularFields.httpConfig]||{}),w={};w=t.transformElem(w,!1,p,G);var $=function(n){var i=n.data,o=n.config.params,s=k(i,e,p,g,n,u);s?"post"!==e||l[t.restangularFields.restangularCollection]?(data=b(l[t.restangularFields.parentResource],s,l[t.restangularFields.route],!0,null,o),data[t.restangularFields.singleOne]=l[t.restangularFields.singleOne],h(u,n,data,w)):h(u,n,b(l,s,r,!0,null,o),w):h(u,n,void 0,w)},x=function(n){304===n.status&&t.isSafe(e)?h(u,n,l,w):t.errorInterceptor(n,u)!==!1&&u.reject(n)},S=e,C=_.extend({},y.headers),T=t.isOverridenMethod(e);return T?(S="post",C=_.extend(C,{"X-HTTP-Method-Override":"remove"===e?"DELETE":e})):t.jsonp&&"get"===S&&(S="jsonp"),t.isSafe(e)?T?R.resource(this,n,y.httpConfig,C,y.params,r,v,S)[S]({}).then($,x):R.resource(this,n,y.httpConfig,C,y.params,r,v,S)[S]().then($,x):R.resource(this,n,y.httpConfig,C,y.params,r,v,S)[S](y.element).then($,x),d(u.promise,!1,w)}function M(e,t){return _.bind(E,this)("get",void 0,e,void 0,t)}function A(e,t){return _.bind(E,this)("remove",void 0,e,void 0,t)}function D(e,t){return _.bind(E,this)("put",void 0,e,void 0,t)}function P(e,t,n,i){return _.bind(E,this)("post",e,n,t,i)}function j(e,t){return _.bind(E,this)("head",void 0,e,void 0,t)}function O(e,t){return _.bind(E,this)("trace",void 0,e,void 0,t)}function q(e,t){return _.bind(E,this)("options",void 0,e,void 0,t)}function I(e,t,n){return _.bind(E,this)("patch",void 0,t,e,n)}function L(e,t,n,i,r){return _.bind(E,this)(e,t,n,r,i)}function B(e,n,i,r,o,s){var a;a="getList"===n?_.bind(S,this,i):_.bind(L,this,n,i);var l=function(e,t,n){var i=_.defaults({params:e,headers:t,elem:n},{params:r,headers:o,elem:s});return a(i.params,i.headers,i.elem)};this[e]=t.isSafe(n)?l:function(e,t,n){return l(t,n,e)}}function F(n){var i=angular.copy(_.omit(t,"configuration"));return e.init(i,i),n(i),r(i)}function N(e,t){var n={},i=(t||G).all(e);return n.one=_.bind(s,t||G,t,e),n.post=_.bind(i.post,i),n.getList=_.bind(i.getList,i),n}var G={},R=new t.urlCreatorFactory[t.urlCreator];return R.setConfig(t),e.init(G,t),G.copy=_.bind(v,G),G.service=_.bind(N,G),G.withConfig=_.bind(F,G),G.one=_.bind(s,G,null),G.all=_.bind(a,G,null),G.several=_.bind(l,G,null),G.oneUrl=_.bind(u,G,null),G.allUrl=_.bind(c,G,null),G.stripRestangular=_.bind(f,G),G.restangularizeElement=_.bind(b,G),G.restangularizeCollection=_.bind(w,G),G}return r(t)}]})}(),!function(e,t,n){"use strict";angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var e=this.defaults={offsetTop:"auto"};this.$get=["$window","debounce","dimensions",function(t,n,i){function r(r,a){function l(e,t,n){var i=u(),r=c();return b>=i?"top":null!==e&&i+e<=t.top?"middle":null!==y&&t.top+n+m>=r-y?"bottom":"middle"}function u(){return g[0]===t?t.pageYOffset:g[0].scrollTop}function c(){return g[0]===t?t.document.body.scrollHeight:g[0].scrollHeight}var d={},p=angular.extend({},e,a),g=p.target,h="affix affix-top affix-bottom",f=!1,m=0,v=0,b=0,y=0,_=null,w=null,$=r.parent();if(p.offsetParent)if(p.offsetParent.match(/^\d+$/))for(var x=0;x<1*p.offsetParent-1;x++)$=$.parent();else $=angular.element(p.offsetParent);return d.init=function(){this.$parseOffsets(),v=i.offset(r[0]).top+m,f=!r[0].style.width,g.on("scroll",this.checkPosition),g.on("click",this.checkPositionWithEventLoop),s.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},d.destroy=function(){g.off("scroll",this.checkPosition),g.off("click",this.checkPositionWithEventLoop),s.off("resize",this.$debouncedOnResize)},d.checkPositionWithEventLoop=function(){setTimeout(d.checkPosition,1)},d.checkPosition=function(){var e=u(),t=i.offset(r[0]),n=i.height(r[0]),s=l(w,t,n);_!==s&&(_=s,r.removeClass(h).addClass("affix"+("middle"!==s?"-"+s:"")),"top"===s?(w=null,r.css("position",p.offsetParent?"":"relative"),f&&r.css("width",""),r.css("top","")):"bottom"===s?(w=p.offsetUnpin?-(1*p.offsetUnpin):t.top-e,f&&r.css("width",""),r.css("position",p.offsetParent?"":"relative"),r.css("top",p.offsetParent?"":o[0].offsetHeight-y-n-v+"px")):(w=null,f&&r.css("width",r[0].offsetWidth+"px"),r.css("position","fixed"),r.css("top",m+"px")))},d.$onResize=function(){d.$parseOffsets(),d.checkPosition()},d.$debouncedOnResize=n(d.$onResize,50),d.$parseOffsets=function(){var e=r.css("position");r.css("position",p.offsetParent?"":"relative"),p.offsetTop&&("auto"===p.offsetTop&&(p.offsetTop="+0"),p.offsetTop.match(/^[-+]\d+$/)?(m=1*-p.offsetTop,b=p.offsetParent?i.offset($[0]).top+1*p.offsetTop:i.offset(r[0]).top-i.css(r[0],"marginTop",!0)+1*p.offsetTop):b=1*p.offsetTop),p.offsetBottom&&(y=p.offsetParent&&p.offsetBottom.match(/^[-+]\d+$/)?c()-(i.offset($[0]).top+i.height($[0]))+1*p.offsetBottom+1:1*p.offsetBottom),r.css("position",e)},d.init(),d}var o=angular.element(t.document.body),s=angular.element(t);return r}]}).directive("bsAffix",["$affix","$window",function(e,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(n,i,r,o){var s={scope:n,offsetTop:"auto",target:o?o.$element:angular.element(t)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(e){angular.isDefined(r[e])&&(s[e]=r[e])});var a=e(i,s);n.$on("$destroy",function(){a&&a.destroy(),s=null,a=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(e){this.$element=e}]}}),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var e=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(t,n){function i(i){var r={},o=angular.extend({},e,i);r=t(o),r.$scope.dismissable=!!o.dismissable,o.type&&(r.$scope.type=o.type);var s=r.show;return o.duration&&(r.show=function(){s(),n(function(){r.hide()},1e3*o.duration)}),r}return i}]}).directive("bsAlert",["$window","$sce","$alert",function(e,t,n){return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",scope:!0,link:function(e,i,r){var o={scope:e,element:i,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(e){angular.isDefined(r[e])&&(o[e]=r[e])}),angular.forEach(["title","content","type"],function(n){r[n]&&r.$observe(n,function(i){e[n]=t.trustAsHtml(i)})}),r.bsAlert&&e.$watch(r.bsAlert,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var s=n(o);i.on(r.trigger||"click",s.toggle),e.$on("$destroy",function(){s&&s.destroy(),o=null,s=null})}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var e=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){function n(n){var i={},r=angular.extend({},e,n);return i=t(r)}return n}]}).directive("bsAside",["$window","$sce","$aside",function(e,t,n){return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",scope:!0,link:function(e,i,r){var o={scope:e,element:i,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(r[e])&&(o[e]=r[e])}),
angular.forEach(["title","content"],function(n){r[n]&&r.$observe(n,function(i){e[n]=t.trustAsHtml(i)})}),r.bsAside&&e.$watch(r.bsAside,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var s=n(o);i.on(r.trigger||"click",s.toggle),e.$on("$destroy",function(){s&&s.destroy(),o=null,s=null})}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var e=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:e}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="checkbox"]');angular.forEach(n,function(e){var n=angular.element(e);n.attr("bs-checkbox",""),n.attr("ng-model",t.ngModel+"."+n.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(e,t){var n=e.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,r,o,s){var a=n,l="INPUT"===r[0].nodeName,u=l?r.parent():r,c=angular.isDefined(o.trueValue)?o.trueValue:!0;i.test(o.trueValue)&&(c=e.$eval(o.trueValue));var d=angular.isDefined(o.falseValue)?o.falseValue:!1;i.test(o.falseValue)&&(d=e.$eval(o.falseValue));var p="boolean"!=typeof c||"boolean"!=typeof d;p&&(s.$parsers.push(function(e){return e?c:d}),s.$formatters.push(function(e){return angular.equals(e,c)}),e.$watch(o.ngModel,function(){s.$render()})),s.$render=function(){var e=angular.equals(s.$modelValue,c);t(function(){l&&(r[0].checked=e),u.toggleClass(a.activeClass,e)})},r.bind(a.toggleEvent,function(){e.$apply(function(){l||s.$setViewValue(!u.hasClass("active")),p||s.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(e){angular.element(e).attr("bs-radio",""),angular.element(e).attr("ng-model",t.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(e,t){var n=e.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,r,o,s){var a=n,l="INPUT"===r[0].nodeName,u=l?r.parent():r,c=i.test(o.value)?e.$eval(o.value):o.value;s.$render=function(){var e=angular.equals(s.$modelValue,c);t(function(){l&&(r[0].checked=e),u.toggleClass(a.activeClass,e)})},r.bind(a.toggleEvent,function(){e.$apply(function(){s.$setViewValue(c),s.$render()})})}}}]),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var e=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1},t=this.controller=function(t,n,i){var r=this;r.$options=angular.copy(e),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed"],function(e){angular.isDefined(i[e])&&(r.$options[e]=i[e])}),r.$toggles=[],r.$targets=[],r.$viewChangeListeners=[],r.$registerToggle=function(e){r.$toggles.push(e)},r.$registerTarget=function(e){r.$targets.push(e)},r.$unregisterToggle=function(e){var t=r.$toggles.indexOf(e);r.$toggles.splice(t,1)},r.$unregisterTarget=function(e){var t=r.$targets.indexOf(e),n=r.$targets.$active;r.$targets.splice(t,1),n>t?n--:t===n&&n===r.$targets.length&&n--,r.$setActive(n)},r.$targets.$active=r.$options.startCollapsed?-1:0,r.$setActive=t.$setActive=function(e){r.$targets.$active=r.$options.disallowToggle?e:r.$targets.$active===e?-1:e,r.$viewChangeListeners.forEach(function(e){e()})}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsCollapse",["$window","$animate","$collapse",function(e,t,n){return n.defaults,{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(e,t,n,i){var r=i[0],o=i[1];r&&(o.$viewChangeListeners.push(function(){r.$setViewValue(o.$targets.$active)}),r.$formatters.push(function(e){return o.$targets.$active!==1*e&&o.$setActive(1*e),e}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(e,t,n,i){var r=(i[0],i[1]);t.attr("data-toggle","collapse"),r.$registerToggle(t),e.$on("$destroy",function(){r.$unregisterToggle(t)}),t.on("click",function(){var i=n.bsCollapseToggle||r.$toggles.indexOf(t);r.$setActive(1*i),e.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(e){return{require:["^?ngModel","^bsCollapse"],link:function(t,n,i,r){function o(){var t=s.$targets.indexOf(n),i=s.$targets.$active;e[t===i?"addClass":"removeClass"](n,s.$options.activeClass)}var s=(r[0],r[1]);n.addClass("collapse"),s.$options.animation&&n.addClass(s.$options.animation),s.$registerTarget(n),t.$on("$destroy",function(){s.$unregisterTarget(n)}),s.$viewChangeListeners.push(function(){o()}),o()}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(t,n,i,r,o,s,a,l){function u(t,n,i){function r(e){e.selected=u.$isSelected(e.date)}function o(){t[0].focus()}var u=a(t,angular.extend({},e,i)),p=i.scope,g=u.$options,h=u.$scope;g.startView&&(g.startView-=g.minView);var f=s(u);u.$views=f.views;var m=f.viewDate;h.$mode=g.startView,h.$iconLeft=g.iconLeft,h.$iconRight=g.iconRight;var v=u.$views[h.$mode];h.$select=function(e){u.select(e)},h.$selectPane=function(e){u.$selectPane(e)},h.$toggleMode=function(){u.setMode((h.$mode+1)%u.$views.length)},u.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())&&(u.$date=e,v.update.call(v,e)),u.$build(!0)},u.updateDisabledDates=function(e){g.disabledDateRanges=e;for(var t=0,n=h.rows.length;n>t;t++)angular.forEach(h.rows[t],u.$setDisabledEl)},u.select=function(e,t){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(e)),!h.$mode||t?(n.$setViewValue(angular.copy(e)),n.$render(),g.autoclose&&!t&&l(function(){u.hide(!0)})):(angular.extend(m,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),u.setMode(h.$mode-1),u.$build())},u.setMode=function(e){h.$mode=e,v=u.$views[h.$mode],u.$build()},u.$build=function(e){e===!0&&v.built||(e!==!1||v.built)&&v.build.call(v)},u.$updateSelected=function(){for(var e=0,t=h.rows.length;t>e;e++)angular.forEach(h.rows[e],r)},u.$isSelected=function(e){return v.isSelected(e)},u.$setDisabledEl=function(e){e.disabled=v.isDisabled(e.date)},u.$selectPane=function(e){var t=v.steps,n=new Date(Date.UTC(m.year+(t.year||0)*e,m.month+(t.month||0)*e,1));angular.extend(m,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),u.$build()},u.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),d){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},u.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return h.$mode?h.$apply(function(){u.setMode(h.$mode-1)}):u.hide(!0);v.onKeyDown(e),p.$digest()}};var b=u.init;u.init=function(){return c&&g.useNative?(t.prop("type","date"),void t.css("-webkit-appearance","textfield")):(d&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",o)),void b())};var y=u.destroy;u.destroy=function(){c&&g.useNative&&t.off("click",o),y()};var _=u.show;u.show=function(){_(),l(function(){u.$element.on(d?"touchstart":"mousedown",u.$onMouseDown),g.keyboard&&t.on("keydown",u.$onKeyDown)},0,!1)};var w=u.hide;return u.hide=function(e){u.$isShown&&(u.$element.off(d?"touchstart":"mousedown",u.$onMouseDown),g.keyboard&&t.off("keydown",u.$onKeyDown),w(e))},u}var c=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),d="createTouch"in t.document&&c;return e.lang||(e.lang=o.getDefaultLocale()),u.defaults=e,u}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(e,t,n,i,r,o){var s=(o.defaults,/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent));return{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){function l(e){return e&&e.length?e:null}function u(e){if(angular.isDate(e)){var t=isNaN(p.$options.minDate)||e.getTime()>=p.$options.minDate,n=isNaN(p.$options.maxDate)||e.getTime()<=p.$options.maxDate,i=t&&n;a.$setValidity("date",i),a.$setValidity("min",t),a.$setValidity("max",n),i&&(a.$dateValue=e)}}function c(){return!a.$dateValue||isNaN(a.$dateValue.getTime())?"":h(a.$dateValue,d.dateFormat)}var d={scope:e,controller:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled"],function(e){angular.isDefined(n[e])&&(d[e]=n[e])}),n.bsShow&&e.$watch(n.bsShow,function(e){p&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(datepicker),?/i)),e===!0?p.show():p.hide())});var p=o(t,a,d);d=p.$options,s&&d.useNative&&(d.dateFormat="yyyy-MM-dd");var g=d.lang,h=function(e,t){return i.formatDate(e,t,g)},f=r({format:d.dateFormat,lang:g,strict:d.strictFormat});angular.forEach(["minDate","maxDate"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){p.$options[e]=f.getDateForAttribute(e,t),!isNaN(p.$options[e])&&p.$build(!1),u(a.$dateValue)})}),e.$watch(n.ngModel,function(){p.update(a.$dateValue)},!0),angular.isDefined(n.disabledDates)&&e.$watch(n.disabledDates,function(e,t){e=l(e),t=l(t),e&&p.updateDisabledDates(e)}),a.$parsers.unshift(function(e){if(!e)return a.$setValidity("date",!0),null;var t=f.parse(e,a.$dateValue);return!t||isNaN(t.getTime())?void a.$setValidity("date",!1):(u(t),"string"===d.dateType?h(t,d.modelDateFormat||d.dateFormat):"number"===d.dateType?a.$dateValue.getTime():"unix"===d.dateType?a.$dateValue.getTime()/1e3:"iso"===d.dateType?a.$dateValue.toISOString():new Date(a.$dateValue))}),a.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:"string"===d.dateType?f.parse(e,null,d.modelDateFormat):new Date("unix"===d.dateType?1e3*e:e),a.$dateValue=t,c()}),a.$render=function(){t.val(c())},e.$on("$destroy",function(){p&&p.destroy(),d=null,p=null})}}}]).provider("datepickerViews",function(){function e(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function t(e,t){return(e%t+t)%t}this.defaults={dayFormat:"dd",daySplit:7},this.$get=["$dateFormatter","$dateParser","$sce",function(n,i,r){return function(o){var s=o.$scope,a=o.$options,l=a.lang,u=function(e,t){return n.formatDate(e,t,l)},c=i({format:a.dateFormat,lang:l,strict:a.strictFormat}),d=n.weekdaysShort(l),p=d.slice(a.startWeek).concat(d.slice(0,a.startWeek)),g=r.trustAsHtml('<th class="dow text-center">'+p.join('</th><th class="dow text-center">')+"</th>"),h=o.$date||(a.startDate?c.getDateForAttribute("startDate",a.startDate):new Date),f={year:h.getFullYear(),month:h.getMonth(),date:h.getDate()},m=(6e4*h.getTimezoneOffset(),[{format:a.dayFormat,split:7,steps:{month:1},update:function(e,t){!this.built||t||e.getFullYear()!==f.year||e.getMonth()!==f.month?(angular.extend(f,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):e.getDate()!==f.date&&(f.date=o.$date.getDate(),o.$updateSelected())},build:function(){var n=new Date(f.year,f.month,1),i=n.getTimezoneOffset(),r=new Date(+n-864e5*t(n.getDay()-a.startWeek,7)),l=r.getTimezoneOffset(),d=(new Date).toDateString();l!==i&&(r=new Date(+r+6e4*(l-i)));for(var p,h=[],m=0;42>m;m++)p=c.daylightSavingAdjust(new Date(r.getFullYear(),r.getMonth(),r.getDate()+m)),h.push({date:p,isToday:p.toDateString()===d,label:u(p,this.format),selected:o.$date&&this.isSelected(p),muted:p.getMonth()!==f.month,disabled:this.isDisabled(p)});s.title=u(n,a.monthTitleFormat),s.showLabels=!0,s.labels=g,s.rows=e(h,this.split),this.built=!0},isSelected:function(e){return o.$date&&e.getFullYear()===o.$date.getFullYear()&&e.getMonth()===o.$date.getMonth()&&e.getDate()===o.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(t<a.minDate||t>a.maxDate)return!0;if(-1!==a.daysOfWeekDisabled.indexOf(e.getDay()))return!0;if(a.disabledDateRanges)for(var n=0;n<a.disabledDateRanges.length;n++)if(t>=a.disabledDateRanges[n].start&&t<=a.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(e){if(o.$date){var t,n=o.$date.getTime();37===e.keyCode?t=new Date(n-864e5):38===e.keyCode?t=new Date(n-6048e5):39===e.keyCode?t=new Date(n+864e5):40===e.keyCode&&(t=new Date(n+6048e5)),this.isDisabled(t)||o.select(t,!0)}}},{name:"month",format:a.monthFormat,split:4,steps:{year:1},update:function(e){this.built&&e.getFullYear()===f.year?e.getMonth()!==f.month&&(angular.extend(f,{month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected()):(angular.extend(f,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build())},build:function(){for(var t,n=(new Date(f.year,0,1),[]),i=0;12>i;i++)t=new Date(f.year,i,1),n.push({date:t,label:u(t,this.format),selected:o.$isSelected(t),disabled:this.isDisabled(t)});s.title=u(t,a.yearTitleFormat),s.showLabels=!1,s.rows=e(n,this.split),this.built=!0},isSelected:function(e){return o.$date&&e.getFullYear()===o.$date.getFullYear()&&e.getMonth()===o.$date.getMonth()},isDisabled:function(e){var t=+new Date(e.getFullYear(),e.getMonth()+1,0);return t<a.minDate||e.getTime()>a.maxDate},onKeyDown:function(e){if(o.$date){var t=o.$date.getMonth(),n=new Date(o.$date);37===e.keyCode?n.setMonth(t-1):38===e.keyCode?n.setMonth(t-4):39===e.keyCode?n.setMonth(t+1):40===e.keyCode&&n.setMonth(t+4),this.isDisabled(n)||o.select(n,!0)}}},{name:"year",format:a.yearFormat,split:4,steps:{year:12},update:function(e,t){!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(f.year/20,10)?(angular.extend(f,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):e.getFullYear()!==f.year&&(angular.extend(f,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected())},build:function(){for(var t,n=f.year-f.year%(3*this.split),i=[],r=0;12>r;r++)t=new Date(n+r,0,1),i.push({date:t,label:u(t,this.format),selected:o.$isSelected(t),disabled:this.isDisabled(t)});s.title=i[0].label+"-"+i[i.length-1].label,s.showLabels=!1,s.rows=e(i,this.split),this.built=!0},isSelected:function(e){return o.$date&&e.getFullYear()===o.$date.getFullYear()},isDisabled:function(e){var t=+new Date(e.getFullYear()+1,0,0);return t<a.minDate||e.getTime()>a.maxDate},onKeyDown:function(e){if(o.$date){var t=o.$date.getFullYear(),n=new Date(o.$date);37===e.keyCode?n.setYear(t-1):38===e.keyCode?n.setYear(t-4):39===e.keyCode?n.setYear(t+1):40===e.keyCode&&n.setYear(t+4),this.isDisabled(n)||o.select(n,!0)}}}]);return{views:a.minView?Array.prototype.slice.call(m,a.minView):m,viewDate:f}}}]}),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var e=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,n,i,r){function o(t,o){function l(e){return e.target!==t[0]?e.target!==t[0]&&u.hide():void 0}var u={},c=angular.extend({},e,o);u.$scope=c.scope&&c.scope.$new()||n.$new(),u=i(t,c);var d=t.parent();u.$onKeyDown=function(e){if(/(38|40)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var t=angular.element(u.$element[0].querySelectorAll("li:not(.divider) a"));if(t.length){var n;angular.forEach(t,function(e,t){a&&a.call(e,":focus")&&(n=t)}),38===e.keyCode&&n>0?n--:40===e.keyCode&&n<t.length-1?n++:angular.isUndefined(n)&&(n=0),t.eq(n)[0].focus()}}};var p=u.show;u.show=function(){p(),r(function(){c.keyboard&&u.$element.on("keydown",u.$onKeyDown),s.on("click",l)},0,!1),d.hasClass("dropdown")&&d.addClass("open")};var g=u.hide;u.hide=function(){u.$isShown&&(c.keyboard&&u.$element.off("keydown",u.$onKeyDown),s.off("click",l),d.hasClass("dropdown")&&d.removeClass("open"),g())};var h=u.destroy;return u.destroy=function(){s.off("click",l),h()},u}var s=angular.element(t.document.body),a=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return o}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,t,i){var r={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template"],function(e){angular.isDefined(i[e])&&(r[e]=i[e])}),i.bsDropdown&&e.$watch(i.bsDropdown,function(t){e.content=t},!0),i.bsShow&&e.$watch(i.bsShow,function(e){o&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(dropdown),?/i)),e===!0?o.show():o.hide())});var o=n(t,r);e.$on("$destroy",function(){o&&o.destroy(),r=null,o=null})}}}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(e,t){function n(e){return/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(e).slice(1)}this.getDefaultLocale=function(){return e.id},this.getDatetimeFormat=function(t){return e.DATETIME_FORMATS[t]||t},this.weekdaysShort=function(){return e.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(e){return n(e)[0]},this.minutesFormat=function(e){return n(e)[2]},this.timeSeparator=function(e){return n(e)[1]},this.showAM=function(e){return!!n(e)[3]},this.formatDate=function(e,n){return t(e,n)}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function e(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function t(){}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function i(e,t){for(var n=e.length,i=t.toString().toLowerCase(),r=0;n>r;r++)if(e[r].toLowerCase()===i)return r;return-1}e.prototype.setMilliseconds=function(e){this.milliseconds=e},e.prototype.setSeconds=function(e){this.seconds=e},e.prototype.setMinutes=function(e){this.minutes=e},e.prototype.setHours=function(e){this.hours=e},e.prototype.getHours=function(){return this.hours},e.prototype.setDate=function(e){this.day=e},e.prototype.setMonth=function(e){this.month=e},e.prototype.setFullYear=function(e){this.year=e},e.prototype.fromDate=function(e){return this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this},e.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var r=e.prototype,o=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(s,a){var l=function(l){function u(e){var t,n=Object.keys(v),i=[],r=[],o=e;for(t=0;t<n.length;t++)if(e.split(n[t]).length>1){var s=o.search(n[t]);e=e.split(n[t]).join(""),v[n[t]]&&(i[s]=v[n[t]])}return angular.forEach(i,function(e){e&&r.push(e)}),r}function c(e){return e.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function d(e){var t,n=Object.keys(m),i=e;for(t=0;t<n.length;t++)i=i.split(n[t]).join("${"+t+"}");for(t=0;t<n.length;t++)i=i.split("${"+t+"}").join("("+m[n[t]]+")");return e=c(e),new RegExp("^"+i+"$",["i"])}var p,g,h=angular.extend({},o,l),f={},m={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:h.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:h.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:h.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:h.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:s.DATETIME_FORMATS.DAY.join("|"),EEE:s.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:h.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:s.DATETIME_FORMATS.MONTH.join("|"),MMM:s.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:h.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:h.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},v={sss:r.setMilliseconds,ss:r.setSeconds,s:r.setSeconds,mm:r.setMinutes,m:r.setMinutes,HH:r.setHours,H:r.setHours,hh:r.setHours,h:r.setHours,EEEE:t,EEE:t,dd:r.setDate,d:r.setDate,a:function(e){var t=this.getHours()%12;return this.setHours(e.match(/pm/i)?t+12:t)},MMMM:function(e){return this.setMonth(i(s.DATETIME_FORMATS.MONTH,e))},MMM:function(e){return this.setMonth(i(s.DATETIME_FORMATS.SHORTMONTH,e))},MM:function(e){return this.setMonth(1*e-1)},M:function(e){return this.setMonth(1*e-1)},yyyy:r.setFullYear,yy:function(e){return this.setFullYear(2e3+1*e)},y:r.setFullYear};return f.init=function(){f.$format=s.DATETIME_FORMATS[h.format]||h.format,p=d(f.$format),g=u(f.$format)},f.isValid=function(e){return angular.isDate(e)?!isNaN(e.getTime()):p.test(e)},f.parse=function(t,n,i){i&&(i=s.DATETIME_FORMATS[i]||i),angular.isDate(t)&&(t=a(t,i||f.$format));var r=i?d(i):p,o=i?u(i):g,l=r.exec(t);if(!l)return!1;for(var c=(new e).fromDate(n&&!isNaN(n.getTime())?n:new Date(1970,0,1,0)),h=0;h<l.length-1;h++)o[h]&&o[h].call(c,l[h+1]);var m=c.toDate();return parseInt(c.day,10)!==m.getDate()?!1:m},f.getDateForAttribute=function(e,t){var i;if("today"===t){var r=new Date;i=new Date(r.getFullYear(),r.getMonth(),r.getDate()+("maxDate"===e?1:0),0,0,0,"minDate"===e?0:-1)}else i=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):n(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?"minDate"===e?-1/0:1/0:new Date(t);return i},f.getTimeForAttribute=function(e,t){var i;return i="now"===t?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):n(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?"minTime"===e?-1/0:1/0:f.parse(t,new Date(1970,0,1,0))},f.daylightSavingAdjust=function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},f.init(),f};return l}]}]),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(e){return function(t,n,i){var r=null;return function(){var o=this,s=arguments,a=i&&!r;return r&&e.cancel(r),r=e(function(){r=null,i||t.apply(o,s)},n,!1),a&&t.apply(o,s),r}}}]).factory("throttle",["$timeout",function(e){return function(t,n,i){var r=null;return i||(i={}),function(){var o=this,s=arguments;r||(i.leading!==!1&&t.apply(o,s),r=e(function(){r=null,i.trailing!==!1&&t.apply(o,s)},n,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var t=(angular.element,{}),n=t.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};t.css=function(t,n,i){var r;return r=t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n],i===!0?parseFloat(r)||0:r},t.offset=function(t){var n=t.getBoundingClientRect(),i=t.ownerDocument;return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:n.top+(e.pageYOffset||i.documentElement.scrollTop)-(i.documentElement.clientTop||0),left:n.left+(e.pageXOffset||i.documentElement.scrollLeft)-(i.documentElement.clientLeft||0)}},t.position=function(e){var r,o,s={top:0,left:0};return"fixed"===t.css(e,"position")?o=e.getBoundingClientRect():(r=i(e),o=t.offset(e),n(r,"html")||(s=t.offset(r)),s.top+=t.css(r,"borderTopWidth",!0),s.left+=t.css(r,"borderLeftWidth",!0)),{width:e.offsetWidth,height:e.offsetHeight,top:o.top-s.top-t.css(e,"marginTop",!0),left:o.left-s.left-t.css(e,"marginLeft",!0)}};var i=function(e){var i=e.ownerDocument,r=e.offsetParent||i;if(n(r,"#document"))return i.documentElement;for(;r&&!n(r,"html")&&"static"===t.css(r,"position");)r=r.offsetParent;return r||i.documentElement};return t.height=function(e,n){var i=e.offsetHeight;return n?i+=t.css(e,"marginTop",!0)+t.css(e,"marginBottom",!0):i-=t.css(e,"paddingTop",!0)+t.css(e,"paddingBottom",!0)+t.css(e,"borderTopWidth",!0)+t.css(e,"borderBottomWidth",!0),i},t.width=function(e,n){var i=e.offsetWidth;return n?i+=t.css(e,"marginLeft",!0)+t.css(e,"marginRight",!0):i-=t.css(e,"paddingLeft",!0)+t.css(e,"paddingRight",!0)+t.css(e,"borderLeftWidth",!0)+t.css(e,"borderRightWidth",!0),i},t}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,n){function i(i,r){function o(e,t){return e.map(function(e,n){var i,r,o={};return o[c]=e,i=u(t,o),r=g(t,o),{label:i,value:r,index:n}})}var s={},a=angular.extend({},e,r);s.$values=[];var l,u,c,d,p,g,h;return s.init=function(){s.$match=l=i.match(a.regexp),u=t(l[2]||l[1]),c=l[4]||l[6],d=l[5],p=t(l[3]||""),g=t(l[2]?l[1]:c),h=t(l[7])},s.valuesFn=function(e,t){return n.when(h(e,t)).then(function(t){return s.$values=t?o(t,e):{},s.$values})},s.displayValue=function(e){var t={};return t[c]=e,u(t)},s.init(),s}return i}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var e=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(n,i,r,o,s,a,l,u,c){function d(t){function n(){_.$emit(d.prefixEvent+".show",u)}function o(){_.$emit(d.prefixEvent+".hide",u),b.removeClass(d.prefixClass+"-open"),d.animation&&b.removeClass(d.prefixClass+"-with-"+d.animation)}function s(e){e.target===e.currentTarget&&("static"===d.backdrop?u.focus():u.hide())}function a(e){e.preventDefault()}var u={},d=u.$options=angular.extend({},e,t);u.$promise=h(d.template);var _=u.$scope=d.scope&&d.scope.$new()||i.$new();d.element||d.container||(d.container="body"),f(["title","content"],function(e){d[e]&&(_[e]=c.trustAsHtml(d[e]))}),_.$hide=function(){_.$$postDigest(function(){u.hide()})},_.$show=function(){_.$$postDigest(function(){u.show()})},_.$toggle=function(){_.$$postDigest(function(){u.toggle()})},u.$isShown=_.$isShown=!1,d.contentTemplate&&(u.$promise=u.$promise.then(function(e){var n=angular.element(e);return h(d.contentTemplate).then(function(e){var i=g('[ng-bind="content"]',n[0]).removeAttr("ng-bind").html(e);return t.template||i.next().remove(),n[0].outerHTML})}));var w,$,x=angular.element('<div class="'+d.prefixClass+'-backdrop"/>');return u.$promise.then(function(e){angular.isObject(e)&&(e=e.data),d.html&&(e=e.replace(y,'ng-bind-html="')),e=m.apply(e),w=r(e),u.init()}),u.init=function(){d.show&&_.$$postDigest(function(){u.show()})},u.destroy=function(){$&&($.remove(),$=null),x&&(x.remove(),x=null),_.$destroy()},u.show=function(){if(!u.$isShown&&!_.$emit(d.prefixEvent+".show.before",u).defaultPrevented){var e,t;angular.isElement(d.container)?(e=d.container,t=d.container[0].lastChild?angular.element(d.container[0].lastChild):null):d.container?(e=g(d.container),t=e[0].lastChild?angular.element(e[0].lastChild):null):(e=null,t=d.element),$=u.$element=w(_,function(){}),$.css({display:"block"}).addClass(d.placement),d.animation&&(d.backdrop&&x.addClass(d.backdropAnimation),$.addClass(d.animation)),d.backdrop&&l.enter(x,b,null);var i=l.enter($,e,t,n);i&&i.then&&i.then(n),u.$isShown=_.$isShown=!0,p(_);var r=$[0];v(function(){r.focus()}),b.addClass(d.prefixClass+"-open"),d.animation&&b.addClass(d.prefixClass+"-with-"+d.animation),d.backdrop&&($.on("click",s),x.on("click",s),x.on("wheel",a)),d.keyboard&&$.on("keyup",u.$onKeyUp)}},u.hide=function(){if(u.$isShown&&!_.$emit(d.prefixEvent+".hide.before",u).defaultPrevented){var e=l.leave($,o);e&&e.then&&e.then(o),d.backdrop&&l.leave(x),u.$isShown=_.$isShown=!1,p(_),d.backdrop&&($.off("click",s),x.off("click",s),x.off("wheel",a)),d.keyboard&&$.off("keyup",u.$onKeyUp)}},u.toggle=function(){u.$isShown?u.hide():u.show()},u.focus=function(){$[0].focus()},u.$onKeyUp=function(e){27===e.which&&u.$isShown&&(u.hide(),e.stopPropagation())},u}function p(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function g(e,n){return angular.element((n||t).querySelectorAll(e))}function h(e){return _[e]?_[e]:_[e]=o.when(s.get(e)||a.get(e)).then(function(t){return angular.isObject(t)?(s.put(e,t.data),t.data):t})}var f=angular.forEach,m=String.prototype.trim,v=n.requestAnimationFrame||n.setTimeout,b=angular.element(n.document.body),y=/ng-bind="/gi,_={};return d}]}).directive("bsModal",["$window","$sce","$modal",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,i,r){var o={scope:e,element:i,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(r[e])&&(o[e]=r[e])}),angular.forEach(["title","content"],function(n){r[n]&&r.$observe(n,function(i){e[n]=t.trustAsHtml(i)})}),r.bsModal&&e.$watch(r.bsModal,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var s=n(o);i.on(r.trigger||"click",s.toggle),e.$on("$destroy",function(){s&&s.destroy(),o=null,s=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var e=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:e}}}).directive("bsNavbar",["$window","$location","$navbar",function(e,t,n){var i=n.defaults;return{restrict:"A",link:function(e,n,r){var o=angular.copy(i);angular.forEach(Object.keys(i),function(e){angular.isDefined(r[e])&&(o[e]=r[e])}),e.$watch(function(){return t.path()},function(e){var t=n[0].querySelectorAll("li["+o.routeAttr+"]");angular.forEach(t,function(t){var n=angular.element(t),i=n.attr(o.routeAttr).replace("/","\\/");o.strict&&(i="^"+i+"$");var r=new RegExp(i,["i"]);r.test(e)?n.addClass(o.activeClass):n.removeClass(o.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var e=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(t){function n(n,i){var r=angular.extend({},e,i),o=t(n,r);return r.content&&(o.$scope.content=r.content),o}return n}]}).directive("bsPopover",["$window","$sce","$popover",function(e,t,n){var i=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(e,r,o){var s={scope:e};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass","autoClose"],function(e){
angular.isDefined(o[e])&&(s[e]=o[e])}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(r,o){e[n]=t.trustAsHtml(r),angular.isDefined(o)&&i(function(){a&&a.$applyPlacement()})})}),o.bsPopover&&e.$watch(o.bsPopover,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t,angular.isDefined(n)&&i(function(){a&&a.$applyPlacement()})},!0),o.bsShow&&e.$watch(o.bsShow,function(e){a&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i)),e===!0?a.show():a.hide())});var a=n(r,s);e.$on("$destroy",function(){a&&a.destroy(),s=null,a=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var e=this.$$spies={},n=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(i,r,o,s,a,l){function u(e,t){return e[0].nodeName&&e[0].nodeName.toLowerCase()===t.toLowerCase()}function c(r){var c=angular.extend({},n,r);c.element||(c.element=g);var h=u(c.element,"body"),f=h?d:c.element,m=h?"window":c.id;if(e[m])return e[m].$$count++,e[m];var v,b,y,_,w,$,x,k,S={},C=S.$trackedElements=[],T=[];return S.init=function(){this.$$count=1,_=a(this.checkPosition,c.debounce),w=l(this.checkPosition,c.throttle),f.on("click",this.checkPositionWithEventLoop),d.on("resize",_),f.on("scroll",w),$=a(this.checkOffsets,c.debounce),v=o.$on("$viewContentLoaded",$),b=o.$on("$includeContentLoaded",$),$(),m&&(e[m]=S)},S.destroy=function(){this.$$count--,this.$$count>0||(f.off("click",this.checkPositionWithEventLoop),d.off("resize",_),f.off("scroll",w),v(),b(),m&&delete e[m])},S.checkPosition=function(){if(T.length){if(k=(h?i.pageYOffset:f.prop("scrollTop"))||0,x=Math.max(i.innerHeight,p.prop("clientHeight")),k<T[0].offsetTop&&y!==T[0].target)return S.$activateElement(T[0]);for(var e=T.length;e--;)if(!angular.isUndefined(T[e].offsetTop)&&null!==T[e].offsetTop&&y!==T[e].target&&!(k<T[e].offsetTop||T[e+1]&&k>T[e+1].offsetTop))return S.$activateElement(T[e])}},S.checkPositionWithEventLoop=function(){setTimeout(S.checkPosition,1)},S.$activateElement=function(e){if(y){var t=S.$getTrackedElement(y);t&&(t.source.removeClass("active"),u(t.source,"li")&&u(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active"))}y=e.target,e.source.addClass("active"),u(e.source,"li")&&u(e.source.parent().parent(),"li")&&e.source.parent().parent().addClass("active")},S.$getTrackedElement=function(e){return C.filter(function(t){return t.target===e})[0]},S.checkOffsets=function(){angular.forEach(C,function(e){var n=t.querySelector(e.target);e.offsetTop=n?s.offset(n).top:null,c.offset&&null!==e.offsetTop&&(e.offsetTop-=1*c.offset)}),T=C.filter(function(e){return null!==e.offsetTop}).sort(function(e,t){return e.offsetTop-t.offsetTop}),_()},S.trackElement=function(e,t){C.push({target:e,source:t})},S.untrackElement=function(e,t){for(var n,i=C.length;i--;)if(C[i].target===e&&C[i].source===t){n=i;break}C=C.splice(n,1)},S.activate=function(e){C[e].addClass("active")},S.init(),S}var d=angular.element(i),p=angular.element(r.prop("documentElement")),g=angular.element(i.document.body);return c}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(e,t,n,i){return{restrict:"EAC",link:function(e,t,n){var r={scope:e};angular.forEach(["offset","target"],function(e){angular.isDefined(n[e])&&(r[e]=n[e])});var o=i(r);o.trackElement(r.target,t),e.$on("$destroy",function(){o&&(o.untrackElement(r.target,t),o.destroy()),r=null,o=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(e){var t=e[0].querySelectorAll("li > a[href]");angular.forEach(t,function(e){var t=angular.element(e);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var e=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(t,n,i,r,o){function s(t,n,i){var s={},a=angular.extend({},e,i);s=r(t,a);var u=s.$scope;u.$matches=[],u.$activeIndex=0,u.$isMultiple=a.multiple,u.$showAllNoneButtons=a.allNoneButtons&&a.multiple,u.$iconCheckmark=a.iconCheckmark,u.$allText=a.allText,u.$noneText=a.noneText,u.$activate=function(e){u.$$postDigest(function(){s.activate(e)})},u.$select=function(e){u.$$postDigest(function(){s.select(e)})},u.$isVisible=function(){return s.$isVisible()},u.$isActive=function(e){return s.$isActive(e)},u.$selectAll=function(){for(var e=0;e<u.$matches.length;e++)u.$isActive(e)||u.$select(e)},u.$selectNone=function(){for(var e=0;e<u.$matches.length;e++)u.$isActive(e)&&u.$select(e)},s.update=function(e){u.$matches=e,s.$updateActiveIndex()},s.activate=function(e){return a.multiple?(u.$activeIndex.sort(),s.$isActive(e)?u.$activeIndex.splice(u.$activeIndex.indexOf(e),1):u.$activeIndex.push(e),a.sort&&u.$activeIndex.sort()):u.$activeIndex=e,u.$activeIndex},s.select=function(e){var t=u.$matches[e].value;u.$apply(function(){s.activate(e),a.multiple?n.$setViewValue(u.$activeIndex.map(function(e){return u.$matches[e].value})):(n.$setViewValue(t),s.hide())}),u.$emit(a.prefixEvent+".select",t,e)},s.$updateActiveIndex=function(){n.$modelValue&&u.$matches.length?u.$activeIndex=a.multiple&&angular.isArray(n.$modelValue)?n.$modelValue.map(function(e){return s.$getIndex(e)}):s.$getIndex(n.$modelValue):u.$activeIndex>=u.$matches.length&&(u.$activeIndex=a.multiple?[]:0)},s.$isVisible=function(){return a.minLength&&n?u.$matches.length&&n.$viewValue.length>=a.minLength:u.$matches.length},s.$isActive=function(e){return a.multiple?-1!==u.$activeIndex.indexOf(e):u.$activeIndex===e},s.$getIndex=function(e){var t=u.$matches.length,n=t;if(t){for(n=t;n--&&u.$matches[n].value!==e;);if(!(0>n))return n}},s.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),l){var t=angular.element(e.target);t.triggerHandler("click")}},s.$onKeyDown=function(e){if(/(9|13|38|40)/.test(e.keyCode)){if(e.preventDefault(),e.stopPropagation(),!a.multiple&&(13===e.keyCode||9===e.keyCode))return s.select(u.$activeIndex);38===e.keyCode&&u.$activeIndex>0?u.$activeIndex--:40===e.keyCode&&u.$activeIndex<u.$matches.length-1?u.$activeIndex++:angular.isUndefined(u.$activeIndex)&&(u.$activeIndex=0),u.$digest()}};var c=s.show;s.show=function(){c(),a.multiple&&s.$element.addClass("select-multiple"),o(function(){s.$element.on(l?"touchstart":"mousedown",s.$onMouseDown),a.keyboard&&t.on("keydown",s.$onKeyDown)},0,!1)};var d=s.hide;return s.hide=function(){s.$element.off(l?"touchstart":"mousedown",s.$onMouseDown),a.keyboard&&t.off("keydown",s.$onKeyDown),d(!0)},s}var a=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),l="createTouch"in t.document&&a;return s.defaults=e,s}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(e,t,n,i,r){var o=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,n,s){var a={scope:e,placeholder:o.placeholder};if(angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","allNoneButtons","maxLength","maxLengthHtml","allText","noneText"],function(e){angular.isDefined(n[e])&&(a[e]=n[e])}),"select"===t[0].nodeName.toLowerCase()){var l=t;l.css("display","none"),t=angular.element('<button type="button" class="btn btn-default"></button>'),l.after(t)}var u=r(n.ngOptions),c=i(t,s,a),d=u.$match[7].replace(/\|.+/,"").trim();e.$watch(d,function(){u.valuesFn(e,s).then(function(e){c.update(e),s.$render()})},!0),e.$watch(n.ngModel,function(){c.$updateActiveIndex(),s.$render()},!0),s.$render=function(){var e,n;a.multiple&&angular.isArray(s.$modelValue)?(e=s.$modelValue.map(function(e){return n=c.$getIndex(e),angular.isDefined(n)?c.$scope.$matches[n].label:!1}).filter(angular.isDefined),e=e.length>(a.maxLength||o.maxLength)?e.length+" "+(a.maxLengthHtml||o.maxLengthHtml):e.join(", ")):(n=c.$getIndex(s.$modelValue),e=angular.isDefined(n)?c.$scope.$matches[n].label:!1),t.html((e?e:a.placeholder)+o.caretHtml)},a.multiple&&(s.$isEmpty=function(e){return!e||0===e.length}),e.$on("$destroy",function(){c&&c.destroy(),a=null,c=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var e=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},t=this.controller=function(t,n,i){var r=this;r.$options=angular.copy(e),angular.forEach(["animation","navClass","activeClass"],function(e){angular.isDefined(i[e])&&(r.$options[e]=i[e])}),t.$navClass=r.$options.navClass,t.$activeClass=r.$options.activeClass,r.$panes=t.$panes=[],r.$activePaneChangeListeners=r.$viewChangeListeners=[],r.$push=function(e){r.$panes.push(e)},r.$remove=function(e){var t=r.$panes.indexOf(e),n=r.$panes.$active;r.$panes.splice(t,1),n>t?n--:t===n&&n===r.$panes.length&&n--,r.$setActive(n)},r.$panes.$active=0,r.$setActive=t.$setActive=function(e){r.$panes.$active=e,r.$activePaneChangeListeners.forEach(function(e){e()})}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(e,t,n,i){var r=n.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",n.controller],templateUrl:function(e,t){return t.template||r.template},link:function(e,t,n,r){var o=r[0],s=r[1];if(o&&(console.warn("Usage of ngModel is deprecated, please use bsActivePane instead!"),s.$activePaneChangeListeners.push(function(){o.$setViewValue(s.$panes.$active)}),o.$formatters.push(function(e){return s.$setActive(1*e),e})),n.bsActivePane){var a=i(n.bsActivePane);s.$activePaneChangeListeners.push(function(){a.assign(e,s.$panes.$active)}),e.$watch(n.bsActivePane,function(e){s.$setActive(1*e)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(e,t,n){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(e,i,r,o){function s(){var n=a.$panes.indexOf(e),r=a.$panes.$active;t[n===r?"addClass":"removeClass"](i,a.$options.activeClass)}var a=(o[0],o[1]);i.addClass("tab-pane"),r.$observe("title",function(t){e.title=n.trustAsHtml(t)}),a.$options.animation&&i.addClass(a.$options.animation),a.$push(e),e.$on("$destroy",function(){a.$remove(e)}),a.$activePaneChangeListeners.push(function(){s()}),s()}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var e=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(n,i,r,o,s,a,l,u,c,d,p){function g(n,o){function s(){O.$emit(j.prefixEvent+".show",D)}function a(){return O.$emit(j.prefixEvent+".hide",D),V&&"focus"===j.trigger?n[0].blur():void A()}function g(){var e=j.trigger.split(" ");angular.forEach(e,function(e){"click"===e?n.on("click",D.toggle):"manual"!==e&&(n.on("hover"===e?"mouseenter":"focus",D.enter),n.on("hover"===e?"mouseleave":"blur",D.leave),"button"===P&&"hover"!==e&&n.on(b?"touchstart":"mousedown",D.$onFocusElementMouseDown))})}function w(){for(var e=j.trigger.split(" "),t=e.length;t--;){var i=e[t];"click"===i?n.off("click",D.toggle):"manual"!==i&&(n.off("hover"===i?"mouseenter":"focus",D.enter),n.off("hover"===i?"mouseleave":"blur",D.leave),"button"===P&&"hover"!==i&&n.off(b?"touchstart":"mousedown",D.$onFocusElementMouseDown))}}function $(){"focus"!==j.trigger?F.on("keyup",D.$onKeyUp):n.on("keyup",D.$onFocusKeyUp)}function x(){"focus"!==j.trigger?F.off("keyup",D.$onKeyUp):n.off("keyup",D.$onFocusKeyUp)}function k(){p(function(){F.on("click",C),_.on("click",D.hide),z=!0},0,!1)}function S(){z&&(F.off("click",C),_.off("click",D.hide),z=!1)}function C(e){e.stopPropagation()}function T(e){e=e||j.target||n;var t=e[0],i=t.getBoundingClientRect();null===i.width&&(i=angular.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r;return r="body"===j.container?c.offset(t):c.position(t),angular.extend({},i,r)}function E(e,t,n,i){var r,o=e.split("-");switch(o[0]){case"right":r={top:t.top+t.height/2-i/2,left:t.left+t.width};break;case"bottom":r={top:t.top+t.height,left:t.left+t.width/2-n/2};break;case"left":r={top:t.top+t.height/2-i/2,left:t.left-n};break;default:r={top:t.top-i,left:t.left+t.width/2-n/2}}if(!o[1])return r;if("top"===o[0]||"bottom"===o[0])switch(o[1]){case"left":r.left=t.left;break;case"right":r.left=t.left+t.width-n}else if("left"===o[0]||"right"===o[0])switch(o[1]){case"top":r.top=t.top-i;break;case"bottom":r.top=t.top+t.height}return r}function M(e,t){F.css({top:e+"px",left:t+"px"})}function A(){clearTimeout(I),D.$isShown&&null!==F&&(j.autoClose&&S(),j.keyboard&&x()),R&&(R.$destroy(),R=null),F&&(F.remove(),F=D.$element=null)}var D={},P=n[0].nodeName.toLowerCase(),j=D.$options=angular.extend({},e,o);D.$promise=m(j.template);var O=D.$scope=j.scope&&j.scope.$new()||i.$new();if(j.delay&&angular.isString(j.delay)){var q=j.delay.split(",").map(parseFloat);j.delay=q.length>1?{show:q[0],hide:q[1]}:q[0]}j.title&&(O.title=u.trustAsHtml(j.title)),O.$setEnabled=function(e){O.$$postDigest(function(){D.setEnabled(e)})},O.$hide=function(){O.$$postDigest(function(){D.hide()})},O.$show=function(){O.$$postDigest(function(){D.show()})},O.$toggle=function(){O.$$postDigest(function(){D.toggle()})},D.$isShown=O.$isShown=!1;var I,L;j.contentTemplate&&(D.$promise=D.$promise.then(function(e){var t=angular.element(e);return m(j.contentTemplate).then(function(e){var n=f('[ng-bind="content"]',t[0]);return n.length||(n=f('[ng-bind="title"]',t[0])),n.removeAttr("ng-bind").html(e),t[0].outerHTML})}));var B,F,N,G,R;D.$promise.then(function(e){angular.isObject(e)&&(e=e.data),j.html&&(e=e.replace(y,'ng-bind-html="')),e=v.apply(e),N=e,B=r(e),D.init()}),D.init=function(){j.delay&&angular.isNumber(j.delay)&&(j.delay={show:j.delay,hide:j.delay}),"self"===j.container?G=n:angular.isElement(j.container)?G=j.container:j.container&&(G=f(j.container)),g(),j.target&&(j.target=angular.isElement(j.target)?j.target:f(j.target)),j.show&&O.$$postDigest(function(){"focus"===j.trigger?n[0].focus():D.show()})},D.destroy=function(){w(),A(),O.$destroy()},D.enter=function(){return clearTimeout(I),L="in",j.delay&&j.delay.show?void(I=setTimeout(function(){"in"===L&&D.show()},j.delay.show)):D.show()},D.show=function(){if(j.bsEnabled&&!D.$isShown){O.$emit(j.prefixEvent+".show.before",D);var e,t;j.container?(e=G,t=G[0].lastChild?angular.element(G[0].lastChild):null):(e=null,t=n),F&&A(),R=D.$scope.$new(),F=D.$element=B(R,function(){}),F.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"}),j.animation&&F.addClass(j.animation),j.type&&F.addClass(j.prefixClass+"-"+j.type),j.customClass&&F.addClass(j.customClass);var i=l.enter(F,e,t,s);i&&i.then&&i.then(s),D.$isShown=O.$isShown=!0,h(O),d(function(){D.$applyPlacement(),F&&F.css({visibility:"visible"})}),j.keyboard&&("focus"!==j.trigger&&D.focus(),$()),j.autoClose&&k()}},D.leave=function(){return clearTimeout(I),L="out",j.delay&&j.delay.hide?void(I=setTimeout(function(){"out"===L&&D.hide()},j.delay.hide)):D.hide()};var V;D.hide=function(e){if(D.$isShown){O.$emit(j.prefixEvent+".hide.before",D),V=e;var t=l.leave(F,a);t&&t.then&&t.then(a),D.$isShown=O.$isShown=!1,h(O),j.keyboard&&null!==F&&x(),j.autoClose&&null!==F&&S()}},D.toggle=function(){D.$isShown?D.leave():D.enter()},D.focus=function(){F[0].focus()},D.setEnabled=function(e){j.bsEnabled=e},D.$applyPlacement=function(){if(F){var i=j.placement,r=/\s?auto?\s?/i,o=r.test(i);o&&(i=i.replace(r,"")||e.placement),F.addClass(j.placement);var s=T(),a=F.prop("offsetWidth"),l=F.prop("offsetHeight");if(o){var u=i,c=j.container?angular.element(t.querySelector(j.container)):n.parent(),d=T(c);u.indexOf("bottom")>=0&&s.bottom+l>d.bottom?i=u.replace("bottom","top"):u.indexOf("top")>=0&&s.top-l<d.top&&(i=u.replace("top","bottom")),("right"===u||"bottom-left"===u||"top-left"===u)&&s.right+a>d.width?i="right"===u?"left":i.replace("left","right"):("left"===u||"bottom-right"===u||"top-right"===u)&&s.left-a<d.left&&(i="left"===u?"right":i.replace("right","left")),F.removeClass(u).addClass(i)}var p=E(i,s,a,l);M(p.top,p.left)}},D.$onKeyUp=function(e){27===e.which&&D.$isShown&&(D.hide(),e.stopPropagation())},D.$onFocusKeyUp=function(e){27===e.which&&(n[0].blur(),e.stopPropagation())},D.$onFocusElementMouseDown=function(e){e.preventDefault(),e.stopPropagation(),D.$isShown?n[0].blur():n[0].focus()};var z=!1;return D}function h(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function f(e,n){return angular.element((n||t).querySelectorAll(e))}function m(e){return w[e]?w[e]:w[e]=o.when(s.get(e)||a.get(e)).then(function(t){return angular.isObject(t)?(s.put(e,t.data),t.data):t})}var v=String.prototype.trim,b="createTouch"in n.document,y=/ng-bind="/gi,_=angular.element(n.document),w={};return g}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(e,t,n,i,r){return{restrict:"EAC",scope:!0,link:function(e,t,o){var s={scope:e};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","backdropAnimation","type","customClass"],function(e){angular.isDefined(o[e])&&(s[e]=o[e])}),e.hasOwnProperty("title")||(e.title=""),o.$observe("title",function(t){if(angular.isDefined(t)||!e.hasOwnProperty("title")){var i=e.title;e.title=n.trustAsHtml(t),angular.isDefined(i)&&r(function(){a&&a.$applyPlacement()})}}),o.bsTooltip&&e.$watch(o.bsTooltip,function(t,n){angular.isObject(t)?angular.extend(e,t):e.title=t,angular.isDefined(n)&&r(function(){a&&a.$applyPlacement()})},!0),o.bsShow&&e.$watch(o.bsShow,function(e){a&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(tooltip),?/i)),e===!0?a.show():a.hide())}),o.bsEnabled&&e.$watch(o.bsEnabled,function(e){a&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|1|,?(tooltip),?/i)),a.setEnabled(e===!1?!1:!0))});var a=i(t,s);e.$on("$destroy",function(){a&&a.destroy(),s=null,a=null})}}}]),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var e=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6,comparator:""};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,n,i,r){function o(t,n,o){var s={},a=angular.extend({},e,o);s=i(t,a);var l=o.scope,u=s.$scope;u.$resetMatches=function(){u.$matches=[],u.$activeIndex=0},u.$resetMatches(),u.$activate=function(e){u.$$postDigest(function(){s.activate(e)})},u.$select=function(e){u.$$postDigest(function(){s.select(e)})},u.$isVisible=function(){return s.$isVisible()},s.update=function(e){u.$matches=e,u.$activeIndex>=e.length&&(u.$activeIndex=0)},s.activate=function(e){u.$activeIndex=e},s.select=function(e){var t=u.$matches[e].value;n.$setViewValue(t),n.$render(),u.$resetMatches(),l&&l.$digest(),u.$emit(a.prefixEvent+".select",t,e)},s.$isVisible=function(){return a.minLength&&n?u.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=a.minLength:!!u.$matches.length},s.$getIndex=function(e){var t=u.$matches.length,n=t;if(t){for(n=t;n--&&u.$matches[n].value!==e;);if(!(0>n))return n}},s.$onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},s.$onKeyDown=function(e){/(38|40|13)/.test(e.keyCode)&&(s.$isVisible()&&(e.preventDefault(),e.stopPropagation()),13===e.keyCode&&u.$matches.length?s.select(u.$activeIndex):38===e.keyCode&&u.$activeIndex>0?u.$activeIndex--:40===e.keyCode&&u.$activeIndex<u.$matches.length-1?u.$activeIndex++:angular.isUndefined(u.$activeIndex)&&(u.$activeIndex=0),u.$digest())};var c=s.show;s.show=function(){c(),r(function(){s.$element.on("mousedown",s.$onMouseDown),a.keyboard&&t.on("keydown",s.$onKeyDown)},0,!1)};var d=s.hide;return s.hide=function(){s.$element.off("mousedown",s.$onMouseDown),a.keyboard&&t.off("keydown",s.$onKeyDown),d()},s}return angular.element(t.document.body),o.defaults=e,o}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(e,t,i,r,o){var s=r.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,i,a){var l={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength","watchOptions","selectMode","comparator"],function(e){angular.isDefined(i[e])&&(l[e]=i[e])});var u=l.filter||s.filter,c=l.limit||s.limit,d=l.comparator||s.comparator,p=i.ngOptions;u&&(p+=" | "+u+":$viewValue"),d&&(p+=":"+d),c&&(p+=" | limitTo:"+c);var g=o(p),h=r(t,a,l);if(l.watchOptions){var f=g.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();e.$watch(f,function(){g.valuesFn(e,a).then(function(e){h.update(e),a.$render()})},!0)}e.$watch(i.ngModel,function(t){e.$modelValue=t,g.valuesFn(e,a).then(function(e){if(l.selectMode&&!e.length&&t.length>0)return void a.$setViewValue(a.$viewValue.substring(0,a.$viewValue.length-1));e.length>c&&(e=e.slice(0,c));var n=h.$isVisible();n&&h.update(e),(1!==e.length||e[0].value!==t)&&(!n&&h.update(e),a.$render())})}),a.$formatters.push(function(e){var t=g.displayValue(e);return t===n?"":t}),a.$render=function(){if(a.$isEmpty(a.$viewValue))return t.val("");var e=h.$getIndex(a.$modelValue),n=angular.isDefined(e)?h.$scope.$matches[e].label:a.$viewValue;n=angular.isObject(n)?g.displayValue(n):n,t.val(n?n.toString().replace(/<(?:.|\n)*?>/gm,"").trim():"")},e.$on("$destroy",function(){h&&h.destroy(),l=null,h=null})}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:1/0,length:5,hourStep:1,minuteStep:5,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(t,n,i,r,o,s,a){function l(t,n,i){function r(e,n){if(t[0].createTextRange){var i=t[0].createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",n),i.select()}else t[0].setSelectionRange?t[0].setSelectionRange(e,n):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=e,t[0].selectionEnd=n)}function l(){t[0].focus()}var d=s(t,angular.extend({},e,i)),p=i.scope,g=d.$options,h=d.$scope,f=g.lang,m=function(e,t){return o.formatDate(e,t,f)},v=0,b=n.$dateValue||new Date,y={hour:b.getHours(),meridian:b.getHours()<12,minute:b.getMinutes(),second:b.getSeconds(),millisecond:b.getMilliseconds()},_=o.getDatetimeFormat(g.timeFormat,f),w=o.hoursFormat(_),$=o.timeSeparator(_),x=o.minutesFormat(_),k=o.showAM(_);h.$iconUp=g.iconUp,h.$iconDown=g.iconDown,h.$select=function(e,t){d.select(e,t)},h.$moveIndex=function(e,t){d.$moveIndex(e,t)},h.$switchMeridian=function(e){d.switchMeridian(e)},d.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())?(d.$date=e,angular.extend(y,{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}),d.$build()):d.$isBuilt||d.$build()},d.select=function(e,t,i){(!n.$dateValue||isNaN(n.$dateValue.getTime()))&&(n.$dateValue=new Date(1970,0,1)),angular.isDate(e)||(e=new Date(e)),0===t?n.$dateValue.setHours(e.getHours()):1===t&&n.$dateValue.setMinutes(e.getMinutes()),n.$setViewValue(angular.copy(n.$dateValue)),n.$render(),g.autoclose&&!i&&a(function(){d.hide(!0)})},d.switchMeridian=function(e){if(n.$dateValue&&!isNaN(n.$dateValue.getTime())){var t=(e||n.$dateValue).getHours();n.$dateValue.setHours(12>t?t+12:t-12),n.$setViewValue(angular.copy(n.$dateValue)),n.$render()}},d.$build=function(){var e,t,n=h.midIndex=parseInt(g.length/2,10),i=[];for(e=0;e<g.length;e++)t=new Date(1970,0,1,y.hour-(n-e)*g.hourStep),i.push({date:t,label:m(t,w),selected:d.$date&&d.$isSelected(t,0),disabled:d.$isDisabled(t,0)});var r,o=[];for(e=0;e<g.length;e++)r=new Date(1970,0,1,0,y.minute-(n-e)*g.minuteStep),o.push({date:r,label:m(r,x),selected:d.$date&&d.$isSelected(r,1),disabled:d.$isDisabled(r,1)});var s=[];for(e=0;e<g.length;e++)s.push([i[e],o[e]]);h.rows=s,h.showAM=k,h.isAM=(d.$date||i[n].date).getHours()<12,h.timeSeparator=$,d.$isBuilt=!0},d.$isSelected=function(e,t){return d.$date?0===t?e.getHours()===d.$date.getHours():1===t?e.getMinutes()===d.$date.getMinutes():void 0:!1},d.$isDisabled=function(e,t){var n;return 0===t?n=e.getTime()+6e4*y.minute:1===t&&(n=e.getTime()+36e5*y.hour),n<1*g.minTime||n>1*g.maxTime},h.$arrowAction=function(e,t){"picker"===g.arrowBehavior?d.$setTimeByStep(e,t):d.$moveIndex(e,t)},d.$setTimeByStep=function(e,t){var n=new Date(d.$date),i=n.getHours(),r=(m(n,w).length,n.getMinutes());m(n,x).length,0===t?n.setHours(i-parseInt(g.hourStep,10)*e):n.setMinutes(r-parseInt(g.minuteStep,10)*e),d.select(n,t,!0)},d.$moveIndex=function(e,t){var n;0===t?(n=new Date(1970,0,1,y.hour+e*g.length,y.minute),angular.extend(y,{hour:n.getHours()})):1===t&&(n=new Date(1970,0,1,y.hour,y.minute+e*g.length*g.minuteStep),angular.extend(y,{minute:n.getMinutes()})),d.$build()},d.$onMouseDown=function(e){if("input"!==e.target.nodeName.toLowerCase()&&e.preventDefault(),e.stopPropagation(),c){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},d.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return d.hide(!0);var t=new Date(d.$date),n=t.getHours(),i=m(t,w).length,o=t.getMinutes(),s=m(t,x).length,a=/(37|39)/.test(e.keyCode),l=2+1*k;a&&(37===e.keyCode?v=1>v?l-1:v-1:39===e.keyCode&&(v=l-1>v?v+1:0));var u=[0,i];0===v?(38===e.keyCode?t.setHours(n-parseInt(g.hourStep,10)):40===e.keyCode&&t.setHours(n+parseInt(g.hourStep,10)),i=m(t,w).length,u=[0,i]):1===v?(38===e.keyCode?t.setMinutes(o-parseInt(g.minuteStep,10)):40===e.keyCode&&t.setMinutes(o+parseInt(g.minuteStep,10)),s=m(t,x).length,u=[i+1,i+1+s]):2===v&&(a||d.switchMeridian(),u=[i+1+s+1,i+1+s+3]),d.select(t,v,!0),r(u[0],u[1]),p.$digest()}};var S=d.init;d.init=function(){return u&&g.useNative?(t.prop("type","time"),void t.css("-webkit-appearance","textfield")):(c&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",l)),void S())};var C=d.destroy;d.destroy=function(){u&&g.useNative&&t.off("click",l),C()};var T=d.show;d.show=function(){T(),a(function(){d.$element.on(c?"touchstart":"mousedown",d.$onMouseDown),g.keyboard&&t.on("keydown",d.$onKeyDown)},0,!1)};var E=d.hide;return d.hide=function(e){d.$isShown&&(d.$element.off(c?"touchstart":"mousedown",d.$onMouseDown),g.keyboard&&t.off("keydown",d.$onKeyDown),E(e))},d}var u=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),c="createTouch"in t.document&&u;return e.lang||(e.lang=o.getDefaultLocale()),l.defaults=e,l}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(e,t,n,i,r,o){var s=o.defaults,a=/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent);return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",require:"ngModel",link:function(e,t,n,l){function u(e){if(angular.isDate(e)){var t=isNaN(d.minTime)||new Date(e.getTime()).setFullYear(1970,0,1)>=d.minTime,n=isNaN(d.maxTime)||new Date(e.getTime()).setFullYear(1970,0,1)<=d.maxTime,i=t&&n;l.$setValidity("date",i),l.$setValidity("min",t),l.$setValidity("max",n),i&&(l.$dateValue=e)}}function c(){return!l.$dateValue||isNaN(l.$dateValue.getTime())?"":h(l.$dateValue,d.timeFormat)}var d={scope:e,controller:l};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","modelTimeFormat","useNative","hourStep","minuteStep","length","arrowBehavior","iconUp","iconDown"],function(e){angular.isDefined(n[e])&&(d[e]=n[e])}),n.bsShow&&e.$watch(n.bsShow,function(e){p&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(timepicker),?/i)),e===!0?p.show():p.hide())}),a&&(d.useNative||s.useNative)&&(d.timeFormat="HH:mm");var p=o(t,l,d);d=p.$options;var g=d.lang,h=function(e,t){return i.formatDate(e,t,g)},f=r({format:d.timeFormat,lang:g});angular.forEach(["minTime","maxTime"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){p.$options[e]=f.getTimeForAttribute(e,t),!isNaN(p.$options[e])&&p.$build(),u(l.$dateValue)})}),e.$watch(n.ngModel,function(){p.update(l.$dateValue)},!0),l.$parsers.unshift(function(e){if(!e)return l.$setValidity("date",!0),null;var t=angular.isDate(e)?e:f.parse(e,l.$dateValue);return!t||isNaN(t.getTime())?void l.$setValidity("date",!1):(u(t),"string"===d.timeType?h(t,d.modelTimeFormat||d.timeFormat):"number"===d.timeType?l.$dateValue.getTime():"unix"===d.timeType?l.$dateValue.getTime()/1e3:"iso"===d.timeType?l.$dateValue.toISOString():new Date(l.$dateValue))}),l.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:"string"===d.timeType?f.parse(e,null,d.modelTimeFormat):new Date("unix"===d.timeType?1e3*e:e),l.$dateValue=t,c()}),l.$render=function(){t.val(c())},e.$on("$destroy",function(){p&&p.destroy(),d=null,p=null})}}}])}(window,document),!function(){"use strict";angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(e){e.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(e){e.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(e){e.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>');

}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(e){e.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(e){e.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(e){e.put("popover/popover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(e){e.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(e){e.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li ng-repeat="$pane in $panes track by $index" ng-class="$index == $panes.$active ? $activeClass : \'\'"><a role="tab" data-toggle="tab" ng-click="$setActive($index)" data-index="{{ $index }}" ng-bind-html="$pane.title"></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(e){e.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(e){e.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(e){e.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}])}(window,document),function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var e="$$ngAnimateChildren";return function(n,i,r){var o=r.ngAnimateChildren;t.isString(o)&&0===o.length?i.data(e,!0):n.$watch(o,function(t){i.data(e,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(i,r){function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==m)return n}}function s(e){return e&&t.element(e)}function a(e){return t.element(o(e))}function l(e,t){return o(e)==o(t)}var u,c=t.noop,d=t.forEach,p=r.$$selectors,g=t.isArray,h=t.isString,f=t.isObject,m=1,v="$$ngAnimateState",b="$$ngAnimateChildren",y="ng-animate",_={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,i,m,w,$,x,k,S,C){function T(e,t){var n=e.data(v)||{};return t&&(n.running=!0,n.structural=!0,e.data(v,n)),n.disabled||n.running&&n.structural}function E(e){var t,i=n.defer();return i.promise.$$cancelFn=function(){t&&t()},x.$$postDigest(function(){t=e(function(){i.resolve()})}),i.promise}function M(e){return f(e)?(e.tempClasses&&h(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function A(e,t,n){n=n||{};var i={};d(n,function(e,t){d(t.split(" "),function(t){i[t]=e})});var r=Object.create(null);d((e.attr("class")||"").split(/\s+/),function(e){r[e]=!0});var o=[],s=[];return d(t&&t.classes||[],function(e,t){var n=r[t],a=i[t]||{};e===!1?(n||"addClass"==a.event)&&s.push(t):e===!0&&(n&&"removeClass"!=a.event||o.push(t))}),o.length+s.length>0&&[o.join(" "),s.join(" ")]}function D(e){if(e){var t=[],n={},r=e.substr(1).split(".");(m.transitions||m.animations)&&t.push(i.get(p[""]));for(var o=0;o<r.length;o++){var s=r[o],a=p[s];a&&!n[s]&&(t.push(i.get(a)),n[s]=!0)}return t}}function P(e,n,i,r){function o(e,t){var n=e[t],i=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||i?("leave"==t&&(i=n,n=null),$.push({event:t,fn:n}),y.push({event:t,fn:i}),!0):void 0}function s(t,n,o){function s(e){if(n){if((n[e]||c)(),++p<a.length)return;n=null}o()}var a=[];d(t,function(e){e.fn&&a.push(e)});var p=0;d(a,function(t,o){var a=function(){s(o)};switch(t.event){case"setClass":n.push(t.fn(e,l,u,a,r));break;case"animate":n.push(t.fn(e,i,r.from,r.to,a));break;case"addClass":n.push(t.fn(e,l||i,a,r));break;case"removeClass":n.push(t.fn(e,u||i,a,r));break;default:n.push(t.fn(e,a,r))}}),n&&0===n.length&&o()}var a=e[0];if(a){r&&(r.to=r.to||{},r.from=r.from||{});var l,u;g(i)&&(l=i[0],u=i[1],l?u?i=l+" "+u:(i=l,n="addClass"):(i=u,n="removeClass"));var p="setClass"==n,h=p||"addClass"==n||"removeClass"==n||"animate"==n,f=e.attr("class"),m=f+" "+i;if(N(m)){var v=c,b=[],y=[],_=c,w=[],$=[],x=(" "+m).replace(/\s+/g,".");return d(D(x),function(e){var t=o(e,n);!t&&p&&(o(e,"addClass"),o(e,"removeClass"))}),{node:a,event:n,className:i,isClassBased:h,isSetClassOperation:p,applyStyles:function(){r&&e.css(t.extend(r.from||{},r.to||{}))},before:function(e){v=e,s(y,b,function(){v=c,e()})},after:function(e){_=e,s($,w,function(){_=c,e()})},cancel:function(){b&&(d(b,function(e){(e||c)(!0)}),v(!0)),w&&(d(w,function(e){(e||c)(!0)}),_(!0))}}}}}function j(e,n,i,r,o,s,a,l){function p(t){var r="$animate:"+t;x&&x[r]&&x[r].length>0&&$(function(){i.triggerHandler(r,{event:e,className:n})})}function g(){p("before")}function h(){p("after")}function f(){p("close"),l()}function m(){m.hasBeenRun||(m.hasBeenRun=!0,s())}function b(){if(!b.hasBeenRun){w&&w.applyStyles(),b.hasBeenRun=!0,a&&a.tempClasses&&d(a.tempClasses,function(e){u.removeClass(i,e)});var t=i.data(v);t&&(w&&w.isClassBased?q(i,n):($(function(){var t=i.data(v)||{};j==t.index&&q(i,n,e)}),i.data(v,t))),f()}}var _=c,w=P(i,e,n,a);if(!w)return m(),g(),h(),b(),_;e=w.event,n=w.className;var x=t.element._data(w.node);if(x=x&&x.events,r||(r=o?o.parent():i.parent()),I(i,r))return m(),g(),h(),b(),_;var k=i.data(v)||{},S=k.active||{},C=k.totalActive||0,T=k.last,E=!1;if(C>0){var M=[];if(w.isClassBased){if("setClass"==T.event)M.push(T),q(i,n);else if(S[n]){var A=S[n];A.event==e?E=!0:(M.push(A),q(i,n))}}else if("leave"==e&&S["ng-leave"])E=!0;else{for(var D in S)M.push(S[D]);k={},q(i,!0)}M.length>0&&d(M,function(e){e.cancel()})}if(!w.isClassBased||w.isSetClassOperation||"animate"==e||E||(E="addClass"==e==i.hasClass(n)),E)return m(),g(),h(),f(),_;S=k.active||{},C=k.totalActive||0,"leave"==e&&i.one("$destroy",function(e){var n=t.element(this),i=n.data(v);if(i){var r=i.active["ng-leave"];r&&(r.cancel(),q(n,"ng-leave"))}}),u.addClass(i,y),a&&a.tempClasses&&d(a.tempClasses,function(e){u.addClass(i,e)});var j=B++;return C++,S[n]=w,i.data(v,{last:w,active:S,index:j,totalActive:C}),g(),w.before(function(t){var r=i.data(v);t=t||!r||!r.active[n]||w.isClassBased&&r.active[n].event!=e,m(),t===!0?b():(h(),w.after(b))}),w.cancel}function O(e){var n=o(e);if(n){var i=t.isFunction(n.getElementsByClassName)?n.getElementsByClassName(y):n.querySelectorAll("."+y);d(i,function(e){e=t.element(e);var n=e.data(v);n&&n.active&&d(n.active,function(e){e.cancel()})})}}function q(e,t){if(l(e,w))_.disabled||(_.running=!1,_.structural=!1);else if(t){var n=e.data(v)||{},i=t===!0;!i&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(i||!n.totalActive)&&(u.removeClass(e,y),e.removeData(v))}}function I(e,n){if(_.disabled)return!0;if(l(e,w))return _.running;var i,r,o;do{if(0===n.length)break;var s=l(n,w),a=s?_:n.data(v)||{};if(a.disabled)return!0;if(s&&(o=!0),i!==!1){var u=n.data(b);t.isDefined(u)&&(i=u)}r=r||a.running||a.last&&!a.last.isClassBased}while(n=n.parent());return!o||!i&&r}u=C,w.data(v,_);var L=x.$watch(function(){return S.totalPendingRequests},function(e,t){0===e&&(L(),x.$$postDigest(function(){x.$$postDigest(function(){_.running=!1})}))}),B=0,F=r.classNameFilter(),N=F?function(e){return F.test(e)}:function(){return!0};return{animate:function(e,t,n,i,r){return i=i||"ng-inline-animate",r=M(r)||{},r.from=n?t:null,r.to=n?n:t,E(function(t){return j("animate",i,a(e),null,null,c,r,t)})},enter:function(n,i,r,o){return o=M(o),n=t.element(n),i=s(i),r=s(r),T(n,!0),e.enter(n,i,r),E(function(e){return j("enter","ng-enter",a(n),i,r,c,o,e)})},leave:function(n,i){return i=M(i),n=t.element(n),O(n),T(n,!0),E(function(t){return j("leave","ng-leave",a(n),null,null,function(){e.leave(n)},i,t)})},move:function(n,i,r,o){return o=M(o),n=t.element(n),i=s(i),r=s(r),O(n),T(n,!0),e.move(n,i,r),E(function(e){return j("move","ng-move",a(n),i,r,c,o,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,i,r,s){s=M(s);var l="$$animateClasses";if(n=t.element(n),n=a(n),T(n))return e.$$setClassImmediately(n,i,r,s);var u,c=n.data(l),p=!!c;return c||(c={},c.classes={}),u=c.classes,i=g(i)?i:i.split(" "),d(i,function(e){e&&e.length&&(u[e]=!0)}),r=g(r)?r:r.split(" "),d(r,function(e){e&&e.length&&(u[e]=!1)}),p?(s&&c.options&&(c.options=t.extend(c.options||{},s)),c.promise):(n.data(l,c={classes:u,options:s}),c.promise=E(function(t){var i=n.parent(),r=o(n),s=r.parentNode;if(!s||s.$$NG_REMOVED||r.$$NG_REMOVED)return void t();var a=n.data(l);n.removeData(l);var u=n.data(v)||{},c=A(n,a,u.active);return c?j("setClass",c,n,i,null,function(){c[0]&&e.$$addClassImmediately(n,c[0]),c[1]&&e.$$removeClassImmediately(n,c[1])},a.options,t):t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)q(t);else{var n=t.data(v)||{};n.disabled=!0,t.data(v,n)}break;case 1:_.disabled=!e;break;default:e=!_.disabled}return!!e}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,r,s,a){function l(){q||(q=a(function(){Y=[],q=null,U={}}))}function p(e,t){q&&q(),Y.push(t),q=a(function(){d(Y,function(e){e()}),Y=[],q=null,U={}})}function f(e,n){var i=o(e);e=t.element(i),J.push(e);var r=Date.now()+n;X>=r||(s.cancel(K),X=r,K=s(function(){v(J),J=[]},n,!1))}function v(e){d(e,function(e){var t=e.data(R);t&&d(t.closeAnimationFns,function(e){e()})})}function b(e,t){var n=t?U[t]:null;if(!n){var r=0,o=0,s=0,a=0;d(e,function(e){if(e.nodeType==m){var t=i.getComputedStyle(e)||{},n=t[A+I];r=Math.max(y(n),r);var l=t[A+B];o=Math.max(y(l),o);{t[P+B]}a=Math.max(y(t[P+B]),a);var u=y(t[P+I]);u>0&&(u*=parseInt(t[P+F],10)||1),s=Math.max(u,s)}}),n={total:0,transitionDelay:o,transitionDuration:r,animationDelay:a,animationDuration:s},t&&(U[t]=n)}return n}function y(e){var t=0,n=h(e)?e.split(/\s*,\s*/):[];return d(n,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function _(e){var t=e.parent(),n=t.data(G);return n||(t.data(G,++W),n=W),n+"-"+o(e).getAttribute("class")}function w(e,t,n,i){var r=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,s=_(t),a=s+" "+n,l=U[a]?++U[a].total:0,c={};if(l>0){var d=n+"-stagger",p=s+" "+d,g=!U[p];g&&u.addClass(t,d),c=b(t,p),g&&u.removeClass(t,d)}u.addClass(t,n);var h=t.data(R)||{},f=b(t,a),m=f.transitionDuration,v=f.animationDuration;if(r&&0===m&&0===v)return u.removeClass(t,n),!1;var y=i||r&&m>0,w=v>0&&c.animationDelay>0&&0===c.animationDuration,$=h.closeAnimationFns||[];t.data(R,{stagger:c,cacheKey:a,running:h.running||0,itemIndex:l,blockTransition:y,closeAnimationFns:$});var S=o(t);return y&&(x(S,!0),i&&t.css(i)),w&&k(S,!0),!0}function $(e,t,n,i,r){function a(){t.off(B,l),u.removeClass(t,g),u.removeClass(t,h),I&&s.cancel(I),E(t,n);var e=o(t);for(var i in v)e.style.removeProperty(v[i])}function l(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(V));Math.max(n-L,0)>=P&&r>=M&&i()}var c=o(t),p=t.data(R);if(-1==c.getAttribute("class").indexOf(n)||!p)return void i();var g="",h="";d(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;g+=n+"-active",h+=n+"-pending"});var m="",v=[],y=p.itemIndex,_=p.stagger,w=0;if(y>0){var $=0;_.transitionDelay>0&&0===_.transitionDuration&&($=_.transitionDelay*y);var S=0;_.animationDelay>0&&0===_.animationDuration&&(S=_.animationDelay*y,v.push(O+"animation-play-state")),w=Math.round(100*Math.max($,S))/100}w||(u.addClass(t,g),p.blockTransition&&x(c,!1));var C=p.cacheKey+" "+g,T=b(t,C),M=Math.max(T.transitionDuration,T.animationDuration);if(0===M)return u.removeClass(t,g),E(t,n),void i();!w&&r&&(T.transitionDuration||(t.css("transition",T.animationDuration+"s linear all"),v.push("transition")),t.css(r));var A=Math.max(T.transitionDelay,T.animationDelay),P=A*H;if(v.length>0){var q=c.getAttribute("style")||"";";"!==q.charAt(q.length-1)&&(q+=";"),c.setAttribute("style",q+" "+m)}var I,L=Date.now(),B=j+" "+D,F=(A+M)*z,N=(w+F)*H;return w>0&&(u.addClass(t,h),I=s(function(){I=null,T.transitionDuration>0&&x(c,!1),T.animationDuration>0&&k(c,!1),u.addClass(t,g),u.removeClass(t,h),r&&(0===T.transitionDuration&&t.css("transition",T.animationDuration+"s linear all"),t.css(r),v.push("transition"))},w*H,!1)),t.on(B,l),p.closeAnimationFns.push(function(){a(),i()}),p.running++,f(t,N),a}function x(e,t){e.style[A+L]=t?"none":""}function k(e,t){e.style[P+N]=t?"paused":""}function S(e,t,n,i){return w(e,t,n,i)?function(e){e&&E(t,n)}:void 0}function C(e,t,n,i,r){return t.data(R)?$(e,t,n,i,r):(E(t,n),void i())}function T(e,t,n,i,r){var o=S(e,t,n,r.from);if(!o)return l(),void i();var s=o;return p(t,function(){s=C(e,t,n,i,r.to)}),function(e){(s||c)(e)}}function E(e,t){u.removeClass(e,t);var n=e.data(R);n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData(R))}function M(e,t){var n="";return e=g(e)?e:e.split(/\s+/),d(e,function(e,i){e&&e.length>0&&(n+=(i>0?" ":"")+e+t)}),n}var A,D,P,j,O="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(O="-webkit-",A="WebkitTransition",D="webkitTransitionEnd transitionend"):(A="transition",D="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(O="-webkit-",P="WebkitAnimation",j="webkitAnimationEnd animationend"):(P="animation",j="animationend");var q,I="Duration",L="Property",B="Delay",F="IterationCount",N="PlayState",G="$$ngAnimateKey",R="$$ngAnimateCSS3Data",V=3,z=1.5,H=1e3,U={},W=0,Y=[],K=null,X=0,J=[];return{animate:function(e,t,n,i,r,o){return o=o||{},o.from=n,o.to=i,T("animate",e,t,r,o)},enter:function(e,t,n){return n=n||{},T("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},T("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},T("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,i,r){r=r||{};var o=M(n,"-remove")+" "+M(t,"-add"),s=S("setClass",e,o,r.from);return s?(p(e,i),s):(l(),void i())},beforeAddClass:function(e,t,n,i){i=i||{};var r=S("addClass",e,M(t,"-add"),i.from);return r?(p(e,n),r):(l(),void n())},beforeRemoveClass:function(e,t,n,i){i=i||{};var r=S("removeClass",e,M(t,"-remove"),i.from);return r?(p(e,n),r):(l(),void n())},setClass:function(e,t,n,i,r){r=r||{},n=M(n,"-remove"),t=M(t,"-add");var o=n+" "+t;return C("setClass",e,o,i,r.to)},addClass:function(e,t,n,i){return i=i||{},C("addClass",e,M(t,"-add"),n,i.to)},removeClass:function(e,t,n,i){return i=i||{},C("removeClass",e,M(t,"-remove"),n,i.to)}}}])}])}(window,window.angular),function(){angular.module("ngCordova",["ngCordova.plugins"]),angular.module("ngCordova.plugins.actionSheet",[]).factory("$cordovaActionSheet",["$q","$window",function(e,t){return{show:function(n){var i=e.defer();return t.plugins.actionsheet.show(n,function(e){i.resolve(e)}),i.promise},hide:function(){return t.plugins.actionsheet.hide()}}}]),angular.module("ngCordova.plugins.adMob",[]).factory("$cordovaAdMob",["$q","$window",function(e,t){return{createBannerView:function(n){var i=e.defer();return t.plugins.AdMob.createBannerView(n,function(){i.resolve()},function(){i.reject()}),i.promise},createInterstitialView:function(n){var i=e.defer();return t.plugins.AdMob.createInterstitialView(n,function(){i.resolve()},function(){i.reject()}),i.promise},requestAd:function(n){var i=e.defer();return t.plugins.AdMob.requestAd(n,function(){i.resolve()},function(){i.reject()}),i.promise},showAd:function(n){var i=e.defer();return t.plugins.AdMob.showAd(n,function(){i.resolve()},function(){i.reject()}),i.promise},requestInterstitialAd:function(n){var i=e.defer();return t.plugins.AdMob.requestInterstitialAd(n,function(){i.resolve()},function(){i.reject()}),i.promise}}}]),angular.module("ngCordova.plugins.appAvailability",[]).factory("$cordovaAppAvailability",["$q",function(e){return{check:function(t){var n=e.defer();return appAvailability.check(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.appRate",[]).provider("$cordovaAppRate",[function(){this.setAppUrl=function(e,t){var n=["ios","android","blackberry","windows8"];-1!==n.indexOf(e)?AppRate.preferences.storeAppURL[e]=t:alert("wrong device type")},this.useLanguage=function(e){AppRate.preferences.useLanguage=e},this.displayAppName=function(e){AppRate.preferences.displayAppName=e},this.promptAgainForEachNewVersion=function(e){AppRate.preferences.promptAgainForEachNewVersion=e},this.usesUntilPrompt=function(e){AppRate.preferences.usesUntilPrompt=e},this.openStoreInApp=function(e){AppRate.preferences.openStoreInApp=e},this.useCustomRateDialog=function(e){AppRate.preferences.useCustomRateDialog=e},this.customLocale=function(e){var t={title:"Rate %@",message:"If you enjoy using %@, would you mind taking a moment to rate it? It won’t take more than a minute. Thanks for your support!",cancelButtonLabel:"No, Thanks",laterButtonLabel:"Remind Me Later",rateButtonLabel:"Rate It Now"};t=angular.extend(t,e),AppRate.preferences.customLocale=t},this.$get=["$q",function(e){return{promptForRating:function(t){var n=e.defer(),i=AppRate.promptForRating(t);return n.resolve(i),n.promise},onButtonClicked:function(e){AppRate.onButtonClicked=function(t){e.call(this,t)}},onRateDialogShow:function(e){AppRate.onRateDialogShow=e()}}}]}]),angular.module("ngCordova.plugins.appVersion",[]).factory("$cordovaAppVersion",["$q",function(e){return{getAppVersion:function(){var t=e.defer();return cordova.getAppVersion(function(e){t.resolve(e)}),t.promise}}}]),angular.module("ngCordova.plugins.backgroundGeolocation",[]).factory("$cordovaBackgroundGeolocation",["$q","$window",function(e,t){return{init:function(){t.navigator.geolocation.getCurrentPosition(function(e){return e})},configure:function(n){this.init();var i=e.defer();return t.plugins.backgroundGeoLocation.configure(function(e){i.notify(e),t.plugins.backgroundGeoLocation.finish()},function(e){i.reject(e)},n),this.start(),i.promise},start:function(){var n=e.defer();return t.plugins.backgroundGeoLocation.start(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},stop:function(){var n=e.defer();return t.plugins.backgroundGeoLocation.stop(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.badge",[]).factory("$cordovaBadge",["$q",function(e){return{hasPermission:function(){var t=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?t.resolve(!0):t.reject("You do not have permission")}),t.promise},promptForPermission:function(){return cordova.plugins.notification.badge.promptForPermission()},set:function(t){var n=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?n.resolve(cordova.plugins.notification.badge.set(t)):n.reject("You do not have permission to set Badge")}),n.promise},get:function(){var t=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?cordova.plugins.notification.badge.get(function(e){t.resolve(e)}):t.reject("You do not have permission to get Badge")}),t.promise},clear:function(){var t=e.defer();return cordova.plugins.notification.badge.hasPermission(function(e){e?t.resolve(cordova.plugins.notification.badge.clear()):t.reject("You do not have permission to clear Badge")}),t.promise},configure:function(e){return cordova.plugins.notification.badge.configure(e)}}}]),angular.module("ngCordova.plugins.barcodeScanner",[]).factory("$cordovaBarcodeScanner",["$q",function(e){return{scan:function(){var t=e.defer();return cordova.plugins.barcodeScanner.scan(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},encode:function(t,n){var i=e.defer();return t=t||"TEXT_TYPE",cordova.plugins.barcodeScanner.encode(t,n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.battery-status",[]).factory("$cordovaBatteryStatus",["$rootScope","$window",function(e,t){var n=e.$new();return t.addEventListener("batterystatus",function(e){n.$emit("batterystatus",e.detail)},!1),t.addEventListener("batterycritical",function(e){n.$emit("batterycritical",e.detail)},!1),t.addEventListener("batterylow",function(e){n.$emit("batterylow",e.detail)},!1),n}]),angular.module("ngCordova.plugins.ble",[]).factory("$cordovaBLE",["$q",function(e){return{scan:function(t,n){var i=e.defer();return ble.scan(t,n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},connect:function(t){var n=e.defer();return ble.connect(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},disconnect:function(t){var n=e.defer();return ble.disconnect(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},read:function(t,n,i){var r=e.defer();return ble.read(t,n,i,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},write:function(t,n,i,r){var o=e.defer();return ble.write(t,n,i,r,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},writeCommand:function(t,n,i,r){var o=e.defer();return ble.writeCommand(t,n,i,r,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},notify:function(t,n,i){var r=e.defer();return ble.notify(t,n,i,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},indicate:function(t,n,i){var r=e.defer();return ble.indicate(t,n,i,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},isConnected:function(t){var n=e.defer();return ble.isConnected(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},isEnabled:function(){var t=e.defer();return ble.isEnabled(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.bluetoothSerial",[]).factory("$cordovaBluetoothSerial",["$q","$window",function(e,t){return{connect:function(n){var i=e.defer();return t.bluetoothSerial.connect(n,function(){i.resolve()},function(e){i.reject(e)}),i.promise},connectInsecure:function(n){var i=e.defer();return t.bluetoothSerial.connectInsecure(n,function(){i.resolve()},function(e){i.reject(e)}),i.promise},disconnect:function(){var n=e.defer();return t.bluetoothSerial.disconnect(function(){n.resolve()},function(e){n.reject(e)}),n.promise},list:function(){var n=e.defer();return t.bluetoothSerial.list(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},isEnabled:function(){var n=e.defer();return t.bluetoothSerial.isEnabled(function(){n.resolve()},function(){n.reject()}),n.promise},isConnected:function(){var n=e.defer();return t.bluetoothSerial.isConnected(function(){n.resolve()},function(){n.reject()}),n.promise},available:function(){var n=e.defer();return t.bluetoothSerial.available(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},read:function(){var n=e.defer();return t.bluetoothSerial.read(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},readUntil:function(n){var i=e.defer();return t.bluetoothSerial.readUntil(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},write:function(n){var i=e.defer();return t.bluetoothSerial.write(n,function(){i.resolve()},function(e){i.reject(e)}),i.promise},subscribe:function(n){var i=e.defer();return t.bluetoothSerial.subscribe(n,function(e){i.notify(e)},function(e){i.reject(e)}),i.promise},subscribeRawData:function(){var n=e.defer();return t.bluetoothSerial.subscribeRawData(function(e){n.notify(e)},function(e){n.reject(e)}),n.promise},unsubscribe:function(){var n=e.defer();return t.bluetoothSerial.unsubscribe(function(){n.resolve()},function(e){n.reject(e)}),n.promise},unsubscribeRawData:function(){var n=e.defer();return t.bluetoothSerial.unsubscribeRawData(function(){n.resolve()},function(e){n.reject(e)}),n.promise},clear:function(){var n=e.defer();return t.bluetoothSerial.clear(function(){n.resolve()},function(e){n.reject(e)}),n.promise},readRSSI:function(){var n=e.defer();return t.bluetoothSerial.readRSSI(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.brightness",[]).factory("$cordovaBrightness",["$q","$window",function(e,t){return{get:function(){var n=e.defer();return t.cordova.plugins.brightness.getBrightness(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},set:function(n){var i=e.defer();return t.cordova.plugins.brightness.setBrightness(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},setKeepScreenOn:function(n){var i=e.defer();return t.cordova.plugins.brightness.setKeepScreenOn(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.calendar",[]).factory("$cordovaCalendar",["$q","$window",function(e,t){return{createCalendar:function(n){var i=e.defer(),r=t.plugins.calendar.getCreateCalendarOptions();return"string"==typeof n?r.calendarName=n:r=angular.extend(r,n),t.plugins.calendar.createCalendar(r,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},deleteCalendar:function(n){var i=e.defer();return t.plugins.calendar.deleteCalendar(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},createEvent:function(n){var i=e.defer(),r={title:null,location:null,notes:null,startDate:null,endDate:null};return r=angular.extend(r,n),t.plugins.calendar.createEvent(r.title,r.location,r.notes,new Date(r.startDate),new Date(r.endDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},createEventWithOptions:function(n){var i=e.defer(),r=[],o=window.plugins.calendar.getCalendarOptions(),s={title:null,location:null,notes:null,startDate:null,endDate:null};r=Object.keys(s);for(var a in n)-1===r.indexOf(a)?o[a]=n[a]:s[a]=n[a];return t.plugins.calendar.createEventWithOptions(s.title,s.location,s.notes,new Date(s.startDate),new Date(s.endDate),o,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},createEventInteractively:function(n){var i=e.defer(),r={title:null,location:null,notes:null,startDate:null,endDate:null};return r=angular.extend(r,n),t.plugins.calendar.createEventInteractively(r.title,r.location,r.notes,new Date(r.startDate),new Date(r.endDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},createEventInNamedCalendar:function(n){var i=e.defer(),r={title:null,location:null,notes:null,startDate:null,endDate:null,calendarName:null};return r=angular.extend(r,n),t.plugins.calendar.createEventInNamedCalendar(r.title,r.location,r.notes,new Date(r.startDate),new Date(r.endDate),r.calendarName,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},findEvent:function(n){var i=e.defer(),r={title:null,location:null,notes:null,startDate:null,endDate:null};return r=angular.extend(r,n),t.plugins.calendar.findEvent(r.title,r.location,r.notes,new Date(r.startDate),new Date(r.endDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},listEventsInRange:function(n,i){var r=e.defer();return t.plugins.calendar.listEventsInRange(n,i,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},listCalendars:function(){var n=e.defer();return t.plugins.calendar.listCalendars(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},findAllEventsInNamedCalendar:function(n){var i=e.defer();return t.plugins.calendar.findAllEventsInNamedCalendar(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},modifyEvent:function(n){var i=e.defer(),r={title:null,location:null,notes:null,startDate:null,endDate:null,newTitle:null,newLocation:null,newNotes:null,newStartDate:null,newEndDate:null};return r=angular.extend(r,n),t.plugins.calendar.modifyEvent(r.title,r.location,r.notes,new Date(r.startDate),new Date(r.endDate),r.newTitle,r.newLocation,r.newNotes,new Date(r.newStartDate),new Date(r.newEndDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},deleteEvent:function(n){var i=e.defer(),r={newTitle:null,location:null,notes:null,startDate:null,endDate:null};return r=angular.extend(r,n),t.plugins.calendar.deleteEvent(r.newTitle,r.location,r.notes,new Date(r.startDate),new Date(r.endDate),function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.camera",[]).factory("$cordovaCamera",["$q",function(e){
return{getPicture:function(t){var n=e.defer();return navigator.camera?(navigator.camera.getPicture(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise):(n.resolve(null),n.promise)},cleanup:function(){var t=e.defer();return navigator.camera.cleanup(function(){t.resolve()},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.capture",[]).factory("$cordovaCapture",["$q",function(e){return{captureAudio:function(t){var n=e.defer();return navigator.device.capture?(navigator.device.capture.captureAudio(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise):(n.resolve(null),n.promise)},captureImage:function(t){var n=e.defer();return navigator.device.capture?(navigator.device.capture.captureImage(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise):(n.resolve(null),n.promise)},captureVideo:function(t){var n=e.defer();return navigator.device.capture?(navigator.device.capture.captureVideo(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise):(n.resolve(null),n.promise)}}}]),angular.module("ngCordova.plugins.clipboard",[]).factory("$cordovaClipboard",["$q","$window",function(e,t){return{copy:function(n){var i=e.defer();return t.cordova.plugins.clipboard.copy(n,function(){i.resolve()},function(){i.reject()}),i.promise},paste:function(){var n=e.defer();return t.cordova.plugins.clipboard.paste(function(e){n.resolve(e)},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.contacts",[]).factory("$cordovaContacts",["$q",function(e){return{save:function(t){var n=e.defer(),i=navigator.contacts.create(t);return i.save(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},remove:function(t){var n=e.defer(),i=navigator.contacts.create(t);return i.remove(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},clone:function(e){var t=navigator.contacts.create(e);return t.clone(e)},find:function(t){var n=e.defer(),i=t.fields||["id","displayName"];return delete t.fields,navigator.contacts.find(i,function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},pickContact:function(){var t=e.defer();return navigator.contacts.pickContact(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]),angular.module("ngCordova.plugins.datePicker",[]).factory("$cordovaDatePicker",["$window","$q",function(e,t){return{show:function(n){n=n||{date:new Date,mode:"date"};var i=t.defer();return e.datePicker.show(n,function(e){i.resolve(e)}),i.promise}}}]),angular.module("ngCordova.plugins.device",[]).factory("$cordovaDevice",[function(){return{getDevice:function(){return device},getCordova:function(){return device.cordova},getModel:function(){return device.model},getName:function(){return device.name},getPlatform:function(){return device.platform},getUUID:function(){return device.uuid},getVersion:function(){return device.version}}}]),angular.module("ngCordova.plugins.deviceMotion",[]).factory("$cordovaDeviceMotion",["$q",function(e){return{getCurrentAcceleration:function(){var t=e.defer();return navigator.accelerometer.getCurrentAcceleration(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},watchAcceleration:function(t){var n=e.defer(),i=navigator.accelerometer.watchAcceleration(function(e){n.notify(e)},function(e){n.reject(e)},t);return n.promise.cancel=function(){navigator.accelerometer.clearWatch(i)},n.promise.clearWatch=function(e){navigator.accelerometer.clearWatch(e||i)},n.promise.watchID=i,n.promise},clearWatch:function(e){return navigator.accelerometer.clearWatch(e)}}}]),angular.module("ngCordova.plugins.deviceOrientation",[]).factory("$cordovaDeviceOrientation",["$q",function(e){return{getCurrentHeading:function(){var t=e.defer();return navigator.compass.getCurrentHeading(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},watchHeading:function(t){var n=e.defer(),i=navigator.compass.watchHeading(function(e){n.notify(e)},function(e){n.reject(e)},t);return n.promise.cancel=function(){navigator.compass.clearWatch(i)},n.promise.clearWatch=function(e){navigator.compass.clearWatch(e||i)},n.promise.watchID=i,n.promise},clearWatch:function(e){return navigator.compass.clearWatch(e)}}}]),angular.module("ngCordova.plugins.dialogs",[]).factory("$cordovaDialogs",["$q","$window",function(e,t){return{alert:function(n,i,r){var o=e.defer();return t.navigator.notification?navigator.notification.alert(n,function(){o.resolve()},i,r):(t.alert(n),o.resolve()),o.promise},confirm:function(n,i,r){var o=e.defer();return t.navigator.notification?navigator.notification.confirm(n,function(e){o.resolve(e)},i,r):o.resolve(t.confirm(n)?1:2),o.promise},prompt:function(n,i,r,o){var s=e.defer();if(t.navigator.notification)navigator.notification.prompt(n,function(e){s.resolve(e)},i,r,o);else{var a=t.prompt(n,o);s.resolve(null!==a?{input1:a,buttonIndex:1}:{input1:a,buttonIndex:2})}return s.promise},beep:function(e){return navigator.notification.beep(e)}}}]),angular.module("ngCordova.plugins.emailComposer",[]).factory("$cordovaEmailComposer",["$q",function(e){return{isAvailable:function(){var t=e.defer();return cordova.plugins.email.isAvailable(function(e){e?t.resolve():t.reject()}),t.promise},open:function(t){var n=e.defer();return cordova.plugins.email.open(t,function(){n.reject()}),n.promise},addAlias:function(e,t){cordova.plugins.email.addAlias(e,t)}}}]),angular.module("ngCordova.plugins.facebook",[]).provider("$cordovaFacebook",[function(){this.browserInit=function(e,t){this.appID=e,this.appVersion=t||"v2.0",this.appID||facebookConnectPlugin.browserInit(this.appID,this.appVersion)},this.$get=["$q",function(e){return{login:function(t){var n=e.defer();return facebookConnectPlugin.login(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},showDialog:function(t){var n=e.defer();return facebookConnectPlugin.showDialog(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},api:function(t,n){var i=e.defer();return facebookConnectPlugin.api(t,n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},getAccessToken:function(){var t=e.defer();return facebookConnectPlugin.getAccessToken(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},getLoginStatus:function(){var t=e.defer();return facebookConnectPlugin.getLoginStatus(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},logout:function(){var t=e.defer();return facebookConnectPlugin.logout(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]}]),angular.module("ngCordova.plugins.facebookAds",[]).factory("$cordovaFacebookAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.FacebookAds.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.FacebookAds.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.FacebookAds.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.FacebookAds.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var r=e.defer();return t.FacebookAds.showBannerAtXY(n,i,function(){r.resolve()},function(){r.reject()}),r.promise},hideBanner:function(){var n=e.defer();return t.FacebookAds.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.FacebookAds.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.FacebookAds.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.file",[]).factory("$cordovaFile",["$q","$window","$log","$timeout",function(e,t,n,i){function r(e){var t=new FileReader;return t.onloadend=function(){this.error?e.reject(this.error):e.resolve(this.result)},t}function o(t,n){var i=e.defer();return a(t,n).then(function(e){e.file(i.resolve,i.reject)},i.reject),i.promise}function s(t,n){var i=e.defer();return a(t,n).then(function(e){e.createWriter(i.resolve,i.reject)},i.reject),i.promise}function a(t,n){var i=e.defer();return c().then(function(e){e.root.getFile(t,n,i.resolve,i.reject)},i.reject),i.promise}function l(n){var i=e.defer();return t.resolveLocalFileSystemURL(n,function(e){e.file(i.resolve,i.reject)},i.reject),i.promise}function u(t,n){var i=e.defer();return c().then(function(e){e.root.getDirectory(t,n,i.resolve,i.reject)},i.reject),i.promise}function c(){var n=e.defer();try{t.requestFileSystem(t.PERSISTENT,1048576,n.resolve,n.reject)}catch(i){n.reject(i)}return n.promise}return{checkDir:function(e){return u(e,{create:!1})},createDir:function(e,t){return u(e,{create:!0,exclusive:t})},listDir:function(t){var n=e.defer();return u(t,{create:!1}).then(function(e){var i=e.createReader();i.readEntries(function(e){n.resolve(e)},function(){n.reject("DIR_READ_ERROR : "+t)})},function(){n.reject("DIR_NOT_FOUND : "+t)}),n.promise},checkFile:function(e){return 2==arguments.length&&(e="/"+e+"/"+arguments[1]),a(e,{create:!1})},createFile:function(e,t){return 3==arguments.length&&(e="/"+e+"/"+arguments[1],t=arguments[2]),a(e,{create:!0,exclusive:t})},removeFile:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),a(t,{create:!1}).then(function(e){e.remove(n.resolve,n.reject)},n.reject),n.promise},writeFile:function(t,n,i){var r=e.defer();return s(t,{create:!0}).then(function(e){i&&i.append===!0&&e.seek(e.length),e.onwriteend=function(e){this.error?r.reject(this.error):r.resolve(e)},e.write(n)},r.reject),r.promise},readFile:function(e){return n.log("readFile is now deprecated as of v0.1.4-alpha, use readAsText instead"),this.readAsText(e)},readAsText:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),o(t,{create:!1}).then(function(e){r(n).readAsText(e)},n.reject),n.promise},readAsDataURL:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),o(t,{create:!1}).then(function(e){r(n).readAsDataURL(e)},n.reject),n.promise},readAsBinaryString:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),o(t,{create:!1}).then(function(e){r(n).readAsBinaryString(e)},n.reject),n.promise},readAsArrayBuffer:function(t){var n=e.defer();return 2==arguments.length&&(t="/"+t+"/"+arguments[1]),o(t,{create:!1}).then(function(e){r(n).readAsArrayBuffer(e)},n.reject),n.promise},readFileMetadata:function(e){return o(e,{create:!1})},readFileAbsolute:function(t){var n=e.defer();return l(t).then(function(e){r(n).readAsText(e)},n.reject),n.promise},readFileMetadataAbsolute:function(e){return l(e)},downloadFile:function(t,n,i,r){var o=e.defer(),s=new FileTransfer,a=encodeURI(t);return s.onprogress=o.notify,s.download(a,n,o.resolve,o.reject,i,r),o.promise},uploadFile:function(t,n,r){var o=e.defer(),s=new FileTransfer,a=encodeURI(t);return void 0!==r.timeout&&null!==r.timeout&&(i(function(){s.abort()},r.timeout),r.timeout=null),s.onprogress=o.notify,s.upload(n,a,o.resolve,o.reject,r),o.promise}}}]),angular.module("ngCordova.plugins.flashlight",[]).factory("$cordovaFlashlight",["$q","$window",function(e,t){return{available:function(){var n=e.defer();return t.plugins.flashlight.available(function(e){n.resolve(e)}),n.promise},switchOn:function(){var n=e.defer();return t.plugins.flashlight.switchOn(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},switchOff:function(){var n=e.defer();return t.plugins.flashlight.switchOff(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},toggle:function(){var n=e.defer();return t.plugins.flashlight.toggle(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.flurryAds",[]).factory("$cordovaFlurryAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.FlurryAds.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.FlurryAds.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.FlurryAds.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.FlurryAds.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var r=e.defer();return t.FlurryAds.showBannerAtXY(n,i,function(){r.resolve()},function(){r.reject()}),r.promise},hideBanner:function(){var n=e.defer();return t.FlurryAds.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.FlurryAds.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.FlurryAds.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.ga",[]).factory("$cordovaGA",["$q","$window",function(e,t){return{init:function(n,i){var r=e.defer();return i=i>=0?i:10,t.plugins.gaPlugin.init(function(e){r.resolve(e)},function(e){r.reject(e)},n,i),r.promise},trackEvent:function(n,i,r,o,s,a){var l=e.defer();return t.plugins.gaPlugin.trackEvent(function(e){l.resolve(e)},function(e){l.reject(e)},r,o,s,a),l.promise},trackPage:function(n,i,r){var o=e.defer();return t.plugins.gaPlugin.trackPage(function(e){o.resolve(e)},function(e){o.reject(e)},r),o.promise},setVariable:function(n,i,r,o){var s=e.defer();return t.plugins.gaPlugin.setVariable(function(e){s.resolve(e)},function(e){s.reject(e)},r,o),s.promise},exit:function(n,i){var r=e.defer();return t.plugins.gaPlugin.exit(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.geolocation",[]).factory("$cordovaGeolocation",["$q",function(e){return{getCurrentPosition:function(t){var n=e.defer();return navigator.geolocation.getCurrentPosition(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},watchPosition:function(t){var n=e.defer(),i=navigator.geolocation.watchPosition(function(e){n.notify(e)},function(e){n.reject(e)},t);return n.promise.cancel=function(){navigator.geolocation.clearWatch(i)},n.promise.clearWatch=function(e){navigator.geolocation.clearWatch(e||i)},n.promise.watchID=i,n.promise},clearWatch:function(e){return navigator.geolocation.clearWatch(e)}}}]),angular.module("ngCordova.plugins.globalization",[]).factory("$cordovaGlobalization",["$q",function(e){return{getPreferredLanguage:function(){var t=e.defer();return navigator.globalization.getPreferredLanguage(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},getLocaleName:function(){var t=e.defer();return navigator.globalization.getLocaleName(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},getFirstDayOfWeek:function(){var t=e.defer();return navigator.globalization.getFirstDayOfWeek(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},dateToString:function(t,n){var i=e.defer();return navigator.globalization.dateToString(t,function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},stringToDate:function(t,n){var i=e.defer();return navigator.globalization.stringToDate(t,function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},getDatePattern:function(t){var n=e.defer();return navigator.globalization.getDatePattern(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},getDateNames:function(t){var n=e.defer();return navigator.globalization.getDateNames(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},isDayLightSavingsTime:function(t){var n=e.defer();return navigator.globalization.isDayLightSavingsTime(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},numberToString:function(t,n){var i=e.defer();return navigator.globalization.numberToString(t,function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},stringToNumber:function(t,n){var i=e.defer();return navigator.globalization.stringToNumber(t,function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},getNumberPattern:function(t){var n=e.defer();return navigator.globalization.getNumberPattern(function(e){n.resolve(e)},function(e){n.reject(e)},t),n.promise},getCurrencyPattern:function(t){var n=e.defer();return navigator.globalization.getCurrencyPattern(t,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}}}]),angular.module("ngCordova.plugins.googleAds",[]).factory("$cordovaGoogleAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.AdMob.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.AdMob.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.AdMob.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.AdMob.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var r=e.defer();return t.AdMob.showBannerAtXY(n,i,function(){r.resolve()},function(){r.reject()}),r.promise},hideBanner:function(){var n=e.defer();return t.AdMob.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.AdMob.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.AdMob.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.googleAnalytics",[]).factory("$cordovaGoogleAnalytics",["$q","$window",function(e,t){return{startTrackerWithId:function(n){var i=e.defer();return t.analytics.startTrackerWithId(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},setUserId:function(n){var i=e.defer();return t.analytics.setUserId(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},debugMode:function(){var n=e.defer();return t.analytics.debugMode(function(e){n.resolve(e)},function(){n.reject()}),n.promise},trackView:function(n){var i=e.defer();return t.analytics.trackView(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},addCustomDimension:function(n,i){var r=e.defer();return t.analytics.addCustomDimension(n,i,function(){r.resolve()},function(e){r.reject(e)}),r.promise},trackEvent:function(n,i,r,o){var s=e.defer();return t.analytics.trackEvent(n,i,r,o,function(e){s.resolve(e)},function(e){s.reject(e)}),s.promise},addTransaction:function(n,i,r,o,s,a){var l=e.defer();return t.analytics.addTransaction(n,i,r,o,s,a,function(e){l.resolve(e)},function(e){l.reject(e)}),l.promise},addTransactionItem:function(n,i,r,o,s,a,l){var u=e.defer();return t.analytics.addTransactionItem(n,i,r,o,s,a,l,function(e){u.resolve(e)},function(e){u.reject(e)}),u.promise}}}]),angular.module("ngCordova.plugins.googleMap",[]).factory("$cordovaGoogleMap",["$q","$window",function(e,t){var n=null;return{getMap:function(i){var r=e.defer();if(t.plugin.google.maps){var o=document.getElementById("map_canvas");n=t.plugin.google.maps.Map.getMap(i),n.setDiv(o),r.resolve(n)}else r.reject(null);return r.promise},isMapLoaded:function(){return!!n},addMarker:function(t){var i=e.defer();return n.addMarker(t,function(e){i.resolve(e)}),i.promise},getMapTypeIds:function(){return t.plugin.google.maps.mapTypeId},setVisible:function(t){var i=e.defer();return n.setVisible(t),i.promise},cleanup:function(){n=null}}}]),angular.module("ngCordova.plugins.httpd",[]).factory("$cordovaHttpd",["$q",function(e){return{startServer:function(t){var n=e.defer();return cordova.plugins.CorHttpd.startServer(t,function(){n.resolve()},function(){n.reject()}),n.promise},stopServer:function(){var t=e.defer();return cordova.plugins.CorHttpd.stopServer(function(){t.resolve()},function(){t.reject()}),t.promise},getURL:function(){var t=e.defer();return cordova.plugins.CorHttpd.getURL(function(e){t.resolve(e)},function(){t.reject()}),t.promise},getLocalPath:function(){var t=e.defer();return cordova.plugins.CorHttpd.getLocalPath(function(e){t.resolve(e)},function(){t.reject()}),t.promise}}}]),angular.module("ngCordova.plugins.iAd",[]).factory("$cordovaiAd",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.iAd.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.iAd.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.iAd.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.iAd.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var r=e.defer();return t.iAd.showBannerAtXY(n,i,function(){r.resolve()},function(){r.reject()}),r.promise},hideBanner:function(){var n=e.defer();return t.iAd.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.iAd.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.iAd.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.imagePicker",[]).factory("$cordovaImagePicker",["$q","$window",function(e,t){return{getPictures:function(n){var i=e.defer();return t.imagePicker.getPictures(function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise}}}]),angular.module("ngCordova.plugins.inAppBrowser",[]).factory("$cordovaInAppBrowser",["$rootScope","$q","$window",function(e,t,n){var i,r,o=e.$new();return{init:function(e){if(angular.isObject(e)){var t=[];for(var n in e)t.push([n+"="+e[n]]);r=t.join()}else r=e;return o},open:function(e,s){var a=t.defer();return i=n.open(e,s,r),i.addEventListener("loadstart",function(e){o.$emit("loadstart",e)},!1),i.addEventListener("loadstop",function(e){a.resolve(e),o.$emit("loadstop",e)},!1),i.addEventListener("loaderror",function(e){a.reject(e),o.$emit("loaderror",e)},!1),i.addEventListener("exit",function(e){o.$emit("exit",e)},!1),a.promise},close:function(){i.close()},executeScript:function(e){var n=t.defer();return i.executeScript(e,function(e){n.resolve(e)}),n.promise},insertCSS:function(e){var n=t.defer();return i.insertCSS(e,function(e){n.resolve(e)}),n.promise}}}]),angular.module("ngCordova.plugins.keyboard",[]).factory("$cordovaKeyboard",[function(){return{hideAccessoryBar:function(e){return cordova.plugins.Keyboard.hideKeyboardAccessoryBar(e)},close:function(){return cordova.plugins.Keyboard.close()},disableScroll:function(e){return cordova.plugins.Keyboard.disableScroll(e)},isVisible:function(){return cordova.plugins.Keyboard.isVisible}}}]),angular.module("ngCordova.plugins.keychain",[]).factory("$cordovaKeychain",["$q",function(e){var t=new Keychain;return{getForKey:function(n,i){var r=e.defer();return t.getForKey(r.resolve,r.reject,n,i),r.promise},setForKey:function(n,i,r){var o=e.defer();return t.setForKey(o.resolve,o.reject,n,i,r),o.promise},removeForKey:function(n,i){var r=e.defer();return t.removeForKey(r.resolve,r.reject,n,i),r.promise}}}]),angular.module("ngCordova.plugins.localNotification",[]).factory("$cordovaLocalNotification",["$q","$window",function(e,t){return{add:function(n,i){var r=e.defer();return t.plugin.notification.local.add(n,function(e){r.resolve(e)},i),r.promise},cancel:function(n,i){var r=e.defer();return t.plugin.notification.local.cancel(n,function(e){r.resolve(e)},i),r.promise},cancelAll:function(n){var i=e.defer();return t.plugin.notification.local.cancelAll(function(e){i.resolve(e)},n),i.promise},isScheduled:function(n,i){var r=e.defer();return t.plugin.notification.local.isScheduled(n,function(e){r.resolve(e)},i),r.promise},hasPermission:function(n){var i=e.defer();return t.plugin.notification.local.hasPermission(function(e){i.resolve(e)},n),i.promise},promptForPermission:function(){t.plugin.notification.local.promptForPermission()},getScheduledIds:function(n){var i=e.defer();return t.plugin.notification.local.getScheduledIds(function(e){i.resolve(e)},n),i.promise},isTriggered:function(n,i){var r=e.defer();return t.plugin.notification.local.isTriggered(n,function(e){r.resolve(e)},i),r.promise},getTriggeredIds:function(n){var i=e.defer();return t.plugin.notification.local.getTriggeredIds(function(e){i.resolve(e)},n),i.promise},getDefaults:function(){return t.plugin.notification.local.getDefaults()},setDefaults:function(e){t.plugin.notification.local.setDefaults(e)},onadd:function(){return t.plugin.notification.local.onadd},ontrigger:function(){return t.plugin.notification.local.ontrigger},onclick:function(){return t.plugin.notification.local.onclick},oncancel:function(){return t.plugin.notification.local.oncancel}}}]),angular.module("ngCordova.plugins.mMediaAds",[]).factory("$cordovaMMediaAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.mMedia.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.mMedia.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.mMedia.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.mMedia.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var r=e.defer();return t.mMedia.showBannerAtXY(n,i,function(){r.resolve()},function(){r.reject()}),r.promise},hideBanner:function(){var n=e.defer();return t.mMedia.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.mMedia.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.mMedia.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.media",[]).factory("$cordovaMedia",["$q",function(e){return{newMedia:function(t){var n,i=e.defer(),r=null;return n=new Media(t,function(e){i.resolve(e)},function(e){i.reject(e)},function(e){r=e}),i.promise.getCurrentPosition=function(){n.getCurrentPosition(function(e){},function(e){})},i.promise.getDuration=function(){n.getDuration()},i.promise.play=function(e){"object"!=typeof e&&(e={}),n.play(e)},i.promise.pause=function(){n.pause()},i.promise.stop=function(){n.stop()},i.promise.release=function(){n.release()},i.promise.seekTo=function(e){n.seekTo(e)},i.promise.setVolume=function(e){n.setVolume(e)},i.promise.startRecord=function(){n.startRecord()},i.promise.stopRecord=function(){n.stopRecord()},i.promise}}}]),angular.module("ngCordova.plugins.mobfoxAds",[]).factory("$cordovaMobFoxAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.MobFox.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.MobFox.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.MobFox.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.MobFox.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var r=e.defer();return t.MobFox.showBannerAtXY(n,i,function(){r.resolve()},function(){r.reject()}),r.promise},hideBanner:function(){var n=e.defer();return t.MobFox.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.MobFox.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.MobFox.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins",["ngCordova.plugins.actionSheet","ngCordova.plugins.adMob","ngCordova.plugins.appAvailability","ngCordova.plugins.appRate","ngCordova.plugins.appVersion","ngCordova.plugins.backgroundGeolocation","ngCordova.plugins.badge","ngCordova.plugins.barcodeScanner","ngCordova.plugins.brightness","ngCordova.plugins.battery-status","ngCordova.plugins.ble","ngCordova.plugins.bluetoothSerial","ngCordova.plugins.calendar","ngCordova.plugins.camera","ngCordova.plugins.capture","ngCordova.plugins.clipboard","ngCordova.plugins.contacts","ngCordova.plugins.datePicker","ngCordova.plugins.device","ngCordova.plugins.deviceMotion","ngCordova.plugins.deviceOrientation","ngCordova.plugins.dialogs","ngCordova.plugins.emailComposer","ngCordova.plugins.facebook","ngCordova.plugins.facebookAds","ngCordova.plugins.file","ngCordova.plugins.flashlight","ngCordova.plugins.flurryAds","ngCordova.plugins.ga","ngCordova.plugins.geolocation","ngCordova.plugins.globalization","ngCordova.plugins.googleAds","ngCordova.plugins.googleAnalytics","ngCordova.plugins.googleMap","ngCordova.plugins.httpd","ngCordova.plugins.iAd","ngCordova.plugins.imagePicker","ngCordova.plugins.inAppBrowser","ngCordova.plugins.keyboard","ngCordova.plugins.keychain","ngCordova.plugins.localNotification","ngCordova.plugins.media","ngCordova.plugins.mMediaAds","ngCordova.plugins.mobfoxAds","ngCordova.plugins.mopubAds","ngCordova.plugins.nativeAudio","ngCordova.plugins.network","ngCordova.plugins.oauth","ngCordova.plugins.oauthUtility","ngCordova.plugins.pinDialog","ngCordova.plugins.prefs","ngCordova.plugins.printer","ngCordova.plugins.progressIndicator","ngCordova.plugins.push","ngCordova.plugins.sms","ngCordova.plugins.socialSharing","ngCordova.plugins.spinnerDialog","ngCordova.plugins.splashscreen","ngCordova.plugins.sqlite","ngCordova.plugins.statusbar","ngCordova.plugins.toast","ngCordova.plugins.touchid","ngCordova.plugins.vibration","ngCordova.plugins.videoCapturePlus","ngCordova.plugins.zip"]),angular.module("ngCordova.plugins.mopubAds",[]).factory("$cordovaMoPubAds",["$q","$window",function(e,t){return{setOptions:function(n){var i=e.defer();return t.MoPub.setOptions(n,function(){i.resolve()},function(){i.reject()}),i.promise},createBanner:function(n){var i=e.defer();return t.MoPub.createBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},removeBanner:function(){var n=e.defer();return t.MoPub.removeBanner(function(){n.resolve()},function(){n.reject()}),n.promise},showBanner:function(n){var i=e.defer();return t.MoPub.showBanner(n,function(){i.resolve()},function(){i.reject()}),i.promise},showBannerAtXY:function(n,i){var r=e.defer();return t.MoPub.showBannerAtXY(n,i,function(){r.resolve()},function(){r.reject()}),r.promise},hideBanner:function(){var n=e.defer();return t.MoPub.hideBanner(function(){n.resolve()},function(){n.reject()}),n.promise},prepareInterstitial:function(n){var i=e.defer();return t.MoPub.prepareInterstitial(n,function(){i.resolve()},function(){i.reject()}),i.promise},showInterstitial:function(){var n=e.defer();return t.MoPub.showInterstitial(function(){n.resolve()},function(){n.reject()}),n.promise}}}]),angular.module("ngCordova.plugins.nativeAudio",[]).factory("$cordovaNativeAudio",["$q","$window",function(e,t){return{preloadSimple:function(n,i){var r=e.defer();return t.plugins.NativeAudio.preloadSimple(n,i,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},preloadComplex:function(n,i,r,o){var s=e.defer();return t.plugins.NativeAudio.preloadComplex(n,i,r,o,function(e){s.resolve(e)},function(e){s.reject(e)}),s.promise},play:function(n,i){var r=e.defer();return t.plugins.NativeAudio.play(n,i,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},stop:function(n){var i=e.defer();return t.plugins.NativeAudio.stop(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},loop:function(n){var i=e.defer();return t.plugins.NativeAudio.loop(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},unload:function(n){var i=e.defer();return t.plugins.NativeAudio.unload(n,function(e){
i.resolve(e)},function(e){i.reject(e)}),i.promise},setVolumeForComplexAsset:function(n,i){var r=e.defer();return t.plugins.NativeAudio.setVolumeForComplexAsset(n,i,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.network",[]).factory("$cordovaNetwork",[function(){return{getNetwork:function(){return navigator.connection.type},isOnline:function(){var e=navigator.connection.type;return e!==Connection.UNKNOWN&&e!==Connection.NONE},isOffline:function(){var e=navigator.connection.type;return e===Connection.UNKNOWN||e===Connection.NONE},watchNetwork:function(){}}}]),angular.module("ngCordova.plugins.oauth",["ngCordova.plugins.oauthUtility"]).factory("$cordovaOauth",["$q","$http","$cordovaOauthUtility",function(e,t,n){return{dropbox:function(t){var n=e.defer();if(window.cordova){var i=cordova.require("cordova/plugin_list").metadata;if(i.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var r=window.open("https://www.dropbox.com/1/oauth2/authorize?client_id="+t+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");r.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],i=t.split("&"),o=[],s=0;s<i.length;s++)o[i[s].split("=")[0]]=i[s].split("=")[1];if(void 0!==o.access_token&&null!==o.access_token){var a={access_token:o.access_token,token_type:o.token_type,uid:o.uid};n.resolve(a)}else n.reject("Problem authenticating");r.close()}})}else n.reject("Could not find InAppBrowser plugin")}else n.reject("Cannot authenticate via a web browser");return n.promise},digitalOcean:function(n,i){var r=e.defer();if(window.cordova){var o=cordova.require("cordova/plugin_list").metadata;if(o.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var s=window.open("https://cloud.digitalocean.com/v1/oauth/authorize?client_id="+n+"&redirect_uri=http://localhost/callback&response_type=code&scope=read%20write","_blank","location=no,clearsessioncache=yes,clearcache=yes");s.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var o=e.url.split("code=")[1];t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://cloud.digitalocean.com/v1/oauth/token",data:"client_id="+n+"&client_secret="+i+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+o}).success(function(e){r.resolve(e)}).error(function(e,t){r.reject("Problem authenticating")}),s.close()}})}else r.reject("Could not find InAppBrowser plugin")}else r.reject("Cannot authenticate via a web browser");return r.promise},google:function(t,n){var i=e.defer();if(window.cordova){var r=cordova.require("cordova/plugin_list").metadata;if(r.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var o=window.open("https://accounts.google.com/o/oauth2/auth?client_id="+t+"&redirect_uri=http://localhost/callback&scope="+n.join(" ")+"&approval_prompt=force&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");o.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],n=t.split("&"),r=[],s=0;s<n.length;s++)r[n[s].split("=")[0]]=n[s].split("=")[1];if(void 0!==r.access_token&&null!==r.access_token){{({access_token:r.access_token,token_type:r.token_type,uid:r.uid})}i.resolve({access_token:r.access_token,token_type:r.token_type,expires_in:r.expires_in})}else i.reject("Problem authenticating");o.close()}})}else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},github:function(n,i,r){var o=e.defer();if(window.cordova){var s=cordova.require("cordova/plugin_list").metadata;if(s.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var a=window.open("https://github.com/login/oauth/authorize?client_id="+n+"&redirect_uri=http://localhost/callback&scope="+r.join(","),"_blank","location=no,clearsessioncache=yes,clearcache=yes");a.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var r=e.url.split("code=")[1];t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t.defaults.headers.post.Accept="application/json",t({method:"post",url:"https://github.com/login/oauth/access_token",data:"client_id="+n+"&client_secret="+i+"&redirect_uri=http://localhost/callback&code="+r}).success(function(e){o.resolve(e)}).error(function(e,t){o.reject("Problem authenticating")}),a.close()}})}else o.reject("Could not find InAppBrowser plugin")}else o.reject("Cannot authenticate via a web browser");return o.promise},facebook:function(t,n){var i=e.defer();if(window.cordova){var r=cordova.require("cordova/plugin_list").metadata;if(r.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var o=window.open("https://www.facebook.com/dialog/oauth?client_id="+t+"&redirect_uri=http://localhost/callback&response_type=token&scope="+n.join(","),"_blank","location=no,clearsessioncache=yes,clearcache=yes");o.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],n=t.split("&"),r=[],s=0;s<n.length;s++)r[n[s].split("=")[0]]=n[s].split("=")[1];if(void 0!==r.access_token&&null!==r.access_token){var a={access_token:r.access_token,expires_in:r.expires_in};i.resolve(a)}else i.reject("Problem authenticating");o.close()}})}else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},linkedin:function(n,i,r,o){var s=e.defer();if(window.cordova){var a=cordova.require("cordova/plugin_list").metadata;if(a.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var l=window.open("https://www.linkedin.com/uas/oauth2/authorization?client_id="+n+"&redirect_uri=http://localhost/callback&scope="+r.join(" ")+"&response_type=code&state="+o,"_blank","location=no,clearsessioncache=yes,clearcache=yes");l.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var r=e.url.split("code=")[1];t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://www.linkedin.com/uas/oauth2/accessToken",data:"client_id="+n+"&client_secret="+i+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+r}).success(function(e){s.resolve(e)}).error(function(e,t){s.reject("Problem authenticating")}),l.close()}})}else s.reject("Could not find InAppBrowser plugin")}else s.reject("Cannot authenticate via a web browser");return s.promise},instagram:function(t,n){var i=e.defer();if(window.cordova){var r=cordova.require("cordova/plugin_list").metadata;if(r.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var o=window.open("https://api.instagram.com/oauth/authorize/?client_id="+t+"&redirect_uri=http://localhost/callback&scope="+n.join(" ")+"&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");o.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],n=t.split("&"),r=[],s=0;s<n.length;s++)r[n[s].split("=")[0]]=n[s].split("=")[1];if(void 0!==r.access_token&&null!==r.access_token){var a={access_token:r.access_token};i.resolve(a)}else i.reject("Problem authenticating");o.close()}})}else i.reject("Could not find InAppBrowser plugin")}else i.reject("Cannot authenticate via a web browser");return i.promise},box:function(n,i,r){var o=e.defer();if(window.cordova){var s=cordova.require("cordova/plugin_list").metadata;if(s.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var a=window.open("https://app.box.com/api/oauth2/authorize/?client_id="+n+"&redirect_uri=http://localhost/callback&state="+r+"&response_type=code","_blank","location=no,clearsessioncache=yes,clearcache=yes");a.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){var r=e.url.split("code=")[1];t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://app.box.com/api/oauth2/token",data:"client_id="+n+"&client_secret="+i+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+r}).success(function(e){o.resolve(e)}).error(function(e,t){o.reject("Problem authenticating")}),a.close()}})}else o.reject("Could not find InAppBrowser plugin")}else o.reject("Cannot authenticate via a web browser");return o.promise},reddit:function(n,i,r){var o=e.defer();if(window.cordova){var s=cordova.require("cordova/plugin_list").metadata;if(s.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var a=window.open("https://ssl.reddit.com/api/v1/authorize?client_id="+n+"&redirect_uri=http://localhost/callback&duration=permanent&state=ngcordovaoauth&scope="+r.join(",")+"&response_type=code","_blank","location=no,clearsessioncache=yes,clearcache=yes");a.addEventListener("loadstart",function(e){0===e.url.indexOf("http://localhost/callback")&&(requestToken=e.url.split("code=")[1],t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t.defaults.headers.post.Authorization="Basic "+btoa(n+":"+i),t({method:"post",url:"https://ssl.reddit.com/api/v1/access_token",data:"redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+requestToken}).success(function(e){o.resolve(e)}).error(function(e,t){o.reject("Problem authenticating")}),a.close())})}else o.reject("Could not find InAppBrowser plugin")}else o.reject("Cannot authenticate via a web browser");return o.promise},twitter:function(i,r){var o=e.defer();if(window.cordova){var s=cordova.require("cordova/plugin_list").metadata;if(s.hasOwnProperty("org.apache.cordova.inappbrowser")===!0)if("undefined"!=typeof jsSHA){var a=new jsSHA(Math.round((new Date).getTime()/1e3),"TEXT"),l={oauth_consumer_key:i,oauth_nonce:a.getHash("SHA-1","HEX"),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:Math.round((new Date).getTime()/1e3),oauth_version:"1.0"},u=n.createSignature("POST","https://api.twitter.com/oauth/request_token",l,{oauth_callback:"http://localhost/callback"},r);t.defaults.headers.post.Authorization=u.authorization_header,t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://api.twitter.com/oauth/request_token",data:"oauth_callback=http://localhost/callback"}).success(function(e){for(var i=e.split("&"),s={},a=0;a<i.length;a++)s[i[a].split("=")[0]]=i[a].split("=")[1];s.hasOwnProperty("oauth_token")===!1&&o.reject("Oauth request token was not received");var u=window.open("https://api.twitter.com/oauth/authenticate?oauth_token="+s.oauth_token,"_blank","location=no,clearsessioncache=yes,clearcache=yes");u.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var i=e.url.split("?")[1],s=i.split("&"),a={},c=0;c<s.length;c++)a[s[c].split("=")[0]]=s[c].split("=")[1];a.hasOwnProperty("oauth_verifier")===!1&&o.reject("Browser authentication failed to complete.  No oauth_verifier was returned"),delete l.oauth_signature,l.oauth_token=a.oauth_token;var d=n.createSignature("POST","https://api.twitter.com/oauth/access_token",l,{oauth_verifier:a.oauth_verifier},r);t.defaults.headers.post.Authorization=d.authorization_header,t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t({method:"post",url:"https://api.twitter.com/oauth/access_token",data:"oauth_verifier="+a.oauth_verifier}).success(function(e){for(var t=e.split("&"),n={},i=0;i<t.length;i++)n[t[i].split("=")[0]]=t[i].split("=")[1];n.hasOwnProperty("oauth_token_secret")===!1&&o.reject("Oauth access token was not received"),o.resolve(n)}).error(function(e){o.reject(e)}),u.close()}})}).error(function(e){o.reject(e)})}else o.reject("Missing jsSHA JavaScript library");else o.reject("Could not find InAppBrowser plugin")}else o.reject("Cannot authenticate via a web browser");return o.promise},meetup:function(t){var n=e.defer();if(window.cordova){var i=cordova.require("cordova/plugin_list").metadata;if(i.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var r=window.open("https://secure.meetup.com/oauth2/authorize/?client_id="+t+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");r.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],i=t.split("&"),o={},s=0;s<i.length;s++)o[i[s].split("=")[0]]=i[s].split("=")[1];void 0!==o.access_token&&null!==o.access_token?n.resolve(o):n.reject("Problem authenticating"),r.close()}})}else n.reject("Could not find InAppBrowser plugin")}else n.reject("Cannot authenticate via a web browser");return n.promise},foursquare:function(t){var n=e.defer();if(window.cordova){var i=cordova.require("cordova/plugin_list").metadata;if(i.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var r=window.open("https://foursquare.com/oauth2/authenticate?client_id="+t+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");r.addEventListener("loadstart",function(e){if(0===e.url.indexOf("http://localhost/callback")){for(var t=e.url.split("#")[1],i=t.split("&"),o=[],s=0;s<i.length;s++)o[i[s].split("=")[0]]=i[s].split("=")[1];if(void 0!==o.access_token&&null!==o.access_token){var a={access_token:o.access_token,expires_in:o.expires_in};n.resolve(a)}else n.reject("Problem authenticating");r.close()}})}else n.reject("Could not find InAppBrowser plugin")}else n.reject("Cannot authenticate via a web browser");return n.promise}}}]),angular.module("ngCordova.plugins.oauthUtility",[]).factory("$cordovaOauthUtility",["$q",function(e){return{createSignature:function(e,t,n,i,r){if("undefined"!=typeof jsSHA){for(var o=angular.copy(n),s=Object.keys(i),a=0;a<s.length;a++)o[s[a]]=encodeURIComponent(i[s[a]]);var l=e+"&"+encodeURIComponent(t)+"&",u=Object.keys(o).sort();for(a=0;a<u.length;a++)l+=encodeURIComponent(a==u.length-1?u[a]+"="+o[u[a]]:u[a]+"="+o[u[a]]+"&");var c=new jsSHA(l,"TEXT");n.oauth_signature=encodeURIComponent(c.getHMAC(encodeURIComponent(r)+"&","TEXT","SHA-1","B64"));var d=Object.keys(n),p="OAuth ";for(a=0;a<d.length;a++)p+=a==d.length-1?d[a]+'="'+n[d[a]]+'"':d[a]+'="'+n[d[a]]+'",';return{signature_base_string:l,authorization_header:p,signature:n.oauth_signature}}return"Missing jsSHA JavaScript library"}}}]),angular.module("ngCordova.plugins.pinDialog",[]).factory("$cordovaPinDialog",["$q","$window",function(e,t){return{prompt:function(n,i,r){var o=e.defer();return t.plugins.pinDialog.prompt(n,function(e){o.resolve(e)},i,r),o.promise}}}]),angular.module("ngCordova.plugins.prefs",[]).factory("$cordovaPreferences",["$window","$q",function(e,t){return{set:function(n,i){var r=t.defer();return e.appgiraffe.plugins.applicationPreferences.set(n,i,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise},get:function(n){var i=t.defer();return e.appgiraffe.plugins.applicationPreferences.get(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.printer",[]).factory("$cordovaPrinter",["$q","$window",function(e,t){return{isAvailable:function(){var n=e.defer();return t.plugin.printer.isAvailable(function(e){n.resolve(e)}),n.promise},print:function(n,i){var r=e.defer();return t.plugin.printer.print(n,i,function(){r.resolve()}),r.promise}}}]),angular.module("ngCordova.plugins.progressIndicator",[]).factory("$cordovaProgress",["$q",function(e){return{showSimple:function(e){var t=e||!1;return ProgressIndicator.showSimple(t)},showSimpleWithLabel:function(e,t){var n=e||!1,i=t||"Loading...";return ProgressIndicator.showSimpleWithLabel(n,i)},showSimpleWithLabelDetail:function(e,t,n){var i=e||!1,r=t||"Loading...",o=n||"Please wait";return ProgressIndicator.showSimpleWithLabelDetail(i,r,o)},showDeterminate:function(e,t){var n=e||!1,i=t||5e4;return ProgressIndicator.showDeterminate(n,i)},showDeterminateWithLabel:function(e,t,n){var i=e||!1,r=t||5e4,o=n||"Loading...";return ProgressIndicator.showDeterminateWithLabel(i,r,o)},showAnnular:function(e,t){var n=e||!1,i=t||5e4;return ProgressIndicator.showAnnular(n,i)},showAnnularWithLabel:function(e,t,n){var i=e||!1,r=t||5e4,o=n||"Loading...";return ProgressIndicator.showAnnularWithLabel(i,r,o)},showBar:function(e,t){var n=e||!1,i=t||5e4;return ProgressIndicator.showBar(n,i)},showBarWithLabel:function(e,t,n){var i=e||!1,r=t||5e4,o=n||"Loading...";return ProgressIndicator.showBarWithLabel(i,r,o)},showSuccess:function(e,t){var n=e||!1,i=t||"Success";return ProgressIndicator.showSuccess(n,i)},showText:function(e,t,n){var i=e||!1,r=t||"Warning",o=n||"center";return ProgressIndicator.showText(i,r,o)},hide:function(){return ProgressIndicator.hide()}}}]),angular.module("ngCordova.plugins.push",[]).factory("$cordovaPush",["$q","$window","$rootScope",function(e,t,n){return{onNotification:function(e){n.$apply(function(){n.$broadcast("pushNotificationReceived",e)})},register:function(n){var i=e.defer();return void 0!==n&&void 0===n.ecb&&(n.ecb="angular.element(document.querySelector('[ng-app]')).injector().get('$cordovaPush').onNotification"),t.plugins.pushNotification.register(function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},unregister:function(n){var i=e.defer();return t.plugins.pushNotification.unregister(function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise},setBadgeNumber:function(n){var i=e.defer();return t.plugins.pushNotification.setApplicationIconBadgeNumber(function(e){i.resolve(e)},function(e){i.reject(e)},n),i.promise}}}]),angular.module("ngCordova.plugins.sms",[]).factory("$cordovaSms",["$q",function(e){return{send:function(t,n,i){var r=e.defer();return sms.send(t,n,i,function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}}}]),angular.module("ngCordova.plugins.socialSharing",[]).factory("$cordovaSocialSharing",["$q","$window",function(e,t){return{share:function(n,i,r,o){var s=e.defer();return t.plugins.socialsharing.share(n,i,r,o,function(){s.resolve(!0)},function(){s.reject(!1)}),s.promise},shareViaTwitter:function(n,i,r){var o=e.defer();return t.plugins.socialsharing.shareViaTwitter(n,i,r,function(){o.resolve(!0)},function(){o.reject(!1)}),o.promise},shareViaWhatsApp:function(n,i,r){var o=e.defer();return t.plugins.socialsharing.shareViaWhatsApp(n,i,r,function(){o.resolve(!0)},function(){o.reject(!1)}),o.promise},shareViaFacebook:function(n,i,r){var o=e.defer();return t.plugins.socialsharing.shareViaFacebook(n,i,r,function(){o.resolve(!0)},function(){o.reject(!1)}),o.promise},shareViaSMS:function(n,i){var r=e.defer();return t.plugins.socialsharing.shareViaSMS(n,i,function(){r.resolve(!0)},function(){r.reject(!1)}),r.promise},shareViaEmail:function(n,i,r,o,s,a){var l=e.defer();return t.plugins.socialsharing.shareViaEmail(n,i,r,o,s,a,function(){l.resolve(!0)},function(){l.reject(!1)}),l.promise},canShareViaEmail:function(){var n=e.defer();return t.plugins.socialsharing.canShareViaEmail(function(){n.resolve(!0)},function(){n.reject(!1)}),n.promise},canShareVia:function(n,i,r,o,s){var a=e.defer();return t.plugins.socialsharing.canShareVia(n,i,r,o,s,function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise},shareVia:function(n,i,r,o,s){var a=e.defer();return t.plugins.socialsharing.shareVia(n,i,r,o,s,function(){a.resolve(!0)},function(){a.reject(!1)}),a.promise}}}]),angular.module("ngCordova.plugins.spinnerDialog",[]).factory("$cordovaSpinnerDialog",["$window",function(e){return{show:function(t,n,i){return i=i||!1,e.plugins.spinnerDialog.show(t,n,i)},hide:function(){return e.plugins.spinnerDialog.hide()}}}]),angular.module("ngCordova.plugins.splashscreen",[]).factory("$cordovaSplashscreen",[function(){return{hide:function(){return navigator.splashscreen.hide()},show:function(){return navigator.splashscreen.show()}}}]),angular.module("ngCordova.plugins.sqlite",[]).factory("$cordovaSQLite",["$q","$window",function(e,t){return{openDB:function(e,n){return"undefined"==typeof n&&(n=0),t.sqlitePlugin.openDatabase({name:e,bgType:n})},execute:function(t,n,i){var r=e.defer();return t.transaction(function(e){e.executeSql(n,i,function(e,t){r.resolve(t)},function(e,t){r.reject(t)})}),r.promise},insertCollection:function(t,n,i){var r=e.defer(),o=i.slice(0);return t.transaction(function(e){!function t(){var i=o.splice(0,1)[0];try{e.executeSql(n,i,function(e,n){0===o.length?r.resolve(n):t()},function(e,t){r.reject(t)})}catch(s){r.reject(s)}}()}),r.promise},nestedExecute:function(t,n,i,r,o){var s=e.defer();return t.transaction(function(e){e.executeSql(n,r,function(e,t){s.resolve(t),e.executeSql(i,o,function(e,t){s.resolve(t)})})},function(e,t){s.reject(t)}),s.promise},deleteDB:function(n){var i=e.defer();return t.sqlitePlugin.deleteDatabase(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}}}]),angular.module("ngCordova.plugins.statusbar",[]).factory("$cordovaStatusbar",[function(){return{overlaysWebView:function(e){return StatusBar.overlaysWebView(!!e)},style:function(e){switch(e){case 0:return StatusBar.styleDefault();case 1:return StatusBar.styleLightContent();case 2:return StatusBar.styleBlackTranslucent();case 3:return StatusBar.styleBlackOpaque();default:return StatusBar.styleDefault()}},styleColor:function(e){return StatusBar.backgroundColorByName(e)},styleHex:function(e){return StatusBar.backgroundColorByHexString(e)},hide:function(){return StatusBar.hide()},show:function(){return StatusBar.show()},isVisible:function(){return StatusBar.isVisible}}}]),angular.module("ngCordova.plugins.toast",[]).factory("$cordovaToast",["$q","$window",function(e,t){return{showShortTop:function(n){var i=e.defer();return t.plugins.toast.showShortTop(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showShortCenter:function(n){var i=e.defer();return t.plugins.toast.showShortCenter(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showShortBottom:function(n){var i=e.defer();return t.plugins.toast.showShortBottom(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showLongTop:function(n){var i=e.defer();return t.plugins.toast.showLongTop(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showLongCenter:function(n){var i=e.defer();return t.plugins.toast.showLongCenter(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},showLongBottom:function(n){var i=e.defer();return t.plugins.toast.showLongBottom(n,function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise},show:function(n,i,r){var o=e.defer();return t.plugins.toast.show(n,i,r,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}}}]),angular.module("ngCordova.plugins.touchid",[]).factory("$cordovaTouchID",["$q",function(e){return{checkSupport:function(){var t=e.defer();return window.cordova?touchid.checkSupport(function(e){t.resolve(e)},function(e){t.reject(e)}):t.reject("Not supported without cordova.js"),t.promise},authenticate:function(t){var n=e.defer();return window.cordova?touchid.authenticate(function(e){n.resolve(e)},function(e){n.reject(e)},t):n.reject("Not supported without cordova.js"),n.promise}}}]),angular.module("ngCordova.plugins.vibration",[]).factory("$cordovaVibration",[function(){return{vibrate:function(e){return navigator.notification.vibrate(e)},vibrateWithPattern:function(e,t){return navigator.notification.vibrateWithPattern(e,t)},cancelVibration:function(){return navigator.notification.cancelVibration()}}}]),angular.module("ngCordova.plugins.videoCapturePlus",[]).provider("$cordovaVideoCapturePlus",[function(){var e={};this.setLimit=function(t){e.limit=t},this.setMaxDuration=function(t){e.duration=t},this.setHighQuality=function(t){e.highquality=t},this.useFrontCamera=function(t){e.frontcamera=t},this.setPortraitOverlay=function(t){e.portraitOverlay=t},this.setLandscapeOverlay=function(t){e.landscapeOverlay=t},this.setOverlayText=function(t){e.overlayText=t},this.$get=["$q","$window",function(t,n){return{captureVideo:function(i){var r=t.defer();return n.plugins.videocaptureplus?(n.plugins.videocaptureplus.captureVideo(r.resolve,r.reject,angular.extend({},e,i)),r.promise):(r.resolve(null),r.promise)}}}]}]),angular.module("ngCordova.plugins.zip",[]).factory("$cordovaZip",["$q","$window",function(e,t){return{unzip:function(n,i){var r=e.defer();return t.zip.unzip(n,i,function(e){0===e?r.resolve():r.reject()},function(e){r.notify(e)}),r.promise}}}])}(),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ProgressBar=e()}}(function(){var e;return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,n,i){!function(t){"undefined"==typeof SHIFTY_DEBUG_NOW&&(SHIFTY_DEBUG_NOW=function(){return+new Date});var r=function(){"use strict";function r(){}function o(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n)}function s(e,t){return o(t,function(n){e[n]=t[n]}),e}function a(e,t){o(t,function(n){"undefined"==typeof e[n]&&(e[n]=t[n])})}function l(e,t,n,i,r,o,s){var a,l=(e-o)/r;for(a in t)t.hasOwnProperty(a)&&(t[a]=u(n[a],i[a],h[s[a]],l));return t}function u(e,t,n,i){return e+(t-e)*n(i)}function c(e,t){var n=g.prototype.filter,i=e._filterArgs;o(n,function(r){"undefined"!=typeof n[r][t]&&n[r][t].apply(e,i)})}function d(e,t,n,i,r,o,s,a,u){w=t+n,$=Math.min(_(),w),x=$>=w,e.isPlaying()&&!x?(u(e._timeoutHandler,b),c(e,"beforeTween"),l($,i,r,o,n,t,s),c(e,"afterTween"),a(i)):x&&(a(o),e.stop(!0))}function p(e,t){var n={};return"string"==typeof t?o(e,function(e){n[e]=t}):o(e,function(e){n[e]||(n[e]=t[e]||m)}),n}function g(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=f,"undefined"!=typeof t&&this.setConfig(t)}var h,f,m="linear",v=500,b=1e3/60,y=Date.now?Date.now:function(){return+new Date},_=SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:y;f="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var w,$,x;return g.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._start(this.get()),this.resume())},g.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._pausedAtTime=null,this._start=e.start||r,this._step=e.step||r,this._finish=e.finish||r,this._duration=e.duration||v,this._currentState=e.from||this.get(),this._originalState=this.get(),this._targetState=e.to||this.get(),this._timestamp=_();var t=this._currentState,n=this._targetState;return a(n,t),this._easing=p(t,e.easing||m),this._filterArgs=[t,this._originalState,n,this._easing],c(this,"tweenCreated"),this},g.prototype.get=function(){return s({},this._currentState)},g.prototype.set=function(e){this._currentState=e},g.prototype.pause=function(){return this._pausedAtTime=_(),this._isPaused=!0,this},g.prototype.resume=function(){this._isPaused&&(this._timestamp+=_()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0;var e=this;return this._timeoutHandler=function(){d(e,e._timestamp,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)},this._timeoutHandler(),this},g.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=r,e&&(s(this._currentState,this._targetState),c(this,"afterTweenEnd"),this._finish.call(this,this._currentState)),this},g.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},g.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},g.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},g.prototype.filter={},g.prototype.formula={linear:function(e){return e}},h=g.prototype.formula,s(g,{now:_,each:o,tweenProps:l,tweenProp:u,applyFilter:c,shallowCopy:s,defaults:a,composeEasingObject:p}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=d),"object"==typeof i?n.exports=g:"function"==typeof e&&e.amd?e(function(){return g}):"undefined"==typeof t.Tweenable&&(t.Tweenable=g),g}();!function(){r.shallowCopy(r.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin(2*(6*e-1)*Math.PI/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?2-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}})}(),function(){function e(e,t,n,i,r,o){function s(e){return((g*e+h)*e+f)*e}function a(e){return((m*e+v)*e+b)*e}function l(e){return(3*g*e+2*h)*e+f}function u(e){return 1/(200*e)}function c(e,t){return a(p(e,t))}function d(e){return e>=0?e:0-e}function p(e,t){var n,i,r,o,a,u;for(r=e,u=0;8>u;u++){if(o=s(r)-e,d(o)<t)return r;if(a=l(r),d(a)<1e-6)break;r-=o/a}if(n=0,i=1,r=e,n>r)return n;if(r>i)return i;for(;i>n;){if(o=s(r),d(o-e)<t)return r;e>o?n=r:i=r,r=.5*(i-n)+n}return r}var g=0,h=0,f=0,m=0,v=0,b=0;return f=3*t,h=3*(i-t)-f,g=1-f-h,b=3*n,v=3*(r-n)-b,m=1-b-v,c(e,u(o))}function t(t,n,i,r){return function(o){return e(o,t,n,i,r,1)}}r.setBezierFunction=function(e,n,i,o,s){var a=t(n,i,o,s);return a.x1=n,a.y1=i,a.x2=o,a.y2=s,r.prototype.formula[e]=a},r.unsetBezierFunction=function(e){
delete r.prototype.formula[e]}}(),function(){function e(e,t,n,i,o){return r.tweenProps(i,t,e,n,1,0,o)}var t=new r;t._filterArgs=[],r.interpolate=function(n,i,o,s){var a=r.shallowCopy({},n),l=r.composeEasingObject(n,s||"linear");t.set({});var u=t._filterArgs;u.length=0,u[0]=a,u[1]=n,u[2]=i,u[3]=l,r.applyFilter(t,"tweenCreated"),r.applyFilter(t,"beforeTween");var c=e(n,a,i,o,l);return r.applyFilter(t,"afterTween"),c}}(),function(e){function t(e,t){T.length=0;var n,i=e.length;for(n=0;i>n;n++)T.push("_"+t+"_"+n);return T}function n(e){var t=e.match(w);return t?(1===t.length||e[0].match(_))&&t.unshift(""):t=["",""],t.join(C)}function i(t){e.each(t,function(e){var n=t[e];"string"==typeof n&&n.match(S)&&(t[e]=r(n))})}function r(e){return l(S,e,o)}function o(e){var t=s(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function s(e){return e=e.replace(/#/,""),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),E[0]=a(e.substr(0,2)),E[1]=a(e.substr(2,2)),E[2]=a(e.substr(4,2)),E}function a(e){return parseInt(e,16)}function l(e,t,n){var i=t.match(e),r=t.replace(e,C);if(i)for(var o,s=i.length,a=0;s>a;a++)o=i.shift(),r=r.replace(C,n(o));return r}function u(e){return l(x,e,c)}function c(e){for(var t=e.match($),n=t.length,i=e.match(k)[0],r=0;n>r;r++)i+=parseInt(t[r],10)+",";return i=i.slice(0,-1)+")"}function d(i){var r={};return e.each(i,function(e){var o=i[e];if("string"==typeof o){var s=v(o);r[e]={formatString:n(o),chunkNames:t(s,e)}}}),r}function p(t,n){e.each(n,function(e){for(var i=t[e],r=v(i),o=r.length,s=0;o>s;s++)t[n[e].chunkNames[s]]=+r[s];delete t[e]})}function g(t,n){e.each(n,function(e){var i=t[e],r=h(t,n[e].chunkNames),o=f(r,n[e].chunkNames);i=m(n[e].formatString,o),t[e]=u(i)})}function h(e,t){for(var n,i={},r=t.length,o=0;r>o;o++)n=t[o],i[n]=e[n],delete e[n];return i}function f(e,t){M.length=0;for(var n=t.length,i=0;n>i;i++)M.push(e[t[i]]);return M}function m(e,t){for(var n=e,i=t.length,r=0;i>r;r++)n=n.replace(C,+t[r].toFixed(4));return n}function v(e){return e.match($)}function b(t,n){e.each(n,function(e){for(var i=n[e],r=i.chunkNames,o=r.length,s=t[e].split(" "),a=s[s.length-1],l=0;o>l;l++)t[r[l]]=s[l]||a;delete t[e]})}function y(t,n){e.each(n,function(e){for(var i=n[e],r=i.chunkNames,o=r.length,s="",a=0;o>a;a++)s+=" "+t[r[a]],delete t[r[a]];t[e]=s.substr(1)})}var _=/(\d|\-|\.)/,w=/([^\-0-9\.]+)/g,$=/[0-9.\-]+/g,x=new RegExp("rgb\\("+$.source+/,\s*/.source+$.source+/,\s*/.source+$.source+"\\)","g"),k=/^.*\(/,S=/#([0-9]|[a-f]){3,6}/gi,C="VAL",T=[],E=[],M=[];e.prototype.filter.token={tweenCreated:function(e,t,n){i(e),i(t),i(n),this._tokenData=d(e)},beforeTween:function(e,t,n,i){b(i,this._tokenData),p(e,this._tokenData),p(t,this._tokenData),p(n,this._tokenData)},afterTween:function(e,t,n,i){g(e,this._tokenData),g(t,this._tokenData),g(n,this._tokenData),y(i,this._tokenData)}}}(r)}(this)},{}],2:[function(e,t){var n=e("./shape"),i=e("./utils"),r=function(){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",n.apply(this,arguments)};r.prototype=new n,r.prototype.constructor=r,r.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return i.render(this._pathTemplate,{radius:n,"2radius":2*n})},r.prototype._trailString=function(e){return this._pathString(e)},t.exports=r},{"./shape":6,"./utils":8}],3:[function(e,t){var n=e("./shape"),i=e("./utils"),r=function(){this._pathTemplate="M 0,{center} L 100,{center}",n.apply(this,arguments)};r.prototype=new n,r.prototype.constructor=r,r.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},r.prototype._pathString=function(e){return i.render(this._pathTemplate,{center:e.strokeWidth/2})},r.prototype._trailString=function(e){return this._pathString(e)},t.exports=r},{"./shape":6,"./utils":8}],4:[function(e,t){var n=e("./line"),i=e("./circle"),r=e("./square"),o=e("./path");t.exports={Line:n,Circle:i,Square:r,Path:o}},{"./circle":2,"./line":3,"./path":5,"./square":7}],5:[function(e,t){var n=e("shifty"),i=e("./utils"),r={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},o=function(e,t){t=i.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},t);var n;n=i.isString(e)?document.querySelector(e):e,this.path=n,this._opts=t,this._tweenable=null;var r=this.path.getTotalLength();this.path.style.strokeDasharray=r+" "+r,this.set(0)};o.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength(),n=1-e/t;return parseFloat(n.toFixed(6),10)},o.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(i.isFunction(t)){var n=this._easing(this._opts.easing),r=this._calculateTo(e,n);t(r,this._opts.shape||this,this._opts.attachment)}},o.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},o.prototype.animate=function(e,t,r){t=t||{},i.isFunction(t)&&(r=t,t={});var o=i.extend({},t),s=i.extend({},this._opts);t=i.extend(s,t);var a=this._easing(t.easing),l=this._resolveFromAndTo(e,a,o);this.stop(),this.path.getBoundingClientRect();var u=this._getComputedDashOffset(),c=this._progressToOffset(e),d=this;this._tweenable=new n,this._tweenable.tween({from:i.extend({offset:u},l.from),to:i.extend({offset:c},l.to),duration:t.duration,easing:a,step:function(e){d.path.style.strokeDashoffset=e.offset,t.step(e,t.shape||d,t.attachment)},finish:function(){i.isFunction(r)&&r()}})},o.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},o.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},o.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},o.prototype._calculateFrom=function(e){return n.interpolate(this._opts.from,this._opts.to,this.value(),e)},o.prototype._calculateTo=function(e,t){return n.interpolate(this._opts.from,this._opts.to,e,t)},o.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable.dispose(),this._tweenable=null)},o.prototype._easing=function(e){return r.hasOwnProperty(e)?r[e]:e},t.exports=o},{"./utils":8,shifty:1}],6:[function(e,t){var n=e("./path"),i=e("./utils"),r="Object is destroyed",o=function s(e,t){if(!(this instanceof s))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=i.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{autoStyle:!0,color:null,value:"",className:"progressbar-text"}},t,!0);var r,o=this._createSvgView(this._opts);if(r=i.isString(e)?document.querySelector(e):e,!r)throw new Error("Container does not exist: "+e);this._container=r,this._container.appendChild(o.svg),this.text=null,this._opts.text.value&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.svg=o.svg,this.path=o.path,this.trail=o.trail;var a=i.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new n(o.path,a)}};o.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error(r);this._progressPath.animate(e,t,n)},o.prototype.stop=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath.stop()},o.prototype.destroy=function(){if(null===this._progressPath)throw new Error(r);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},o.prototype.set=function(e){if(null===this._progressPath)throw new Error(r);this._progressPath.set(e)},o.prototype.value=function(){if(null===this._progressPath)throw new Error(r);return void 0===this._progressPath?0:this._progressPath.value()},o.prototype.setText=function(e){if(null===this._progressPath)throw new Error(r);null===this.text&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.text.removeChild(this.text.firstChild),this.text.appendChild(document.createTextNode(e))},o.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var i=this._createPath(e);return t.appendChild(i),{svg:t,path:i,trail:n}},o.prototype._initializeSvg=function(e){e.setAttribute("viewBox","0 0 100 100")},o.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},o.prototype._createTrail=function(e){var t=this._trailString(e),n=i.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},o.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},o.prototype._createTextElement=function(e,t){var n=document.createElement("p");return n.appendChild(document.createTextNode(e.text.value)),e.text.autoStyle&&(t.style.position="relative",n.style.position="absolute",n.style.top="50%",n.style.left="50%",n.style.padding=0,n.style.margin=0,i.setStyle(n,"transform","translate(-50%, -50%)"),n.style.color=e.text.color?e.text.color:e.color),n.className=e.text.className,n},o.prototype._pathString=function(){throw new Error("Override this function for each progress bar")},o.prototype._trailString=function(){throw new Error("Override this function for each progress bar")},t.exports=o},{"./path":5,"./utils":8}],7:[function(e,t){var n=e("./shape"),i=e("./utils"),r=function(){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",n.apply(this,arguments)};r.prototype=new n,r.prototype.constructor=r,r.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return i.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},r.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return i.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},t.exports=r},{"./shape":6,"./utils":8}],8:[function(e,t){function n(e,t,i){e=e||{},t=t||{},i=i||!1;for(var r in t)if(t.hasOwnProperty(r)){var o=e[r],s=t[r];e[r]=i&&u(o)&&u(s)?n(o,s,i):s}return e}function i(e,t){var n=e;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o="\\{"+i+"\\}",s=new RegExp(o,"g");n=n.replace(s,r)}return n}function r(e,t,n){for(var i=0;i<c.length;++i){var r=c[i];e.style[r+o(t)]=n}e.style[t]=n}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){return"string"==typeof e||e instanceof String}function a(e){return"function"==typeof e}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(e){if(l(e))return!1;var t=typeof e;return"object"===t&&!!e}var c="Webkit Moz O ms".split(" ");t.exports={extend:n,render:i,setStyle:r,capitalize:o,isString:s,isFunction:a,isObject:u}},{}]},{},[4])(4)}),!function(e){"use strict";function t(){}function n(e){if(!e||"object"!=typeof e)return!1;var t=$(e)||ge;return/object|function/.test(typeof t.Element)?e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName}function i(e){return!(!e||!e.Window)&&e instanceof e.Window}function r(e){return!!e&&e instanceof fe}function o(e){return s(e)&&void 0!==typeof e.length&&a(e.splice)}function s(e){return!!e&&"object"==typeof e}function a(e){return"function"==typeof e}function l(e){return"number"==typeof e}function u(e){return"boolean"==typeof e}function c(e){return"string"==typeof e}function d(e){return c(e)?(he.querySelector(e),!0):!1}function p(e,t){for(var n in t)e[n]=t[n];return e}function g(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function h(e,t,n){t||(t=n.pointerIds.length>1?S(n.pointers):n.pointers[0]),v(t,$e,n),e.page.x=$e.x,e.page.y=$e.y,b(t,$e,n),e.client.x=$e.x,e.client.y=$e.y,e.timeStamp=(new Date).getTime()}function f(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var i=Math.max(e.timeStamp/1e3,.001);e.page.speed=we(e.page.x,e.page.y)/i,e.page.vx=e.page.x/i,e.page.vy=e.page.y/i,e.client.speed=we(e.client.x,e.page.y)/i,e.client.vx=e.client.x/i,e.client.vy=e.client.y/i}function m(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function v(e,t,n){return t=t||{},e instanceof Y?/inertiastart/.test(e.type)?(n=n||e.interaction,p(t,n.inertiaStatus.upCoords.page),t.x+=n.inertiaStatus.sx,t.y+=n.inertiaStatus.sy):(t.x=e.pageX,t.y=e.pageY):Ge?(m("screen",e,t),t.x+=ge.scrollX,t.y+=ge.scrollY):m("page",e,t),t}function b(e,t,n){return t=t||{},e instanceof Y?/inertiastart/.test(e.type)?(p(t,n.inertiaStatus.upCoords.client),t.x+=n.inertiaStatus.sx,t.y+=n.inertiaStatus.sy):(t.x=e.clientX,t.y=e.clientY):m(Ge?"screen":"client",e,t),t}function y(e){return e=e||ge,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function _(e){return l(e.pointerId)?e.pointerId:e.identifier}function w(e){return e instanceof be?e.correspondingUseElement:e}function $(e){if(i(e))return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||ge}function x(e){var t=Re?{x:0,y:0}:y($(e)),n=e instanceof me?e.getBoundingClientRect():e.getClientRects()[0];return n&&{left:n.left+t.x,right:n.right+t.x,top:n.top+t.y,bottom:n.bottom+t.y,width:n.width||n.right-n.left,height:n.heigh||n.bottom-n.top}}function k(e){var t=[];return o(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function S(e){var t=k(e);return{pageX:(t[0].pageX+t[1].pageX)/2,pageY:(t[0].pageY+t[1].pageY)/2,clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function C(e){if(e.length||e.touches&&e.touches.length>1){var t=k(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),r=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,width:r-n,height:o-i}}}function T(e,t){t=t||Ee.deltaSource;var n=t+"X",i=t+"Y",r=k(e),o=r[0][n]-r[1][n],s=r[0][i]-r[1][i];return we(o,s)}function E(e,t,n){n=n||Ee.deltaSource;var i=n+"X",r=n+"Y",o=k(e),s=o[0][i]-o[1][i],a=o[0][r]-o[1][r],u=180*Math.atan(a/s)/Math.PI;if(l(t)){var c=u-t,d=c%360;d>315?u-=360+u/360|0:d>135?u-=180+u/360|0:-315>d?u+=360+u/360|0:-135>d&&(u+=180+u/360|0)}return u}function M(e,t){var i=e?e.options.origin:Ee.origin;return"parent"===i?i=q(t):"self"===i?i=e.getRect(t):d(i)&&(i=O(t,i)||{x:0,y:0}),a(i)&&(i=i(e&&t)),n(i)&&(i=x(i)),i.x="x"in i?i.x:i.left,i.y="y"in i?i.y:i.top,i}function A(e,t,n,i){var r=1-e;return r*r*t+2*r*e*n+e*e*i}function D(e,t,n,i,r,o,s){return{x:A(s,e,n,r),y:A(s,t,i,o)}}function P(e,t,n,i){return e/=i,-n*e*(e-2)+t}function j(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function O(e,t){for(var i=q(e);n(i);){if(ue(i,t))return i;i=q(i)}return null}function q(e){var t=e.parentNode;if(r(t)){for(;(t=t.host)&&r(t););return t}return t}function I(e,t){return e._context===t.ownerDocument||j(e._context,t)}function L(e,t,i){var r=e.options.ignoreFrom;return r&&n(i)?c(r)?ce(i,r,t):n(r)?j(r,i):!1:!1}function B(e,t,i){var r=e.options.allowFrom;return r?n(i)?c(r)?ce(i,r,t):n(r)?j(r,i):!1:!1:!0}function F(e,t){if(!t)return!1;var n=t.options.drag.axis;return"xy"===e||"xy"===n||n===e}function N(e,t){var n=e.options;return/^resize/.test(t)&&(t="resize"),n[t].snap&&n[t].snap.enabled}function G(e,t){var n=e.options;return/^resize/.test(t)&&(t="resize"),n[t].restrict&&n[t].restrict.enabled}function R(e,t){var n=e.options;return/^resize/.test(t)&&(t="resize"),n[t].autoScroll&&n[t].autoScroll.enabled}function V(e,t,n){for(var i=e.options,r=i[n.name].max,o=i[n.name].maxPerElement,s=0,a=0,l=0,u=0,c=Se.length;c>u;u++){var d=Se[u],p=d.prepared.name,g=d.interacting();if(g){if(s++,s>=qe)return!1;if(d.target===e){if(a+=p===n.name|0,a>=r)return!1;if(d.element===t&&(l++,p!==n.name||l>=o))return!1}}}return qe>0}function z(e){var t,n,i,r,o,s=e[0],a=s?0:-1,l=[],u=[];for(r=1;r<e.length;r++)if(t=e[r],t&&t!==s)if(s){if(t.parentNode!==t.ownerDocument)if(s.parentNode!==t.ownerDocument){if(!l.length)for(n=s;n.parentNode&&n.parentNode!==n.ownerDocument;)l.unshift(n),n=n.parentNode;if(s instanceof ye&&t instanceof me&&!(t instanceof ve)){if(t===s.parentNode)continue;n=t.ownerSVGElement}else n=t;for(u=[];n.parentNode!==n.ownerDocument;)u.unshift(n),n=n.parentNode;for(o=0;u[o]&&u[o]===l[o];)o++;var c=[u[o-1],u[o],l[o]];for(i=c[0].lastChild;i;){if(i===c[1]){s=t,a=r,l=[];break}if(i===c[2])break;i=i.previousSibling}}else s=t,a=r}else s=t,a=r;return a}function H(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},a(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,Se.push(this)}function U(e,t,n){var i,r=0,o=Se.length,s=/mouse/i.test(e.pointerType||t)||4===e.pointerType,a=_(e);if(/down|start/i.test(t))for(r=0;o>r;r++){i=Se[r];var l=n;if(i.inertiaStatus.active&&i.target.options[i.prepared.name].inertia.allowResume&&i.mouse===s)for(;l;){if(l===i.element)return i.pointers[0]&&i.removePointer(i.pointers[0]),i.addPointer(e),i;l=q(l)}}if(s||!Ae&&!De){for(r=0;o>r;r++)if(Se[r].mouse&&!Se[r].inertiaStatus.active)return Se[r];for(r=0;o>r;r++)if(Se[r].mouse&&(!/down/.test(t)||!Se[r].inertiaStatus.active))return i;return i=new H,i.mouse=!0,i}for(r=0;o>r;r++)if(le(Se[r].pointerIds,a))return Se[r];if(/up|end|out/i.test(t))return null;for(r=0;o>r;r++)if(i=Se[r],!(i.prepared.name&&!i.target.options.gesture.enabled||i.interacting()||!s&&i.mouse))return i.addPointer(e),i;return new H}function W(e){return function(t){var n,i,r=w(t.path?t.path[0]:t.target),o=w(t.currentTarget);if(Ae&&/touch/.test(t.type))for(Oe=(new Date).getTime(),i=0;i<t.changedTouches.length;i++){var s=t.changedTouches[i];n=U(s,t.type,r),n&&(n._updateEventTargets(r,o),n[e](s,t,r,o))}else{if(!De&&/mouse/.test(t.type)){for(i=0;i<Se.length;i++)if(!Se[i].mouse&&Se[i].pointerIsDown)return;if((new Date).getTime()-Oe<500)return}if(n=U(t,t.type,r),!n)return;n._updateEventTargets(r,o),n[e](t,t,r,o)}}}function Y(e,t,n,i,r,o){var s,a,l=e.target,u=e.snapStatus,c=e.restrictStatus,d=e.pointers,g=(l&&l.options||Ee).deltaSource,h=g+"X",f=g+"Y",m=l?l.options:Ee,v=M(l,r),b="start"===i,y="end"===i,_=b?e.startCoords:e.curCoords;r=r||e.element,a=p({},_.page),s=p({},_.client),a.x-=v.x,a.y-=v.y,s.x-=v.x,s.y-=v.y;var w=m[n].snap&&m[n].snap.relativePoints;!N(l,n)||b&&w&&w.length||(this.snap={range:u.range,locked:u.locked,x:u.snappedX,y:u.snappedY,realX:u.realX,realY:u.realY,dx:u.dx,dy:u.dy},u.locked&&(a.x+=u.dx,a.y+=u.dy,s.x+=u.dx,s.y+=u.dy)),!G(l,n)||b&&m[n].restrict.elementRect||!c.restricted||(a.x+=c.dx,a.y+=c.dy,s.x+=c.dx,s.y+=c.dy,this.restrict={dx:c.dx,dy:c.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=s.x,this.clientY=s.y,this.x0=e.startCoords.page.x,this.y0=e.startCoords.page.y,this.clientX0=e.startCoords.client.x,this.clientY0=e.startCoords.client.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.target=r,this.t0=e.downTimes[0],this.type=n+(i||""),this.interaction=e,this.interactable=l;var $=e.inertiaStatus;if($.active&&(this.detail="inertia"),o&&(this.relatedTarget=o),y?"client"===g?(this.dx=s.x-e.startCoords.client.x,this.dy=s.y-e.startCoords.client.y):(this.dx=a.x-e.startCoords.page.x,this.dy=a.y-e.startCoords.page.y):b?(this.dx=0,this.dy=0):"inertiastart"===i?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):"client"===g?(this.dx=s.x-e.prevEvent.clientX,this.dy=s.y-e.prevEvent.clientY):(this.dx=a.x-e.prevEvent.pageX,this.dy=a.y-e.prevEvent.pageY),e.prevEvent&&"inertia"===e.prevEvent.detail&&!$.active&&m[n].inertia&&m[n].inertia.zeroResumeDelta&&($.resumeDx+=this.dx,$.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===n&&e.resizeAxes?m.resize.square?("y"===e.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,"x"===e.resizeAxes?this.dy=0:"y"===e.resizeAxes&&(this.dx=0)):"gesture"===n&&(this.touches=[d[0],d[1]],b?(this.distance=T(d,g),this.box=C(d),this.scale=1,this.ds=0,this.angle=E(d,void 0,g),this.da=0):y||t instanceof Y?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=T(d,g),this.box=C(d),this.scale=this.distance/e.gesture.startDistance,this.angle=E(d,e.gesture.prevAngle,g),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle)),b)this.timeStamp=e.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===i)this.timeStamp=e.prevEvent.timeStamp,this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTimes[0],t instanceof Y){var x=this[h]-e.prevEvent[h],k=this[f]-e.prevEvent[f],S=this.dt/1e3;this.speed=we(x,k)/S,this.velocityX=x/S,this.velocityY=k/S}else this.speed=e.pointerDelta[g].speed,this.velocityX=e.pointerDelta[g].vx,this.velocityY=e.pointerDelta[g].vy;if((y||"inertiastart"===i)&&e.prevEvent.speed>600&&this.timeStamp-e.prevEvent.timeStamp<150){var A=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI,D=22.5;0>A&&(A+=360);var P=A>=135-D&&225+D>A,j=A>=225-D&&315+D>A,O=!P&&(A>=315-D||45+D>A),q=!j&&A>=45-D&&135+D>A;this.swipe={up:j,down:q,left:P,right:O,angle:A,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function K(){this.originalEvent.preventDefault()}function X(e){var t="";if("drag"===e.name&&(t=Ie.drag),"resize"===e.name)if(e.axis)t=Ie[e.name+e.axis];else if(e.edges){for(var n="resize",i=["top","bottom","left","right"],r=0;4>r;r++)e.edges[i[r]]&&(n+=i[r]);t=Ie[n]}return t}function J(e,t,i,r,o,s){if(!t)return!1;if(t===!0){var a=l(s.width)?s.width:s.right-s.left,u=l(s.height)?s.height:s.bottom-s.top;if(0>a&&("left"===e?e="right":"right"===e&&(e="left")),0>u&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return i.x<(a>=0?s.left:s.right)+Pe;if("top"===e)return i.y<(u>=0?s.top:s.bottom)+Pe;if("right"===e)return i.x>(a>=0?s.right:s.left)-Pe;if("bottom"===e)return i.y>(u>=0?s.bottom:s.top)-Pe}return n(r)?n(t)?t===r:ce(r,t,o):!1}function Z(e,t,n){var i,r=this.getRect(n),o=!1,a=null,l=null,u=p({},t.curCoords.page),c=this.options;if(!r)return null;if(Le.resize&&c.resize.enabled){var d=c.resize;if(i={left:!1,right:!1,top:!1,bottom:!1},s(d.edges)){for(var g in i)i[g]=J(g,d.edges[g],u,t._eventTarget,n,r);i.left=i.left&&!i.right,i.top=i.top&&!i.bottom,o=i.left||i.right||i.top||i.bottom}else{var h="y"!==c.resize.axis&&u.x>r.right-Pe,f="x"!==c.resize.axis&&u.y>r.bottom-Pe;o=h||f,l=(h?"x":"")+(f?"y":"")}}return a=o?"resize":Le.drag&&c.drag.enabled?"drag":null,Le.gesture&&t.pointerIds.length>=2&&!t.dragging&&!t.resizing&&(a="gesture"),a?{name:a,axis:l,edges:i}:null}function Q(e,t){if(!s(e))return null;var n=e.name,i=t.options;return("resize"===n&&i.resize.enabled||"drag"===n&&i.drag.enabled||"gesture"===n&&i.gesture.enabled)&&Le[n]?(("resize"===n||"resizeyx"===n)&&(n="resizexy"),e):null}function ee(e,t){var i={},r=Te[e.type],o=w(e.path?e.path[0]:e.target),s=o;t=t?!0:!1;for(var a in e)i[a]=e[a];for(i.originalEvent=e,i.preventDefault=K;n(s);){for(var l=0;l<r.selectors.length;l++){var u=r.selectors[l],c=r.contexts[l];if(ue(s,u)&&j(c,o)&&j(c,s)){var d=r.listeners[l];i.currentTarget=s;for(var p=0;p<d.length;p++)d[p][1]===t&&d[p][0](i)}}s=q(s)}}function te(e){return ee.call(this,e,!0)}function ne(e,t){return ke.get(e,t)||new ie(e,t)}function ie(e,t){this._element=e,this._iEvents=this._iEvents||{};var i;if(d(e)){this.selector=e;var r=t&&t.context;i=r?$(r):ge,r&&(i.Node?r instanceof i.Node:n(r)||r===i.document)&&(this._context=r)}else i=$(e),n(e,i)&&(_e?(Ue.add(this._element,de.down,We.pointerDown),Ue.add(this._element,de.move,We.pointerHover)):(Ue.add(this._element,"mousedown",We.pointerDown),Ue.add(this._element,"mousemove",We.pointerHover),Ue.add(this._element,"touchstart",We.pointerDown),Ue.add(this._element,"touchmove",We.pointerHover)));this._doc=i.document,le(xe,this._doc)||se(this._doc),ke.push(this),this.set(t)}function re(e,t){var n=!1;return function(){return n||(ge.console.warn(t),n=!0),e.apply(this,arguments)}}function oe(e){for(var t=0;t<Se.length;t++)Se[t].pointerEnd(e,e)}function se(e){if(!le(xe,e)){var t=e.defaultView||e.parentWindow;for(var n in Te)Ue.add(e,n,ee),Ue.add(e,n,te,!0);_e?(de=_e===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Ue.add(e,de.down,We.selectorDown),Ue.add(e,de.move,We.pointerMove),Ue.add(e,de.over,We.pointerOver),Ue.add(e,de.out,We.pointerOut),Ue.add(e,de.up,We.pointerUp),Ue.add(e,de.cancel,We.pointerCancel),Ue.add(e,de.move,Me.edgeMove)):(Ue.add(e,"mousedown",We.selectorDown),Ue.add(e,"mousemove",We.pointerMove),Ue.add(e,"mouseup",We.pointerUp),Ue.add(e,"mouseover",We.pointerOver),Ue.add(e,"mouseout",We.pointerOut),Ue.add(e,"touchstart",We.selectorDown),Ue.add(e,"touchmove",We.pointerMove),Ue.add(e,"touchend",We.pointerUp),Ue.add(e,"touchcancel",We.pointerCancel),Ue.add(e,"mousemove",Me.edgeMove),Ue.add(e,"touchmove",Me.edgeMove)),Ue.add(t,"blur",oe);try{if(t.frameElement){var i=t.frameElement.ownerDocument,r=i.defaultView;Ue.add(i,"mouseup",We.pointerEnd),Ue.add(i,"touchend",We.pointerEnd),Ue.add(i,"touchcancel",We.pointerEnd),Ue.add(i,"pointerup",We.pointerEnd),Ue.add(i,"MSPointerUp",We.pointerEnd),Ue.add(r,"blur",oe)}}catch(o){ne.windowParentError=o}Ue.useAttachEvent&&(Ue.add(e,"selectstart",function(e){var t=Se[0];t.currentAction()&&t.checkAndPreventDefault(e)}),Ue.add(e,"dblclick",W("ie8Dblclick"))),xe.push(e)}}function ae(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function le(e,t){return-1!==ae(e,t)}function ue(t,n,i){return pe?pe(t,n,i):(ge!==e&&(n=n.replace(/\/deep\//g," ")),t[Ve](n))}function ce(e,t,i){for(;n(e);){if(ue(e,t))return!0;if(e=q(e),e===i)return ue(e,t)}return!1}var de,pe,ge=function(){var t=e.document.createTextNode("");return t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t?e.wrap(e):e}(),he=ge.document,fe=ge.DocumentFragment||t,me=ge.SVGElement||t,ve=ge.SVGSVGElement||t,be=ge.SVGElementInstance||t,ye=ge.HTMLElement||ge.Element,_e=ge.PointerEvent||ge.MSPointerEvent,we=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},$e={},xe=[],ke=[],Se=[],Ce=!1,Te={},Ee={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:he,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,axis:"xy",edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},Me={interaction:null,i:null,x:0,y:0,scroll:function(){var e=Me.interaction.target.options[Me.interaction.prepared.name].autoScroll,t=e.container||$(Me.interaction.element),n=(new Date).getTime(),r=(n-Me.prevTime)/1e3,o=e.speed*r;o>=1&&(i(t)?t.scrollBy(Me.x*o,Me.y*o):t&&(t.scrollLeft+=Me.x*o,t.scrollTop+=Me.y*o),Me.prevTime=n),Me.isScrolling&&(He(Me.i),Me.i=ze(Me.scroll))},edgeMove:function(e){for(var t,n,r=!1,o=0;o<Se.length;o++)if(t=Se[o],t.interacting()&&R(t.target,t.prepared.name)){n=t.target,r=!0;break}if(r){var s,a,l,u,c=n.options[t.prepared.name].autoScroll,d=c.container||$(t.element);if(i(d))u=e.clientX<Me.margin,s=e.clientY<Me.margin,a=e.clientX>d.innerWidth-Me.margin,l=e.clientY>d.innerHeight-Me.margin;else{var p=x(d);u=e.clientX<p.left+Me.margin,s=e.clientY<p.top+Me.margin,a=e.clientX>p.right-Me.margin,l=e.clientY>p.bottom-Me.margin}Me.x=a?1:u?-1:0,Me.y=l?1:s?-1:0,Me.isScrolling||(Me.margin=c.margin,Me.speed=c.speed,Me.start(t))}},isScrolling:!1,prevTime:0,start:function(e){Me.isScrolling=!0,He(Me.i),Me.interaction=e,Me.prevTime=(new Date).getTime(),Me.i=ze(Me.scroll)},stop:function(){Me.isScrolling=!1,He(Me.i)}},Ae="ontouchstart"in ge||ge.DocumentTouch&&he instanceof ge.DocumentTouch,De=!!_e,Pe=Ae||De?20:10,je=1,Oe=0,qe=1/0,Ie=he.all&&!ge.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",
resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},Le={drag:!0,resize:!0,gesture:!0},Be="onmousewheel"in he?"mousewheel":"wheel",Fe=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],Ne={},Ge="Opera"==navigator.appName&&Ae&&navigator.userAgent.match("Presto"),Re=/iP(hone|od|ad)/.test(navigator.platform)&&/OS [1-7][^\d]/.test(navigator.appVersion),Ve="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",ze=e.requestAnimationFrame,He=e.cancelAnimationFrame,Ue=function(){function e(e,t,a,p){var g=ae(u,e),h=c[g];if(h||(h={events:{},typeCount:0},g=u.push(e)-1,c.push(h),d.push(o?{supplied:[],wrapped:[],useCount:[]}:null)),h.events[t]||(h.events[t]=[],h.typeCount++),!le(h.events[t],a)){var f;if(o){var m=d[g],v=ae(m.supplied,a),b=m.wrapped[v]||function(t){t.immediatePropagationStopped||(t.target=t.srcElement,t.currentTarget=e,t.preventDefault=t.preventDefault||n,t.stopPropagation=t.stopPropagation||i,t.stopImmediatePropagation=t.stopImmediatePropagation||r,/mouse|click/.test(t.type)&&(t.pageX=t.clientX+$(e).document.documentElement.scrollLeft,t.pageY=t.clientY+$(e).document.documentElement.scrollTop),a(t))};f=e[s](l+t,b,Boolean(p)),-1===v?(m.supplied.push(a),m.wrapped.push(b),m.useCount.push(1)):m.useCount[v]++}else f=e[s](t,a,p||!1);return h.events[t].push(a),f}}function t(e,n,i,r){var s,p,g,h=ae(u,e),f=c[h],m=i;if(f&&f.events)if(o&&(p=d[h],g=ae(p.supplied,i),m=p.wrapped[g]),"all"!==n){if(f.events[n]){var v=f.events[n].length;if("all"===i)for(s=0;v>s;s++)t(e,n,f.events[n][s],Boolean(r));else for(s=0;v>s;s++)if(f.events[n][s]===i){e[a](l+n,m,r||!1),f.events[n].splice(s,1),o&&p&&(p.useCount[g]--,0===p.useCount[g]&&(p.supplied.splice(g,1),p.wrapped.splice(g,1),p.useCount.splice(g,1)));break}f.events[n]&&0===f.events[n].length&&(f.events[n]=null,f.typeCount--)}f.typeCount||(c.splice(h),u.splice(h),d.splice(h))}else for(n in f.events)f.events.hasOwnProperty(n)&&t(e,n,"all")}function n(){this.returnValue=!1}function i(){this.cancelBubble=!0}function r(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var o="attachEvent"in ge&&!("addEventListener"in ge),s=o?"attachEvent":"addEventListener",a=o?"detachEvent":"removeEventListener",l=o?"on":"",u=[],c=[],d=[];return{add:e,remove:t,useAttachEvent:o,_elements:u,_targets:c,_attachedListeners:d}}();H.prototype={getPageXY:function(e,t){return v(e,t,this)},getClientXY:function(e,t){return b(e,t,this)},setEventXY:function(e,t){return h(e,t,this)},pointerOver:function(e,t,n){function i(e,t){e&&I(e,n)&&!L(e,n,n)&&B(e,n,n)&&ue(n,t)&&(r.push(e),o.push(n))}if(!this.prepared.name&&this.mouse){var r=[],o=[],s=this.element;this.addPointer(e),!this.target||!L(this.target,this.element,n)&&B(this.target,this.element,n)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var a=ke.get(n),l=a&&!L(a,n,n)&&B(a,n,n)&&Q(a.getAction(e,this,n),a);l&&!V(a,n,l)&&(l=null),l?(this.target=a,this.element=n,this.matches=[],this.matchElements=[]):(ke.forEachSelector(i),this.validateSelector(e,r,o)?(this.matches=r,this.matchElements=o,this.pointerHover(e,t,this.matches,this.matchElements),Ue.add(n,_e?de.move:"mousemove",We.pointerHover)):this.target&&(j(s,n)?(this.pointerHover(e,t,this.matches,this.matchElements),Ue.add(this.element,_e?de.move:"mousemove",We.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(e,t,n,i,r,o){var s=this.target;if(!this.prepared.name&&this.mouse){var a;this.setEventXY(this.curCoords,e),r?a=this.validateSelector(e,r,o):s&&(a=Q(s.getAction(this.pointers[0],this,this.element),this.target)),s&&s.options.styleCursor&&(s._doc.documentElement.style.cursor=a?X(a):"")}else this.prepared.name&&this.checkAndPreventDefault(t,s,this.element)},pointerOut:function(e,t,n){this.prepared.name||(ke.get(n)||Ue.remove(n,_e?de.move:"mousemove",We.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(e,t,i,r){function o(e,t,n){var r=pe?n.querySelectorAll(t):void 0;I(e,u)&&!L(e,u,i)&&B(e,u,i)&&ue(u,t,r)&&(a.matches.push(e),a.matchElements.push(u))}var s,a=this,l=Ue.useAttachEvent?p({},t):t,u=i,c=this.addPointer(e);if(this.holdTimers[c]=setTimeout(function(){a.pointerHold(Ue.useAttachEvent?l:e,l,i,r)},Ee._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;n(u);){if(u===this.element&&Q(this.target.getAction(e,this,this.element),this.target).name===this.prepared.name)return He(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(e,t,i,"down");u=q(u)}if(this.interacting())return void this.collectEventTargets(e,t,i,"down");for(this.setEventXY(this.curCoords,e);n(u)&&!s;)this.matches=[],this.matchElements=[],ke.forEachSelector(o),s=this.validateSelector(e,this.matches,this.matchElements),u=q(u);return s?(this.prepared.name=s.name,this.prepared.axis=s.axis,this.prepared.edges=s.edges,this.collectEventTargets(e,t,i,"down"),this.pointerDown(e,t,i,r,s)):(this.downTimes[c]=(new Date).getTime(),this.downTargets[c]=i,this.downEvent=t,p(this.downPointer,e),g(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(e,t,i,"down"))},pointerDown:function(e,t,n,i,r){if(!r&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(t,this.target,this.element);this.pointerIsDown=!0;var o,s=this.addPointer(e);if(this.pointerIds.length<2&&!this.target||!this.prepared.name){var a=ke.get(i);a&&!L(a,i,n)&&B(a,i,n)&&(o=Q(r||a.getAction(e,this,i),a,n))&&V(a,i,o)&&(this.target=a,this.element=i)}var l=this.target,u=l&&l.options;if(l&&!this.interacting()){if(o=o||Q(r||l.getAction(e,this,i),l,this.element),this.setEventXY(this.startCoords),!o)return;u.styleCursor&&(l._doc.documentElement.style.cursor=X(o)),this.resizeAxes="resize"===o.name?o.axis:null,"gesture"===o&&this.pointerIds.length<2&&(o=null),this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=0/0,this.downTimes[s]=(new Date).getTime(),this.downTargets[s]=n,this.downEvent=t,p(this.downPointer,e),this.setEventXY(this.prevCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,l,this.element)}else this.inertiaStatus.active&&i===this.element&&Q(l.getAction(e,this,this.element),l).name===this.prepared.name&&(He(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,l,this.element))},setModifications:function(e,t){var n=this.target,i=!0,r=N(n,this.prepared.name)&&(!n.options[this.prepared.name].snap.endOnly||t),o=G(n,this.prepared.name)&&(!n.options[this.prepared.name].restrict.endOnly||t);return r?this.setSnapping(e):this.snapStatus.locked=!1,o?this.setRestriction(e):this.restrictStatus.restricted=!1,r&&this.snapStatus.locked&&!this.snapStatus.changed?i=o&&this.restrictStatus.restricted&&this.restrictStatus.changed:o&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(i=!1),i},setStartOffsets:function(e,t,n){var i,r,o=t.getRect(n),s=M(t,n),a=t.options[this.prepared.name].snap,l=t.options[this.prepared.name].restrict;o?(this.startOffset.left=this.startCoords.page.x-o.left,this.startOffset.top=this.startCoords.page.y-o.top,this.startOffset.right=o.right-this.startCoords.page.x,this.startOffset.bottom=o.bottom-this.startCoords.page.y,i="width"in o?o.width:o.right-o.left,r="height"in o?o.height:o.bottom-o.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var u=a&&"startCoords"===a.offset?{x:this.startCoords.page.x-s.x,y:this.startCoords.page.y-s.y}:a&&a.offset||{x:0,y:0};if(o&&a&&a.relativePoints&&a.relativePoints.length)for(var c=0;c<a.relativePoints.length;c++)this.snapOffsets.push({x:this.startOffset.left-i*a.relativePoints[c].x+u.x,y:this.startOffset.top-r*a.relativePoints[c].y+u.y});else this.snapOffsets.push(u);o&&l.elementRect?(this.restrictOffset.left=this.startOffset.left-i*l.elementRect.left,this.restrictOffset.top=this.startOffset.top-r*l.elementRect.top,this.restrictOffset.right=this.startOffset.right-i*(1-l.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-r*(1-l.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,n){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===e.name?2:1)||(-1===ae(Se,this)&&Se.push(this),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=n,this.setStartOffsets(e.name,t,n),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(e,t,i,r,o){this.recordPointer(e),this.setEventXY(this.curCoords,e instanceof Y?this.inertiaStatus.startEvent:void 0);var s,a,l=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,u=this.mouse?0:ae(this.pointerIds,_(e));if(this.pointerIsDown&&!this.pointerWasMoved&&(s=this.curCoords.client.x-this.startCoords.client.x,a=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=we(s,a)>je),l||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[u]),this.collectEventTargets(e,t,i,"move")),this.pointerIsDown){if(l&&this.pointerWasMoved&&!o)return void this.checkAndPreventDefault(t,this.target,this.element);if(f(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof Y&&/inertiastart/.test(e.type))){if(!this.interacting()&&(f(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var c=Math.abs(s),d=Math.abs(a),p=this.target.options.drag.axis,h=c>d?"x":d>c?"y":"xy";if("xy"!==h&&"xy"!==p&&p!==h){this.prepared.name=null;for(var m=i;n(m);){var v=ke.get(m);if(v&&v!==this.target&&!v.options.drag.manualStart&&"drag"===v.getAction(this.downPointer,this,m).name&&F(h,v)){this.prepared.name="drag",this.target=v,this.element=m;break}m=q(m)}if(!this.prepared.name){var b=function(e,t,n){var r=pe?n.querySelectorAll(t):void 0;return e!==this.target&&I(e,i)&&!e.options.drag.manualStart&&!L(e,m,i)&&B(e,m,i)&&ue(m,t,r)&&"drag"===e.getAction(this.downPointer,this,m).name&&F(h,e)&&V(e,m,"drag")?e:void 0};for(m=i;n(m);){var y=ke.forEachSelector(b);if(y){this.prepared.name="drag",this.target=y,this.element=m;break}m=q(m)}}}}var w=!!this.prepared.name&&!this.interacting();if(w&&(this.target.options[this.prepared.name].manualStart||!V(this.target,this.element,this.prepared)))return void this.stop();if(this.prepared.name&&this.target){w&&this.start(this.prepared,this.target,this.element);var $=this.setModifications(this.curCoords.page,o);($||w)&&(this.prevEvent=this[this.prepared.name+"Move"](t)),this.checkAndPreventDefault(t,this.target,this.element)}}g(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&Me.edgeMove(t)}}},dragStart:function(e){var t=new Y(this,e,"drag","start",this.element);this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var n=this.getDropEvents(e,t);return n.activate&&this.fireActiveDrops(n.activate),t},dragMove:function(e){var t=this.target,n=new Y(this,e,"drag","move",this.element),i=this.element,r=this.getDrop(n,i);this.dropTarget=r.dropzone,this.dropElement=r.element;var o=this.getDropEvents(e,n);return t.fire(n),o.leave&&this.prevDropTarget.fire(o.leave),o.enter&&this.dropTarget.fire(o.enter),o.move&&this.dropTarget.fire(o.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,n},resizeStart:function(e){var t=new Y(this,e,"resize","start",this.element);if(this.prepared.edges){var n=this.target.getRect(this.element);if(this.target.options.resize.square){var i=p({},this.prepared.edges);i.top=i.top||i.left&&!i.bottom,i.left=i.left||i.top&&!i.right,i.bottom=i.bottom||i.right&&!i.top,i.right=i.right||i.bottom&&!i.left,this.prepared._squareEdges=i}else this.prepared._squareEdges=null;this.resizeRects={start:n,current:p({},n),restricted:p({},n),previous:p({},n),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new Y(this,e,"resize","move",this.element),n=this.prepared.edges,i=this.target.options.resize.invert,r="reposition"===i||"negate"===i;if(n){var o=t.dx,s=t.dy,a=this.resizeRects.start,l=this.resizeRects.current,u=this.resizeRects.restricted,c=this.resizeRects.delta,d=p(this.resizeRects.previous,u);if(this.target.options.resize.square){var g=n;n=this.prepared._squareEdges,g.left&&g.bottom||g.right&&g.top?s=-o:g.left||g.right?s=o:(g.top||g.bottom)&&(o=s)}if(n.top&&(l.top+=s),n.bottom&&(l.bottom+=s),n.left&&(l.left+=o),n.right&&(l.right+=o),r){if(p(u,l),"reposition"===i){var h;u.top>u.bottom&&(h=u.top,u.top=u.bottom,u.bottom=h),u.left>u.right&&(h=u.left,u.left=u.right,u.right=h)}}else u.top=Math.min(l.top,a.bottom),u.bottom=Math.max(l.bottom,a.top),u.left=Math.min(l.left,a.right),u.right=Math.max(l.right,a.left);u.width=u.right-u.left,u.height=u.bottom-u.top;for(var f in u)c[f]=u[f]-d[f];t.edges=this.prepared.edges,t.rect=u,t.deltaRect=c}return this.target.fire(t),t},gestureStart:function(e){var t=new Y(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){if(!this.pointerIds.length)return this.prevEvent;var t;return t=new Y(this,e,"gesture","move",this.element),t.ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,1/0===t.scale||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t},pointerHold:function(e,t,n){this.collectEventTargets(e,t,n,"hold")},pointerUp:function(e,t,n,i){var r=this.mouse?0:ae(this.pointerIds,_(e));clearTimeout(this.holdTimers[r]),this.collectEventTargets(e,t,n,"up"),this.collectEventTargets(e,t,n,"tap"),this.pointerEnd(e,t,n,i),this.removePointer(e)},pointerCancel:function(e,t,n,i){var r=this.mouse?0:ae(this.pointerIds,_(e));clearTimeout(this.holdTimers[r]),this.collectEventTargets(e,t,n,"cancel"),this.pointerEnd(e,t,n,i),this.removePointer(e)},ie8Dblclick:function(e,t,n){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&n===this.prevTap.target&&(this.downTargets[0]=n,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(e,t,n,"tap"))},pointerEnd:function(e,t,n,i){var r,o=this.target,s=o&&o.options,a=s&&this.prepared.name&&s[this.prepared.name].inertia,l=this.inertiaStatus;if(this.interacting()){if(l.active)return;var u,c,d=(new Date).getTime(),h=!1,f=!1,m=!1,v=N(o,this.prepared.name)&&s[this.prepared.name].snap.endOnly,b=G(o,this.prepared.name)&&s[this.prepared.name].restrict.endOnly,y=0,_=0;if(u=this.dragging?"x"===s.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===s.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,h=a&&a.enabled&&"gesture"!==this.prepared.name&&t!==l.startEvent,f=h&&d-this.curCoords.timeStamp<50&&u>a.minSpeed&&u>a.endSpeed,h&&!f&&(v||b)){var w={};w.snap=w.restrict=w,v&&(this.setSnapping(this.curCoords.page,w),w.locked&&(y+=w.dx,_+=w.dy)),b&&(this.setRestriction(this.curCoords.page,w),w.restricted&&(y+=w.dx,_+=w.dy)),(y||_)&&(m=!0)}if(f||m){if(g(l.upCoords,this.curCoords),this.pointers[0]=l.startEvent=c=new Y(this,t,this.prepared.name,"inertiastart",this.element),l.t0=d,o.fire(l.startEvent),f){l.vx0=this.pointerDelta.client.vx,l.vy0=this.pointerDelta.client.vy,l.v0=u,this.calcInertia(l);var $,x=p({},this.curCoords.page),k=M(o,this.element);if(x.x=x.x+l.xe-k.x,x.y=x.y+l.ye-k.y,$={useStatusXY:!0,x:x.x,y:x.y,dx:0,dy:0,snap:null},$.snap=$,y=_=0,v){var S=this.setSnapping(this.curCoords.page,$);S.locked&&(y+=S.dx,_+=S.dy)}if(b){var C=this.setRestriction(this.curCoords.page,$);C.restricted&&(y+=C.dx,_+=C.dy)}l.modifiedXe+=y,l.modifiedYe+=_,l.i=ze(this.boundInertiaFrame)}else l.smoothEnd=!0,l.xe=y,l.ye=_,l.sx=l.sy=0,l.i=ze(this.boundSmoothEndFrame);return void(l.active=!0)}(v||b)&&this.pointerMove(e,t,n,i,!0)}if(this.dragging){r=new Y(this,t,"drag","end",this.element);var T=this.element,E=this.getDrop(r,T);this.dropTarget=E.dropzone,this.dropElement=E.element;var A=this.getDropEvents(t,r);A.leave&&this.prevDropTarget.fire(A.leave),A.enter&&this.dropTarget.fire(A.enter),A.drop&&this.dropTarget.fire(A.drop),A.deactivate&&this.fireActiveDrops(A.deactivate),o.fire(r)}else this.resizing?(r=new Y(this,t,"resize","end",this.element),o.fire(r)):this.gesturing&&(r=new Y(this,t,"gesture","end",this.element),o.fire(r));this.stop(t)},collectDrops:function(e){var t,i=[],r=[];for(e=e||this.element,t=0;t<ke.length;t++)if(ke[t].options.drop.enabled){var o=ke[t],s=o.options.drop.accept;if(!(n(s)&&s!==e||c(s)&&!ue(e,s)))for(var a=o.selector?o._context.querySelectorAll(o.selector):[o._element],l=0,u=a.length;u>l;l++){var d=a[l];d!==e&&(i.push(o),r.push(d))}}return{dropzones:i,elements:r}},fireActiveDrops:function(e){var t,n,i,r;for(t=0;t<this.activeDrops.dropzones.length;t++)n=this.activeDrops.dropzones[t],i=this.activeDrops.elements[t],i!==r&&(e.target=i,n.fire(e)),r=i},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var n=0;n<this.activeDrops.dropzones.length;n++)this.activeDrops.rects[n]=this.activeDrops.dropzones[n].getRect(this.activeDrops.elements[n])},getDrop:function(e,t){var n=[];Ce&&this.setActiveDrops(t);for(var i=0;i<this.activeDrops.dropzones.length;i++){var r=this.activeDrops.dropzones[i],o=this.activeDrops.elements[i],s=this.activeDrops.rects[i];n.push(r.dropCheck(this.pointers[0],this.target,t,o,s)?o:null)}var a=z(n),l=this.activeDrops.dropzones[a]||null,u=this.activeDrops.elements[a]||null;return{dropzone:l,element:u}},getDropEvents:function(e,t){var n={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(n.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(n.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(n.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"}),"dragstart"===t.type&&(n.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),"dragend"===t.type&&(n.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),"dragmove"===t.type&&this.dropTarget&&(n.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),n},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target&&!this.target.selector&&(this.target=this.element=null),this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){Me.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&a(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null),this.clearTargets()}this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var n=0;n<this.pointers.length;n++)-1===ae(this.pointerIds,_(this.pointers[n]))&&this.pointers.splice(n,1);Se.length>1&&Se.splice(ae(Se,this),1)},inertiaFrame:function(){var e=this.inertiaStatus,t=this.target.options[this.prepared.name].inertia,n=t.resistance,i=(new Date).getTime()/1e3-e.t0;if(i<e.te){var r=1-(Math.exp(-n*i)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*r,e.sy=e.ye*r;else{var o=D(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,r);e.sx=o.x,e.sy=o.y}this.pointerMove(e.startEvent,e.startEvent),e.i=ze(this.boundInertiaFrame)}else e.sx=e.modifiedXe,e.sy=e.modifiedYe,this.pointerMove(e.startEvent,e.startEvent),e.active=!1,this.pointerEnd(e.startEvent,e.startEvent)},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,n=this.target.options[this.prepared.name].inertia.smoothEndDuration;n>t?(e.sx=P(t,0,e.xe,n),e.sy=P(t,0,e.ye,n),this.pointerMove(e.startEvent,e.startEvent),e.i=ze(this.boundSmoothEndFrame)):(e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),e.active=!1,e.smoothEnd=!1,this.pointerEnd(e.startEvent,e.startEvent))},addPointer:function(e){var t=_(e),n=this.mouse?0:ae(this.pointerIds,t);return-1===n&&(n=this.pointerIds.length),this.pointerIds[n]=t,this.pointers[n]=e,n},removePointer:function(e){var t=_(e),n=this.mouse?0:ae(this.pointerIds,t);-1!==n&&(this.interacting()||this.pointers.splice(n,1),this.pointerIds.splice(n,1),this.downTargets.splice(n,1),this.downTimes.splice(n,1),this.holdTimers.splice(n,1))},recordPointer:function(e){if(!this.inertiaStatus.active){var t=this.mouse?0:ae(this.pointerIds,_(e));-1!==t&&(this.pointers[t]=e)}},collectEventTargets:function(e,t,i,r){function o(e,t,o){var s=pe?o.querySelectorAll(t):void 0;e._iEvents[r]&&n(u)&&I(e,u)&&!L(e,u,i)&&B(e,u,i)&&ue(u,t,s)&&(a.push(e),l.push(u))}var s=this.mouse?0:ae(this.pointerIds,_(e));if("tap"!==r||!this.pointerWasMoved&&this.downTargets[s]&&this.downTargets[s]===i){for(var a=[],l=[],u=i;u;)ne.isSet(u)&&ne(u)._iEvents[r]&&(a.push(ne(u)),l.push(u)),ke.forEachSelector(o),u=q(u);(a.length||"tap"===r)&&this.firePointers(e,t,i,a,l,r)}},firePointers:function(e,t,n,i,r,o){var s,a,l,u=this.mouse?0:ae(_(e)),d={};for("doubletap"===o?d=e:(p(d,t),t!==e&&p(d,e),d.preventDefault=K,d.stopPropagation=Y.prototype.stopPropagation,d.stopImmediatePropagation=Y.prototype.stopImmediatePropagation,d.interaction=this,d.timeStamp=(new Date).getTime(),d.originalEvent=t,d.type=o,d.pointerId=_(e),d.pointerType=this.mouse?"mouse":De?c(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch"),"tap"===o&&(d.dt=d.timeStamp-this.downTimes[u],a=d.timeStamp-this.tapTime,l=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===d.target&&500>a),d["double"]=l,this.tapTime=d.timeStamp),s=0;s<i.length&&(d.currentTarget=r[s],d.interactable=i[s],i[s].fire(d),!(d.immediatePropagationStopped||d.propagationStopped&&r[s+1]!==d.currentTarget));s++);if(l){var g={};p(g,d),g.dt=a,g.type="doubletap",this.collectEventTargets(g,t,n,"doubletap"),this.prevTap=g}else"tap"===o&&(this.prevTap=d)},validateSelector:function(e,t,n){for(var i=0,r=t.length;r>i;i++){var o=t[i],s=n[i],a=Q(o.getAction(e,this,s),o);if(a&&V(o,s,a))return this.target=o,this.element=s,a}},setSnapping:function(e,t){var n,i,r,o=this.target.options[this.prepared.name].snap,s=[];if(t=t||this.snapStatus,t.useStatusXY)i={x:t.x,y:t.y};else{var u=M(this.target,this.element);i=p({},e),i.x-=u.x,i.y-=u.y}t.realX=i.x,t.realY=i.y,i.x=i.x-this.inertiaStatus.resumeDx,i.y=i.y-this.inertiaStatus.resumeDy;for(var c=o.targets?o.targets.length:0,d=0;d<this.snapOffsets.length;d++){var g={x:i.x-this.snapOffsets[d].x,y:i.y-this.snapOffsets[d].y};for(r=0;c>r;r++)n=a(o.targets[r])?o.targets[r](g.x,g.y,this):o.targets[r],n&&s.push({x:l(n.x)?n.x+this.snapOffsets[d].x:g.x,y:l(n.y)?n.y+this.snapOffsets[d].y:g.y,range:l(n.range)?n.range:o.range})}var h={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(r=0,c=s.length;c>r;r++){n=s[r];var f=n.range,m=n.x-i.x,v=n.y-i.y,b=we(m,v),y=f>=b;1/0===f&&h.inRange&&1/0!==h.range&&(y=!1),(!h.target||(y?h.inRange&&1/0!==f?b/f<h.distance/h.range:1/0===f&&1/0!==h.range||b<h.distance:!h.inRange&&b<h.distance))&&(1/0===f&&(y=!0),h.target=n,h.distance=b,h.range=f,h.inRange=y,h.dx=m,h.dy=v,t.range=f)}var _;return h.target?(_=t.snappedX!==h.target.x||t.snappedY!==h.target.y,t.snappedX=h.target.x,t.snappedY=h.target.y):(_=!0,t.snappedX=0/0,t.snappedY=0/0),t.dx=h.dx,t.dy=h.dy,t.changed=_||h.inRange&&!t.locked,t.locked=h.inRange,t},setRestriction:function(e,t){var i,r=this.target,o=r&&r.options[this.prepared.name].restrict,s=o&&o.restriction;if(!s)return t;t=t||this.restrictStatus,i=i=t.useStatusXY?{x:t.x,y:t.y}:p({},e),t.snap&&t.snap.locked&&(i.x+=t.snap.dx||0,i.y+=t.snap.dy||0),i.x-=this.inertiaStatus.resumeDx,i.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1;var l,u,d;return c(s)&&(s="parent"===s?q(this.element):"self"===s?r.getRect(this.element):O(this.element,s),!s)?t:(a(s)&&(s=s(i.x,i.y,this.element)),n(s)&&(s=x(s)),l=s,s?"x"in s&&"y"in s?(u=Math.max(Math.min(l.x+l.width-this.restrictOffset.right,i.x),l.x+this.restrictOffset.left),d=Math.max(Math.min(l.y+l.height-this.restrictOffset.bottom,i.y),l.y+this.restrictOffset.top)):(u=Math.max(Math.min(l.right-this.restrictOffset.right,i.x),l.left+this.restrictOffset.left),d=Math.max(Math.min(l.bottom-this.restrictOffset.bottom,i.y),l.top+this.restrictOffset.top)):(u=i.x,d=i.y),t.dx=u-i.x,t.dy=d-i.y,t.changed=t.restrictedX!==u||t.restrictedY!==d,t.restricted=!(!t.dx&&!t.dy),t.restrictedX=u,t.restrictedY=d,t)},checkAndPreventDefault:function(e,t,n){if(t=t||this.target){var i=t.options,r=i.preventDefault;if("auto"===r&&n&&!/^input$|^textarea$/i.test(n.nodeName)){if(/down|start/i.test(e.type)&&"drag"===this.prepared.name&&"xy"!==i.drag.axis)return;if(i[this.prepared.name]&&i[this.prepared.name].manualStart&&!this.interacting())return;return void e.preventDefault()}return"always"===r?void e.preventDefault():void 0}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,n=t.resistance,i=-Math.log(t.endSpeed/e.v0)/n;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-i)/n,e.modifiedYe=e.ye=(e.vy0-i)/n,e.te=i,e.lambda_v0=n/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},Y.prototype={preventDefault:t,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var We={},Ye=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer"],Ke=0,Xe=Ye.length;Xe>Ke;Ke++){var Je=Ye[Ke];We[Je]=W(Je)}ke.indexOfElement=function(e,t){t=t||he;for(var n=0;n<this.length;n++){var i=this[n];if(i.selector===e&&i._context===t||!i.selector&&i._element===e)return n}return-1},ke.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},ke.forEachSelector=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(n.selector){var i=e(n,n.selector,n._context,t,this);if(void 0!==i)return i}}},ie.prototype={setOnEvents:function(e,t){return"drop"===e?(a(t.ondrop)&&(this.ondrop=t.ondrop),a(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),a(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),a(t.ondragenter)&&(this.ondragenter=t.ondragenter),a(t.ondragleave)&&(this.ondragleave=t.ondragleave),a(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,a(t.onstart)&&(this[e+"start"]=t.onstart),a(t.onmove)&&(this[e+"move"]=t.onmove),a(t.onend)&&(this[e+"end"]=t.onend),a(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return s(e)?(this.options.drag.enabled=e.enabled===!1?!1:!0,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:null===e.axis&&delete this.options.drag.axis,this):u(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var n in t)n in Ee[e]&&(s(t[n])?(this.options[e][n]=p(this.options[e][n]||{},t[n]),s(Ee.perAction[n])&&"enabled"in Ee.perAction[n]&&(this.options[e][n].enabled=t[n].enabled===!1?!1:!0)):u(t[n])&&s(Ee.perAction[n])?this.options[e][n].enabled=t[n]:void 0!==t[n]&&(this.options[e][n]=t[n]))},dropzone:function(e){return s(e)?(this.options.drop.enabled=e.enabled===!1?!1:!0,this.setOnEvents("drop",e),this.accept(e.accept),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:l(e.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),this):u(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(e,t,n,i,r){var o=!1;if(!(r=r||this.getRect(i)))return this.options.dropChecker?this.options.dropChecker(e,o,this,i,t,n):!1;var s=this.options.drop.overlap;if("pointer"===s){var a,u,c=v(e),d=M(t,n);c.x+=d.x,c.y+=d.y,a=c.x>r.left&&c.x<r.right,u=c.y>r.top&&c.y<r.bottom,o=a&&u}var p=t.getRect(n);if("center"===s){var g=p.left+p.width/2,h=p.top+p.height/2;o=g>=r.left&&g<=r.right&&h>=r.top&&h<=r.bottom}if(l(s)){var f=Math.max(0,Math.min(r.right,p.right)-Math.max(r.left,p.left))*Math.max(0,Math.min(r.bottom,p.bottom)-Math.max(r.top,p.top)),m=f/(p.width*p.height);o=m>=s}return this.options.dropChecker&&(o=this.options.dropChecker(e,o,this,i,t,n)),o},dropChecker:function(e){return a(e)?(this.options.dropChecker=e,this):null===e?(delete this.options.getRect,this):this.options.dropChecker},accept:function(e){return n(e)?(this.options.drop.accept=e,this):d(e)?(this.options.drop.accept=e,this):null===e?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return s(e)?(this.options.resize.enabled=e.enabled===!1?!1:!0,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=Ee.resize.axis),u(e.square)&&(this.options.resize.square=e.square),this):u(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return u(e)?(this.options.resize.square=e,this):null===e?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return s(e)?(this.options.gesture.enabled=e.enabled===!1?!1:!0,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):u(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return s(e)?e=p({actions:["drag","resize"]},e):u(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e);

},snap:function(e){var t=this.setOptions("snap",e);return t===this?this:t.drag},setOptions:function(e,t){var n,i=t&&o(t.actions)?t.actions:["drag"];if(s(t)||u(t)){for(n=0;n<i.length;n++){var r=/resize/.test(i[n])?"resize":i[n];if(s(this.options[r])){var a=this.options[r][e];s(t)?(p(a,t),a.enabled=t.enabled===!1?!1:!0,"snap"===e&&("grid"===a.mode?a.targets=[ne.createSnapGrid(p({offset:a.gridOffset||{x:0,y:0}},a.grid||{}))]:"anchor"===a.mode?a.targets=a.anchors:"path"===a.mode&&(a.targets=a.paths),"elementOrigin"in t&&(a.relativePoints=[t.elementOrigin]))):u(t)&&(a.enabled=t)}}return this}var l={},c=["drag","resize","gesture"];for(n=0;n<c.length;n++)e in Ee[c[n]]&&(l[c[n]]=this.options[c[n]][e]);return l},inertia:function(e){var t=this.setOptions("inertia",e);return t===this?this:t.drag},getAction:function(e,t,n){var i=this.defaultActionChecker(e,t,n);return this.options.actionChecker?this.options.actionChecker(e,i,this,n,t):i},defaultActionChecker:Z,actionChecker:function(e){return a(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!n(e)&&(e=this._context.querySelector(this.selector)),x(e)},rectChecker:function(e){return a(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return u(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):u(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return d(e)?(this.options.origin=e,this):s(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(e){if(!s(e))return this.setOptions("restrict",e);for(var t,n=["drag","resize","gesture"],i=0;i<n.length;i++){var r=n[i];if(r in e){var o=p({actions:[r],restriction:e[r]},e);t=this.setOptions("restrict",o)}}return t},context:function(){return this._context},_context:he,ignoreFrom:function(e){return d(e)?(this.options.ignoreFrom=e,this):n(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return d(e)?(this.options.allowFrom=e,this):n(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(e){if(!e||!e.type||!le(Fe,e.type))return this;var t,n,i,r="on"+e.type,o="";if(e.type in this._iEvents)for(t=this._iEvents[e.type],n=0,i=t.length;i>n&&!e.immediatePropagationStopped;n++)o=t[n].name,t[n](e);if(a(this[r])&&(o=this[r].name,this[r](e)),e.type in Ne&&(t=Ne[e.type]))for(n=0,i=t.length;i>n&&!e.immediatePropagationStopped;n++)o=t[n].name,t[n](e);return this},on:function(e,t,n){var i;if(c(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o(e)){for(i=0;i<e.length;i++)this.on(e[i],t,n);return this}if(s(e)){for(var r in e)this.on(r,e[r],t);return this}if("wheel"===e&&(e=Be),n=n?!0:!1,le(Fe,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!Te[e])for(Te[e]={selectors:[],contexts:[],listeners:[]},i=0;i<xe.length;i++)Ue.add(xe[i],e,ee),Ue.add(xe[i],e,te,!0);var a,l=Te[e];for(a=l.selectors.length-1;a>=0&&(l.selectors[a]!==this.selector||l.contexts[a]!==this._context);a--);-1===a&&(a=l.selectors.length,l.selectors.push(this.selector),l.contexts.push(this._context),l.listeners.push([])),l.listeners[a].push([t,n])}else Ue.add(this._element,e,t,n);return this},off:function(e,t,n){var i;if(c(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o(e)){for(i=0;i<e.length;i++)this.off(e[i],t,n);return this}if(s(e)){for(var r in e)this.off(r,e[r],t);return this}var a,l=-1;if(n=n?!0:!1,"wheel"===e&&(e=Be),le(Fe,e))a=this._iEvents[e],a&&-1!==(l=ae(a,t))&&this._iEvents[e].splice(l,1);else if(this.selector){var u=Te[e],d=!1;if(!u)return this;for(l=u.selectors.length-1;l>=0;l--)if(u.selectors[l]===this.selector&&u.contexts[l]===this._context){var p=u.listeners[l];for(i=p.length-1;i>=0;i--){var g=p[i][0],h=p[i][1];if(g===t&&h===n){p.splice(i,1),p.length||(u.selectors.splice(l,1),u.contexts.splice(l,1),u.listeners.splice(l,1),Ue.remove(this._context,e,ee),Ue.remove(this._context,e,te,!0),u.selectors.length||(Te[e]=null)),d=!0;break}}if(d)break}}else Ue.remove(this._element,e,t,n);return this},set:function(e){s(e)||(e={}),this.options=p({},Ee.base);var t,n=["drag","drop","resize","gesture"],i=["draggable","dropzone","resizable","gesturable"],r=p(p({},Ee.perAction),e[o]||{});for(t=0;t<n.length;t++){var o=n[t];this.options[o]=p({},Ee[o]),this.setPerAction(o,r),this[i[t]](e[o])}var a=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker"];for(t=0,Xe=a.length;Xe>t;t++){var l=a[t];this.options[l]=Ee.base[l],l in e&&this[l](e[l])}return this},unset:function(){if(Ue.remove(this,"all"),c(this.selector))for(var e in Te)for(var t=Te[e],n=0;n<t.selectors.length;n++){t.selectors[n]===this.selector&&t.contexts[n]===this._context&&(t.selectors.splice(n,1),t.contexts.splice(n,1),t.listeners.splice(n,1),t.selectors.length||(Te[e]=null)),Ue.remove(this._context,e,ee),Ue.remove(this._context,e,te,!0);break}else Ue.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),ke.splice(ae(ke,this),1),ne}},ie.prototype.snap=re(ie.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),ie.prototype.restrict=re(ie.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),ie.prototype.inertia=re(ie.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),ie.prototype.autoScroll=re(ie.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),ne.isSet=function(e,t){return-1!==ke.indexOfElement(e,t&&t.context)},ne.on=function(e,t,n){if(c(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o(e)){for(var i=0;i<e.length;i++)ne.on(e[i],t,n);return ne}if(s(e)){for(var r in e)ne.on(r,e[r],t);return ne}return le(Fe,e)?Ne[e]?Ne[e].push(t):Ne[e]=[t]:Ue.add(he,e,t,n),ne},ne.off=function(e,t,n){if(c(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o(e)){for(var i=0;i<e.length;i++)ne.off(e[i],t,n);return ne}if(s(e)){for(var r in e)ne.off(r,e[r],t);return ne}if(le(Fe,e)){var a;e in Ne&&-1!==(a=ae(Ne[e],t))&&Ne[e].splice(a,1)}else Ue.remove(he,e,t,n);return ne},ne.enableDragging=re(function(e){return null!==e&&void 0!==e?(Le.drag=e,ne):Le.drag},"interact.enableDragging is deprecated and will soon be removed."),ne.enableResizing=re(function(e){return null!==e&&void 0!==e?(Le.resize=e,ne):Le.resize},"interact.enableResizing is deprecated and will soon be removed."),ne.enableGesturing=re(function(e){return null!==e&&void 0!==e?(Le.gesture=e,ne):Le.gesture},"interact.enableGesturing is deprecated and will soon be removed."),ne.eventTypes=Fe,ne.debug=function(){var e=Se[0]||new H;return{interactions:Se,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:We.addPointer,removePointer:We.removePointer,recordPointer:We.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:ie,interactables:ke,pointerIsDown:e.pointerIsDown,defaultOptions:Ee,defaultActionChecker:Z,actionCursors:Ie,dragMove:We.dragMove,resizeMove:We.resizeMove,gestureMove:We.gestureMove,pointerUp:We.pointerUp,pointerDown:We.pointerDown,pointerMove:We.pointerMove,pointerHover:We.pointerHover,events:Ue,globalEvents:Ne,delegatedEvents:Te}},ne.getTouchAverage=S,ne.getTouchBBox=C,ne.getTouchDistance=T,ne.getTouchAngle=E,ne.getElementRect=x,ne.matchesSelector=ue,ne.closest=O,ne.margin=function(e){return l(e)?(Pe=e,ne):Pe},ne.supportsTouch=function(){return Ae},ne.supportsPointerEvent=function(){return De},ne.stop=function(e){for(var t=Se.length-1;t>0;t--)Se[t].stop(e);return ne},ne.dynamicDrop=function(e){return u(e)?(Ce=e,ne):Ce},ne.pointerMoveTolerance=function(e){return l(e)?(je=e,this):je},ne.maxInteractions=function(e){return l(e)?(qe=e,this):qe},ne.createSnapGrid=function(e){return function(t,n){var i=0,r=0;s(e.offset)&&(i=e.offset.x,r=e.offset.y);var o=Math.round((t-i)/e.x),a=Math.round((n-r)/e.y),l=o*e.x+i,u=a*e.y+r;return{x:l,y:u,range:e.range}}},se(he),Ve in Element.prototype&&a(Element.prototype[Ve])||(pe=function(e,t,n){n=n||e.parentNode.querySelectorAll(t);for(var i=0,r=n.length;r>i;i++)if(n[i]===e)return!0;return!1}),function(){for(var t=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!e.requestAnimationFrame;++i)ze=e[n[i]+"RequestAnimationFrame"],He=e[n[i]+"CancelAnimationFrame"]||e[n[i]+"CancelRequestAnimationFrame"];ze||(ze=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),r=setTimeout(function(){e(n+i)},i);return t=n+i,r}),He||(He=function(e){clearTimeout(e)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ne),exports.interact=ne):"function"==typeof define&&define.amd?define("interact",function(){return ne}):e.interact=ne}(window);var SpinningWheel={cellHeight:44,friction:.003,slotData:[],handleEvent:function(e){"touchstart"==e.type?(this.lockScreen(e),"sw-cancel"==e.currentTarget.id||"sw-done"==e.currentTarget.id?this.tapDown(e):"sw-frame"==e.currentTarget.id&&this.scrollStart(e)):"touchmove"==e.type?(this.lockScreen(e),"sw-cancel"==e.currentTarget.id||"sw-done"==e.currentTarget.id?this.tapCancel(e):"sw-frame"==e.currentTarget.id&&this.scrollMove(e)):"touchend"==e.type?"sw-cancel"==e.currentTarget.id||"sw-done"==e.currentTarget.id?this.tapUp(e):"sw-frame"==e.currentTarget.id&&this.scrollEnd(e):"webkitTransitionEnd"==e.type?"sw-wrapper"==e.target.id?this.destroy():this.backWithinBoundaries(e):"orientationchange"==e.type?this.onOrientationChange(e):"scroll"==e.type&&this.onScroll(e)},onOrientationChange:function(e){window.scrollTo(0,0),this.swWrapper.style.top=window.innerHeight+window.pageYOffset+"px",this.calculateSlotsWidth()},onScroll:function(e){this.swWrapper.style.top=window.innerHeight+window.pageYOffset+"px"},lockScreen:function(e){e.preventDefault(),e.stopPropagation()},reset:function(){this.slotEl=[],this.activeSlot=null,this.swWrapper=void 0,this.swSlotWrapper=void 0,this.swSlots=void 0,this.swFrame=void 0},calculateSlotsWidth:function(){for(var e=this.swSlots.getElementsByTagName("div"),t=0;t<e.length;t+=1)this.slotEl[t].slotWidth=e[t].offsetWidth},create:function(e){var t,n,i,r,o;if(this.reset(),o=document.createElement("div"),o.id="sw-wrapper",o.style.top=window.innerHeight+window.pageYOffset+"px",o.style.webkitTransitionProperty="-webkit-transform",o.innerHTML='<div id="sw-header"><div id="sw-cancel">Cancel</div><div id="sw-done">Done</div></div><div id="sw-slots-wrapper"><div id="sw-slots"></div></div><div id="sw-frame"></div>',e){var s=document.getElementById(e);s.appendChild(o)}else document.body.appendChild(o);for(this.swWrapper=o,this.swSlotWrapper=document.getElementById("sw-slots-wrapper"),this.swSlots=document.getElementById("sw-slots"),this.swFrame=document.getElementById("sw-frame"),n=0;n<this.slotData.length;n+=1){r=document.createElement("ul"),i="";for(t in this.slotData[n].values)i+="<li>"+this.slotData[n].values[t]+"</li>";r.innerHTML=i,o=document.createElement("div"),o.className=this.slotData[n].style,o.appendChild(r),this.swSlots.appendChild(o),r.slotPosition=n,r.slotYPosition=0,r.slotWidth=0,r.slotMaxScroll=this.swSlotWrapper.clientHeight-r.clientHeight-86,r.style.webkitTransitionTimingFunction="cubic-bezier(0, 0, 0.2, 1)",this.slotEl.push(r),this.slotData[n].defaultValue&&this.scrollToValue(n,this.slotData[n].defaultValue)}this.calculateSlotsWidth(),document.addEventListener("touchstart",this,!1),document.addEventListener("touchmove",this,!1),window.addEventListener("orientationchange",this,!0),window.addEventListener("scroll",this,!0),document.getElementById("sw-cancel").addEventListener("touchstart",this,!1),document.getElementById("sw-done").addEventListener("touchstart",this,!1),this.swFrame.addEventListener("touchstart",this,!1)},open:function(e){this.create(e),this.swWrapper.style.webkitTransitionTimingFunction="ease-in",this.swWrapper.style.webkitTransitionDuration="400ms",this.swWrapper.style.webkitTransform="translate3d(0, -260px, 0)"},destroy:function(){this.swWrapper.removeEventListener("webkitTransitionEnd",this,!1),this.swFrame.removeEventListener("touchstart",this,!1),document.getElementById("sw-cancel").removeEventListener("touchstart",this,!1),document.getElementById("sw-done").removeEventListener("touchstart",this,!1),document.removeEventListener("touchstart",this,!1),document.removeEventListener("touchmove",this,!1),window.removeEventListener("orientationchange",this,!0),window.removeEventListener("scroll",this,!0),this.slotData=[],this.cancelAction=function(){return!1},this.cancelDone=function(){return!0},this.reset(),document.body.removeChild(document.getElementById("sw-wrapper"))},close:function(){this.swWrapper.style.webkitTransitionTimingFunction="ease-in",this.swWrapper.style.webkitTransitionDuration="0ms",this.swWrapper.style.webkitTransform="translate3d(0, 0, 0)",this.swWrapper.addEventListener("webkitTransitionEnd",this,!1)},addSlot:function(e,t,n){t||(t=""),t=t.split(" ");for(var i=0;i<t.length;i+=1)t[i]="sw-"+t[i];t=t.join(" ");var r={values:e,style:t,defaultValue:n};this.slotData.push(r)},changeNonSelectedValuesToOpacity:function(){var e,t,n,i,r=[],o=[];for(n in this.slotEl){this.slotEl[n].removeEventListener("webkitTransitionEnd",this,!1),this.slotEl[n].style.webkitTransitionDuration="0",this.slotEl[n].slotYPosition>0?this.setPosition(n,0):this.slotEl[n].slotYPosition<this.slotEl[n].slotMaxScroll&&this.setPosition(n,this.slotEl[n].slotMaxScroll),e=-Math.round(this.slotEl[n].slotYPosition/this.cellHeight),t=0;for(i in this.slotData[n].values){if(t==e){r.push(i),o.push(this.slotData[n].values[i]);break}t+=1}}},getSelectedValues:function(){var e,t,n,i,r=[],o=[];for(n in this.slotEl){this.slotEl[n].removeEventListener("webkitTransitionEnd",this,!1),this.slotEl[n].style.webkitTransitionDuration="0",this.slotEl[n].slotYPosition>0?this.setPosition(n,0):this.slotEl[n].slotYPosition<this.slotEl[n].slotMaxScroll&&this.setPosition(n,this.slotEl[n].slotMaxScroll),e=-Math.round(this.slotEl[n].slotYPosition/this.cellHeight),t=0;for(i in this.slotData[n].values){if(t==e){r.push(i),o.push(this.slotData[n].values[i]);break}t+=1}}return{keys:r,values:o}},setPosition:function(e,t){this.slotEl[e].slotYPosition=t,this.slotEl[e].style.webkitTransform="translate3d(0, "+t+"px, 0)"},scrollStart:function(e){for(var t=e.targetTouches[0].clientX-this.swSlots.offsetLeft-this.slotEl[0].slotWidth-40,n=0,i=0;i<this.slotEl.length;i+=1)if(n+=this.slotEl[i].slotWidth,n>t){this.activeSlot=i;break}if(this.slotData[this.activeSlot].style.match("readonly"))return this.swFrame.removeEventListener("touchmove",this,!1),this.swFrame.removeEventListener("touchend",this,!1),!1;this.slotEl[this.activeSlot].removeEventListener("webkitTransitionEnd",this,!1),this.slotEl[this.activeSlot].style.webkitTransitionDuration="0";var r=window.getComputedStyle(this.slotEl[this.activeSlot]).webkitTransform;return r=new WebKitCSSMatrix(r).m42,r!=this.slotEl[this.activeSlot].slotYPosition&&this.setPosition(this.activeSlot,r),this.startY=e.targetTouches[0].clientY,this.scrollStartY=this.slotEl[this.activeSlot].slotYPosition,this.scrollStartTime=e.timeStamp,this.swFrame.addEventListener("touchmove",this,!1),this.swFrame.addEventListener("touchend",this,!1),!0},scrollMove:function(e){var t=e.targetTouches[0].clientY-this.startY;(this.slotEl[this.activeSlot].slotYPosition>0||this.slotEl[this.activeSlot].slotYPosition<this.slotEl[this.activeSlot].slotMaxScroll)&&(t/=2),this.setPosition(this.activeSlot,this.slotEl[this.activeSlot].slotYPosition+t),this.startY=e.targetTouches[0].clientY,e.timeStamp-this.scrollStartTime>80&&(this.scrollStartY=this.slotEl[this.activeSlot].slotYPosition,this.scrollStartTime=e.timeStamp)},scrollEnd:function(e){if(this.swFrame.removeEventListener("touchmove",this,!1),this.swFrame.removeEventListener("touchend",this,!1),this.slotEl[this.activeSlot].slotYPosition>0||this.slotEl[this.activeSlot].slotYPosition<this.slotEl[this.activeSlot].slotMaxScroll)return this.scrollTo(this.activeSlot,this.slotEl[this.activeSlot].slotYPosition>0?0:this.slotEl[this.activeSlot].slotMaxScroll),!1;var t=this.slotEl[this.activeSlot].slotYPosition-this.scrollStartY;if(t<this.cellHeight/1.5&&t>-this.cellHeight/1.5)return this.slotEl[this.activeSlot].slotYPosition%this.cellHeight&&this.scrollTo(this.activeSlot,Math.round(this.slotEl[this.activeSlot].slotYPosition/this.cellHeight)*this.cellHeight,"100ms"),!1;var n=e.timeStamp-this.scrollStartTime,i=2*t/n/this.friction,r=this.friction/2*i*i;0>i&&(i=-i,r=-r);var o=this.slotEl[this.activeSlot].slotYPosition+r;o>0?(o/=2,i/=3,o>this.swSlotWrapper.clientHeight/4&&(o=this.swSlotWrapper.clientHeight/4)):o<this.slotEl[this.activeSlot].slotMaxScroll?(o=(o-this.slotEl[this.activeSlot].slotMaxScroll)/2+this.slotEl[this.activeSlot].slotMaxScroll,i/=3,o<this.slotEl[this.activeSlot].slotMaxScroll-this.swSlotWrapper.clientHeight/4&&(o=this.slotEl[this.activeSlot].slotMaxScroll-this.swSlotWrapper.clientHeight/4)):o=Math.round(o/this.cellHeight)*this.cellHeight,this.scrollTo(this.activeSlot,Math.round(o),Math.round(i)+"ms");this.getSelectedValues();return!0},scrollTo:function(e,t,n){this.slotEl[e].style.webkitTransitionDuration=n?n:"100ms",this.setPosition(e,t?t:0),(this.slotEl[e].slotYPosition>0||this.slotEl[e].slotYPosition<this.slotEl[e].slotMaxScroll)&&this.slotEl[e].addEventListener("webkitTransitionEnd",this,!1)},scrollToValue:function(e,t){var n,i,r;this.slotEl[e].removeEventListener("webkitTransitionEnd",this,!1),this.slotEl[e].style.webkitTransitionDuration="0",i=0;for(r in this.slotData[e].values){if(r==t){n=i*this.cellHeight,this.setPosition(e,n);break}i-=1}},backWithinBoundaries:function(e){return e.target.removeEventListener("webkitTransitionEnd",this,!1),this.scrollTo(e.target.slotPosition,e.target.slotYPosition>0?0:e.target.slotMaxScroll,"150ms"),!1},tapDown:function(e){e.currentTarget.addEventListener("touchmove",this,!1),e.currentTarget.addEventListener("touchend",this,!1),e.currentTarget.className="sw-pressed";this.getSelectedValues()},tapCancel:function(e){e.currentTarget.removeEventListener("touchmove",this,!1),e.currentTarget.removeEventListener("touchend",this,!1),e.currentTarget.className="";this.getSelectedValues()},tapUp:function(e){this.tapCancel(e),"sw-cancel"==e.currentTarget.id?this.cancelAction():this.doneAction();this.getSelectedValues();this.close()},setCancelAction:function(e){this.cancelAction=e},setDoneAction:function(e){this.doneAction=e},cancelAction:function(){return!1},cancelDone:function(){return!0}};!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.card=e()}}(function(){var e;return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){t.exports=e("./lib/extend")},{"./lib/extend":2}],2:[function(e,t,n){function i(){var e,t,n,o,s,a,l=arguments[0]||{},u=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},u=2),"object"==typeof l||r.fn(l)||(l={});c>u;u++)if(e=arguments[u],null!=e){"string"==typeof e&&(e=e.split(""));for(t in e)n=l[t],o=e[t],l!==o&&(d&&o&&(r.hash(o)||(s=r.array(o)))?(s?(s=!1,a=n&&r.array(n)?n:[]):a=n&&r.hash(n)?n:{},l[t]=i(d,a,o)):"undefined"!=typeof o&&(l[t]=o))}return l}var r=e("is");i.version="1.0.8",t.exports=i},{is:3}],3:[function(e,t,n){var i=Object.prototype,r=i.hasOwnProperty,o=i.toString,s=function(e){return e!==e},a={"boolean":1,number:1,string:1,undefined:1},l=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,u=/^[A-Fa-f0-9]+$/,c=t.exports={};c.a=c.type=function(e,t){return typeof e===t},c.defined=function(e){return"undefined"!=typeof e},c.empty=function(e){var t,n=o.call(e);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===e.length;if("[object Object]"===n){for(t in e)if(r.call(e,t))return!1;return!0}return!1},c.equal=function(e,t){var n=e===t;if(n)return!0;var i,r=o.call(e);if(r!==o.call(t))return!1;if("[object Object]"===r){for(i in e)if(!(c.equal(e[i],t[i])&&i in t))return!1;for(i in t)if(!(c.equal(e[i],t[i])&&i in e))return!1;return!0}if("[object Array]"===r){if(i=e.length,i!==t.length)return!1;for(;--i;)if(!c.equal(e[i],t[i]))return!1;return!0}return"[object Function]"===r?e.prototype===t.prototype:"[object Date]"===r?e.getTime()===t.getTime():n},c.hosted=function(e,t){var n=typeof t[e];return"object"===n?!!t[e]:!a[n]},c.instance=c["instanceof"]=function(e,t){return e instanceof t},c.nil=c["null"]=function(e){return null===e},c.undef=c.undefined=function(e){return"undefined"==typeof e},c.args=c.arguments=function(e){var t="[object Arguments]"===o.call(e),n=!c.array(e)&&c.arraylike(e)&&c.object(e)&&c.fn(e.callee);return t||n},c.array=function(e){return"[object Array]"===o.call(e)},c.args.empty=function(e){return c.args(e)&&0===e.length},c.array.empty=function(e){return c.array(e)&&0===e.length},c.arraylike=function(e){return!!e&&!c["boolean"](e)&&r.call(e,"length")&&isFinite(e.length)&&c.number(e.length)&&e.length>=0},c["boolean"]=function(e){return"[object Boolean]"===o.call(e)},c["false"]=function(e){return c["boolean"](e)&&Boolean(Number(e))===!1},c["true"]=function(e){return c["boolean"](e)&&Boolean(Number(e))===!0},c.date=function(e){return"[object Date]"===o.call(e)},c.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},c.error=function(e){return"[object Error]"===o.call(e)},c.fn=c["function"]=function(e){var t="undefined"!=typeof window&&e===window.alert;return t||"[object Function]"===o.call(e)},c.number=function(e){return"[object Number]"===o.call(e)},c.infinite=function(e){return e===1/0||e===-(1/0)},c.decimal=function(e){return c.number(e)&&!s(e)&&!c.infinite(e)&&e%1!==0},c.divisibleBy=function(e,t){var n=c.infinite(e),i=c.infinite(t),r=c.number(e)&&!s(e)&&c.number(t)&&!s(t)&&0!==t;return n||i||r&&e%t===0},c["int"]=function(e){return c.number(e)&&!s(e)&&e%1===0},c.maximum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!c.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e<t[n])return!1;return!0},c.minimum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!c.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e>t[n])return!1;return!0},c.nan=function(e){return!c.number(e)||e!==e},c.even=function(e){return c.infinite(e)||c.number(e)&&e===e&&e%2===0},c.odd=function(e){return c.infinite(e)||c.number(e)&&e===e&&e%2!==0},c.ge=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!c.infinite(e)&&!c.infinite(t)&&e>=t},c.gt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!c.infinite(e)&&!c.infinite(t)&&e>t},c.le=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!c.infinite(e)&&!c.infinite(t)&&t>=e},c.lt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!c.infinite(e)&&!c.infinite(t)&&t>e},c.within=function(e,t,n){if(s(e)||s(t)||s(n))throw new TypeError("NaN is not a valid value");if(!c.number(e)||!c.number(t)||!c.number(n))throw new TypeError("all arguments must be numbers");var i=c.infinite(e)||c.infinite(t)||c.infinite(n);return i||e>=t&&n>=e},c.object=function(e){return"[object Object]"===o.call(e)},c.hash=function(e){return c.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},c.regexp=function(e){return"[object RegExp]"===o.call(e)},c.string=function(e){return"[object String]"===o.call(e)},c.base64=function(e){return c.string(e)&&(!e.length||l.test(e))},c.hex=function(e){return c.string(e)&&(!e.length||u.test(e))}},{}],4:[function(t,n,i){(function(r){!function(t){if("object"==typeof i&&"undefined"!=typeof n)n.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof r?o=r:"undefined"!=typeof self&&(o=self),(o.qj||(o.qj={})).js=t()}}(function(){return function e(n,i,r){function o(a,l){if(!i[a]){if(!n[a]){var u="function"==typeof t&&t;if(!l&&u)return u(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=i[a]={exports:{}};n[a][0].call(c.exports,function(e){var t=n[a][1][e];return o(t?t:e)},c,c.exports,e,n,i,r)}return i[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var i,r,o;i=function(e){return i.isDOMElement(e)?e:document.querySelectorAll(e)},i.isDOMElement=function(e){return e&&null!=e.nodeName},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i.trim=function(e){return null===e?"":(e+"").replace(o,"")},r=/\r/g,i.val=function(e,t){var n;return arguments.length>1?e.value=t:(n=e.value,"string"==typeof n?n.replace(r,""):null===n?"":n)},i.preventDefault=function(e){return"function"==typeof e.preventDefault?void e.preventDefault():(e.returnValue=!1,!1)},i.normalizeEvent=function(e){var t;return t=e,e={which:null!=t.which?t.which:void 0,target:t.target||t.srcElement,preventDefault:function(){return i.preventDefault(t)},originalEvent:t,data:t.data||t.detail},null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e},i.on=function(e,t,n){var r,o,s,a,l,u,c,d;if(e.length)for(a=0,u=e.length;u>a;a++)r=e[a],i.on(r,t,n);else{if(!t.match(" "))return s=n,n=function(e){return e=i.normalizeEvent(e),s(e)},e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?(t="on"+t,e.attachEvent(t,n)):void(e["on"+t]=n);for(d=t.split(" "),l=0,c=d.length;c>l;l++)o=d[l],i.on(e,o,n)}},i.addClass=function(e,t){var n;return e.length?function(){var r,o,s;for(s=[],r=0,o=e.length;o>r;r++)n=e[r],s.push(i.addClass(n,t));return s}():e.classList?e.classList.add(t):e.className+=" "+t},i.hasClass=function(e,t){var n,r,o,s;if(e.length){for(r=!0,o=0,s=e.length;s>o;o++)n=e[o],r=r&&i.hasClass(n,t);return r}return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},i.removeClass=function(e,t){var n,r,o,s,a,l;if(e.length)return function(){var n,o,s;for(s=[],n=0,o=e.length;o>n;n++)r=e[n],s.push(i.removeClass(r,t));return s}();if(e.classList){for(a=t.split(" "),l=[],o=0,s=a.length;s>o;o++)n=a[o],l.push(e.classList.remove(n));return l}return e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},i.toggleClass=function(e,t,n){var r;return e.length?function(){var o,s,a;for(a=[],o=0,s=e.length;s>o;o++)r=e[o],a.push(i.toggleClass(r,t,n));return a}():n?i.hasClass(e,t)?void 0:i.addClass(e,t):i.removeClass(e,t)},i.append=function(e,t){var n;return e.length?function(){var r,o,s;for(s=[],r=0,o=e.length;o>r;r++)n=e[r],s.push(i.append(n,t));return s}():e.insertAdjacentHTML("beforeend",t)},i.find=function(e,t){return(e instanceof NodeList||e instanceof Array)&&(e=e[0]),e.querySelectorAll(t)},i.trigger=function(e,t,n){var i,r;try{r=new CustomEvent(t,{detail:n})}catch(o){i=o,r=document.createEvent("CustomEvent"),r.initCustomEvent?r.initCustomEvent(t,!0,!0,n):r.initEvent(t,!0,!0,n)}return e.dispatchEvent(r)},t.exports=i},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){t.exports=e("cssify")},{cssify:6}],6:[function(e,t,n){t.exports=function(e,t){var n=t||document;if(n.createStyleSheet)n.createStyleSheet().cssText=e;else{var i=n.getElementsByTagName("head")[0],r=n.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(n.createTextNode(e)),i.appendChild(r)}},t.exports.byUrl=function(e){if(document.createStyleSheet)document.createStyleSheet(e);else{var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.href=e,t.appendChild(n)}}},{}],7:[function(e,t,n){(function(n){var i,r,o,s;e("../scss/card.scss"),r=e("qj"),s=e("./payment/src/payment.coffee"),o=e("node.extend"),i=function(){function e(e){return this.options=o(!0,this.defaults,e),this.options.form?(this.$el=r(this.options.form),this.options.container?(this.$container=r(this.options.container),this.render(),this.attachHandlers(),void this.handleInitialValues()):void console.log("Please provide a container")):void console.log("Please provide a form")}var t;return e.prototype.cardTemplate='<div class="jp-card-container"><div class="jp-card"><div class="jp-card-front"><div class="jp-card-logo jp-card-visa">visa</div><div class="jp-card-logo jp-card-mastercard">MasterCard</div><div class="jp-card-logo jp-card-maestro">Maestro</div><div class="jp-card-logo jp-card-amex"></div><div class="jp-card-logo jp-card-discover">discover</div><div class="jp-card-logo jp-card-dankort"><div class="dk"><div class="d"></div><div class="k"></div></div></div><div class="jp-card-lower"><div class="jp-card-shiny"></div><div class="jp-card-cvc jp-card-display">{{cvc}}</div><div class="jp-card-number jp-card-display">{{number}}</div><div class="jp-card-name jp-card-display">{{name}}</div><div class="jp-card-expiry jp-card-display" data-before="{{monthYear}}" data-after="{{validDate}}">{{expiry}}</div></div></div><div class="jp-card-back"><div class="jp-card-bar"></div><div class="jp-card-cvc jp-card-display">{{cvc}}</div><div class="jp-card-shiny"></div></div></div></div>',e.prototype.template=function(e,t){return e.replace(/\{\{(.*?)\}\}/g,function(e,n,i){return t[n]})},e.prototype.cardTypes=["jp-card-amex","jp-card-dankort","jp-card-dinersclub","jp-card-discover","jp-card-jcb","jp-card-laser","jp-card-maestro","jp-card-mastercard","jp-card-unionpay","jp-card-visa","jp-card-visaelectron"],e.prototype.defaults={formatting:!0,formSelectors:{numberInput:'input[name="number"]',expiryInput:'input[name="expiry"]',cvcInput:'input[name="cvc"]',nameInput:'input[name="name"]'},cardSelectors:{cardContainer:".jp-card-container",card:".jp-card",numberDisplay:".jp-card-number",expiryDisplay:".jp-card-expiry",cvcDisplay:".jp-card-cvc",nameDisplay:".jp-card-name"},messages:{validDate:"valid\nthru",monthYear:"month/year"},values:{number:"&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull;",cvc:"&bull;&bull;&bull;",expiry:"&bull;&bull;/&bull;&bull;",name:"Full Name"},classes:{valid:"jp-card-valid",invalid:"jp-card-invalid"},debug:!1},e.prototype.render=function(){var e,t,n,i,s,a,l,u;r.append(this.$container,this.template(this.cardTemplate,o({},this.options.messages,this.options.values))),l=this.options.cardSelectors;for(n in l)s=l[n],this["$"+n]=r.find(this.$container,s);u=this.options.formSelectors;for(n in u)s=u[n],s=this.options[n]?this.options[n]:s,i=r.find(this.$el,s),!i.length&&this.options.debug&&console.error("Card can't find a "+n+" in your form."),this["$"+n]=i;return this.options.formatting&&(Payment.formatCardNumber(this.$numberInput),
Payment.formatCardCVC(this.$cvcInput),1===this.$expiryInput.length&&Payment.formatCardExpiry(this.$expiryInput)),this.options.width&&(e=r(this.options.cardSelectors.cardContainer)[0],t=parseInt(e.clientWidth),e.style.transform="scale("+this.options.width/t+")"),("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0)&&(a=navigator.userAgent.toLowerCase(),-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")&&r.addClass(this.$card,"jp-card-safari")),/MSIE 10\./i.test(navigator.userAgent)&&r.addClass(this.$card,"jp-card-ie-10"),/rv:11.0/i.test(navigator.userAgent)?r.addClass(this.$card,"jp-card-ie-11"):void 0},e.prototype.attachHandlers=function(){var e;return t(this.$numberInput,this.$numberDisplay,{fill:!1,filters:this.validToggler("cardNumber")}),r.on(this.$numberInput,"payment.cardType",this.handle("setCardType")),e=[function(e){return e.replace(/(\s+)/g,"")}],1===this.$expiryInput.length&&e.push(this.validToggler("cardExpiry")),t(this.$expiryInput,this.$expiryDisplay,{join:function(e){return 2===e[0].length||e[1]?"/":""},filters:e}),t(this.$cvcInput,this.$cvcDisplay,{filters:this.validToggler("cardCVC")}),r.on(this.$cvcInput,"focus",this.handle("flipCard")),r.on(this.$cvcInput,"blur",this.handle("unflipCard")),t(this.$nameInput,this.$nameDisplay,{fill:!1,filters:this.validToggler("cardHolderName"),join:" "})},e.prototype.handleInitialValues=function(){var e,t,n,i,o;i=this.options.formSelectors,o=[];for(t in i)n=i[t],e=this["$"+t],r.val(e)?(r.trigger(e,"paste"),o.push(setTimeout(function(){return r.trigger(e,"keyup")}))):o.push(void 0);return o},e.prototype.handle=function(e){return function(t){return function(n){var i;return i=Array.prototype.slice.call(arguments),i.unshift(n.target),t.handlers[e].apply(t,i)}}(this)},e.prototype.validToggler=function(e){var t;return"cardExpiry"===e?t=function(e){var t;return t=Payment.fns.cardExpiryVal(e),Payment.fns.validateCardExpiry(t.month,t.year)}:"cardCVC"===e?t=function(e){return function(t){return Payment.fns.validateCardCVC(t,e.cardType)}}(this):"cardNumber"===e?t=function(e){return Payment.fns.validateCardNumber(e)}:"cardHolderName"===e&&(t=function(e){return""!==e}),function(e){return function(n,i,r){var o;return o=t(n),e.toggleValidClass(i,o),e.toggleValidClass(r,o),n}}(this)},e.prototype.toggleValidClass=function(e,t){return r.toggleClass(e,this.options.classes.valid,t),r.toggleClass(e,this.options.classes.invalid,!t)},e.prototype.handlers={setCardType:function(e,t){var n;return n=t.data,r.hasClass(this.$card,n)?void 0:(r.removeClass(this.$card,"jp-card-unknown"),r.removeClass(this.$card,this.cardTypes.join(" ")),r.addClass(this.$card,"jp-card-"+n),r.toggleClass(this.$card,"jp-card-identified","unknown"!==n),this.cardType=n)},flipCard:function(){return r.addClass(this.$card,"jp-card-flipped")},unflipCard:function(){return r.removeClass(this.$card,"jp-card-flipped")}},t=function(e,t,n){var i,o,s;return null==n&&(n={}),n.fill=n.fill||!1,n.filters=n.filters||[],n.filters instanceof Array||(n.filters=[n.filters]),n.join=n.join||"","function"!=typeof n.join&&(i=n.join,n.join=function(){return i}),s=function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)o=t[e],i.push(o.textContent);return i}(),r.on(e,"focus",function(){return r.addClass(t,"jp-card-focused")}),r.on(e,"blur",function(){return r.removeClass(e,"jp-card-focused")}),r.on(e,"keyup change paste",function(i){var o,a,l,u,c,d,p,g,h,f,m,v,b;for(p=function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)o=e[t],i.push(r.val(o));return i}(),u=n.join(p),p=p.join(u),p===u&&(p=""),v=n.filters,g=0,f=v.length;f>g;g++)a=v[g],p=a(p,e,t);for(b=[],l=h=0,m=t.length;m>h;l=++h)c=t[l],d=n.fill?p+s[l].substring(p.length):p||s[l],b.push(c.textContent=d);return b}),e},e}(),t.exports=i,n.Card=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../scss/card.scss":9,"./payment/src/payment.coffee":8,"node.extend":1,qj:4}],8:[function(e,t,n){(function(n){var i,r,o,s,a,l,u,c,d,p,g,h,f,m,v,b,y,_,w,$,x=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=e("qj"),l=/(\d{1,4})/g,a=[{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dankort",pattern:/^5019/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:l,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:l,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:l,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:l,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:l,length:[13,14,15,16],cvcLength:[3],luhn:!0}],o=function(e){var t,n,i;for(e=(e+"").replace(/\D/g,""),n=0,i=a.length;i>n;n++)if(t=a[n],t.pattern.test(e))return t},s=function(e){var t,n,i;for(n=0,i=a.length;i>n;n++)if(t=a[n],t.type===e)return t},m=function(e){var t,n,i,r,o,s;for(i=!0,r=0,n=(e+"").split("").reverse(),o=0,s=n.length;s>o;o++)t=n[o],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),r+=t;return r%10===0},f=function(e){var t;return null!=e.selectionStart&&e.selectionStart!==e.selectionEnd?!0:null!=("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)&&document.selection.createRange().text?!0:!1},v=function(e){return setTimeout(function(t){return function(){var t,n;return t=e.target,n=r.val(t),n=i.fns.formatCardNumber(n),r.val(t,n)}}(this))},d=function(e){var t,n,i,s,a,l,u;return n=String.fromCharCode(e.which),!/^\d+$/.test(n)||(a=e.target,u=r.val(a),t=o(u+n),i=(u.replace(/\D/g,"")+n).length,l=16,t&&(l=t.length[t.length.length-1]),i>=l||null!=a.selectionStart&&a.selectionStart!==u.length)?void 0:(s=t&&"amex"===t.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,s.test(u)?(e.preventDefault(),r.val(a,u+" "+n)):s.test(u+n)?(e.preventDefault(),r.val(a,u+n+" ")):void 0)},u=function(e){var t,n;return t=e.target,n=r.val(t),e.meta||8!==e.which||null!=t.selectionStart&&t.selectionStart!==n.length?void 0:/\d\s$/.test(n)?(e.preventDefault(),r.val(t,n.replace(/\d\s$/,""))):/\s\d?$/.test(n)?(e.preventDefault(),r.val(t,n.replace(/\s\d?$/,""))):void 0},p=function(e){var t,n,i;return t=String.fromCharCode(e.which),/^\d+$/.test(t)?(n=e.target,i=r.val(n)+t,/^\d$/.test(i)&&"0"!==i&&"1"!==i?(e.preventDefault(),r.val(n,"0"+i+" / ")):/^\d\d$/.test(i)?(e.preventDefault(),r.val(n,""+i+" / ")):void 0):void 0},g=function(e){var t,n,i;return t=String.fromCharCode(e.which),/^\d+$/.test(t)?(n=e.target,i=r.val(n),/^\d\d$/.test(i)?r.val(n,""+i+" / "):void 0):void 0},h=function(e){var t,n,i;return t=String.fromCharCode(e.which),"/"===t?(n=e.target,i=r.val(n),/^\d$/.test(i)&&"0"!==i?r.val(n,"0"+i+" / "):void 0):void 0},c=function(e){var t,n;if(!e.metaKey&&(t=e.target,n=r.val(t),8===e.which&&(null==t.selectionStart||t.selectionStart===n.length)))return/\d(\s|\/)+$/.test(n)?(e.preventDefault(),r.val(t,n.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(n)?(e.preventDefault(),r.val(t,n.replace(/\s\/\s?\d?$/,""))):void 0},w=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?e.preventDefault():0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),/[\d\s]/.test(t)?void 0:e.preventDefault())},y=function(e){var t,n,i,s;if(i=e.target,n=String.fromCharCode(e.which),/^\d+$/.test(n)&&!f(i))if(s=(r.val(i)+n).replace(/\D/g,""),t=o(s)){if(!(s.length<=t.length[t.length.length-1]))return e.preventDefault()}else if(!(s.length<=16))return e.preventDefault()},_=function(e){var t,n,i;return n=e.target,t=String.fromCharCode(e.which),/^\d+$/.test(t)&&!f(n)?(i=r.val(n)+t,i=i.replace(/\D/g,""),i.length>6?e.preventDefault():void 0):void 0},b=function(e){var t,n,i;return n=e.target,t=String.fromCharCode(e.which),/^\d+$/.test(t)?(i=r.val(n)+t,i.length<=4?void 0:e.preventDefault()):void 0},$=function(e){var t,n,o,s,l;return s=e.target,l=r.val(s),o=i.fns.cardType(l)||"unknown",r.hasClass(s,o)?void 0:(t=function(){var e,t,i;for(i=[],e=0,t=a.length;t>e;e++)n=a[e],i.push(n.type);return i}(),r.removeClass(s,"unknown"),r.removeClass(s,t.join(" ")),r.addClass(s,o),r.toggleClass(s,"identified","unknown"!==o),r.trigger(s,"payment.cardType",o))},i=function(){function e(){}return e.fns={cardExpiryVal:function(e){var t,n,i,r;return e=e.replace(/\s/g,""),r=e.split("/",2),t=r[0],i=r[1],2===(null!=i?i.length:void 0)&&/^\d+$/.test(i)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),i=n+i),t=parseInt(t,10),i=parseInt(i,10),{month:t,year:i}},validateCardNumber:function(e){var t,n;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(t=o(e),t?(n=e.length,x.call(t.length,n)>=0&&(t.luhn===!1||m(e))):!1):!1},validateCardExpiry:function(e,t){var n,i,o,s;return"object"==typeof e&&"month"in e&&(s=e,e=s.month,t=s.year),e&&t?(e=r.trim(e),t=r.trim(t),/^\d+$/.test(e)&&/^\d+$/.test(t)&&parseInt(e,10)<=12?(2===t.length&&(o=(new Date).getFullYear(),o=o.toString().slice(0,2),t=o+t),i=new Date(t,e),n=new Date,i.setMonth(i.getMonth()-1),i.setMonth(i.getMonth()+1,1),i>n):!1):!1},validateCardCVC:function(e,t){var n,i;return e=r.trim(e),/^\d+$/.test(e)?t&&s(t)?(n=e.length,x.call(null!=(i=s(t))?i.cvcLength:void 0,n)>=0):e.length>=3&&e.length<=4:!1},cardType:function(e){var t;return e?(null!=(t=o(e))?t.type:void 0)||null:null},formatCardNumber:function(e){var t,n,i,r;return(t=o(e))?(i=t.length[t.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,+i+1||9e9),t.format.global?null!=(r=e.match(t.format))?r.join(" "):void 0:(n=t.format.exec(e),null!=n&&n.shift(),null!=n?n.join(" "):void 0)):e}},e.restrictNumeric=function(e){return r.on(e,"keypress",w)},e.cardExpiryVal=function(t){return e.fns.cardExpiryVal(r.val(t))},e.formatCardCVC=function(t){return e.restrictNumeric(t),r.on(t,"keypress",b),t},e.formatCardExpiry=function(t){return e.restrictNumeric(t),r.on(t,"keypress",_),r.on(t,"keypress",p),r.on(t,"keypress",h),r.on(t,"keypress",g),r.on(t,"keydown",c),t},e.formatCardNumber=function(t){return e.restrictNumeric(t),r.on(t,"keypress",y),r.on(t,"keypress",d),r.on(t,"keydown",u),r.on(t,"keyup",$),r.on(t,"paste",v),t},e.getCardArray=function(){return a},e.setCardArray=function(e){return a=e,!0},e.addToCardArray=function(e){return a.push(e)},e.removeFromCardArray=function(e){var t,n;for(t in a)n=a[t],n.type===e&&a.splice(t,1);return!0},e}(),t.exports=i,n.Payment=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{qj:4}],9:[function(e,t,n){var i='.jp-card.jp-card-safari.jp-card-identified .jp-card-front:before, .jp-card.jp-card-safari.jp-card-identified .jp-card-back:before {\n  background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n  background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%); }\n\n.jp-card.jp-card-ie-10.jp-card-flipped, .jp-card.jp-card-ie-11.jp-card-flipped {\n  -webkit-transform: 0deg;\n  -moz-transform: 0deg;\n  -ms-transform: 0deg;\n  -o-transform: 0deg;\n  transform: 0deg; }\n  .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-front, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-front {\n    -webkit-transform: rotateY(0deg);\n    -moz-transform: rotateY(0deg);\n    -ms-transform: rotateY(0deg);\n    -o-transform: rotateY(0deg);\n    transform: rotateY(0deg); }\n  .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back {\n    -webkit-transform: rotateY(0deg);\n    -moz-transform: rotateY(0deg);\n    -ms-transform: rotateY(0deg);\n    -o-transform: rotateY(0deg);\n    transform: rotateY(0deg); }\n    .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back:after, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back:after {\n      left: 18%; }\n    .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-cvc, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-cvc {\n      -webkit-transform: rotateY(180deg);\n      -moz-transform: rotateY(180deg);\n      -ms-transform: rotateY(180deg);\n      -o-transform: rotateY(180deg);\n      transform: rotateY(180deg);\n      left: 5%; }\n    .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny {\n      left: 84%; }\n      .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny:after, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny:after {\n        left: -480%;\n        -webkit-transform: rotateY(180deg);\n        -moz-transform: rotateY(180deg);\n        -ms-transform: rotateY(180deg);\n        -o-transform: rotateY(180deg);\n        transform: rotateY(180deg); }\n\n.jp-card.jp-card-ie-10.jp-card-amex .jp-card-back, .jp-card.jp-card-ie-11.jp-card-amex .jp-card-back {\n  display: none; }\n\n.jp-card-logo {\n  height: 36px;\n  width: 60px;\n  font-style: italic; }\n  .jp-card-logo, .jp-card-logo:before, .jp-card-logo:after {\n    box-sizing: border-box; }\n\n.jp-card-logo.jp-card-amex {\n  text-transform: uppercase;\n  font-size: 4px;\n  font-weight: bold;\n  color: white;\n  background-image: repeating-radial-gradient(circle at center, #FFF 1px, #999 2px);\n  background-image: repeating-radial-gradient(circle at center, #FFF 1px, #999 2px);\n  border: 1px solid #EEE; }\n  .jp-card-logo.jp-card-amex:before, .jp-card-logo.jp-card-amex:after {\n    width: 28px;\n    display: block;\n    position: absolute;\n    left: 16px; }\n  .jp-card-logo.jp-card-amex:before {\n    height: 28px;\n    content: "american";\n    top: 3px;\n    text-align: left;\n    padding-left: 2px;\n    padding-top: 11px;\n    background: #267AC3; }\n  .jp-card-logo.jp-card-amex:after {\n    content: "express";\n    bottom: 11px;\n    text-align: right;\n    padding-right: 2px; }\n\n.jp-card.jp-card-amex.jp-card-flipped {\n  -webkit-transform: none;\n  -moz-transform: none;\n  -ms-transform: none;\n  -o-transform: none;\n  transform: none; }\n.jp-card.jp-card-amex.jp-card-identified .jp-card-front:before, .jp-card.jp-card-amex.jp-card-identified .jp-card-back:before {\n  background-color: #108168; }\n.jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-logo.jp-card-amex {\n  opacity: 1; }\n.jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-cvc {\n  visibility: visible; }\n.jp-card.jp-card-amex.jp-card-identified .jp-card-front:after {\n  opacity: 1; }\n\n.jp-card-logo.jp-card-discover {\n  background: #FF6600;\n  color: #111;\n  text-transform: uppercase;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 10px;\n  text-align: center;\n  overflow: hidden;\n  z-index: 1;\n  padding-top: 9px;\n  letter-spacing: 0.03em;\n  border: 1px solid #EEE; }\n  .jp-card-logo.jp-card-discover:before, .jp-card-logo.jp-card-discover:after {\n    content: " ";\n    display: block;\n    position: absolute; }\n  .jp-card-logo.jp-card-discover:before {\n    background: white;\n    width: 200px;\n    height: 200px;\n    border-radius: 200px;\n    bottom: -5%;\n    right: -80%;\n    z-index: -1; }\n  .jp-card-logo.jp-card-discover:after {\n    width: 8px;\n    height: 8px;\n    border-radius: 4px;\n    top: 10px;\n    left: 27px;\n    background-color: #FFF;\n    background-image: -webkit-radial-gradient(#FFF, #FF6600);\n    background-image: radial-gradient(  #FFF, #FF6600);\n    content: "network";\n    font-size: 4px;\n    line-height: 24px;\n    text-indent: -7px; }\n\n.jp-card .jp-card-front .jp-card-logo.jp-card-discover {\n  right: 12%;\n  top: 18%; }\n\n.jp-card.jp-card-discover.jp-card-identified .jp-card-front:before, .jp-card.jp-card-discover.jp-card-identified .jp-card-back:before {\n  background-color: #86B8CF; }\n.jp-card.jp-card-discover.jp-card-identified .jp-card-logo.jp-card-discover {\n  opacity: 1; }\n.jp-card.jp-card-discover.jp-card-identified .jp-card-front:after {\n  -webkit-transition: 400ms;\n  -moz-transition: 400ms;\n  transition: 400ms;\n  content: " ";\n  display: block;\n  background-color: #FF6600;\n  background-image: -webkit-linear-gradient(#FF6600, #ffa166, #FF6600);\n  background-image: linear-gradient(#FF6600, #ffa166, #FF6600);\n  height: 50px;\n  width: 50px;\n  border-radius: 25px;\n  position: absolute;\n  left: 100%;\n  top: 15%;\n  margin-left: -25px;\n  box-shadow: inset 1px 1px 3px 1px rgba(0, 0, 0, 0.5); }\n\n.jp-card-logo.jp-card-visa {\n  background: white;\n  text-transform: uppercase;\n  color: #1A1876;\n  text-align: center;\n  font-weight: bold;\n  font-size: 15px;\n  line-height: 18px; }\n  .jp-card-logo.jp-card-visa:before, .jp-card-logo.jp-card-visa:after {\n    content: " ";\n    display: block;\n    width: 100%;\n    height: 25%; }\n  .jp-card-logo.jp-card-visa:before {\n    background: #1A1876; }\n  .jp-card-logo.jp-card-visa:after {\n    background: #E79800; }\n\n.jp-card.jp-card-visa.jp-card-identified .jp-card-front:before, .jp-card.jp-card-visa.jp-card-identified .jp-card-back:before {\n  background-color: #191278; }\n.jp-card.jp-card-visa.jp-card-identified .jp-card-logo.jp-card-visa {\n  opacity: 1; }\n\n.jp-card-logo.jp-card-mastercard {\n  color: white;\n  font-weight: bold;\n  text-align: center;\n  font-size: 9px;\n  line-height: 36px;\n  z-index: 1;\n  text-shadow: 1px 1px rgba(0, 0, 0, 0.6); }\n  .jp-card-logo.jp-card-mastercard:before, .jp-card-logo.jp-card-mastercard:after {\n    content: " ";\n    display: block;\n    width: 36px;\n    top: 0;\n    position: absolute;\n    height: 36px;\n    border-radius: 18px; }\n  .jp-card-logo.jp-card-mastercard:before {\n    left: 0;\n    background: #FF0000;\n    z-index: -1; }\n  .jp-card-logo.jp-card-mastercard:after {\n    right: 0;\n    background: #FFAB00;\n    z-index: -2; }\n\n.jp-card.jp-card-mastercard.jp-card-identified .jp-card-front .jp-card-logo.jp-card-mastercard, .jp-card.jp-card-mastercard.jp-card-identified .jp-card-back .jp-card-logo.jp-card-mastercard {\n  box-shadow: none; }\n.jp-card.jp-card-mastercard.jp-card-identified .jp-card-front:before, .jp-card.jp-card-mastercard.jp-card-identified .jp-card-back:before {\n  background-color: #0061A8; }\n.jp-card.jp-card-mastercard.jp-card-identified .jp-card-logo.jp-card-mastercard {\n  opacity: 1; }\n\n.jp-card-logo.jp-card-maestro {\n  color: white;\n  font-weight: bold;\n  text-align: center;\n  font-size: 14px;\n  line-height: 36px;\n  z-index: 1;\n  text-shadow: 1px 1px rgba(0, 0, 0, 0.6); }\n  .jp-card-logo.jp-card-maestro:before, .jp-card-logo.jp-card-maestro:after {\n    content: " ";\n    display: block;\n    width: 36px;\n    top: 0;\n    position: absolute;\n    height: 36px;\n    border-radius: 18px; }\n  .jp-card-logo.jp-card-maestro:before {\n    left: 0;\n    background: #0064CB;\n    z-index: -1; }\n  .jp-card-logo.jp-card-maestro:after {\n    right: 0;\n    background: #CC0000;\n    z-index: -2; }\n\n.jp-card.jp-card-maestro.jp-card-identified .jp-card-front .jp-card-logo.jp-card-maestro, .jp-card.jp-card-maestro.jp-card-identified .jp-card-back .jp-card-logo.jp-card-maestro {\n  box-shadow: none; }\n.jp-card.jp-card-maestro.jp-card-identified .jp-card-front:before, .jp-card.jp-card-maestro.jp-card-identified .jp-card-back:before {\n  background-color: #0B2C5F; }\n.jp-card.jp-card-maestro.jp-card-identified .jp-card-logo.jp-card-maestro {\n  opacity: 1; }\n\n.jp-card-logo.jp-card-dankort {\n  width: 60px;\n  height: 36px;\n  padding: 3px;\n  border-radius: 8px;\n  border: #000000 1px solid;\n  background-color: #FFFFFF; }\n  .jp-card-logo.jp-card-dankort .dk {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden; }\n    .jp-card-logo.jp-card-dankort .dk:before {\n      background-color: #ED1C24;\n      content: \'\';\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      display: block;\n      border-radius: 6px; }\n    .jp-card-logo.jp-card-dankort .dk:after {\n      content: \'\';\n      position: absolute;\n      top: 50%;\n      margin-top: -7.7px;\n      right: 0;\n      width: 0;\n      height: 0;\n      border-style: solid;\n      border-width: 7px 7px 10px 0;\n      border-color: transparent #ED1C24 transparent transparent;\n      z-index: 1; }\n  .jp-card-logo.jp-card-dankort .d, .jp-card-logo.jp-card-dankort .k {\n    position: absolute;\n    top: 50%;\n    width: 50%;\n    display: block;\n    height: 15.4px;\n    margin-top: -7.7px;\n    background: white; }\n  .jp-card-logo.jp-card-dankort .d {\n    left: 0;\n    border-radius: 0 8px 10px 0; }\n    .jp-card-logo.jp-card-dankort .d:before {\n      content: \'\';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      display: block;\n      background: #ED1C24;\n      border-radius: 2px 4px 6px 0px;\n      height: 5px;\n      width: 7px;\n      margin: -3px 0 0 -4px; }\n  .jp-card-logo.jp-card-dankort .k {\n    right: 0; }\n    .jp-card-logo.jp-card-dankort .k:before, .jp-card-logo.jp-card-dankort .k:after {\n      content: \'\';\n      position: absolute;\n      right: 50%;\n      width: 0;\n      height: 0;\n      border-style: solid;\n      margin-right: -1px; }\n    .jp-card-logo.jp-card-dankort .k:before {\n      top: 0;\n      border-width: 8px 5px 0 0;\n      border-color: #ED1C24 transparent transparent transparent; }\n    .jp-card-logo.jp-card-dankort .k:after {\n      bottom: 0;\n      border-width: 0 5px 8px 0;\n      border-color: transparent transparent #ED1C24 transparent; }\n\n.jp-card.jp-card-dankort.jp-card-identified .jp-card-front:before, .jp-card.jp-card-dankort.jp-card-identified .jp-card-back:before {\n  background-color: #0055C7; }\n.jp-card.jp-card-dankort.jp-card-identified .jp-card-logo.jp-card-dankort {\n  opacity: 1; }\n\n.jp-card-container {\n  -webkit-perspective: 1000px;\n  -moz-perspective: 1000px;\n  perspective: 1000px;\n  width: 350px;\n  max-width: 100%;\n  height: 200px;\n  margin: auto;\n  z-index: 1;\n  position: relative; }\n\n.jp-card {\n  font-family: "Helvetica Neue";\n  line-height: 1;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-width: 315px;\n  border-radius: 10px;\n  -webkit-transform-style: preserve-3d;\n  -moz-transform-style: preserve-3d;\n  -ms-transform-style: preserve-3d;\n  -o-transform-style: preserve-3d;\n  transform-style: preserve-3d;\n  -webkit-transition: all 400ms linear;\n  -moz-transition: all 400ms linear;\n  transition: all 400ms linear; }\n  .jp-card > *, .jp-card > *:before, .jp-card > *:after {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    font-family: inherit; }\n  .jp-card.jp-card-flipped {\n    -webkit-transform: rotateY(180deg);\n    -moz-transform: rotateY(180deg);\n    -ms-transform: rotateY(180deg);\n    -o-transform: rotateY(180deg);\n    transform: rotateY(180deg); }\n  .jp-card .jp-card-front, .jp-card .jp-card-back {\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    -webkit-transform-style: preserve-3d;\n    -moz-transform-style: preserve-3d;\n    -ms-transform-style: preserve-3d;\n    -o-transform-style: preserve-3d;\n    transform-style: preserve-3d;\n    -webkit-transition: all 400ms linear;\n    -moz-transition: all 400ms linear;\n    transition: all 400ms linear;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: hidden;\n    border-radius: 10px;\n    background: #DDD; }\n    .jp-card .jp-card-front:before, .jp-card .jp-card-back:before {\n      content: " ";\n      display: block;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      border-radius: 10px;\n      -webkit-transition: all 400ms ease;\n      -moz-transition: all 400ms ease;\n      transition: all 400ms ease; }\n    .jp-card .jp-card-front:after, .jp-card .jp-card-back:after {\n      content: " ";\n      display: block; }\n    .jp-card .jp-card-front .jp-card-display, .jp-card .jp-card-back .jp-card-display {\n      color: white;\n      font-weight: normal;\n      opacity: 0.5;\n      -webkit-transition: opacity 400ms linear;\n      -moz-transition: opacity 400ms linear;\n      transition: opacity 400ms linear; }\n      .jp-card .jp-card-front .jp-card-display.jp-card-focused, .jp-card .jp-card-back .jp-card-display.jp-card-focused {\n        opacity: 1;\n        font-weight: 700; }\n    .jp-card .jp-card-front .jp-card-cvc, .jp-card .jp-card-back .jp-card-cvc {\n      font-family: "Bitstream Vera Sans Mono", Consolas, Courier, monospace;\n      font-size: 14px; }\n    .jp-card .jp-card-front .jp-card-shiny, .jp-card .jp-card-back .jp-card-shiny {\n      width: 50px;\n      height: 35px;\n      border-radius: 5px;\n      background: #CCC;\n      position: relative; }\n      .jp-card .jp-card-front .jp-card-shiny:before, .jp-card .jp-card-back .jp-card-shiny:before {\n        content: " ";\n        display: block;\n        width: 70%;\n        height: 60%;\n        border-top-right-radius: 5px;\n        border-bottom-right-radius: 5px;\n        background: #d9d9d9;\n        position: absolute;\n        top: 20%; }\n  .jp-card .jp-card-front .jp-card-logo {\n    position: absolute;\n    opacity: 0;\n    right: 5%;\n    top: 8%;\n    -webkit-transition: 400ms;\n    -moz-transition: 400ms;\n    transition: 400ms; }\n  .jp-card .jp-card-front .jp-card-lower {\n    width: 80%;\n    position: absolute;\n    left: 10%;\n    bottom: 30px; }\n    @media only screen and (max-width: 480px) {\n      .jp-card .jp-card-front .jp-card-lower {\n        width: 90%;\n        left: 5%; } }\n    .jp-card .jp-card-front .jp-card-lower .jp-card-cvc {\n      visibility: hidden;\n      float: right;\n      position: relative;\n      bottom: 5px; }\n    .jp-card .jp-card-front .jp-card-lower .jp-card-number {\n      font-family: "Bitstream Vera Sans Mono", Consolas, Courier, monospace;\n      font-size: 24px;\n      clear: both;\n      margin-bottom: 30px; }\n    .jp-card .jp-card-front .jp-card-lower .jp-card-expiry {\n      font-family: "Bitstream Vera Sans Mono", Consolas, Courier, monospace;\n      letter-spacing: 0em;\n      position: relative;\n      float: right;\n      width: 25%; }\n      .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before, .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after {\n        font-family: "Helvetica Neue";\n        font-weight: bold;\n        font-size: 7px;\n        white-space: pre;\n        display: block;\n        opacity: 0.5; }\n      .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before {\n        content: attr(data-before);\n        margin-bottom: 2px;\n        font-size: 7px;\n        text-transform: uppercase; }\n      .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after {\n        position: absolute;\n        content: attr(data-after);\n        text-align: right;\n        right: 100%;\n        margin-right: 5px;\n        margin-top: 2px;\n        bottom: 0; }\n    .jp-card .jp-card-front .jp-card-lower .jp-card-name {\n      text-transform: uppercase;\n      font-family: "Bitstream Vera Sans Mono", Consolas, Courier, monospace;\n      font-size: 20px;\n      max-height: 45px;\n      position: absolute;\n      bottom: 0;\n      width: 190px;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: horizontal;\n      overflow: hidden;\n      text-overflow: ellipsis; }\n  .jp-card .jp-card-back {\n    -webkit-transform: rotateY(180deg);\n    -moz-transform: rotateY(180deg);\n    -ms-transform: rotateY(180deg);\n    -o-transform: rotateY(180deg);\n    transform: rotateY(180deg); }\n    .jp-card .jp-card-back .jp-card-bar {\n      background-color: #444;\n      background-image: -webkit-linear-gradient(#444, #333);\n      background-image: linear-gradient(#444, #333);\n      width: 100%;\n      height: 20%;\n      position: absolute;\n      top: 10%; }\n    .jp-card .jp-card-back:after {\n      content: " ";\n      display: block;\n      background-color: #FFF;\n      background-image: -webkit-linear-gradient(#FFF, #FFF);\n      background-image: linear-gradient(#FFF, #FFF);\n      width: 80%;\n      height: 16%;\n      position: absolute;\n      top: 40%;\n      left: 2%; }\n    .jp-card .jp-card-back .jp-card-cvc {\n      position: absolute;\n      top: 40%;\n      left: 85%;\n      -webkit-transition-delay: 600ms;\n      -moz-transition-delay: 600ms;\n      transition-delay: 600ms; }\n    .jp-card .jp-card-back .jp-card-shiny {\n      position: absolute;\n      top: 66%;\n      left: 2%; }\n      .jp-card .jp-card-back .jp-card-shiny:after {\n        content: "This card has been issued by Jesse Pollak and is licensed for anyone to use anywhere for free.\\AIt comes with no warranty.\\A For support issues, please visit: github.com/jessepollak/card.";\n        position: absolute;\n        left: 120%;\n        top: 5%;\n        color: white;\n        font-size: 7px;\n        width: 230px;\n        opacity: 0.5; }\n  .jp-card.jp-card-identified {\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3); }\n    .jp-card.jp-card-identified .jp-card-front, .jp-card.jp-card-identified .jp-card-back {\n      background-color: #000;\n      background-color: rgba(0, 0, 0, 0.5); }\n      .jp-card.jp-card-identified .jp-card-front:before, .jp-card.jp-card-identified .jp-card-back:before {\n        -webkit-transition: all 400ms ease;\n        -moz-transition: all 400ms ease;\n        transition: all 400ms ease;\n        background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n        background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n        opacity: 1; }\n      .jp-card.jp-card-identified .jp-card-front .jp-card-logo, .jp-card.jp-card-identified .jp-card-back .jp-card-logo {\n        box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3); }\n    .jp-card.jp-card-identified.no-radial-gradient .jp-card-front:before, .jp-card.jp-card-identified.no-radial-gradient .jp-card-back:before {\n      background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n      background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%); }\n';

e("sassify")(i),t.exports=i},{sassify:5}]},{},[7])(7)});var LOCAL=!1,BASE_URL="http://uguru-rest.herokuapp.com/production/app/",REST_URL="http://uguru-rest.herokuapp.com",BASE="";LOCAL?(BASE="remote/",BASE_URL="http://192.168.42.66:8100",REST_URL="http://192.168.42.66:5000"):img_base="/static/",mixpanel=window.mixpanel||null,mixpanel&&mixpanel.track("App Launch"),angular.module("uguru",["ionic","ionic.utils","ngCordova","restangular","fastMatcher","ngAnimate","uguru.onboarding.controllers","uguru.student.controllers","uguru.guru.controllers","uguru.version","uguru.util.controllers","uguru.rest","uguru.user","uguru.root.services","uiGmapgoogle-maps","uguru.directives","mgcrea.ngStrap","ionic.device","ui.bootstrap"]).run(["$ionicPlatform","$cordovaStatusbar","$localstorage","$cordovaNetwork","$state","$cordovaAppVersion","$ionicHistory","$cordovaDialogs","Version","$rootScope","$cordovaSplashscreen","$templateCache","Device","User","$cordovaLocalNotification","$cordovaGeolocation","$cordovaDevice",function(e,t,n,i,r,o,s,a,l,u,c,d,p,g,h,f,m){document.addEventListener("deviceready",function(){c&&c.hide&&c.hide();u.platform={ios:ionic.Platform.isIOS(),android:ionic.Platform.isAndroid(),windows:ionic.Platform.isWindowsPhone(),mobile:ionic.Platform.isIOS()||ionic.Platform.isAndroid()||ionic.Platform.isWindowsPhone(),web:!(ionic.Platform.isIOS()||ionic.Platform.isAndroid()||ionic.Platform.isWindowsPhone()),device:ionic.Platform.device()},console.log(JSON.stringify(u.platform)),m&&"Win32NT"===m.getPlatform()&&(u.platform.windows=!0,u.platform.mobile=!0,u.platform.web=!1),console.log("user is on device:",ionic.Platform.platform()),ionic.Platform.isWindowsPhone()&&console.log("woooooo we detected were on windows niggaaa"),!window.cordova,window.cordova&&u.platform.mobile&&(console.log("1. hiding splashscreen on mobile devices \n\n"),navigator.splashscreen&&navigator.splashscreen.hide(),i&&(u.network_speed=getNetworkSpeed(),console.log("2. grabbing network speed which is: ",u.network_speed,"\n\n")),u.current_device=ionic.Platform.device(),window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),u.platform.ios&&window.StatusBar&&(StatusBar.styleDefault(),StatusBar.overlaysWebView(!0)))})}]).config(["$stateProvider","$urlRouterProvider","$popoverProvider","RestangularProvider","$cordovaFacebookProvider","$ionicConfigProvider","$compileProvider","uiGmapGoogleMapApiProvider",function(e,t,n,i,r,o,s,a){if(a.configure({v:"3.17",libraries:"places"}),ionic.Platform.isWindowsPhone()&&s.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|chrome-extension|x-wmapp.?):|data:image\//),!window.cordova){var l=0x5082f9fa7ad0d,u="v2.2";r.browserInit(l,u)}o&&o.views.swipeBackEnabled(!1),o.tabs.position("bottom"),i.setBaseUrl(REST_URL+"/api/v1"),e.state("root",{url:"","abstract":!0,templateUrl:"templates/root.html",controller:"RootController"}).state("root.university",{url:"/university",templateUrl:BASE+"templates/university.html",controller:"HomeController"}).state("root.university-container",{url:"/university-container",templateUrl:BASE+"templates/university.container.html",controller:"AddUniversityController"}).state("root.majors-container",{url:"/majors-container",templateUrl:BASE+"templates/majors.container.html",controller:"AddMajorController"}).state("root.guru-courses-container",{url:"/guru-courses-container",templateUrl:BASE+"templates/guru.courses.container.html",controller:"CoursesController"}).state("root.signup",{url:"/signup",templateUrl:BASE+"templates/signup.html",controller:"SignupController"}).state("root.guru-remote",{url:"/guru-remote",templateUrl:BASE+"templates/guru.remote.html",controller:"GuruRemoteController"}).state("root.guru-languages",{url:"/guru-languages",templateUrl:BASE+"templates/guru.languages.container.html",controller:"LanguagesController"}).state("root.guru-experiences",{url:"/guru-experiences",templateUrl:BASE+"templates/guru.experiences.container.html",controller:"ExperiencesController"}).state("root.payments",{url:"/payments:cardObj",templateUrl:BASE+"templates/payments.html",controller:"PaymentsController"}).state("root.home",{url:"/new-home",templateUrl:BASE+"templates/home.html",controller:"HomeController"}).state("root.guru",{url:"/guru",templateUrl:BASE+"templates/guru.html",controller:"GuruController"}).state("root.cashout",{url:"/cashout",templateUrl:BASE+"templates/guru.cashout.html",controller:"GuruCashoutController"}).state("root.guru-questions",{url:"/guru-questions",templateUrl:BASE+"templates/guru.questions.html",controller:"GuruQuestionsController"}).state("root.become-guru",{url:"/become-guru",templateUrl:BASE+"templates/become.guru.html",controller:"BecomeGuruController"}).state("root.courses",{url:"/courses",templateUrl:BASE+"templates/courses.html",controller:"CoursesController"}).state("root.student-session",{url:"/student-session:sessionObj",templateUrl:BASE+"templates/student.session.html",controller:"StudentSessionController"}).state("root.guru-session",{url:"/guru-session:sessionObj",templateUrl:BASE+"templates/guru.session.html",controller:"GuruSessionController"}).state("root.onboarding",{url:"/onboarding",templateUrl:BASE+"templates/onboarding.html",controller:"OnboardingController"}).state("root.browse",{url:"/browse",templateUrl:BASE+"templates/browse.html"}).state("root.guru-ranking",{url:"/guru-ranking",templateUrl:BASE+"templates/guru.ranking.html",controller:"GuruRankingController"}).state("root.guru-tasks",{url:"/guru-tasks",templateUrl:BASE+"templates/guru.tasks.html",controller:"GuruTaskController"}).state("root.guru-profile",{url:"/guru-profile",templateUrl:BASE+"templates/guru.profile.html",controller:"GuruProfileController"}).state("root.guru-courses",{url:"/guru-courses",templateUrl:BASE+"templates/guru-courses.html",controller:"CoursesController"}).state("root.messages",{url:"/messages/:sessionObj",templateUrl:BASE+"templates/student.messages.html",controller:"StudentMessagesController"}).state("root.student-conversations",{url:"/student-conversations",templateUrl:BASE+"templates/student.conversations.html"}).state("root.bill-student",{url:"/bill-student",templateUrl:BASE+"templates/guru.bill-student.html",controller:"BillStudentController"}).state("root.guru-conversations",{url:"/guru-conversations",templateUrl:BASE+"templates/guru.conversations.html"}),t.otherwise("/onboarding")}]);var checkForAppUpdates=function(e,t,n,i){e.getUpdatedVersionNum().then(function(r){var o=JSON.parse(r).version;console.log("server number",o);var s=e.getVersion();"undefined"==typeof s&&(s=1,e.setVersion(1)),o!=s&&(console.log("versions are different...\n"),t.clearCache(),t.clearHistory(),i.removeObject("user"),i.removeObject("courses"),i.removeObject("universities"),$cordovaSplashscreen&&$cordovaSplashscreen.show(),n.removeAll(),window.localStorage.clear(),e.setVersion(o),i.set("recently_updated",!0),console.log("V"+o+"stored to user"),window.location.href=BASE_URL,window.location.replace(!0))},function(e){console.log(e),console.log("Version not loaded")})},processSkills=function(e){if(e["static"].skills&&e["static"].skills.length>0){e["static"].professional_skills=[],e["static"].specialized_skills=[],e["static"].chores_skills=[],e["static"].labor_skills=[];for(var t=0;t<e["static"].skills.length;t++){var n=e["static"].skills[t];"labor"===n.category&&e["static"].labor_skills.push(n),"specialized"===n.category&&e["static"].specialized_skills.push(n),"chores"===n.category&&e["static"].chores_skills.push(n),"professional"===n.category&&e["static"].professional_skills.push(n)}}console.log("skills processed")},on_app_open_retrieve_objects=function(e,t,n,i,r,o,s,a,l){console.log("getting university from server"),i.get().then(function(i){console.log("universities successfully loaded"),i=JSON.parse(i),e["static"].universities=i,n.setObject("universities",e["static"].universities),console.log(e["static"].universities.length+" universities successfully loaded"),e.user&&e.user.position&&e.user.position.coords?getNearestUniversity(e.user.position.coords.latitude,e.user.position.coords.longitude,e["static"].universities,100,n,e,r,t):e&&e.platform&&e.platform.android&&o.getUserPosition(e,null,null,t)},function(){console.log("Universities NOT successfully loaded")}),s.get().then(function(t){console.log("Majors successfully loaded"),t=JSON.parse(t).majors,e["static"].majors=t,n.setObject("majors",t),e["static"].popular_majors=t.slice(0,16),n.setObject("popular_majors",e["static"].popular_majors)},function(){console.log("Majors NOT successfully loaded")}),a.get().then(function(t){var t=t.plain();e["static"].skills=t,n.setObject("skills",t),e["static"].popular_skills=t.slice(0,16),n.setObject("popular_skills",e["static"].popular_skills),processSkills(e)},function(){console.log("Skills NOT successfully loaded")}),l.get().then(function(t){var t=t.plain();e["static"].professions=t,e["static"].popular_professions=t.slice(0,16),n.setObject("professions",e["static"].professions),n.setObject("popular_professions",e["static"].popular_professions),console.log(t.length,"professions loaded")},function(){console.log("professions NOT successfully loaded")})},getNetworkSpeed=function(){var e=navigator.connection.type,t={};return t[Connection.UNKNOWN]="Unknown connection",t[Connection.ETHERNET]="Ethernet connection",t[Connection.WIFI]="WiFi connection",t[Connection.CELL_2G]="Cell 2G connection",t[Connection.CELL_3G]="Cell 3G connection",t[Connection.CELL_4G]="Cell 4G connection",t[Connection.CELL]="Cell generic connection",t[Connection.NONE]="No network connection",console.log("Connection type: "+t[e]),e};!function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){(function(){function e(e,t){this.source=e.slice(0),this.options=t||{},this.matches=this.options.matches||[],this.selectors=this.createSelectors();var n=this.source,t=this.options,r=[];this.selectors.forEach(function(e){var o=0,a=n.map(function(n,r){var s={i:r,val:n,selectedVal:e(n)};return t.anyWord&&(s.segments=i(s.selectedVal),o=Math.max(o,s.segments.length)),s});if(t.anyWord)for(var l=0;o>l;++l)r.push(a.filter(function(e){return l<e.segments.length}).map(function(e){return{i:e.i,val:e.val,selectedVal:e.segments[l]}}).sort(function(e,t){return s(e.selectedVal,t.selectedVal)}));else a.sort(function(e,t){return s(e.selectedVal,t.selectedVal)}),r.push(a)}),this.lists=r}function n(e){return"function"==typeof e?e:e?function(t){return t[e]||""}:function(e){return e}}function i(e){e=e.replace(/^\s+/,"");for(var t,n=[e],i=/\s[^\s]/g;t=i.exec(e);)n.push(e.substring(t.index+1));return n}function r(e,t){var n=t.length;e.length=n;for(var i=0;n>i;++i)e[i]=t[i]}function o(e,t){for(var n={},i=[],r=0;i.length<t&&r<e.length;++r)n[e[r].i]||(n[e[r].i]=!0,i.push(e[r].val));return i}function s(e,t){return e==t?0:e>t?1:-1}function a(e,t){return 0===e.lastIndexOf(t,t.length-1)}e.prototype.createSelectors=function(){var e=this.options,t=e.selector;return t instanceof Array||(t=[t]),t.map(function(t){var i=n(t);return e.caseInsensitive?function(e){return i(e).toLowerCase()}:i})},e.prototype.getMatches=function(e){this.options.caseInsensitive&&(e=e.toLowerCase());for(var t,n,i,l,u=Number(this.options.limit||25),c=u,d=this.lists,p=[],g=0;g<d.length&&p.length!==c;++g){for(t=d[g],n=this.findIndex(t,e),l=0;n<t.length&&p.length!==c&&(i=t[n].selectedVal,this.options.caseInsensitive&&(i=i.toLowerCase()),a(i,e));)p.push(t[n++]),++l;c+=l}return this.options.preserveOrder&&p.sort(function(e,t){return s(e.i,t.i)}),r(this.matches,o(p,u)),this.matches},e.prototype.findIndex=function(e,t){for(var n,i,r=0,o=e.length;o>r;)n=r+o>>>1,i=e[n].selectedVal,this.options.caseInsensitive&&(i=i.toLowerCase()),-1===s(i,t)?r=n+1:o=n;return r},"object"==typeof t&&t&&t.exports&&(t.exports=e),this.FastMatcher=e}).call(this)},{}],2:[function(e,t,n){!function(t){var n=e("fast-matcher"),i=t.module("fastMatcher",[]);i.directive("fastMatcher",["$q",function(e){function t(e){return e?Number(e):void 0}function i(e){return/^true$/i.test(e)}function r(e,t,n){var i=e.$parent.$new();for(var r in t)i[r]=t[r];return i.$eval(n)}return{scope:{source:"=fastMatcherSource",matches:"=fastMatcherOutput",currentCallback:"=fastMatcherCurrentCallback",selectionCallback:"=fastMatcherSelectionCallback"},link:function(o,s,a){function l(e){v=e,f?r(o,{index:e},f):o.currentCallback&&o.currentCallback(e)}function u(e){m?r(o,{item:e},m):h&&h(e)}var c=o.$parent,d=a.fastMatcherProperty,p=t(a.fastMatcherLimit),g=i(a.fastMatcherAnyWord),h=o.selectionCallback,f=a.fastMatcherIndexChanged,m=a.fastMatcherItemSelected;d||(d=(a.fastMatcherProperties||"").split(/[\s,]+/)),o.matches||(o.matches=[]);var v=-1;e.when(o.source).then(function(e){function t(e){e!==i&&(o.matches.length=0,l(-1),e&&r.getMatches(e)),i=e}var i,r=new n(e,{selector:d,matches:o.matches,limit:p,anyWord:g,caseInsensitive:!0,preserveOrder:!0});a.ngModel?c.$watch(a.ngModel,function(){t(c[a.ngModel])}):s.on("keyup",function(){o.$apply(function(){t(s.val())})}),s.on("keydown",function(e){switch(e.keyCode){case 13:v>=0&&v<o.matches.length?u(o.matches[v]):1===o.matches.length&&u(o.matches[0]),l(-1);break;case 38:l((v||o.matches.length)-1);break;case 40:l(++v%o.matches.length)}o.$apply()})})}}}])}(angular)},{"fast-matcher":1}]},{},[2]),angular.module("uguru.directives",[]),angular.module("uguru.directives").directive("focusMe",["$timeout",function(e){return{link:function(t,n,i){e(function(){n[0].focus()},500)}}}]).directive("isFocused",["$timeout",function(e){return{scope:{trigger:"@isFocused"},link:function(t,n){t.$watch("trigger",function(t){"true"===t&&e(function(){n[0].focus(),n.on("blur",function(){n[0].focus()})})})}}}]).directive("disableTap",["$timeout",function(e){return{link:function(){e(function(){container=document.getElementsByClassName("pac-container"),angular.element(container).attr("data-tap-disabled","true"),angular.element(container).on("click",function(){document.getElementById("type-selector").blur()})},500)}}}]),angular.module("ionic.utils",[]).factory("$localstorage",["$window",function(e){return{set:function(t,n){e.localStorage[t]=n},get:function(t,n){return e.localStorage[t]||n},setObject:function(t,n){e.localStorage[t]=JSON.stringify(n)},getObject:function(t){return JSON.parse(e.localStorage[t]||"[]")},removeObject:function(t){e.localStorage.removeItem(t)}}}]),angular.module("uguru.rest",[]).factory("University",["Restangular",function(e){var t;return t={get:function(){return e.one("universities").get()},getMajors:function(t){return e.one("universities",t).customGET("majors")},getCourses:function(t){return e.one("universities",t).customGET("courses")}}}]),angular.module("ionic.card",[]).factory("card",["Restangular",function(e){var t;return t={post:function(t){return e.one("card").customPOST(JSON.stringify(t))}}}]),angular.module("ionic.course",[]).factory("Course",["Restangular",function(e){var t;return t={get:function(){return e.one("courses").get()}}}]),angular.module("ionic.device",[]).factory("Device",["Restangular",function(e){var t;return t={post:function(t){return e.one("devices").customPOST(JSON.stringify(t))}}}]),angular.module("uguru.rest").factory("Major",["Restangular",function(e){var t;return t={get:function(){return e.one("majors").get()}}}]),angular.module("ionic.phone",[]).factory("Phone",["Restangular",function(e){var t;return t={post:function(t){return e.one("phone").customPOST(JSON.stringify(t))}}}]),angular.module("uguru.rest").factory("Profession",["Restangular",function(e){var t;return t={get:function(){return e.one("professions").get()}}}]),angular.module("uguru").factory("Session",["Restangular",function(e){var t;return t={create:function(t,n){return e.one("sessions").withHttpConfig({bypassErrorInterceptor:n}).customPOST(t)}}}]),angular.module("uguru.rest").factory("Skill",["Restangular",function(e){var t;return t={get:function(){return e.one("skills").get()}}}]),angular.module("uguru.static",[]).factory("StaticDataService",["$state","$localstorage","University","Major","Course",function(e,t,n,i,r){console.log("Getting static data from the "+e.current.name+" state...");var o=function(e){n.get().then(function(e){e=JSON.parse(e),t.setObject("universities",e),console.log(e.length+" universities successfully loaded")},function(){console.log("Universities NOT successfully loaded")}),e.university_id?n.getMajors(e.university_id).then(function(t){console.log(t),majors=JSON.parse(t),console.log(majors.length+" majors uploaded from "+e.university.title),e.university.majors=majors},function(e){console.log("Majors NOT successfully loaded"),console.log(e)}):i.get().then(function(e){console.log("Majors successfully loaded"),t.setObject("majors",JSON.parse(e).majors)},function(){console.log("Majors NOT successfully loaded")}),e.university_id?n.getCourses(e.university_id).then(function(t){var t=JSON.parse(t);console.log(t.length+" courses uploaded from "+e.university.title),e.university.courses=t},function(e){console.log("Courses NOT successfully loaded"),console.log(e)}):r.get().then(function(e){console.log("Courses successfully loaded"),t.setObject("courses",JSON.parse(e).courses)},function(){console.log("Courses NOT successfully loaded")})};return{getStaticData:o}}]),angular.module("uguru").factory("Support",["Restangular",function(e){var t;return t={create:function(t){return e.one("support").customPOST(JSON.stringify(t))}}}]),angular.module("uguru.user",[]).factory("User",["$localstorage","Restangular","$state","$timeout","$ionicModal","$ionicHistory","RootService","$ionicSideMenuDelegate",function(e,t,n,i,r,o,s,a){var l,u=function(e){if(e){if(0===e.length)return 0;result=0;for(var t=0;t<e.length;t++)result+=e[t].student_rating||0===e[t].student_rating?e[t].student_rating:e[t].guru_rating;return result=(result/e.length).toFixed(2),result}},c=function(e){var t="https://graph.facebook.com/10152573868267292/picture?width=100&height=100",n=60,i=10,r=170;if(!e.is_a_guru)return 0;e.profile_url&&e.profile_url!==t&&(n+=2*i),e.university_id&&e.university.title&&(n+=i),e.majors&&e.majors.length&&(n+=i),e.guru_courses&&e.guru_courses.length&&(n+=2*i),(e.skype_friendly||e.facetime_friendly||e.hangouts_friendly||e.messenger_friendly||e.phone_friendly||e.text_friendly||e.email_friendly)&&(n+=i),e.guru_languages&&e.guru_languages.length&&(n+=i),e.guru_experiences&&e.guru_experiences.length&&(n+=2*i),e.guru_introduction&&e.guru_introduction.length&&(n+=i);var o=parseInt(n/(1*r)*100);return o},d=function(e){var t=0,n=20,i=100;e.fb_id&&(t+=n),e.transcript_file&&e.transcript_file.url&&e.transcript_file.url.length&&(t+=n),e.tutoring_platforms_description&&(t+=n),e.school_email_confirmed&&(t+=n),e.phone_number_confirmed&&(t+=n);var r=parseInt(t/(1*i)*100);return r},p=function(e){var t=25;return e.default_transfer_card&&(t+=6),e.current_credibility_percent&&(t+=e.current_credibility_percent/100*16),e.current_profile_percent&&(t+=e.current_profile_percent/100*22),(e.push_notifications||e.text_notifications)&&(t+=20),e.deposit_confirmed&&(t+=11),t-1},g=function(e){if(e.student_calendar&&e.student_calendar.length>0&&e.student_calendar[0].calendar_events&&e.student_calendar[0].calendar_events.length>0){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];js_start_date=new Date(e.student_calendar[0].calendar_events[0].start_time),js_end_time=new Date(e.student_calendar[0].calendar_events[0].end_time);var i=e.student_calendar[0].calendar_events[0];i.formatted={date:js_start_date.getUTCDate(),day:t[js_start_date.getUTCDay()],month:n[js_start_date.getUTCMonth()],start_time:{hours:js_start_date.getUTCHours(),minutes:js_start_date.getUTCMinutes()},end_time:{hours:js_end_time.getUTCHours(),minutes:js_end_time.getUTCMinutes()}},i.formatted.start_time_formatted=s.time.formatHoursAndMinutes(i.formatted.start_time,!1),i.formatted.end_time_formatted=s.time.formatHoursAndMinutes(i.formatted.end_time,!0),i.formatted.time_length=Math.round(e.time_estimate/60*2)/2}return e},h=function(e){request_status_arr=["PROCESSING_GURUS","INCOMING GURU","SESSION STARTING SOON","YOU REJECTED ALL GURUS","CANCELED","YOUR GURU CANCELED","NO GURUS AVAIL","YOUR GURU CANCELED","YOU CANCELED","COMPLETED","COMPLETED","COMPLETED","REFUNDED","GURU NO SHOW","YOU DIDNT SHOW","QUESTION ACCEPTED","QUESTION ANSWERED","COMPLETED",null,null,null,"COMPLETED"],e.active_requests=[],e.skills||(e.skills=[]),e.professions||(e.professions=[]),e.pending_guru_ratings=[],e.pending_student_ratings=[],e.incoming_requests=[],e.active_tasks=[],e.previous_requests=[],e.pending_proposals=[],e.previous_proposals=[],e.active_student_sessions=[],e.previous_student_sessions=[],e.payment_cards=[],e.transfer_cards=[],e.course_guru_dict={},e.gurus=[];for(var t=e.cards,n=0;n<t.length;n++){var i=t[n];i.is_default_payment&&(e.default_payment_card=i),i.is_payment_card&&e.payment_cards.push(i),i.is_transfer_card&&e.transfer_cards.push(i),i.is_default_transfer&&(e.default_transfer_card=i)}var r=e.requests;if(r&&r.length>0)for(var n=0;n<r.length;n++){var o=r[n];0===o.status?(o.formatted_time=s.time.since(new Date(o.time_created)),o=g(o),e.active_requests.push(o)):1===o.status?(o.guru&&o.guru.guru_ratings&&o.guru.guru_ratings.length>0?o.guru.guru_avg_rating=parseInt(u(o.guru.guru_ratings)):o.guru&&(o.guru.guru_avg_rating=0),o=g(o),e.incoming_requests.push(o)):(o.current_status=request_status_arr[o.status],e.previous_requests.push(o))}var a=e.student_sessions;if(a&&a.length>0)for(var n=0;n<a.length;n++){var l=a[n];0===l.status||1===l.status||2===l.status?(l.guru.guru_avg_rating=parseInt(u(l.guru.guru_ratings)),e.active_student_sessions.push(l)):(6===l.status||7===l.status||8===l.status)&&e.previous_student_sessions.push(l)}var c=e.guru_relationships;if(e.gurus=e.guru_relationships,c&&c.length>0)for(var n=0;n<c.length;n++){var d=c[n],p=d.sessions[0].course;e.course_guru_dict[p.short_name]?e.course_guru_dict[p.short_name].push(d):e.course_guru_dict[p.short_name]=[d]}var h=e.student_ratings;if(h&&h.length>0)for(var n=0;n<h.length;n++){var f=h[n];0===f.guru_rating&&e.id===f.student_id&&(f.session&&f.session.transaction&&(f.session.transaction.student_amount=parseFloat(f.session.transaction.student_amount).toFixed(2),f.session.transaction.guru_amount=parseFloat(f.session.transaction.guru_amount).toFixed(2)),e.pending_guru_ratings.push(f))}e.student_avg_rating=u(h);var m=e.student_transactions;MONTHS=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];for(var n=0;n<m.length;n++){var v=Date.parse(m[0].time_created),b=new Date(v);e.student_transactions[n].time={date:b.getDate(),month:MONTHS[b.getMonth()]},e.student_transactions[n].student_amount=parseFloat(e.student_transactions[n].student_amount).toFixed(2),e.student_transactions[n].guru_amount=parseFloat(e.student_transactions[n].guru_amount).toFixed(2),e.student_transactions[n].student_rate=5}for(var y=e.guru_transactions,n=0;n<y.length;n++){var v=Date.parse(y[0].time_created),b=new Date(v);e.guru_transactions[n].time={date:b.getDate(),month:MONTHS[b.getMonth()]},e.guru_transactions[n].student_amount=parseFloat(e.guru_transactions[n].student_amount).toFixed(2),e.guru_transactions[n].guru_amount=parseFloat(e.guru_transactions[n].guru_amount).toFixed(2),e.guru_transactions[n].guru_rate=5}for(var _=e.transfer_transactions,n=0;n<_.length;n++){var v=Date.parse(_[0].time_created),b=new Date(v);e.transfer_transactions[n].time={date:b.getDate(),month:MONTHS[b.getMonth()]},e.transfer_transactions[n].student_amount=parseFloat(e.transfer_transactions[n].student_amount).toFixed(2),e.transfer_transactions[n].guru_amount=parseFloat(e.transfer_transactions[n].guru_amount).toFixed(2)}if(e.is_a_guru){e.balance=e.balance?parseInt(e.balance):0,e.total_earned||(e.total_earned=0),e.active_proposals=[],e.pending_proposals=[],e.active_questions=[],e.active_guru_sessions=[],e.previous_guru_proposals=[],e.pending_student_ratings=[],e.previous_guru_sessions=[];var w=e.guru_ratings;if(e.guru_avg_rating=u(w),console.log(),e.guru_avg_rating||(e.guru_avg_rating=0),w&&w.length>0)for(var n=0;n<w.length;n++){var f=w[n];0===f.student_rating&&e.id===f.guru_id&&f.session&&f.session.transaction&&(console.log(f.session.transaction),f.session.transaction.student_amount=parseFloat(f.session.transaction.student_amount).toFixed(2),f.session.transaction.guru_amount=parseFloat(f.session.transaction.guru_amount).toFixed(2),e.pending_student_ratings.push(f))}for(var $=e.grade_dict,x=e.university.num_gurus,n=0;n<$.length;n++){var k=$[n][0],S=$[n][1],C=e.official_guru_rank/x*100;if(C>=S){e.official_guru_grade=k;break}}var T=e.guru_sessions;if(T&&T.length>0)for(var n=0;n<T.length;n++){var l=T[n];0===l.status||1===l.status||2===l.status?(l.student&&l.student.student_ratings&&l.student.student_ratings.length>0&&(l.student.student_avg_rating=parseInt(u(l.student.student_ratings))),e.active_guru_sessions.push(l)):(6===l.status||7===l.status||8===l.status)&&e.previous_guru_sessions.push(l)}var E=e.proposals;if(e.proposals&&e.proposals.length>0)for(var n=0;n<E.length;n++){var M=E[n];4===M.status||5===M.status?(M.status_string="STUDENT CANCELED",e.previous_proposals.push(M)):0===M.status&&0===M.request.status&&0===M.request._type?(M.formatted_time=s.time.since(new Date(M.time_created)),M.request=g(M.request),e.active_proposals.push(M)):0===M.status&&0===M.request.status&&1===M.request._type?(M.formatted_time=s.time.since(new Date(M.time_created)),e.active_questions.push(M)):0===M.status&&0===M.request.status&&2===M.request._type?(M.formatted_time=s.time.since(new Date(M.time_created)),e.active_tasks.push(M)):2===M.status&&(console.log("pending proposal",M),e.pending_proposals.push(M))}}return e},f=function(t,n){var i=n;t.user||t.user===v(),t.user.updateAttr=l.updateAttrUser,t.user.createObj=l.createObj,t.user.updateObj=l.updateObj,t.user.id=i.id,t.user.name=i.name,t.user.profile_url=i.profile_url,t.user.is_a_guru=i.is_a_guru,t.user.guru_mode=i.guru_mode,t.user.gender=i.gender,t.user.customer_id=i.customer_id,t.user.recipient_id=i.recipient_id,t.user.auth_token=i.auth_token,t.user.fb_id=i.fb_id,t.user.files=i.files,t.user.default_card=i.default_card,t.user.password=i.password,t.user.guru_introduction=i.guru_introduction,t.user.tos_version=i.tos_version,t.user.university_id=i.university_id,t.user.university=i.university,t.user.recent_latitude=i.recent_latitude,t.user.recent_longitude=i.recent_longitude,t.user.location_services_enabled=i.location_services_enabled,t.user.majors=i.majors,t.user.guru_courses=i.guru_courses,t.user.student_courses=i.student_courses,t.user.student_sessions=i.student_sessions,t.user.guru_sessions=i.guru_sessions,t.user.push_notifications=i.push_notifications,t.user.push_notifications_enabled=i.push_notifications_enabled,t.user.guru_score=i.guru_score,t.user.last_position=i.last_position,t.user.requests=i.requests,t.user.sessions=i.sessions,t.user.proposals=i.proposals,t.user.cards=i.cards,t.user.student_transactions=i.student_transactions,t.user.guru_transactions=i.guru_transactions,t.user.transfer_transactions=i.transfer_transactions,t.user.transfer_cards=i.transfer_cards,t.user.payment_cards=i.payment_cards,t.user.default_payment_card=i.default_payment_card,t.user.default_transfer_card=i.default_transfer_card,t.user.course_guru_dict=i.course_guru_dict,t.user.gurus=i.gurus,t.user.guru_relationships=i.guru_relationships,t.user.referred_by=i.referred_by,t.user.current_device=i.current_device,t.user.devices=i.devices,t.user.current_hourly=i.current_hourly,t.user.previous_proposals=i.previous_proposals,t.user.previous_guru_proposals=i.previous_guru_proposals,t.user.is_admin=i.is_admin,t.user.active_questions=i.active_questions,t.user.active_tasks=i.active_tasks,t.user.guru_skills=i.guru_skills,t.user.transcript_file=i.transcript_file,t.user.transcript_verified_by_admin=i.transcript_verified_by_admin,t.user.tutoring_platforms_description=i.tutoring_platforms_description,t.user.email_friendly=i.email_friendly,t.user.facetime_friendly=i.facetime_friendly,t.user.guru_latest_time=i.guru_latest_time,t.user.hangouts_friendly=i.hangouts_friendly,t.user.messenger_friendly=i.messenger_friendly,t.user.phone_friendly=i.phone_friendly,t.user.skype_friendly=i.skype_friendly,t.user.text_friendly=i.text_friendly,t.user.guru_experiences=i.guru_experiences,t.user.guru_languages=i.guru_languages,t.user.text_notifications=i.text_notifications,t.user.email_notifications=i.email_notifications,t.user.email=i.email,t.user.school_email=i.school_email,t.user.school_email_confirmed=i.school_email_confirmed,t.user.push_notifications=i.push_notifications,t.user.phone_number=i.phone_number,t.user.phone_number_token=i.phone_number_token&&!0,t.user.phone_number_confirmed=i.phone_number_confirmed,t.user.active_proposals=i.active_proposals,t.user.impact_events=i.impact_events,t.user.pending_proposals=i.pending_proposals&&i.pending_proposals.length>0?i.pending_proposals.reverse():i.pending_proposals,t.user.active_guru_sessions=i.active_guru_sessions,t.user.pending_student_ratings=i.pending_student_ratings,t.user.previous_guru_sessions=i.previous_guru_sessions,t.user.active_requests=i.active_requests.reverse(),t.user.pending_guru_ratings=i.pending_guru_ratings,t.user.pending_student_ratings=i.pending_student_ratings,t.user.incoming_requests=i.incoming_requests,t.user.previous_requests=i.previous_requests.reverse(),t.user.active_student_sessions=i.active_student_sessions,t.user.previous_student_sessions=i.previous_student_sessions,t.user.balance=i.balance,t.user.total_earned=i.total_earned,t.user.estimated_guru_rank=i.estimated_guru_rank,t.user.official_guru_rank=i.official_guru_rank,t.user.estimated_guru_score=i.estimated_guru_score,t.user.official_guru_score=i.official_guru_score,t.user.estimated_guru_rank_last_updated=i.estimated_guru_rank_last_updated,t.user.official_guru_rank_last_updated=i.official_guru_rank_last_updated,t.user.guru_avg_rating=i.guru_avg_rating,t.user.student_avg_rating=i.student_avg_rating,t.user.student_ratings=i.student_ratings,t.user.guru_ratings=i.guru_ratings,t.user.summer_15=i.summer_15,t.user.uber_friendly=i.uber_friendly,t.user.outside_university=i.outside_university,t.user.credits=i.credits,t.user.official_guru_grade=i.official_guru_grade,t.user.grade_dict=i.grade_dict,t.user.guru_score_opportunities=i.guru_score_opportunities,t.user.skills=i.skills,t.user.professions=i.professions,t.user.support_tickets=i.support_tickets,t.user.max_hourly=parseInt(i.max_hourly),t.user.current_profile_percent=i.current_profile_percent=c(i),t.user.current_credibility_percent=i.current_credibility_percent=d(i),t.user.current_guru_ranking=p(i),t.user.show_become_guru=!(t.user.guru_courses.length||t.user.majors.length||t.user.skills.length||t.user.professions.length||t.user.is_a_guru),t.user.is_a_guru=!t.user.show_become_guru,e.setObject("user",t.user)},m=function(e){if(e.user.impact_events.length>0){var t=e.user.impact_events[0];if(t.impacted_user_id===e.user.id&&!t.impacted_user_notified){var n=function(){e.user.updateAttr("impact_event",e.user,t.id,null,e)};4===t.status&&t.session_id?e.root.dialog.alert("Unfortunately your student canceled on you","Sorry!","OK",n):5===t.status&&t.session_id&&e.root.dialog.alert("Unfortunately your student canceled on you","Sorry!","OK",n),e.user.impact_events.splice(0,1)}}},v=function(e){var t={};e=["name","email","last_position","deactivated","university","university_id","onboarding","current_device","auth_token","majors","guru_mode","is_a_guru","active_requests"],one_to_many_properties=["all_positions","active_sessions","student_sessions","guru_sessions","conversations","devices","gurus","cards","requests","student_ratings","guru_ratings","student_courses","cashout_cards"];

for(var n=0;n<e.length;n++){var i=e[n];t[i]=null}for(var n=0;n<one_to_many_properties.length;n++){var i=one_to_many_properties[n];t[i]=[]}return t};return l={create:function(e){return t.one("user").customPOST(JSON.stringify(e))},login:function(e){return t.one("user").customPUT(JSON.stringify(e))},initUser:function(){var e=v();return e},process_results:function(e){return e=h(e)},assign_properties_to_root_scope:function(e,t){f(e,t)},delegate_actions_from_processed_user:function(e){return m(e)},update:function(e){return console.log("user saved remotely!"),t.one("user").customPUT(JSON.stringify(e))},updateAttr:function(e,n){return t.one("user",n).customPUT(JSON.stringify(e))},clearAttr:function(e,n){return t.one("user",n).customDELETE()},updateLocal:function(t){e.setObject("user",t)},getPayload:function(e,t,n){return"add_student_course"===e?{course:n,add_student_course:!0}:"add_guru_course"===e?{course:n,add_guru_course:!0}:"add_guru_skill"===e?{skill:n,add_guru_skill:!0}:"add_guru_profession"===e?{profession:n,add_guru_profession:!0}:"remove_guru_course"===e?{course:n,remove_guru_course:!0}:"remove_student_course"===e?{course:n,remove_student_course:!0}:"guru_introduction"===e?{guru_introduction:n}:"phone_number"===e?{phone_number:n,phone_number:!0}:"add_user_major"===e?{major:n,add_user_major:!0}:"add_guru_intro"===e?{introduction:n,add_guru_intro:!0}:"impact_event"===e?{event_id:n,impact_event:!0}:"profile_url"===e?{profile_url:n}:"tutoring_platforms_description"===e?{tutoring_platforms_description:n}:"university_id"===e?n:"current_hourly"===e?n:"is_a_guru"===e?n:"guru_mode"===e?n:"profile_info"===e?{profile_info:n}:"recent_position"===e?{recent_position:n}:"change_password"===e?{change_password:n}:"name"===e?{name:n}:"email"===e?{email:n}:"change_email"===e?{change_email:n}:"push_notifications"===e?{push_notifications:n}:"guru_latest_time"===e?{guru_latest_time:n}:"add_guru_language"===e?{add_guru_language:n}:"remove_guru_language"===e?{remove_guru_language:n}:"add_guru_experience"===e?{add_guru_experience:n}:"update_guru_experience"===e?{update_guru_experience:n}:"remove_guru_experience"===e?{remove_guru_experience:n}:"email_notifications"===e?{email_notifications:n}:"text_notifications"===e?{text_notifications:n}:"phone_number"===e?{phone_number:n}:"uber_friendly"===e?{uber_friendly:n}:"summer_15"===e?{summer_15:n}:"remove_major"===e?{remove_major:!0,major:n}:"outside_university"===e?{outside_university:n}:"devices"===e?n:"max_hourly"===e?{max_hourly:n}:"skype_friendly"===e?{skype_friendly:n}:"facetime_friendly"===e?{facetime_friendly:n}:"hangouts_friendly"===e?{hangouts_friendly:n}:"text_friendly"===e?{text_friendly:n}:"messenger_friendly"===e?{messenger_friendly:n}:"phone_friendly"===e?{phone_friendly:n}:"email_friendly"===e?{email_friendly:n}:"fb_id"===e?{fb_id:n}:"phone_number_generate"===e?{phone_number_generate:n}:"phone_number_check_token"===e?{phone_number_check_token:n}:"confirm_school_email"===e?{confirm_school_email:n}:"forgot_password"===e?{email:n,forgot_password:!0}:void 0},getUserFromServer:function(n,i,r){if(n)var o=n.user.id;else console.log("accessing user from local.."),o=e.getObject("user").id;return o?(t.one("user",o).customGET().then(function(e){var t=h(e.plain());n.$broadcast("scroll.refreshComplete"),n&&(n.root.vars.fetch_user_server_mutex=!1,f(n,t),m(n),n.loader&&n.loader.hide(),i&&i(n),n.user&&n.user.incoming_requests&&n.user.incoming_requests.length>0&&(console.log("incoming request exists"),n.root.vars.processIncomingRequests(n.user.incoming_requests)),n.user&&n.user.active_proposals&&n.user.active_proposals.length>0&&(console.log("active proposal exists"),n.root.vars.processActiveProposalsGuru(n.user.active_proposals)))},function(e){console.log(e),console.log("err...something went wrong")}),void("root.student.home"===r.current.name||"root.guru.home"===r.current.name)):(console.log("Cant fetch user, user not logged in"),void n.$broadcast("scroll.refreshComplete"))},createObj:function(r,o,s,l,u,c){"requests"===o?t.one("user",r.id).one(o).customPOST(JSON.stringify(s)).then(function(e){var t=h(e.plain());f(l,t),m(l),l.loader.hide(),u&&u(l,n)},function(e){409===e.status?u&&(l.loader.show(),u(l),l.closeContactingModal(),alert("already have an active request or question for this course!"),i(function(){l.loader.hide()},3e3)):(console.log(JSON.stringify(e)),c&&c(l),console.log("error...something happened with the server;"))}):"cards"===o?t.one("user",r.id).one(o).customPOST(JSON.stringify(s)).then(function(t){var i=h(t);f(l,i),m(l),e.setObject("user",l.user),u&&u(l,n)},function(e){l.success.show(JSON.stringify(e)),console.log(JSON.stringify(e)),console.log("error...something happened with the server;")}):"transactions"===o?t.one("user",r.id).one(o).customPOST(JSON.stringify(s)).then(function(t){var n=h(t);f(l,n),m(l),e.setObject("user",l.user)},function(e){console.log(JSON.stringify(e)),console.log(e),console.log("error...something happened with the server;")}):"files"===o?t.one(o).withHttpConfig({transformRequest:angular.identity}).customPOST(s,"",void 0,{"Content-Type":void 0}).then(function(t){console.log(JSON.stringify(t.plain())),a.isOpen()&&"root.home"===n.current.name?(l.user.profile_url=t.plain().url,e.setObject("user",l.user),l.user.updateAttr("profile_url",l.user,l.user.profile_url,null,l,null)):"root.home"===n.current.name?l.request.files.push(t.plain()):"root.guru-questions"===n.current.name?l.proposal.files.push(t.plain()):l.root.vars.profile_url_changed?(l.root.vars.profile_url_changed=!1,l.user.profile_url=t.plain(),e.setObject("user",l.user)):l.root.vars.transcript_url_changed?(l.root.vars.transcript_url_changed=!1,l.user.transcript_file=t.plain(),e.setObject("user",l.user)):(l.user.profile_url=t.plain().url,e.setObject("user",l.user)),l.loader.hide(),"root.request-description"!==n.current.name&&l.success.show(0,1500),u&&u(l,n)},function(e){console.log(e),console.log("error...something happened with the server;")}):"sessions"===o?t.one("user",r.id).one(o).customPOST(JSON.stringify(s)).then(function(t){var n=h(t.plain());f(l,n),m(l),e.setObject("user",n),console.log("student has accepted guru"),console.log(n),u&&u(l,n)},function(e){console.log(e),console.log("error...something happened with the server;")}):"messages"===o?t.one("user",r.id).one("sessions",s.message.session_id).one(o).customPOST(JSON.stringify(s)).then(function(t){var n=h(t);e.setObject("user",n),l.$broadcast("scroll.refreshComplete"),u&&u(l,n)},function(e){console.log(e),console.log("error...something happened with the server;")}):"device"===o&&t.one(o).customPOST(JSON.stringify(s)).then(function(t){l.user.current_device=t,e.setObject("user",l.user)},function(e){console.log(e),console.log("error...something happened with the server;")})},updateObj:function(n,i,r,o,s){"requests"===i&&t.one("user",n.id).one(i).customPUT(JSON.stringify(r)).then(function(t){var n=h(t.plain());f(o,n),m(o),e.setObject("user",o.user),s&&s(o,n)},function(e){409===e.status?console.log("already have an active request"):(console.log(e),console.log("error...something happened with the server;"))}),"sessions"===i&&t.one("user",n.id).one(i).customPUT(JSON.stringify(r)).then(function(e){var t=h(e);f(o,t),m(o),s&&s(),o.loader.hide()},function(e){409===e.status?console.log("already have an active request"):(console.log(e),console.log("error...something happened with the server;"))}),"ratings"===i&&t.one("user",n.id).one(i).customPUT(JSON.stringify(r)).then(function(t){var n=h(t);e.setObject("user",n),s&&s(o,n)},function(e){409===e.status?console.log("already have an active request"):(console.log(e),console.log("error...something happened with the server;"))}),"cards"===i&&t.one("user",n.id).one(i).customPUT(JSON.stringify(r)).then(function(t){var n=h(t.plain());console.log(n),f(o,n),m(o),e.setObject("user",o.user),s&&s(o,n)},function(e){409===e.status?console.log("already have an active request"):(console.log(e),console.log("error...something happened with the server;"))}),"devices"===i&&t.one("devices",n.id).customPUT(JSON.stringify(r)).then(function(t){console.log("device returned from server"),console.log(JSON.stringify(t)),o.user.current_device=t,o.user.push_notifications=o.user.current_device.push_notif_enabled,console.log("user push notifications are now",o.user.push_notifications),o.user.devices||(o.user.devices=[]),o.user.devices.push(t),e.setObject("user",o.user)},function(e){409===e.status?console.log("already have an active request"):(console.log(JSON.stringify(e,e.status)),console.log("error...something happened with the server;"))})},clearAttrUser:function(t,n){l.clearAttr(t,user.id).then(function(t){var i=h(t.plain());f(n,i),m(n),e.setObject("user",n.user)},function(e){console.log(e),console.log("error...something happened with the server;")})},updateAttrUser:function(t,n,i,r,o,s){if(!n.id&&"forgot_password"!==t)return void console.log("user has not created an account yet.");var a=l.getPayload(t,n,i);n.id||(n.id=1),l.updateAttr(a,n.id).then(function(n){if("forgot_password"!==t){var i=h(n.plain());f(o,i),m(o),e.setObject("user",o.user)}r&&r()},function(e){s?s(e):(console.log(JSON.stringify(e)),console.log("error...something happened with the server;"))})},getLocal:function(){var t=e.getObject("user");if(0===t.length){var n=v();if(e.setObject("user",n),!n.devices||!n.current_device){var i=e.getObject("device");i&&(n.devices.push(i),n.current_device=i)}return n}return t},logout:function(){e.removeObject("user")}}}]),angular.module("uguru.version",[]).factory("Version",["$localstorage","Restangular",function(e,t){var n;return n={setVersion:function(t){e.set("version",t)},getVersion:function(){return e.get("version")},getUpdatedVersionNum:function(){return t.one("version").get()}}}]),angular.module("uguru.root.services",[]).service("RootService",["$cordovaKeyboard","$localstorage","$timeout","$cordovaProgress","$cordovaDialogs","$ionicHistory","$ionicViewSwitcher","$state","$ionicPlatform",function(e,t,n,i,r,o,s,a,l){return this.util={objectFindByKey:function(e,t,n){for(var i=0;i<e.length;i++)if(e[i][t]===n)return e[i];return null},objectFindByIndexByKey:function(e,t,n){for(var i=0;i<e.length;i++)if(e[i][t]===n)return i;return null},updateObjectByKey:function(e,t,n,i,r){for(var o=0;o<e.length;o++)if(e[o][t]===n)return e[o][i]=r,!0;return console.log("object not found for key",t,"value",n),null},removeObjectByKey:function(e,t,n){for(var i=0;i<e.length;i++)if(e[i][t]===n)return void e.splice(i,1);return console.log("object not found for key",t,"value",n),null}},this.time={since:function(e){e=e.setHours(e.getHours()+7);var t=Math.floor((new Date-e)/1e3),n=Math.floor(t/31536e3);return n>1?n+" years":(n=Math.floor(t/2592e3),n>1?n+" months":(n=Math.floor(t/86400),n>1?n+"d ago":(n=Math.floor(t/3600),n>1?n+"hr ago":(n=Math.floor(t/60),n>1?n+"m ago":Math.floor(t)+"s ago"))))},formatHoursAndMinutes:function(e,t){var n=e.hours,i=e.minutes;return result="",0===n||12===n?result+="12":n>0&&12>n?result+=n:n>12&&23>=n&&(result+=n%12),i>0&&30===i&&(result+=":30"),t&&n>=12&&(result+="pm"),t&&12>n&&(result+="am"),result}},this.keyboard={close:function(t){window.cordova&&window.cordova.plugins.Keyboard&&e.close()},isVisible:function(){return e.isVisible()},show:function(e,t){var i=t||.1;this.forceOff()||n(function(){document.getElementsByName(e)[0].focus()},i)},forceOff:function(e){var n=t.get("keyboard_force_off",null);return n||null!==e?null===e?n:void t.setObject("keyboard_force_off",e):(t.setObject("keyboard_force_off",!1),!1)},openAndroid:function(){ionic.Platform.isAndroid()&&window.cordova&&window.cordova.plugins.Keyboard&&window.cordova.plugins.Keyboard.show()}},this.slider={hide:function(){var e=document.getElementsByClassName("slider-pager");e&&e.length>0&&(e[0].style.display="none")},show:function(){var e=document.getElementsByClassName("slider-pager");e&&e.length>0&&(e[0].style.display="block")},shiftUp:function(e){var t=document.getElementsByClassName("slider-pager");t&&t.length>0&&(t[0].style.marginBottom=e+"px")}},this.progress={showSuccess:function(){return!1},isVisible:function(e){var n=t.get("is_progress_visible",null);return n||null!==e?null===e?n:void t.setObject("is_progress_visible",e):(t.setObject("is_progress_visible",!1),!1)}},this.button={showButtonPressedAndHide:function(e){e.classList.add("active"),n(function(){e.classList.remove("active")},250)}},this.nav={goBack:function(){console.log("root nav go back was clicked"),s.nextDirection("back"),a.go("^.student-home")}},this.dialog={alert:function(e,t,n,i){r.alert(e,t,n).then(function(){i&&i()})},confirm:function(e,t,n,i,o){r.confirm(e,t,n).then(function(e){1===e&&i[0]&&i[0](),2===e&&i[1]()})}},this}]),angular.module("uguru.services",[]).service("AuthService",AuthService=function(e,t,n){return this.login=function(t){var i=this;return deferred=e.defer(),n.create(t,!0).then(function(e){return i.setToken(t),deferred.resolve(e)},function(e){if(401==e.status)return deferred.reject(!1);throw new Error("No handler for status code "+e.status)}),deferred.promise},this.logout=function(){t.clearAll()},this.isAuthenticated=function(){var e=this.getToken();return e?!0:!1},this.setToken=function(e){t.set("token",btoa(e.email+":"+e.password))},this.getToken=function(){return t.get("token")},this}),angular.module("uguru.root.services").service("Popover",["$localstorage","$timeout","$popover",function(e,t,n){return this.tutorial={init:function(e,t){var i=angular.element(document.querySelector(t.targetElement)),r={animation:t.animation,placement:t.placement,template:BASE+"templates/generalPopover.html",delay:t.delay||500,scope:e};return e.templateOptions={title:t.title,buttonText:t.buttonText,body:t.body},n(i,r)}},this}]),angular.module("uguru.root.services").service("Popup",["$localstorage","$timeout","$ionicPopup",function(e,t,n){return this.options={show:function(e,i){var r={templateUrl:BASE+"templates/generalConfirmPopup.html",cssClass:"popup-uguru",scope:e};e.confirmPopupOptions={header:i.header,body:i.body,positiveBtnText:i.positiveBtnText,negativeBtnText:i.negativeBtnText},e.popup,t(function(){e.popup=n.show(r),t(function(){document.getElementById("popup-cancel-btn").addEventListener("click",function(){i.onFailure&&i.onFailure(),e.popup.close()}),document.getElementById("popup-positive-btn").addEventListener("click",function(){i.onSuccess&&i.onSuccess(),e.popup.close()})},i.delay)},i.pre_delay)}},this}]);var processFileType=function(e){return-1!==e.indexOf("image/")?e.split("/")[1]:void 0},processFileSize=function(e){return Math.round(parseInt(e)/1e3,2)};angular.module("uguru.root.services").service("Camera",["$localstorage","$timeout","$cordovaCamera","$state",function(e,t,n,i){return deviceCamera={takePicture:function(e,t,i,r){var o={quality:15,destinationType:Camera.DestinationType.DATA_URL,sourceType:t,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:500,targetHeight:500,saveToPhotoAlbum:!1};n.getPicture(o).then(function(t){var n;if(i){e.loader.show();var n=function(){e.loader.hide()}}var o=new FormData;o.append("file",t);var s=(new Date).getTime().toString();o.append("filename",s),r&&(o.append("transcript_url",r),e.root.vars.transcript_url_changed=!0),e.root.vars.profile_url_changed&&o.append("profile_url",e.user.id),e.user.createObj(e.user,"files",o,e,n)},function(e){console.log(e),"No camera available"===e&&alert("Sorry! It appears that there is no Camera or Photo Library Accessible. Please contact support.")})}},deviceCamera}]),angular.module("uguru.root.services").service("Geolocation",["$localstorage","$timeout","$cordovaGeolocation","RootService","Popup","University",function(e,t,n,i,r,o){var s=function(e,t){e.loader.hide()},a=function(t,i,r,a){var l={timeout:1e4,enableHighAccuracy:!1};t.platform.android||"root.onboarding-loading"===a.current.name||t.loader.show(),n.getCurrentPosition(l).then(function(r){console.log("user is at "+r.coords.latitude+","+r.coords.longitude),t.user.position=r,t.requestPosition=r,t.location_error=null,t.user&&t.user.current_device&&(t.user.current_device.location_enabled=!0,t.user.updateObj(t.user.current_device,"devices",t.user.current_device,t)),t["static"].universities&&t["static"].universities.length>0?(console.log("universities already loaded! Calculating nearest university..."),i||(i=s),getNearestUniversity(r.coords.latitude,r.coords.longitude,t["static"].universities,100,e,t,i,a)):(console.log("universities not loaded :( :( trying to get again.."),on_app_open_retrieve_objects(t,a,e,o,s,n))},function(e){t.loader.hide(),console.log(e),r&&r(t,a),1===e.code&&(console.log("user denied permission"),t.location_error="denied",t.user.current_device.location_enabled=!1,t.user.updateObj(t.user.current_device,"devices",t.user.current_device,t)),2===e.code&&(console.log("user position is unavailable"),t.user.current_device.location_enabled=!1,t.user.updateObj(t.user.current_device,"devices",t.user.current_device,t),t.location_error="unavailable"),3===e.code&&(console.log("GPS timed out"),t.user.current_device.location_enabled=!1,t.user.updateObj(t.user.current_device,"devices",t.user.current_device,t),t.location_error="timeout")})};return deviceGPS={getUserPosition:function(e,t,n,i){e.platform.ios&&!e.user.current_device.location_enabled?r.options.show(e,{header:"Mind if we use your location?",body:"uGuru uses your location to match you up with students on campus.",positiveBtnText:"SURE",negativeBtnText:"NO THANKS",delay:500,onFailure:function(){console.log("failed to get device location"),e.user.current_device.location_enabled=!1,"root.onboarding-location"!==i.current.name&&e.user.updateObj(e.user,"devices",e.user.current_device,e),n(e,i)},onSuccess:function(){console.log("succeeded in getting device location"),a(e,t,n,i)}}):e.user&&e.user.current_device&&e.user.current_device.location_enabled?a(e,t,n,i):e.platform.android?a(e,t,n,i):e.platform.web&&navigator.geolocation&&(console.log("user is on desktop"),a(e,t,n,i))}},deviceGPS}]),angular.module("uguru.root.services").service("CordovaPushWrapper",["$localstorage","$timeout","$cordovaPush","$cordovaMedia","$cordovaDialogs","Popup","$ionicPlatform","User",function(e,t,n,i,r,o,s,a){function l(e,t){e.platform.ios&&!e.user.current_device.push_notif_enabled?(e.popupScope.push_options={header:"Be notified immediately",body:"Gurus will reply to your request and are also busy. We want to make sure that you never miss any opportunity to connect.",positiveBtnText:"OK",negativeBtnText:"Nah",delay:500,pre_delay:1500,onFailure:function(){e.user.current_device.push_notif_enabled=!1,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),t&&t()},onSuccess:function(){p(e,t)}},o.options.show(e.popupScope,e.popupScope.push_options)):p(e)}function u(t,n){if(console.log("In foreground "+t.foreground+" Coldstart "+t.coldstart),"registered"==t.event){var i=t.regid;console.log(i),n.user||(n.user=e.getObject("user")),n.user.createObj||(n.user.createObj=a.createObj),n.user.createObj&&!n.user.current_device&&n.platform&&n.user&&(n.user.current_device=ionic.Platform.device(),n.user.current_device.user_id=n.user.id,n.user.createObj(n.user,"device",n.user.current_device,n)),n.user.current_device.push_notif=i,n.user.current_device.push_notif_enabled=!0}else"message"==t.event?r.alert(t.message,"Push Notification Received"):"error"==t.event?r.alert(t.msg,"Push notification error event"):r.alert(t.event,"Push notification handler - Unprocessed Event")}var c={badge:!0,sound:!0,alert:!0},d={senderID:"413826461390",ecb:"angular.element(document.body).injector().get('$cordovaPush').onNotification"},p=function(e,t){var i;i=e.platform.ios?c:d,n.register(i).then(function(n){console.log("Register success "+n),console.log(JSON.stringify(n)),e.platform.ios&&(e.user.push_notifications=!0,e.user.current_device.push_notif=n,e.user.current_device.push_notif_enabled=!0,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),t&&t())},function(n){e.user.push_notifications=!1,e.user.current_device.push_notif_enabled=!1,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),console.log("Register error "+n),t&&t()})};return cordovaPushWrapper={register:function(e,t){l(e,t)},received:function(e,t,n){e.platform.ios?handleiOS(n,e):u(n,e)}},cordovaPushWrapper}]),angular.module("uguru.student.controllers",[]).controller("StudentHomeController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$cordovaKeyboard","$q","University","$templateCache","$ionicHistory","$ionicBackdrop","User","$ionicHistory","CordovaPushWrapper","$ionicPlatform","$rootScope","$cordovaPush","$ionicPlatform","$ionicBackdrop","$document","$ionicPopover","$cordovaStatusbar","$ionicViewSwitcher","Camera","Support",function(e,t,n,i,r,o,s,a,l,u,c,d,p,g,h,f,m,v,b,m,p,y,_,w,$,x,k){console.log(e.user),m.ready(function(){e.turnStatusBarWhite=function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))},e.turnStatusBarBlack=function(){window.StatusBar&&(StatusBar.styleDefault(),StatusBar.overlaysWebView(!0))}}),_.fromTemplateUrl("templates/gettingStartedPopover.html",{scope:e}).then(function(t){e.popover=t}),_.fromTemplateUrl("templates/gettingStartedRequestHelpPopover.html",{scope:e}).then(function(t){e.popoverTwo=t}),e.openGeneralPopover=function(t,n){e.genPopup={options:n},_.fromTemplateUrl("templates/generalPopup.html",{scope:e}).then(function(n){e.genPopup.popover=n,e.genPopup.popover.show(t)})},e.closeGenPopup=function(){e.genPopup.popover.hide()},e.openPopover=function(t){e.popover.show(t)},e.closePopover=function(){e.popover.hide()},e.openPopoverTwo=function(t){e.popoverTwo.show(t)},e.closePopoverTwo=function(){e.popoverTwo.hide()},e.testBackdrop=function(e){},e.getNumber=function(e){return new Array(e)},e.tabClicked=function(){console.log("sup")},e.getNumber=function(e){return new Array(e)},e.checkForRatings=function(){(e.user.pending_guru_ratings||e.user.pending_student_ratings)&&(e.user.pending_guru_ratings.length>0&&!e.user.guru_mode||e.user.pending_student_ratings.length>0&&e.user.guru_mode)&&(o.fromTemplateUrl(BASE+"templates/ratings.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.ratingModal=t}),i(function(){e.ratingModal.isShown()||e.ratingModalShown||e.ratingModal.show()},1e3))},e.getActiveRequestByCourse=function(t){for(var n=e.user.active_requests,i=0;i<n.length;i++){var r=n[i];if(r.course.short_name===t.short_name)return r}return!1},o.fromTemplateUrl(BASE+"templates/add-course.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addCourseModal=t}),o.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),o.fromTemplateUrl(BASE+"templates/support.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.supportModal=t}),o.fromTemplateUrl(BASE+"templates/become-guru.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.becomeGuruModal=t}),e.closeKeyboard=function(){(window.cordova&&window.cordova.plugins.Keyboard||e.platform&&e.platform.android)&&a.close()},e.switchToGuruMode=function(){e.bottomTabsDelegate.select(1),$.nextDirection("forward"),e.user.guru_mode=!0,mixpanel.track("Guru.home"),t.go("^.guru-home")},e.goToRequest=function(n){e.loader.show(),$.nextDirection("forward"),e.root.vars.request={type:{in_person:!0,online:!0},_length:{hours:2,minutes:1},calendar_selected:!1,description:null,location:null,files:[],calendar:{data:{},calendar_selected:!1},contact:{email:!1,phone:!1,push_notif:!1,email_address:"",phone_number:""}},e.root.vars.request.course=n,mixpanel.track("Student.request"),t.go("^.student-request",{courseObj:JSON.stringify(n)})},e.showButtonPressed=function(e,t){document.getElementsByClassName(t)[0].classList.add("active")},e.showButtonReleased=function(e,t){document.getElementsByClassName(t)[0].classList.remove("active")},e.goToRequestStatus=function(n,i){$.nextDirection("forward"),e.root.vars.request_status_callback=i,$.nextDirection("forward"),mixpanel.track("Student.request.status"),t.go("^.student-request-status",{requestObj:JSON.stringify(n)})},e.goToActiveSession=function(e){mixpanel.track("Student.session"),t.go("^.active-student-session",{sessionObj:JSON.stringify(e)})},e.goToBecomeGuru=function(){mixpanel.track("Guru.wizard"),t.go("^.guru-wizard"),e.bottomTabsDelegate.select(0),i(function(){e.becomeGuruModal.hide()},300)},e.goToNotifications=function(){$.nextDirection("forward"),mixpanel.track("Settings.notifications"),t.go("^.settings-notifications")},e.goToGuruMode=function(){e.user.auth_token?(e.turnStatusBarWhite&&e.turnStatusBarWhite(),e.becomeGuruModal.show()):(e.becomeGuruButtonClicked=!0,e.signupModal.show())},e.goToTransferFunds=function(){e.user.auth_token?(mixpanel.track("Setting.transfer"),t.go("^.settings-transfer")):e.signupModal.show()},e.supportTicket={message:null},e.submitSupport=function(){e.supportTicket.user_id=e.user.id,k.create(e.supportTicket).then(function(){e.success.show(0,2e3,"Your support message has been submitted. We will get back to you very soon!"),e.supportModal.hide()},function(e){console.log("error from server",e)})},e.goToCards=function(){e.user.auth_token?e.user.payment_cards&&0===e.user.payment_cards.length?($.nextDirection("forward"),mixpanel.track("Add.payment"),t.go("^.add-payment")):(mixpanel.track("Student.setting.cards"),t.go("^.student-settings-cards")):e.signupModal.show()},e.showLoginModal=function(){e.userClickedLoginModal=!0,e.signupModal.show()},e.showSignupModal=function(){e.userClickedLoginModal=!1,e.signupModal.show()},e.takePhoto=function(){if(e.platform.mobile)x.takePicture(e);else{var t=document.getElementById("guru-file-input-web");t.click()}},e.file_changed=function(t){var n=t.files[0],i=new FileReader,r=document.getElementsByClassName("Settings-prof-pic")[0];i.onload=function(e){r.src=e.target.result},i.readAsDataURL(n);var o=new FormData;o.append("file",n),o.append("profile_url",e.user.id),e.user.createObj(e.user,"files",o,e)},e.goToEditProfile=function(){$.nextDirection("forward"),mixpanel.track("Setting.profile"),t.go("^.settings-profile")},e.showVersion=function(){e.version=r.get("version");var t="You are using Uguru v1.0."+e.version;e.success.show(0,1e3,t)},e.clearCache=function(){e.user={},r.removeObject("courses"),r.removeObject("universities"),e.rootUser.logout(e.user),h.clearCache(),h.clearHistory(),window.localStorage.clear(),e.bottomTabsDelegate.select(0),e.success.show(0,1e4,"Cache successfully cleared! Please close the app completely & open again.")},e.logoutUser=function(){r.setObject("user",[]),e.user=g.getLocal(),e.user.updateAttr=g.updateAttrUser,e.user.createObj=g.createObj,e.user.updateObj=g.updateObj,alert("You have been logged out!"),e.signupModal.show()},e.goToPreviousSessionDetails=function(e){mixpanel.track("Previous.session.details"),t.go("^.previous-session-details",{sessionObj:JSON.stringify(e)})},e.goToSettingsTab=function(){e.bottomTabsDelegate.select(2)},e.$on("$ionicView.beforeEnter",function(){e.topTabsDelegate||(e.topTabsDelegate=s.$getByHandle("student-home-tabs-top")),e.bottomTabsDelegate||(e.bottomTabsDelegate=s.$getByHandle("student-home-tabs-bottom")),e.root.vars.select_bottom_one?(console.log("view before enter"),e.bottomTabsDelegate.select(0),e.root.vars.select_bottom_one=null):e.root.vars.select_bottom_three?(e.bottomTabsDelegate.select(2),e.root.vars.select_bottom_three=null):e.root.vars.select_bottom_two&&(e.bottomTabsDelegate.select(1),e.root.vars.select_bottom_two=null)}),e.launchSupport=function(){e.supportModal.show()},e.$on("$ionicView.enter",function(){console.log("view has entered",e.root.vars.recent_switched_modes),r.setObject("user",e.user),g.getUserFromServer(e,null,t),e.root.vars.fetch_user_server_mutex=!0,e.user.guru_mode=!1,e.root.vars.guru_mode=!1}),e.$on("$ionicView.loaded",function(){e.topTabsDelegate=s.$getByHandle("student-home-tabs-top"),e.bottomTabsDelegate=s.$getByHandle("student-home-tabs-bottom"),e.bottomTabsDelegate.select(1),1!==e.bottomTabsDelegate.selectedIndex()||e.root.vars.onboarding_cache.add_class||e.showOnboardingAddClass(),window.StatusBar&&StatusBar.styleDefault(),e.base_url=BASE,e.progress_active=!1,e.checkForRatings()}),e.$on("$ionicView.beforeLeave",function(){console.log(t.current.name,"leaving...")}),e.showBouncingRedAlert=function(e,t){i(function(){console.log("this is when the animation should happen"),document.querySelectorAll(".badge-danger")[0].className="badge badge-danger animated bounce infinite",i(function(){document.querySelectorAll(".badge-danger")[0].className="badge badge-danger"},t)},e)},e.showOnboardingAddClass=function(){e.user.student_courses&&0===e.user.student_courses.length&&i(function(){e.root.vars.onboarding_cache.add_class=!0;var t=document.getElementById("add-course-item");e.openPopover(t)},1e3)},e.showOnboardingRequestHelp=function(){e.user.student_courses&&0===e.user.student_courses.length&&i(function(){var t=document.getElementById("add-course-item");e.openPopover(t)},1e3)},e.$on("modal.shown",function(){e.turnStatusBarWhite&&e.turnStatusBarWhite(),window.StatusBar&&(console.log("status bar exists"),StatusBar.styleLightContent()),e.ratingModalShown=!1}),e.showFirstTimeRequestSessionPopup=function(){var t={header:"Sit back and relax",body:"Anytime you request help, click here to check your status",closeButtonText:"Got it",targetName:"bottom-sessions-tab"},n=document.getElementById("bottom-sessions-tab");i(function(){e.openGeneralPopover(n,t)},3e3)}}]),angular.module("uguru.student.controllers").controller("HomeController",["$scope","$state","$ionicPlatform","$cordovaStatusbar","$ionicModal","$timeout","$q","University","$localstorage","$ionicSideMenuDelegate","$ionicBackdrop","$ionicViewSwitcher","$ionicActionSheet",function(e,t,n,i,r,o,s,a,l,u,c,d,p){e.showUpcoming=!0,e.root.vars.show_price_fields=!1,e.showPreviousRequests=function(){e.user.previous_requests&&0!==e.user.previous_requests.length?e.showUpcomingToggle():e.success.show(0,2e3,"Sorry! Please make a request first.")},e.showUpcomingToggle=function(){e.showUpcoming=!e.showUpcoming},e.cancelRequest=function(t){if(confirm("Are you sure you want to cancel this request?")){if(t.status=4,e.user.updateObj(e.user,"requests",t,e),2!==t._type)var n=t.course.short_name+" request canceled";else var n=t.category+" Task request canceled";e.success.show(0,2e3,n),e.root.util.removeObjectByKey(e.user.active_requests,"id",t.id)}},e.goToSessionDetails=function(e){d.nextDirection("forward"),t.go("^.student-session",{sessionObj:JSON.stringify(e)})},e.goToPendingRequestDetails=function(e){var n={request:e};d.nextDirection("forward"),t.go("^.student-session",{sessionObj:JSON.stringify(n)})},e.launchStudentInSessionModal=function(){r.fromTemplateUrl(BASE+"templates/student.in-session.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.studentInSessionModal=t,e.studentInSessionModal.show()})},e.launchStudentSessionDetailsModal=function(){r.fromTemplateUrl(BASE+"templates/student.session.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.studentSessionDetailsModal=t,e.studentSessionDetailsModal.show()})},e.launchStudentRatingsModal=function(t){r.fromTemplateUrl(BASE+"templates/student.ratings.modal.html",{scope:e,animation:"slide-in-up"}).then(function(n){e.pending_rating=t,e.starsSelected,e.studentRatingsModal=n,e.studentRatingsModal.show()})},e.closeStudentRatingsModal=function(){e.loader.show(),e.studentRatingsModal.hide(),e.submitStudentRatingServer()},e.goBack=function(){e.studentSessionDetailsModal.hide()},e.cancelStudentActiveSession=function(n){e.session.status=1;var i={session:e.session};e.user.updateObj(e.user,"sessions",i,e),e.closeAttachActionSheet(),d.nextDirection("forward"),t.go("^.student-session",{sessionObj:JSON.stringify(n)}),o(function(){e.studentInSessionModal.hide()},500)},e.submitStudentRatingServer=function(){e.root.vars.guru_mode?(e.pending_rating.guru_rate_student=!0,e.pending_rating.student_rating=parseInt(e.root.vars.starsSelected)):(e.pending_rating.student_rate_guru=!0,
e.pending_rating.guru_rating=parseInt(e.root.vars.starsSelected));var t=e.pending_rating,n=function(){e.loader.hide()};e.success.show(0,1500,"Rating Saved!"),e.loader.show(),console.log("payload to be submitted",t),e.user.updateObj(e.user,"ratings",t,e,n)},e.showAttachActionSheet=function(){var t=[{text:"Undo Start Session"},{text:"View Session Details"},{text:"Support"}];e.closeAttachActionSheet=p.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){console.log(t),0===t&&(e.closeAttachActionSheet(),confirm("Are you sure? You will lose all session progress")&&o(function(){e.cancelStudentActiveSession(e.session)},500)),1===t&&(e.launchStudentSessionDetailsModal(),e.closeAttachActionSheet()),2===t&&(e.success.show(0,2e3,"Coming Soon!"),e.closeAttachActionSheet())}})},e.root.vars.launchPendingActions=function(){if(e.user.pending_guru_ratings.length>0){var t=e.user.pending_guru_ratings[0];return e.pending_rating=t,void(e.studentRatingsModal&&e.studentRatingsModal.isShown()||e.launchStudentRatingsModal(t))}for(var n=0;n<e.user.active_student_sessions.length;n++){var i=e.user.active_student_sessions[n];2===i.status&&(e.session=i,o(function(){e.details={show:!0},e.launchStudentInSessionModal()},500))}},e.launchPendingActions=e.root.vars.launchPendingActions,n.ready(function(){e.turnStatusBarWhite=function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))},e.turnStatusBarBlack=function(){window.StatusBar&&(StatusBar.styleDefault(),StatusBar.overlaysWebView(!0))},e.turnStatusBarWhite()}),r.fromTemplateUrl(BASE+"templates/verb.home.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.verbModal=t}),r.fromTemplateUrl(BASE+"templates/contacting.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.contactingModal=t}),r.fromTemplateUrl(BASE+"templates/task_verbs.home.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.taskVerbModal=t}),e.launchTaskVerbModal=function(){o(function(){e.closeVerbModal()},500),e.taskVerbModal.show()},e.hideTaskVerbModal=function(){e.taskVerbModal.hide()},e.launchVerbModal=function(){e.verbModal.show()},e.toggleRightSideMenu=function(){u.toggleRight()},e.launchRequestModal=function(t,n){e.root.vars.last_verb_index_clicked=t,n&&(e.root.vars.detailed_verbs_index_clicked=n),r.fromTemplateUrl(BASE+"templates/request.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.requestModal=t,e.requestModal.show(),e.verbModal.isShown()&&o(function(){e.verbModal.hide()},2e3),e.taskVerbModal.isShown()&&o(function(){e.taskVerbModal.hide()},2e3)})},e.launchContactingModal=function(){e.contactingModal.show()},e.cancelActiveSession=function(n){if(0===n.request.status)return void e.cancelRequest(n.request);e.root.vars.active_session=n;var i=function(){e.success.show(0,2e3,e.root.vars.active_session.request.course_name+" successfully canceled!");var n=e.root.vars.active_session;n.status=4;var i={session:n};e.user.previous_student_sessions.push(n),e.root.util.removeObjectByKey(e.user.active_student_sessions,"id",n.id),e.root.util.updateObjectByKey(e.user.student_sessions,"id",n.id,"status",5),e.user.updateObj(e.user,"sessions",i,e),e.root.vars.active_session=null,"root.student-session"===t.current.name&&e.goBack()},r={message:"Are you sure? This will be closely investigated by us and may impact your Guru ranking.",title:"Cancel Session",button_arr:["Never Mind","Cancel Session"],callback_arr:[null,i]};e.platform.web?confirm("Are you sure? \n"+r.message)&&i():e.root.dialog.confirm(r.message,r.title,r.button_arr,r.callback_arr)},e.closeContactingModal=function(){e.contactingModal.hide(),e.user.push_notifications||o(function(){e.requestPushNotifications()},1e3)},e.closeVerbModal=function(){e.verbModal.hide()},e.initAndShowIncomingRequestModal=function(){r.fromTemplateUrl(BASE+"templates/student.request.incoming.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.incomingGuruModal=t,e.incomingGuruModal.show()})},e.processTimeEstimate=function(e){return num_hours=Math.floor(Math.round(e/60*100)/100),e%=60,[num_hours,e]},e.root.vars.processIncomingRequests=function(t){if(0!==t.length){if(e.root.vars.active_processing)return void console.log("we have already began processing");e.root.vars.active_processing=!0;var n=t[0];console.log(n),t.shift(),e.incoming_request=n,e.success.show(0,2500,'<span class="center">You have 1 new request <br> Loading....  </span>'),o(function(){console.log("incoming requests"),e.initAndShowIncomingRequestModal();var t=e.processTimeEstimate(e.incoming_request.time_estimate);e.incoming_request.time_estimate={hours:t[0],minutes:t[1]},e.root.vars.active_processing=!1},2500)}},e.processIncomingRequests=e.root.vars.processIncomingRequests,e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.showGoogleMap=function(){if(e.incoming_request.position.latitude&&e.incoming_request.position.longitude||(e.incoming_request.position.latitude=51.219053,e.incoming_request.position.longitude=4.404418),!e.incoming_request.position||!e.incoming_request.position.latitude||!e.incoming_request.position.longitude)return void console.log("no coordinates... forget about it");e.map={center:{latitude:e.incoming_request.position.latitude,longitude:e.incoming_request.position.longitude},zoom:14,control:{}},e.options={scrollwheel:!1};var t,n=document.getElementById("map_canvas");t=e.createGoogleLatLng(parseFloat(e.incoming_request.position.latitude),parseFloat(e.incoming_request.position.longitude));var i={center:t,zoom:10,disableDefaultUI:!0,draggable:!1,zoomControl:!1};actual_map=new google.maps.Map(n,i),e.marker=new google.maps.Marker({position:t,map:actual_map}),e.actual_map=actual_map},e.acceptIncomingGuru=function(){var t=function(){e.incoming_request.guru_id=e.incoming_request.guru.id,e.incoming_request.status=1,e.loader.show();var t=function(e,t){console.log("closing modal call back from student accept guru"),o(function(){e.incomingGuruModal.hide()},500),o(function(){e.loader.hide()},1e3)};e.user.createObj(e.user,"sessions",e.incoming_request,e,t),e.incoming_request.status=2};e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.incoming_request.id),dialog_title="Accept this Guru?",dialog_message="You will not be billed until the end of the session & 100% satisfaction guaranteed",button_arr=["Not ready","Yes"],e.platform.web?confirm("Are you sure? \n"+dialog_message)&&t():e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,t])},e.rejectIncomingGuru=function(){var t=function(){requestObj=e.incoming_request,requestObj.status=3,e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.incoming_request.id),e.root.util.updateObjectByKey(e.user.requests,"id",e.incoming_request.id,"status",0),e.user.updateObj(e.user,"requests",requestObj,e),e.success.show(0,2e3,"Guru successfully rejected"),e.incomingGuruModal.hide()};dialog_title="Are you sure?",dialog_message="You may not hear from this Guru again for this request",button_arr=["Cancel","Sure"],e.platform.web?confirm("Are you sure? \n"+dialog_message)&&t():e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,t])},e.acceptIncomingQuestion=function(){var t=function(){requestObj=e.incoming_request,requestObj.status=15,e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.incoming_request.id),e.loader.show();var t=function(e,t){e.loader.hide(),e.incomingGuruModal.hide()};e.user.updateObj(e.user,"requests",requestObj,e,t)};dialog_title="Accept this Question?",dialog_message=e.incoming_request.student_price?"Your card **-"+e.user.default_payment_card.card_last4+" will be billed $"+parseInt(e.incoming_request.student_price)+".":"The guru will be notified & their reputation will be increased!",button_arr=["Not sure yet","Yes"],e.platform.web?confirm("Are you sure? \n"+dialog_message)&&t():e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,t])},e.rejectIncomingQuestion=function(){var t=function(){requestObj=e.incoming_request,requestObj.status=3,e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.incoming_request.id),e.root.util.updateObjectByKey(e.user.requests,"id",e.incoming_request.id,"status",0),e.user.updateObj(e.user,"requests",requestObj,e),e.success.show(0,2e3,"Response rejected. Searching for another Guru to reply."),e.incomingGuruModal.hide()};dialog_title="Are you sure?",dialog_message="We will try our best to get your question answered again!",button_arr=["Cancel","Sure"],e.platform.web?confirm("Are you sure? \n"+dialog_message)&&t():e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,t])},e.$on("modal.shown",function(){e.incomingGuruModal&&e.incomingGuruModal.isShown()&&o(function(){window.StatusBar&&(StatusBar.overlaysWebView(!0),StatusBar.styleLightContent()),e.showGoogleMap()},100)}),e.$on("$ionicView.enter",function(){e.user.incoming_requests&&e.user.incoming_requests.length>0&&e.processIncomingRequests(e.user.incoming_requests),e.user&&e.user.active_student_sessions&&(e.user.active_student_sessions.length>0||e.user.pending_guru_ratings.length>0)&&e.root.vars.launchPendingActions()}),document.addEventListener("resume",function(){console.log("\n\nview has resumed\n\n"),e.user.incoming_requests&&e.user.incoming_requests.length>0&&e.processIncomingRequests(e.user.incoming_requests),e.user&&e.user.active_student_sessions&&(e.user.active_student_sessions.length>0||e.user.pending_guru_ratings.length>0)&&e.root.vars.launchPendingActions()},!1)}]),angular.module("uguru.student.controllers").controller("StudentActiveSession",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$stateParams","Geolocation","$cordovaGeolocation","Restangular","$ionicPlatform","$cordovaActionSheet",function(e,t,n,i,r,o,s,a,l,u,c,d){c.ready(function(){var t={title:"Session Options",buttonLabels:["Request Details"],addCancelButtonWithLabel:"Close",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0,addDestructiveButtonWithLabel:"Cancel Request"};e.showOptions=function(){d.show(t).then(function(t){1===t&&e.session&&cancelSession(e.session)})}}),e.getCurrentDate=function(){var e=new Date,t=e.getHours()%12,n=e.getMinutes();return ending=e.getHours()>=12?"PM":"AM",result=t+":"+n+" "+ending,result},e.cancelSession=function(n){var i=function(){e.session.status=4;var n={session:e.session};e.user.previous_student_sessions.push(e.session),e.root.util.removeObjectByKey(e.user.active_student_sessions,"id",e.session.id),e.root.util.updateObjectByKey(e.user.student_sessions,"id",e.session.id,"status",4),mixpanel.track("Home"),t.go("^.home"),e.user.updateObj(e.user,"sessions",n,e)},r={message:"Are you sure? This will be closely investigated by us and may impact your Student ranking.",title:"Cancel Session",button_arr:["Never Mind","Cancel Session"],callback_arr:[null,i]};e.root.dialog.confirm(r.message,r.title,r.button_arr,r.callback_arr)},e.getCurrentPositionAndSync=function(i){var r={timeout:1e4,enableHighAccuracy:!1};return"root.active-student-session"!==t.current.name?void console.log("do not run background script anymore... quitting"):void l.getCurrentPosition(r).then(function(r){console.log("syncing new location wit the server"),e.syncPositionWithServer(r),e.student_position=r,console.log("results returned student position, which is",JSON.stringify(r)),i&&"root.student-active-session"===t.current.name&&(console.log("we are still in state",t.current.name,"so lets sync again in",i,"seconds"),n(function(){e.getCurrentPositionAndSync(i)},i))},function(e){console.log(e)})},e.sortPositionComparator=function(e,t){return e.id-t.id},e.syncPositionWithServer=function(n,i){if(i)var r={session_position_student:!0,position:n,session:e.session};else var r={session_position_student:!0,position:n.coords,session:e.session};u.one("user",e.user.id).one("sessions").customPUT(JSON.stringify(r)).then(function(r){return pos=r.plain().student_sessions.map(function(e){return e.student_id}).indexOf(r.id),-1!==pos&&(e.session=r.student_sessions[pos]),e.session.student_positions.sort(e.sortPositionComparator),e.session.guru_positions.sort(e.sortPositionComparator),e.guru_position=e.session.guru_positions[(e.session.guru_positions.length-2,e.session.guru_positions.length-1)],e.student_position=e.session.student_positions[(e.session.student_positions.length-2,e.session.student_positions.length-1)],e.last_updated=e.getCurrentDate(),console.log("drawing map with both student & guru"),e.drawGoogleMap(e.student_position,e.guru_position),"root.active-student-session"!==t.current.name?void console.log("do not run background script anymore"):void(i&&i(n))},function(e){console.log(e),console.log("error...something happened with the server;")})},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.drawGoogleMap=function(t,n,i){t||(t={latitude:e.user.university.latitude,longitude:e.user.university.longitude});var r=document.getElementById("map_canvas"),o=e.createGoogleLatLng(parseFloat(t.latitude),parseFloat(t.longitude)),s={center:o,zoom:15,disableDefaultUI:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}};e.platform.web&&(s.zoomControl=!0);var a=new google.maps.Map(r,s);e.actual_map=a,i&&e.drawGoogleMarkers(t,n,a)},e.drawGoogleMarkers=function(t,n,i){if(t){var r=e.createGoogleLatLng(t.latitude,t.longitude);e.map.student_marker=new google.maps.Marker({position:r,map:i,draggable:!0})}if(n){var o=e.createGoogleLatLng(n.latitude,n.longitude);e.map.guru_marker=new google.maps.Marker({position:o,map:i,draggable:!0})}if(t&&n){var s=new google.maps.LatLngBounds;s.extend(o),s.extend(r),i.fitBounds(s)}},e.drawMapWithSchoolCoordinates=function(){var t=document.getElementById("map_canvas"),n=e.createGoogleLatLng(parseFloat(e.user.university.latitude),parseFloat(e.user.university.longitude)),i={center:n,zoom:15,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}},r=new google.maps.Map(t,i);e.actual_map=r;var o=e.createGoogleLatLng(parseFloat(e.user.university.latitude),parseFloat(e.user.university.longitude));e.map.student_marker=new google.maps.Marker({position:o,map:r,draggable:!0})},e.getUserRecentLocation=function(i){e.geoOptions={timeout:1e4,enableHighAccuracy:!1},l.getCurrentPosition(e.geoOptions).then(function(r){return e.user.last_position=r.coords,console.log("user is at "+e.user.last_position.latitude+","+e.user.last_position.longitude),e.drawGoogleMap(e.user.last_position,e.guru.last_position,!0),e.loader.hide(),"root.active-student-session"!==t.current.name?void console.log("do not run background script anymore"):(console.log("rechecking the location in",i,"seconds"),void(i&&n(function(){e.getUserRecentLocation(i)},i)))},function(t){console.log("error from gps",t),e.drawMapWithSchoolCoordinates()})},e.goToSessionMessages=function(e){mixpanel.track(".Message"),t.go("^.messages",{sessionObj:JSON.stringify(e)})},e.goToGuruProfile=function(e){mixpanel.track("Student.guru.profile"),t.go("^.student-guru-profile",{guruObj:JSON.stringify(e)})},e.$on("$ionicView.enter",function(){e.session=JSON.parse(s.sessionObj),e.recursive_delay=6e4,e.guru=e.session.guru,e.student_position=null,e.guru_position=null,e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1},e.loader.show(),n(function(){e.getUserRecentLocation(e.recursive_delay),n(function(){e.loader.hide()},500)},1e3)})}]),angular.module("uguru.student.controllers").controller("StudentRequestContactController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$ionicHistory","$cordovaPush","$ionicViewSwitcher",function(e,t,n,i,r,o,s,a,l){e.saveAndGoToRequest=function(){e.user.phone_number&&e.user.phone_number.length>0&&(e.user.updateAttr("phone_number",e.user,e.user.phone_number,null,e),e.root.vars.request.contact.phone=!0),e.user.email&&e.user.email.length>0&&(e.user.updateAttr("email_notifications",e.user,e.user.email_notifications,null,e),e.root.vars.request.contact.email=!0),l.nextDirection("forward"),mixpanel.track("Student.request"),t.go("^.student-request")},e.emailNotificationChange=function(){e.user.updateAttr("email_notifications",e.user,e.user.email_notifications,null,e)},e.requestPushNotifications=function(){if(!e.user.push_notifications)return console.log("push notifications are false"),void e.user.updateAttr("push_notifications",e.user,e.user.push_notifications,null,e);var t={badge:!0,sound:!0,alert:!0};a.register(t).then(function(t){console.log("deviceToken: "+t),console.log("Register success "+t),e.platform.ios&&(console.log("updating the server..."),e.user.push_notifications=!0,e.user.current_device.push_notif=t,e.user.current_device.push_notif_enabled=!0,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),payload={push_notifications:!0},e.user.updateAttr("push_notifications",e.user,payload,null,e))},function(e){console.log(e)})}}]),angular.module("uguru.student.controllers").controller("GuruAvailableController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$stateParams","$cordovaDialogs",function(e,t,n,i,r,o,s){e.request=JSON.parse(o.requestObj),e.guru=e.request.guru,e.guru&&!e.guru.profile_url&&(e.guru.profile_url="https://graph.facebook.com/10152573868267292/picture?width=100&height=100"),e.getNumber=function(e){return new Array(e)},e.goToGuruProfile=function(){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(e.guru)})},e.acceptGuru=function(){if(0===e.user.cards.length)return mixpanel.track("Add.payment"),void t.go("^.add-payment");var n=function(){e.request.guru_id=e.guru.id,e.request.status=1,e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.request.id);var n=function(e,n){mixpanel.track("Home"),t.go("^.home")};e.user.createObj(e.user,"sessions",e.request,e,n)};dialog_title="Accept this Guru",dialog_message="You will not be billed until the end of the session & 100% satisfaction guaranteed",button_arr=["Not ready","Yes"],e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,n])},e.guruRejectConfirmDialog=function(){var t=function(){requestObj=e.request,requestObj.status=3,e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.request.id),e.root.util.updateObjectByKey(e.user.requests,"id",e.request.id,"status",0),e.user.updateObj(e.user,"requests",requestObj,e)};dialog_title="Are you sure?",dialog_message="You may not hear from this Guru again for this request",button_arr=["Cancel","Sure"],e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,t])},e.rejectGuru=function(){e.guruRejectConfirmDialog()};var a=document.getElementById("lightSpeedIn");setTimeout(function(){a.classList.add("animated"),a.classList.add("lightSpeedIn")},5500)}]),angular.module("uguru.student.controllers").controller("StudentViewGuruProfileController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory",function(e,t,n,i,r,o,s,a){e.showContactGuru=null,s&&(e.guru=JSON.parse(s.guruObj),console.log(e.guru),s.showContactGuru&&(e.showContactGuru=JSON.parse(s.showContactGuru))),e.goBack=function(){a.goBack()},e.getNumber=function(e){return new Array(e)}}]),angular.module("uguru.student.controllers").controller("StudentHomeSessionsController",["$scope","$state","$ionicHistory",function(e,t){}]),angular.module("uguru.student.controllers").controller("PreviousSessionDetailsController",["$scope","$state","$timeout","$ionicHistory","$ionicModal","$cordovaKeyboard","$stateParams",function(e,t,n,i,r,o,s){e.session=JSON.parse(s.sessionObj),e.goToSessionMessages=function(n){e.user.guru_mode?(mixpanel.track("Student.messages"),t.go("^.^.student.messages",{sessionObj:JSON.stringify(n)})):(mixpanel.track("Message"),t.go("^.messages",{sessionObj:JSON.stringify(n)}))}}]),angular.module("uguru.student.controllers").controller("StudentRequestBudgetController",["$scope","$state","$timeout","$localstorage","$ionicHistory",function(e,t,n,i,r){e.hourly_price=20}]),angular.module("uguru.student.controllers").controller("StudentRequestGuruTypeController",["$scope","$state","$timeout","$localstorage","$ionicHistory",function(e,t,n,i,r){e.validateForm=function(){e.root.vars.request.type.in_person||e.root.vars.request.type.online?r.goBack():alert("Please select at least one option")},e.goBackToRequests=function(){r.goBack()}}]),angular.module("uguru.student.controllers").controller("StudentRequestSessionLengthController",["$scope","$state","$timeout","$localstorage","$ionicHistory",function(e,t,n,i,r){e.indexToValueMinutes=[null,0,15,30,45],e.validateForm=function(){null!==e.root.vars.request._length.hours&&null!==e.root.vars.request._length.minutes?r.goBack():alert("Please select at least one option")},e.root.vars.request._length.hours||(e.root.vars.request._length.hours=2),e.root.vars.request._length.minutes||(e.root.vars.request._length.minutes=0),e.incrementHour=function(){e.root.vars.request._length.hours<=9&&(e.root.vars.request._length.hours+=1)},e.decrementHour=function(){e.root.vars.request._length.hours>0&&(e.root.vars.request._length.hours-=1)},e.decrementMinute=function(){e.root.vars.request._length.minutes>1&&(e.root.vars.request._length.minutes-=1)},e.incrementMinute=function(){e.root.vars.request._length.minutes<=3&&(e.root.vars.request._length.minutes+=1)},e.goBackToGuruType=function(){r.goBack()}}]),angular.module("uguru.student.controllers").controller("RequestStatusController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","$ionicViewSwitcher","$cordovaStatusbar",function(e,t,n,i,r,o,s,a,l){e.requestObj=JSON.parse(o.requestObj),e.request=e.requestObj,e.request.files&&e.request.files.length>0&&r.fromTemplateUrl(BASE+"templates/view-files.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.viewFilesModal=t}),e.course=e.requestObj.course,e.progress_active=!1;var u=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=new Date(e.request.time_created);e.formatted_time_created=c[d.getDay()]+", "+u[d.getMonth()]+" "+d.getDate(),e.formatted_time_estimated_hours=Math.round(e.request.time_estimate/60,2),e.request.online&&e.request.in_person?e.formatted_request_type="In-person and online":e.request.online?e.formatted_request_type="Online only":e.request.in_person&&(e.formatted_request_type="In-person only"),e.root.vars.request_status_callback&&(console.log("sup"),n(function(){e.success.show(0,5e3,"You already have a request for this class. Please cancel before you make a new one.")},2e3)),e.$on("modal.shown",function(){window.StatusBar&&StatusBar.styleLightContent()}),e.$on("modal.hidden",function(){window.StatusBar&&StatusBar.styleDefault()}),e.goBack=function(){a.nextDirection("back"),e.root.vars.select_bottom_one=!0,mixpanel.track("Student.home"),t.go("^.student-home")},e.openAttachment=function(e){window.open(e,"_system","location=yes");return!1},e.goToGuruProfile=function(e){mixpanel.track("Student.guru.profile"),t.go("^.student-guru-profile",{guruObj:JSON.stringify(e)})},e.goToStudentCalendar=function(){a.nextDirection("forward"),mixpanel.track("Request.calendar"),t.go("^.request-calendar",{proposalObj:JSON.stringify(e.request)})},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.convertTimeEstimate=function(e){var t=["30 minutes","1 Hour","1.5 hours","2+ hours"];return t[e]},e.getNumber=function(e){return new Array(e)},e.acceptGuru=function(){if(0===e.user.cards.length)return mixpanel.track("Add.payment"),e.root.vars.request_payment=!0,void t.go("^.add-payment");var n=function(){e.request.guru_id=e.request.guru.id,e.request.status=1,e.loader.show(),e.user.createObj(e.user,"sessions",e.request,e,null),e.request.guru_id=e.request.guru.id,e.request.status=2,e.loader.show(),e.root.vars.select_bottom_one=!0,t.go("^.student-home")};dialog_title="Accept this Guru",dialog_message="You will not be billed until the end of the session & 100% satisfaction guaranteed",button_arr=["Not ready","Yes"],e.platform.web?confirm("Are you sure? \n"+dialog_message)&&n():e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,n]),e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.request.id)},e.guruRejectConfirmDialog=function(){var t=function(){requestObj=e.request,requestObj.status=3,e.root.util.removeObjectByKey(e.user.incoming_requests,"id",e.request.id),e.root.util.updateObjectByKey(e.user.requests,"id",e.request.id,"status",0),e.user.updateObj(e.user,"requests",requestObj,e),e.show.success(0,2e3,"Guru successfully rejected")};dialog_title="Are you sure?",dialog_message="You may not hear from this Guru again for this request",button_arr=["Cancel","Sure"],e.platform.web?confirm("Are you sure? \n"+dialog_message)&&t():e.root.dialog.confirm(dialog_message,dialog_title,button_arr,[null,t])},e.rejectGuru=function(){e.guruRejectConfirmDialog()},e.removeRequestFromActive=function(t){for(var n=e.user.active_requests,i=0;i<n.length;i++){var r=n[i];r.id===t.id&&e.user.active_requests.splice(i,i+1)}},e.updateUserRequest=function(t){for(var n=e.user.requests,i=0;i<n.length;i++){var r=n[i];r.id===t.id&&(e.user.requests[i].status=3)}},e.cancelRequest=function(){e.requestObj.status=4,e.user.updateObj(e.user,"requests",e.requestObj,e);var i=e.course.short_name+" request canceled";e.success.show(0,2e3,i),e.root.util.removeObjectByKey(e.user.active_requests,"id",e.request.id),n(function(){mixpanel.track("Student.home"),t.go("^.student-home")},1e3)},e.showGoogleMap=function(){if(!e.request.position||!e.request.position.latitude||!e.request.position.longitude)return void console.log("no coordinates... forget about it");e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1};var t,n=document.getElementById("map_canvas");t=e.createGoogleLatLng(parseFloat(e.request.position.latitude),parseFloat(e.request.position.longitude));var i={center:t,zoom:17,disableDefaultUI:!0,draggable:!1,zoomControl:!1};actual_map=new google.maps.Map(n,i),e.marker=new google.maps.Marker({position:t,map:actual_map}),e.actual_map=actual_map},e.map_loaded=!1,e.$on("$ionicView.enter",function(){e.loader.show(),n(function(){e.showGoogleMap(),e.loader.hide()},1e3)}),e.loadMapDelayed=function(){n(function(){0===document.getElementsByClassName("gm-style").length&&(console.log("500-loaded: map hasn't been drawn yet, attempting to redraw"),e.showGoogleMap(),e.loader.hide())},500),n(function(){0===document.getElementsByClassName("gm-style").length&&(console.log("1000-loaded: map hasn't been drawn yet, attempting to redraw"),e.showGoogleMap(),e.loader.hide())},1e3),n(function(){0===document.getElementsByClassName("gm-style").length&&(console.log("1500-loaded: map hasn't been drawn yet, attempting to redraw"),e.showGoogleMap(),e.loader.hide())},1500)}}]),angular.module("uguru.student.controllers").controller("StudentRequestController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$stateParams","$ionicNavBarDelegate","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicHistory","CordovaPushWrapper","$ionicPlatform","User","$ionicViewSwitcher","$ionicSideMenuDelegate",function(e,t,n,i,r,o,s,a,l,u,c,d,p,g,h,f,m,v){e.isRequestFormComplete=!1,r.fromTemplateUrl(BASE+"templates/signup.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.signupModal=t}),r.fromTemplateUrl(BASE+"templates/contact-guru.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.contactingGuruModal=t}),e.checkboxClicked=function(t){e.time_checkbox=t},e.toggleVirtualGuru=function(){e.virtual_guru_checkbox=!e.virtual_guru_checkbox},e.togglePersonGuru=function(){e.person_guru_checkbox=!e.person_guru_checkbox,e.person_guru_checkbox&&(e.requestPosition||e.user.current_device.location_enabled?e.requestMapModal.show():l.getUserPosition(e,e.showRequestMapModal))},e.checkLocationStatus=function(){if(console.log("current location status is..",e.location_error),"turned-off"===e.location_error)return void console.log("skipping status check upon user request...");var t={timeout:1e4,enableHighAccuracy:!1};console.log("checking status of user location services..."),d.getCurrentPosition(t).then(function(t){e.location_error=null,console.log("user has it turned on")},function(t){1===t.code&&(e.location_error="denied",console.log("user has denied...")),2===t.code&&(e.location_error="unavailable",console.log("it is unavailable...")),3===t.code&&(console.log("it is unavailable..."),e.location_error="timeout")})},e.showRequestMapModal=function(){e.requestMapModal.show()},e.goBackFromRequestsToHome=function(){e.root.vars.calendar_should_be_empty=!0,e.root.vars.request_cache[e.course.short_name.toLowerCase().toString()]=e.root.vars.request,console.log("course ",e.course.short_name,"saved to local cache here is entire object saved:",e.root.vars.request),e.root.vars.request=null,m.nextDirection("back"),t.go("^.student-home")},e.initRequestObj=function(){var t=new Date;return t=t.getTime(),{position:null,photo:null,status:0,proposals:null,time_estimate:0,note:null,time_created:t,location:null,course:e.course,online:!0,in_person:!1}},e.calendar={width:2,height:24,num_selected:0},e.saveRequestToUser=function(){e.request.status=0,e.request._file=null,e.request.online=e.root.vars.request.type.online,e.request.in_person=e.root.vars.request.type.in_person,e.request.time_estimate=60*parseInt(e.root.vars.request._length.hours)+parseInt(e.valueToMinutes[e.root.vars.request._length.minutes]),e.request.address=e.root.vars.request.address,e.request.position=e.root.vars.request.location,e.request.calendar=e.root.vars.request.calendar,e.request.calendar_events=e.root.vars.request.calendar.data,e.request.course=e.root.vars.request.course,e.request.note=e.root.vars.request.description,e.request.files=e.root.vars.request.files,e.request.price_slider=e.root.vars.request.price_slider,e.root.vars.request_cache[e.course.short_name.toLowerCase().toString()]=null,e.contactingGuruModal.show(),n(function(){e.user.createObj(e.user,"requests",e.request,e,null,e.failureFunction),console.log("going home..."),p.clearHistory(),p.clearCache(),mixpanel.track("Student.home"),t.go("^.student-home")},1e3),n(function(){e.contactingGuruModal.hide(),e.root.vars.request=null,e.root.vars.request_form_recently_hidden=!0,e.root.vars.files_should_be_cleared=!0,e.root.vars.calendar_should_be_empty=!0},1e4),e.failureFunction=function(e){e.contactingGuruModal.hide()}};var b=function(){return e.root.vars.request.description&&e.root.vars.request.location&&(e.root.vars.request.type.in_person||e.root.vars.request.type.online)&&e.root.vars.request._length.hours&&e.root.vars.request.calendar_selected?!0:(alert("Please fill in all fields"),!1)};e.requestHelp=function(){return e.user.id?b()?void e.saveRequestToUser():void console.log("form is not validated"):(console.log(e.root.vars.request),e.signupModal.show(),void console.log("show form they are not signed in yet"))},e.showDialog=function(e,t,n,i){c.alert(e,t,n).then(function(){i&&i()})},e.toggleLocationService=function(){if(e.location_error){var t=e.location_error;if("denied"==t){var n=function(){e.requestMapModal.hide()};e.showDialog("Please go to privacy settings, turn on location services for Uguru, and try again","Location Error","OK",n)}else"unavailable"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):"timeout"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):(l.getUserPosition(e,e.showRequestMapModal),e.location_error=null)}else e.location_error="turned-off"},e.time_checkbox=0,e.location_error=null,e.virtual_guru_checkbox=!0,e.person_guru_checkbox=!1,e.requestPosition=null,e.request=e.initRequestObj(),e.root.vars.request?(e.course=e.root.vars.request.course,
e.platform.mobile&&(e.root.vars.request.contact.push_notif=e.user.current_device.push_notif)):e.root.vars.request={type:{in_person:!0,online:!0},_length:{hours:2,minutes:0},calendar_selected:!1,course:e.course||JSON.parse(s.courseObj),description:null,location:null,files:[],price_slider:0,calendar:{data:{},calendar_selected:!1},contact:{email:e.user.email_notifications,phone:e.user.text_notifications,push_notif:e.user.push_notifications,email_address:"",phone_number:""}},e.valueToMinutes=[null,"15","30","45"],e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1},e.searchbox={template:BASE+"templates/searchbox.tpl.html",options:{autocomplete:!0,types:["(cities)"],componentRestrictions:{country:"us"}},events:{place_changed:function(e){place=e.getPlace()}}},e.$on("$ionicView.beforeEnter",function(){e.loader.show(),console.log(e.root.vars.request_cache),e.root.vars.request_cache[e.course.short_name.toLowerCase().toString()]&&(e.root.vars.request=e.root.vars.request_cache[e.course.short_name.toLowerCase().toString()])}),e.pushToggle={checked:!1},e.checkPush=function(){e.platform.mobile&&(e.user.current_device=ionic.Platform.device(),g.register(e)),e.user.current_device.push_token?e.pushToggle.checked=!0:e.root.dialog.alert("Go to your settings & enable push notifications","Please Enable","Got it",function(){e.pushToggle.checked=!1})},e.$on("$ionicView.enter",function(){e.loader.hide(),n(function(){e.root.vars.request.price_slider=0},250)}),e.$on("$ionicView.afterEnter",function(){console.log(t.current.name,"after enter"),console.log("device",JSON.stringify(e.user.current_device)),e.loader.hide()}),e.$on("$ionicView.loaded",function(){})}]),angular.module("uguru.student.controllers").controller("StudentSessionController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","$ionicActionSheet","Restangular","$ionicPlatform","$ionicScrollDelegate","$cordovaKeyboard","$ionicSideMenuDelegate","$ionicHistory",function(e,t,n,i,r,o,s,a,l,u,c,d,p,s){u.ready(function(){window.StatusBar&&e.user.guru_mode&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),e.session=JSON.parse(o.sessionObj),e.session.request.student_price&&(e.session.request.student_price=parseInt(e.session.request.student_price)),e.details={show:!0},e.new_message={content:""},e.default_profile_url="https://graph.facebook.com/10152573868267292/picture?width=100&height=100",e.session.request.status>0&&e.session.guru.id===e.user.id?e.message_name=e.session.request.student.name.split(" ")[0]:e.session.request.status>0&&(e.message_name=e.session.guru.name.split(" ")[0]),e.goBack=function(){s.goBack()},e.showChat=function(){e.details.show=!1},e.showDetails=function(){e.details.show=!0},e.showAttachActionSheet=function(){var t=[{text:"Cancel Request"},{text:"Support"}];e.closeAttachActionSheet=a.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){console.log(t),0===t&&(e.closeAttachActionSheet(),n(function(){e.cancelSession(e.session)},500)),1===t&&(e.success.show(0,2e3,"Email support@uguru.me for a fast reply"),e.closeAttachActionSheet())}})},e.cancelRequest=function(t){if(confirm("Are you sure you want to cancel this request?")){t.status=4,e.user.updateObj(e.user,"requests",t,e);var n=t.course.short_name+" request canceled";p.toggleRight(),e.success.show(0,2e3,n),e.root.util.removeObjectByKey(e.user.active_requests,"id",t.id)}},e.session.request.schedule_time=45,e.cancelSession=function(t){if(0===t.request.status)return void e.cancelRequest(t.request);var n=function(){e.session.status=4;var t={session:e.session};e.user.previous_student_sessions.push(e.session),e.root.util.removeObjectByKey(e.user.active_student_sessions,"id",e.session.id),e.root.util.updateObjectByKey(e.user.student_sessions,"id",e.session.id,"status",5),e.user.updateObj(e.user,"sessions",t,e),e.goBack()},i={message:"Are you sure? This will be closely investigated by us and may impact your Guru ranking.",title:"Cancel Session",button_arr:["Never Mind","Cancel Session"],callback_arr:[null,n]};e.platform.web?confirm("Are you sure? \n"+i.message)&&n():e.root.dialog.confirm(i.message,i.title,i.button_arr,i.callback_arr)},e.getCurrentDate=function(){var e=new Date,t=e.getHours()%12,n=e.getMinutes();return ending=e.getHours()>=12?"PM":"AM",result=t+":"+n+" "+ending,result},e.last_updated=e.getCurrentDate(),e.sortMessageComparator=function(e,t){return e.id-t.id},e.setFocus=function(){e.hide_footer||(e.hide_footer=!1,document.getElementsByName("message-input")[0].focus(),c.$getByHandle("message-scroll").scrollBottom())},e.setUnfocus=function(){e.hide_footer=!0,e.platform.mobile&&d&&(d.close(),c.$getByHandle("message-scroll").scrollBottom()),n(function(){e.hide_footer=!1},500)},e.getMessagePayload=function(t){var n={message:{contents:t,relationship_id:e.session.relationship_id,receiver_id:e.session.guru.id,sender_id:e.user.id,session_id:e.session.id}};return n},e.sendMessage=function(t){var n=e.getMessagePayload(t);e.sendMessageToServer(n),n.message["class"]="item-avatar-right animated fadeIn",n.message.profile_url=e.user.profile_url,n.message.formatted_time="a couple seconds ago",e.new_message.content="",e.local_messages.push(n.message)},e.sortedListByObjKey=function(e){return e},e.processMessagesFromServer=function(e,t){return t},e.hideKeyboard=function(){e.root.keyboard.close(),e.hide_footer=!0,c.$getByHandle("message-scroll").resize(),n(function(){e.hide_footer=!1},500)},e.sendMessageToServer=function(t){var n=function(e,t){e.user.active_student_sessions=t.active_student_sessions;for(var n=0;n<t.active_student_sessions.length;n++)if(e.session.id===t.active_student_sessions[n].id){var i=e.processMessages(t.active_student_sessions[n].messages);i.sort(e.sortMessageComparator),e.messages=i,i.length>e.local_messages.length&&(e.local_messages=i)}};e.user.createObj(e.user,"messages",t,e,n)},e.processMessages=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.profile_url=t[n].sender.profile_url,i["class"]=i.sender.id===e.user.id?"item-avatar-right":"item-avatar-left",i.formatted_time=e.root.time.since(new Date(i.time_created))}return t.sort(e.sortMessageComparator),e.loader.hide(),t},e.doRefresh=function(){var t=function(){n(function(){e.$broadcast("scroll.refreshComplete"),c.$getByHandle("message-scroll").scrollBottom()},3e3)};e.getMessagesFromServer(null,!0,t)},e.getMessagesFromServer=function(i,r,o){console.log("getting message from server"),l.one("user",e.user.id).one("sessions",e.session.id).one("messages").customGET().then(function(s){var a=e.processMessages(s.messages);a.sort(e.sortMessageComparator),a.length>e.messages.length&&c.$getByHandle("message-scroll").scrollBottom(),e.messages=a,e.messages.length>e.local_messages.length&&(e.local_messages=e.messages),"root.student-messages"!==t.current.name||r||n(function(){e.getMessagesFromServer(i)},i),o&&o()},function(e){console.log(e),console.log("error...something happened with the server;")})},e.$on("$ionicView.afterEnter",function(){e.session.request.status>0&&(e.messages=e.processMessages(e.session.messages),e.local_messages=e.messages,c.$getByHandle("message-scroll").scrollBottom(),n(function(){e.getMessagesFromServer(3e4)},3e4))})}]),angular.module("uguru.guru.controllers",[]).controller("BecomeGuruController",["$scope","$state","$timeout","$localstorage","$ionicModal","$cordovaKeyboard","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,r,o,s,a){e.progressMax=4,e.user.majors||(e.user.majors=[]),e.user.guru_courses||(e.user.guru_courses=[]),a.ready(function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),e.calculateProgress=function(t){return count=0,t.university_id&&(count+=1),e.user.majors.length>0&&t.majors[0].id&&(count+=1),e.user.guru_courses.length>0&&(count+=1),e.user.guru_introduction&&(count+=1),e.progressValue=count,count},e.progressValue=e.calculateProgress(e.user),console.log(e.user.guru_courses),r.fromTemplateUrl(BASE+"templates/add-course.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addCourseModal=t}),r.fromTemplateUrl(BASE+"templates/add-major.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addMajorModal=t}),r.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),r.fromTemplateUrl(BASE+"templates/guru-intro.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addGuruIntroModal=t}),e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&o.close()},e.goToGuruHome=function(){mixpanel.track("Home"),t.go("^.home")},e.submitGuruOnboarding=function(){e.user.is_a_guru=!0,i.setObject("user",e.user),mixpanel.track("Guru.home"),t.go("^.guru-home"),e.user.updateAttr("is_a_guru",e.user,!0,null,e)},e.uberFriendlyChange=function(){e.user.updateAttr("uber_friendly",e.user,e.user.uber_friendly,null,e)},e.outsideSchoolChange=function(){e.user.updateAttr("outside_university",e.user,e.user.outside_university,null,e)},e.summer15Change=function(){e.user.updateAttr("summer_15",e.user,e.user.summer_15,null,e)},e.$on("$ionicView.beforeEnter",function(){console.log("before view enter..."),window.StatusBar&&StatusBar.styleLightContent()})}]),angular.module("uguru.guru.controllers").controller("BecomeGuruController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate","$ionicPlatform","$cordovaStatusbar","$ionicSlideBoxDelegate",function(e,t,n,i,r,o,s,a,l,r,u,c){e.activeSlideIndex=0,e.injectAnimated=!1,e.majors=e["static"].majors,e.courses=e["static"].courses,console.log(e.majors.length),e.major_input={search_text:"",majors:e.root.vars.majors},e.slideHasChanged=function(t){e.activeSlideIndex=t,console.log(t)},e.goToUniversity=function(){t.go("^.university")},l.canDragContent(!1),r.ready(function(){e.turnStatusBarWhite=function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))},e.turnStatusBarBlack=function(){window.StatusBar&&(StatusBar.styleDefault(),StatusBar.overlaysWebView(!0))},e.turnStatusBarWhite()});var d=function(t){element=t.target,console.log(element.className),-1===element.className.indexOf("selected")&&(element.className+=" animated pulse",e.tempElement=element,n(function(){e.tempElement.className+=" selected"},500))};e.initiateSkillEventListeners=function(){for(var e=document.getElementsByClassName("skill-tag"),t=0;t<e.length;t++){var n=e[t];ionic.onGesture("tap",d,n,{})}for(var i=document.getElementsByClassName("major-tag"),r=0;r<i.length;r++){var o=i[r];ionic.onGesture("tap",d,o,{})}for(var s=document.getElementsByClassName("popular-course-tag"),a=0;a<s.length;a++){var l=s[a];ionic.onGesture("tap",d,l,{})}},e.$on("$ionicView.enter",function(){n(function(){e.initiateSkillEventListeners()},500),e.slidebox_handle=c.$getByHandle("become-guru-slide-box")})}]),angular.module("uguru.guru.controllers").controller("BecomeGuruPhotoController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate","$ionicPlatform","$cordovaStatusbar","$ionicViewSwitcher","$ionicActionSheet","Camera",function(e,t,n,i,r,o,s,a,l,r,u,c,d,p){e.takePhotoCallbackSuccess=function(e){e.success.show(0,2e3,"Awesome! You're all set."),c.nextDirection("forward"),t.go("^.guru")},e.uploadPhotoAndFinish=function(){e.success.show(0,2e3,"Awesome! You're all set."),c.nextDirection("forward"),t.go("^.guru")},e.showAttachActionSheet=function(){var t=[{text:"Choose from Library"}];e.platform.mobile&&t.push({text:"Take a Photo"}),e.closeAttachActionSheet=d.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){e.takePhoto(t),n(function(){e.closeAttachActionSheet()},500)}})},e.takePhoto=function(t){if(e.platform.mobile)e.root.vars.profile_url_changed=!0,p.takePicture(e,t,e.takePhotoCallbackSuccess);else{var n=document.getElementById("file-input-web");n.click()}},e.closeAttachActionSheet=function(){e.closeAttachActionSheet()},e.file_changed=function(t){{var n=t.files[0],i=new FileReader;document.getElementById("sidebar-student-profile-photo")}i.onload=function(t){e.user.profile_url=t.target.result},i.readAsDataURL(n);var r=new FormData;r.append("file",n),r.append("profile_url",e.user.id),r.append("filename",name),e.file_index+=1,e.user.createObj(e.user,"files",r,e,e.takePhotoCallbackSuccess)}}]),angular.module("uguru.guru.controllers").controller("GuruActiveSession",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$stateParams","Geolocation","$cordovaGeolocation","Restangular","$ionicHistory","$ionicPlatform","$cordovaStatusbar","$cordovaActionSheet","$ionicPlatform",function(e,t,n,i,r,o,s,a,l,u,c,d,p,g,d){d.ready(function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0));var t={title:"Session Options",buttonLabels:["Request Details"],addCancelButtonWithLabel:"Close",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0,addDestructiveButtonWithLabel:"Cancel Request"};e.showOptions=function(){g.show(t).then(function(t){1===t&&e.session&&cancelSession(e.session)})}}),e.$on("$ionicView.enter",function(){e.session=JSON.parse(s.sessionObj),e.recursive_delay=6e4,e.guru=e.session.guru,e.student_position=null,e.guru_position=null,e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1},n(function(){e.getUserRecentLocation(e.recursive_delay)},1e3)}),e.goToSessionMessages=function(e){mixpanel.track("Message"),t.go("^.messages",{sessionObj:JSON.stringify(e)})},e.goToGuruProfile=function(e){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(session.student)})},e.goBack=function(){c.goBack()},e.cancelSession=function(n){var i=function(){e.session.status=5;var n={session:e.session};e.user.previous_guru_sessions.push(e.session),e.root.util.removeObjectByKey(e.user.active_guru_sessions,"id",e.session.id),e.root.util.updateObjectByKey(e.user.guru_sessions,"id",e.session.id,"status",5),mixpanel.track("Home"),t.go("^.home"),e.user.updateObj(e.user,"sessions",n,e)},r={message:"Are you sure? This will be closely investigated by us and may impact your Guru ranking.",title:"Cancel Session",button_arr:["Never Mind","Cancel Session"],callback_arr:[null,i]};e.root.dialog.confirm(r.message,r.title,r.button_arr,r.callback_arr)},e.continueSession=function(e){mixpanel.track("Guru.session.start"),t.go("^.guru-session-start",{sessionObj:JSON.stringify(e)})},e.startSessionTimer=function(n){console.log(n);var i=function(){var i=function(){mixpanel.track("Guru.session.start"),t.go("^.guru-session-start",{sessionObj:JSON.stringify(n)})};e.session.status=2,e.session.minutes=0,e.session.hours=0,e.session.seconds=0;var r={session:e.session};e.user.updateObj(e.user,"sessions",r,e,i)},r={message:"Only start if the student is around you and you're good to go",title:"Are you sure?",button_arr:["Cancel","Yes"],callback_arr:[null,i]};e.platform.web?confirm("Are you sure? \n"+r.message)&&i():e.root.dialog.confirm(r.message,r.title,r.button_arr,r.callback_arr)},e.getCurrentDate=function(){var e=new Date,t=e.getHours()%12,n=e.getMinutes();return ending=e.getHours()>=12?"PM":"AM",result=t+":"+n+" "+ending,result},e.getCurrentPositionAndSync=function(t){var i={timeout:1e4,enableHighAccuracy:!1};l.getCurrentPosition(i).then(function(i){e.syncPositionWithServer(i),e.guru_position=i,t&&n(function(){e.getCurrentPositionAndSync(t)},t)},function(e){console.log(e)})},e.sortPositionComparator=function(e,t){return e.id-t.id},e.syncPositionWithServer=function(n,i){if(i)var r={session_position_guru:!0,position:n,session:e.session};else var r={session_position_guru:!0,position:n,session:e.session};u.one("user",e.user.id).one("sessions").customPUT(JSON.stringify(r)).then(function(r){return pos=r.plain().student_sessions.map(function(e){return e.student_id}).indexOf(r.id),-1!==pos&&(e.session=r.student_sessions[pos]),e.session.student_positions.sort(e.sortPositionComparator),e.session.guru_positions.sort(e.sortPositionComparator),e.guru_position=e.session.guru_positions[(e.session.guru_positions.length-2,e.session.guru_positions.length-1)],e.student_position=e.session.student_positions[(e.session.student_positions.length-2,e.session.student_positions.length-1)],console.log(e.guru_position,e.student_position),e.last_updated=e.getCurrentDate(),e.drawGoogleMap(e.guru_position,e.student_position),e.loader.hide(),"root.guru-active-session"!==t.current.name?void console.log("do not run background script anymore"):void(i&&i(n))},function(e){console.log(e),console.log("error...something happened with the server;")})},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.drawMapWithSchoolCoordinates=function(){var t=document.getElementById("map_canvas"),n=e.createGoogleLatLng(parseFloat(e.user.university.latitude),parseFloat(e.user.university.longitude)),i={center:n,zoom:15,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}},r=new google.maps.Map(t,i);e.actual_map=r;var o=e.createGoogleLatLng(parseFloat(e.user.university.latitude),parseFloat(e.user.university.longitude));e.map.student_marker=new google.maps.Marker({position:o,map:r,draggable:!0})},e.drawGoogleMap=function(t,n,i){t||(t={latitude:e.user.university.latitude,longitude:e.user.university.longitude});var r=document.getElementById("map_canvas"),o=e.createGoogleLatLng(parseFloat(t.latitude),parseFloat(t.longitude)),s={center:o,zoom:15,disableDefaultUI:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}},a=new google.maps.Map(r,s);e.actual_map=a,i&&e.drawGoogleMarkers(t,n,a)},e.drawGoogleMarkers=function(t,n,i){if(t){var r=e.createGoogleLatLng(t.latitude,t.longitude);e.map.student_marker=new google.maps.Marker({position:r,map:i,draggable:!0})}if(n){var o=e.createGoogleLatLng(n.latitude,n.longitude);e.map.guru_marker=new google.maps.Marker({position:o,map:i,draggable:!0})}if(t&&n){var s=new google.maps.LatLngBounds;s.extend(o),s.extend(r),i.fitBounds(s)}},e.goToSessionMessages=function(e){mixpanel.track("Messages"),t.go("^.messages",{sessionObj:JSON.stringify(e)})},e.showGeoLocationError=function(t){1===t.code&&(alert("Please change your settings"),e.location_error="denied"),(2===t.code||3===t.code)&&(alert("GPS strength isnt strong enough"),e.location_error="unavailable")},e.getUserRecentLocation=function(n){e.geoOptions={timeout:1e4,enableHighAccuracy:!1},l.getCurrentPosition(e.geoOptions).then(function(n){if(e.user.last_position=n.coords,console.log("user is at "+e.user.last_position.latitude+","+e.user.last_position.longitude),e.drawGoogleMap(e.user.last_position,e.guru.last_position,!0),e.loader.hide(),"root.guru-active-session"!==t.current.name)return void console.log("do not run background script anymore");console.log("synchronize server locations in 15minutes");e.syncPositionWithServer(e.user.last_position)},function(t){console.log("error from gps",t),e.drawMapWithSchoolCoordinates()})}}]),angular.module("uguru.guru.controllers").controller("BillStudentController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate","$ionicPlatform","$cordovaStatusbar","$ionicViewSwitcher","$ionicActionSheet","$ionicHistory",function(e,t,n,i,r,o,s,a,l,r,u,c,d,p){e.goBack=function(){p.goBack()}}]),angular.module("uguru.guru.controllers").controller("GuruCashoutController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate","$ionicPlatform","$cordovaStatusbar","$ionicViewSwitcher","$ionicActionSheet","$ionicHistory",function(e,t,n,i,r,o,s,a,l,r,u,c,d,p){e.goBack=function(){p.goBack()}}]),angular.module("uguru.guru.controllers").controller("GuruConfirmProposalController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory",function(e,t,n,r,o,s,a){e.proposal=JSON.parse(s.proposalObj),console.log("confirm proposal",e.proposal),e.goBack=function(){a.goBack()},e.acceptStudent=function(){console.log("this button was clicked"),proposalObj=e.proposal,proposalObj.status=2,proposalObj.proposal=!0,e.deleteProposalFromList(e.proposal,e.user.active_proposals),e.user.pending_proposals||(e.user.pending_proposals=[]),e.user.pending_proposals.push(proposalObj),console.log("server-ready-calendar",JSON.stringify(proposalObj.guru_calendar)),e.user.updateObj(e.user,"requests",proposalObj,e),alert("Student request accepted. We'll let you know if they choose you! \n See below for progress"),mixpanel.track("Guru.home"),t.go("^.guru-home")},e.deleteProposalFromList=function(e,t){for(i=0;i<t.length;i++)if(t[i].id===e.id)return void t.splice(i,i+1)}}]),angular.module("uguru.guru.controllers").controller("GuruController",["$scope","$state","$ionicPlatform","$cordovaStatusbar","$ionicModal","$timeout","$q","University","$localstorage","$ionicSideMenuDelegate","$ionicBackdrop","$ionicViewSwitcher","$ionicActionSheet",function(e,t,n,i,r,o,s,a,l,u,c,d,p){e.data={university_banner:e.img_base+"./img/guru/university-banner.png"},e.root.vars.guru_rank_initialized=!1,e.showActive=!0,u.canDragContent(!1),document.addEventListener("deviceready",function(){e.turnStatusBarWhiteText=function(){o(function(){StatusBar.overlaysWebView(!0),StatusBar.styleLightContent()},250)},window.StatusBar&&e.turnStatusBarWhiteText()}),e.showPreviousActions=function(t){e.user.previous_proposals&&0!==e.user.previous_proposals.length?e.showActiveToggle(t):e.success.show(0,2e3,"Sorry! No incoming yet. Once the semester starts - we got you!")},e.showActiveToggle=function(t){1===t&&e.showActive&&(e.showActive=!e.showActive),0!==t||e.showActive||(e.showActive=!e.showActive)},e.goToRankings=function(){t.go("^.guru-ranking")},e.goToSessionDetails=function(e){d.nextDirection("forward"),t.go("^.guru-session",{sessionObj:JSON.stringify(e)})},e.cancelProposal=function(t){if(confirm("Are you sure you want to cancel this?")){var n=t.request;if(n.status=5,e.user.updateObj(e.user,"requests",n,e),2!==n._type)var i=n.course.short_name+" request canceled";else var i=n.category+" Task canceled";e.success.show(0,2e3,i),e.root.util.removeObjectByKey(e.user.pending_proposals,"id",t.id)}},e.cancelActiveSession=function(t){console.log("calling cancel");var n=t,i=function(){n.status=5;var t={session:n};e.user.previous_guru_sessions.push(n),e.root.util.removeObjectByKey(e.user.active_guru_sessions,"id",n.id),e.root.util.updateObjectByKey(e.user.guru_sessions,"id",n.id,"status",5),e.user.updateObj(e.user,"sessions",t,e),e.success.show(0,2e3,"Request successfully canceled"),e.closeAttachActionSheet(),e.goBack()},r={message:"Are you sure? This will be closely investigated by us and may impact your Guru ranking.",title:"Cancel Session",button_arr:["Never Mind","Cancel Session"],callback_arr:[null,i]};e.platform.web?confirm("Are you sure? \n"+r.message)&&i():e.root.dialog.confirm(r.message,r.title,r.button_arr,r.callback_arr)},e.launchGuruInSessionModal=function(){r.fromTemplateUrl(BASE+"templates/guru.session.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.guruSessionDetailsModal=t,e.guruInSessionModal.show()})},e.launchGuruSessionDetailsModal=function(){e.guruSessionDetailsModal.show()},e.launchGuruRatingsModal=function(t){e.pending_rating=t,e.starsSelected,r.fromTemplateUrl(BASE+"templates/guru.ratings.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.guruRatingsModal=t,e.guruRatingsModal.show()})},e.closeGuruRatingsModal=function(){e.loader.show(),e.guruRatingsModal.hide(),e.submitGuruRatingServer()},e.goBack=function(){e.guruSessionDetailsModal.hide()},e.cancelGuruActiveSession=function(n){e.session.status=1;var i={session:e.session};e.user.updateObj(e.user,"sessions",i,e),e.closeAttachActionSheet(),d.nextDirection("forward"),t.go("^.guru-session",{sessionObj:JSON.stringify(n)}),o(function(){e.guruInSessionModal.hide()},500)},e.goToCashOut=function(){d.nextDirection("forward"),t.go("^.cashout")},e.submitGuruRatingServer=function(){e.pending_rating.guru_rate_student=!0,e.pending_rating.student_rating=parseInt(e.root.vars.starsSelected);var t=e.pending_rating,n=function(){e.loader.hide()};e.loader.show(),e.user.updateObj(e.user,"ratings",t,e,n)},e.endSessionGuru=function(){e.session.status=3,e.timer&&(e.session.minutes=e.timer.minutes,e.session.seconds=e.timer.seconds,e.session.hours=e.timer.hours);var t={session:e.session};e.loader.show();var n=function(){e.launchPendingActions()};console.log(t),e.user.updateObj(e.user,"sessions",t,e,n)},e.showAttachActionSheet=function(){var t=[{text:"Undo Start Session"},{text:"View Session Details"},{text:"Support"}];e.closeAttachActionSheet=p.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){console.log(t),0===t&&confirm("Are you sure? You will lose all session progress")&&o(function(){e.cancelGuruActiveSession(e.session)},500),1===t&&(e.launchGuruSessionDetailsModal(),e.closeAttachActionSheet()),2===t&&(e.success.show(0,2e3,"Coming Soon!"),e.closeAttachActionSheet())}})},e.root.vars.launchPendingActions=function(){if("root.guru"===t.current.name){if(e.user.pending_student_ratings.length>0){var n=e.user.pending_student_ratings[0];return e.pending_rating=n,void(e.guruRatingsModal&&e.guruRatingsModal.isShown()||e.launchGuruRatingsModal(n))}for(var i=0;i<e.user.active_guru_sessions.length;i++){var s=e.user.active_guru_sessions[i];2===s.status&&(e.success.show(0,1500,"You have 1 active session <br> Loading..."),e.session=s,e.root.vars.guru_active_session=s,r.fromTemplateUrl(BASE+"templates/guru.in-session.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.guruInSessionModal=t,e.details={show:!0},e.guruInSessionModal.isShown()||o(function(){e.launchGuruInSessionModal()},500)}))}e.loader.hide()}},e.launchPendingActions=e.root.vars.launchPendingActions,e.root.vars.guru_mode=!0,e.guru_mode=!0,e.processPendingProposals=function(e){for(var t=0;t<e.length;t++)index_proposal=e[t],index_proposal.request.schedule_time=45,index_proposal.request.verb_image="session.svg",index_proposal.request.address.split(",").length>2&&(index_proposal.request.address=index_proposal.request.address.split(",").splice(0,2).join(","))},e.root.vars.processActiveProposalsGuru=function(n){if("root.guru"===t.current.name&&0!==n.length&&e.root.vars.guru_mode){if(e.root.vars.active_processing_guru)return void console.log("we have already began processing");e.root.vars.active_processing_guru=!0;var i=n[0];console.log(e.user,n),n.shift(),e.featuredProposal=i,e.proposal=e.featuredProposal,e.success.show(0,2500,'<span class="center">You have 1 new request <br> Loading....  </span>'),o(function(){e.initAndShowProposalModal()},2e3)}},e.processActiveProposalsGuru=e.root.vars.processActiveProposalsGuru,e.processTimeEstimate=function(e){return num_hours=Math.floor(Math.round(e/60*100)/100),e%=60,[num_hours,e]},r.fromTemplateUrl(BASE+"templates/guru.request.incoming.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.incomingStudentSessionProposal=t}),e.initAndShowProposalModal=function(){o(function(){e.incomingStudentSessionProposal.show()},2e3)},e.startTimerFromX=function(t){e.timer_seconds.animate(t/60,{duration:1e3})},e.incrementMinute=function(){e.timer.minutes+=1},e.decrementMinute=function(){e.timer.minutes-=1},e.incrementHour=function(){e.timer.hours+=1},e.decrementHour=function(){e.timer.hours-=1},e.resetTimer=function(){var t=function(){e.timer.seconds=0,e.timer.hours=0,e.timer.minutes=0,e.pauseTimer(),e.session.reset_timer=!0,e.startTimerFromX(-1),e.user.updateObj(e.user,"sessions",e.session,e)},n=[null,t];e.platform.web?confirm("Are you sure? \n You will lose track of all progress")&&t():e.root.dialog.confirm("You will lose track of all progress","Are you sure?",["Cancel","Yes"],n)},e.addOneSecond=function(){o(function(){e.timer.seconds+=1,e.updateTimer(),e.timer.active&&(e.startTimerFromX(e.timer.seconds),e.addOneSecond())},1e3)},e.updateTimer=function(){e.timer.seconds>59&&(e.timer.seconds=0,e.timer.minutes+=1),e.timer.minutes>59&&(e.timer.minutes=0,e.timer.hours+=1)},e.initTimer=function(){e.timer_seconds=new ProgressBar.Circle("#timer-container",{color:"#FFFFFF",strokeWidth:3.1,trailColor:"#A1D5CC"}),o(function(){e.timer_seconds.animate(1,function(){e.timer_seconds.set(.001)})},1e3)},e.pauseTimer=function(){e.timer.active=!1,e.timer_seconds.stop()},e.setTimer=function(t,n,i){e.timer.hours=i,e.timer.minutes=n,e.timer.seconds=t,e.session.update_timer=e.timer,e.user.updateObj(e.user,"sessions",e.session,e)},console.log(e.user),e.acceptIncomingStudentProposal=function(){proposalObj=e.proposal,proposalObj.status=2,proposalObj.proposal=!0;var t=function(e,t){o(function(){e.incomingStudentSessionProposal.hide()},500),o(function(){e.loader.hide(),alert("Student request accepted. We'll let you know if they choose you! \n See below for progress")},1e3)};e.loader.show(),e.user.updateObj(e.user,"requests",proposalObj,e,t)},e.rejectStudent=function(){var t=function(){proposalObj=e.proposal,e.deleteProposalFromList(e.proposal,e.user.active_proposals),proposalObj.status=3,proposalObj.proposal=!0,e.user.updateObj(e.user,"requests",proposalObj,e),e.success.show(0,2e3,"Success!"),mixpanel.track("Guru.home"),e.incomingStudentSessionProposal.hide(),o(function(){e.processActiveProposalsGuru(e.user.active_proposals)},500)};e.platform.mobile?e.root.dialog.confirm("You cannot undo this!","Are you sure?",["Cancel","Yes"],[null,t]):confirm("Are you sure? You cannot undo this!")&&t()},e.goToProposalRequestDetails=function(e){var n={request:e.request};d.nextDirection("forward"),t.go("^.guru-session",{sessionObj:JSON.stringify(n)})},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.showGoogleMap=function(){if(e.proposal.request.position.latitude&&e.proposal.request.position.longitude||(e.proposal.request.position.latitude=51.219053,e.proposal.request.position.longitude=4.404418),console.log("location right before we show the map",JSON.stringify(e.proposal.request.position)),!e.proposal.request.position||!e.proposal.request.position.latitude||!e.proposal.request.position.longitude)return void console.log("no coordinates... forget about it");e.map={center:{latitude:e.proposal.request.position.latitude,longitude:e.proposal.request.position.longitude},zoom:14,control:{}},e.options={scrollwheel:!1};var t,n=document.getElementById("map_canvas");t=e.createGoogleLatLng(parseFloat(e.proposal.request.position.latitude),parseFloat(e.proposal.request.position.longitude));var i={center:t,zoom:14,disableDefaultUI:!0,draggable:!1,zoomControl:!1};actual_map=new google.maps.Map(n,i),e.marker=new google.maps.Marker({position:t,map:actual_map}),e.actual_map=actual_map},e.$on("modal.shown",function(){console.log("modal is shown"),o(function(){window.StatusBar&&(StatusBar.overlaysWebView(!0),StatusBar.styleLightContent())},100),e.incomingStudentSessionProposal&&e.incomingStudentSessionProposal.isShown()&&e.showGoogleMap()}),e.initGuruRankProgress=function(e){var t="#68A7CF",n=new ProgressBar.Circle(e,{fill:"rgba(255,255,255,.97)",trailColor:"#FFF",color:t,strokeWidth:10,trailWidth:10,duration:500,text:{value:"0"},step:function(e,t){t.setText((100*t.value()).toFixed(0)),t.path.setAttribute("stroke",e.color)}});return n};var g=function(e,t,n,i){e.animate(t,{from:{color:n},to:{color:i}})};e.$on("$ionicView.enter",function(){if(console.log("checking for pending actions..."),!e.root.vars.guru_rank_initialized){e.guruRankProgress=e.initGuruRankProgress("#guru-ranking-progress"),e.root.vars.guru_rank_initialized=!0;var t="#68A7CF",n="#68A7CF";o(function(){g(e.guruRankProgress,e.user.current_guru_ranking/100,t,n)},500)}e.doRefresh(),(e.user&&e.user.active_guru_sessions&&e.user.active_guru_sessions.length>0||e.user.pending_student_ratings.length>0)&&e.root.vars.launchPendingActions();

}),document.addEventListener("resume",function(){console.log("checking for pending actions..."),e.user.active_proposals&&e.user.active_proposals.length>0&&e.root.vars.processActiveProposalsGuru(e.user.active_proposals),(e.user&&e.user.active_guru_sessions&&e.user.active_guru_sessions.length>0||e.user.pending_student_ratings.length>0)&&e.root.vars.launchPendingActions()},!1),e.root.vars.guru_rank_pending=[{buttonText:"Go To Settings",descriptionText:"turning push notifications ON. Students ain't got time for email!",link:"guru-profile"},{buttonText:"Complete Your Profile",descriptionText:"adding a profile image, description, and verifying school email",link:"guru-profile",is_complete:100===e.user.current_profile_percent},{buttonText:"Increase Your Credibility",descriptionText:"uploading your transcript, 3rd-party tutoring profiles, and verify .edu email",link:"guru-profile"},{buttonText:"Add Bank Info",descriptionText:"linking your bank account so we know you're serious about earning $$$",link:"add-payment"},{buttonText:"Confirm Commitment",descriptionText:"depositing $10. If you don't make $100 your first month - you'll get it back.",link:"add-payment"}]}]),angular.module("uguru.guru.controllers").controller("GuruEditProfileController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","Camera","$ionicPlatform","$cordovaStatusbar",function(e,t,n,i,r,o,s,a,l,u,c){e.uberFriendlyChange=function(){e.user.updateAttr("uber_friendly",e.user,e.user.uber_friendly,null,e)},e.getNumber=function(e){return new Array(e)},e.outsideSchoolChange=function(){e.user.updateAttr("outside_university",e.user,e.user.outside_university,null,e)},e.summer15Change=function(){e.user.updateAttr("summer_15",e.user,e.user.summer_15,null,e)},e.saveProfile=function(){var n=function(){t.go("^.root.guru-profile")};e.user.updateAttr("add_guru_intro",e.user,e.user.guru_introduction,n,e),e.success.show(0,1500,"Saved! Great job.")},o.fromTemplateUrl(BASE+"templates/add-major.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addMajorModal=t}),e.takePhoto=function(){if(e.platform.mobile)l.takePicture(e);else{var t=document.getElementById("guru-file-input-web");t.click()}},e.file_changed=function(t){var n=t.files[0],i=new FileReader,r=document.getElementsByClassName("guru-profile-container")[0];i.onload=function(e){r.src=e.target.result},i.readAsDataURL(n);var o=new FormData;o.append("file",n),o.append("profile_url",e.user.id),e.loader.show(),e.user.createObj(e.user,"files",o,e)}}]),angular.module("uguru.guru.controllers").controller("GuruHomeController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$cordovaKeyboard","$q","University","$templateCache","$ionicHistory","Popup","$popover","Popover","$ionicBackdrop","User","Camera","$cordovaPush","$ionicViewSwitcher","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,r,o,s,a,l,u,c,d,p,g,h,f,m,v,b,y,_,w){console.log(e.user),e.topTabsDelegate=s.$getByHandle("student-home-tabs-top"),e.bottomTabsDelegate=s.$getByHandle("student-home-tabs-bottom"),e.base_url=BASE,e.progress_active=!1,w.ready(function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),o.fromTemplateUrl(BASE+"templates/add-course.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addCourseModal=t}),o.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),o.fromTemplateUrl(BASE+"templates/become-guru.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.becomeGuruModal=t}),o.fromTemplateUrl(BASE+"templates/support.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.supportModal=t}),e.user.summmer_15=!1,e.user.uber_friendly=!1,e.measureCompletedProfile=function(e){var t=["name","email","majors","guru_courses","push_notifications","guru_description","summmer_15","uber_friendly","profile_url"];return count=0,e.name.length>0&&(count+=1),e.email&&e.email.length>0&&(count+=1),e.majors&&e.majors.length>0&&(count+=1),e.guru_courses&&e.guru_courses.length>0&&(count+=1),e.current_device&&e.current_device.push_notif_enabled&&(count+=1),e.guru_description&&e.guru_description.length>0&&(count+=1),e.summer_15&&(count+=1),e.uber_friendly&&(count+=1),e.profile_url&&"https://graph.facebook.com/10152573868267292/picture?width=100&height=100"!==e.profile_url&&(count+=1),parseInt(count/t.length*100)},e.completedProfilePercentage=e.measureCompletedProfile(e.user),e.registerPush=function(){if(e.user.current_device.push_notif_enabled||e.user.current_device.push_notif||(console.log("user turning OFF first time, never even said yes"),e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e)),!e.user.current_device.push_notif_enabled&&e.user.current_device.push_notif&&(console.log("user turning OFF push by choice"),e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e)),e.user.current_device.push_notif_enabled&&e.user.current_device.push_notif){console.log("user turning on push.. again");var t={badge:!0,sound:!0,alert:!0};console.log("user turning on push for the first time"),b.register(t).then(function(t){console.log("deviceToken: "+t),console.log("Register success "+t),e.platform.ios&&(console.log("updating the server..."),e.user.push_notifications=!0,e.user.current_device.push_notif=t,e.user.current_device.push_notif_enabled=!0,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e))},function(e){console.log("there is an error"),alert("Please go to your Settings > Notifications > Uguru and 'Allow Notifications'")})}if(e.user.current_device.push_notif_enabled&&!e.user.current_device.push_notif){var t={badge:!0,sound:!0,alert:!0};console.log("user turning on push for the first time"),b.register(t).then(function(t){console.log("deviceToken: "+t),console.log("Register success "+t),e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),e.platform.ios&&(e.user.push_notifications=!0,e.user.current_device.push_notif=t,e.user.current_device.push_notif_enabled=!0,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e))},function(e){console.log("there is an error"),alert("Please go to your Settings > Notifications > Uguru and 'Allow Notifications'")})}},e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&a.close()},e.allProposals=function(){},e.switchToStudentMode=function(){e.root.vars.recent_switched_modes=!0,e.user.guru_mode=!1,mixpanel.track("Student.home"),t.go("^.student-home")},e.goToTransferFunds=function(){e.user.auth_token?(mixpanel.track("Setting.transfer"),t.go("^.settings-transfer")):e.signupModal.show()},e.showButtonPressed=function(e,t){document.getElementsByClassName(t)[0].classList.add("active")},e.showButtonReleased=function(e,t){document.getElementsByClassName(t)[0].classList.remove("active")},e.goToIncreaseRanking=function(){y.nextDirection("forward"),mixpanel.track("Guru.verification"),t.go("^.guru-verification")},e.goToProfileEdit=function(){y.nextDirection("forward"),mixpanel.track("Guru.profile.edit"),t.go("^.guru-profile-edit")},e.goToRequestStatus=function(e){mixpanel.track("Reqiest.status"),t.go("^.request-status",{courseObj:JSON.stringify(e)})},e.goToActiveSession=function(e){mixpanel.track("Guru.active.session"),t.go("^.guru-active-session",{sessionObj:JSON.stringify(e)})},e.addGreenbar=function(){console.log("this was clicked")},e.goToBecomeGuru=function(){mixpanel.track("Guru.wizard"),t.go("^.guru.wizard"),i(function(){e.becomeGuruModal.hide()},300)},e.goToNotifications=function(){e.user.auth_token?e.user.guru_mode?(mixpanel.track("Settings.notifications"),t.go("^.settings-notifications")):(mixpanel.track("Settings.notifications"),t.go("^.settings-notifications")):e.signupModal.show()},e.goToTransactions=function(){e.user.auth_token?e.user.guru_mode?(mixpanel.track("Settings.notifications"),t.go("^.settings-transactions")):(mixpanel.track("Settings.notifications"),t.go("^.settings-transactions")):e.signupModal.show()},e.goToCards=function(){e.user.auth_token?e.user.guru_mode?(mixpanel.track("Settings.cards"),t.go("^.settings-cards")):(mixpanel.track("Settings.cards"),t.go("^.settings-cards")):e.signupModal.show()},e.goToEditProfile=function(){e.user.auth_token?e.user.guru_mode?(mixpanel.track("Settings.profile"),t.go("^.settings-profile")):(mixpanel.track("Settings.profile"),t.go("^.settings-profile")):e.signupModal.show()},e.clearCache=function(){e.user={},r.removeObject("courses"),r.removeObject("universities"),e.rootUser.logout(e.user),d.clearCache(),d.clearHistory(),window.localStorage.clear(),e.bottomTabsDelegate.select(0),alert("Cache Cleared! Please close the app & open again")},e.guruDiscoverabilityChange=function(){e.rootUser.updateLocal(e.user)},e.logoutUser=function(){e.success.show(0,2e3,"You have been successfully logged out!"),r.setObject("user",[]),e.user.updateAttr=m.updateAttrUser,e.user.createObj=m.createObj,e.user.updateObj=m.updateObj,d.clearCache(),d.clearHistory(),i(function(){e.user=m.getLocal(),t.go("^.student-home")},500)},e.goToProposalDetails=function(e){mixpanel.track("Guru.proposal.detail"),t.go("^.guru-proposal-details",{proposalObj:JSON.stringify(e)})},e.goToPreviousSessionDetails=function(e){mixpanel.track("Previous.session.details"),t.go("^.previous-session-details",{sessionObj:JSON.stringify(e)})},e.showPopupDev=function(){var t={header:"Welcome!",body:"We'd like your location to help locate a nearby Guru. Allow us to request for your location?",positiveBtnText:"Sure!",negativeBtnText:"No Thanks",delay:1500};p.options.show(e,t)},e.calculateGuruProfilePercentage=function(){return 50},e.$on("modal.shown",function(){e.ratingModalShown=!0}),e.onCardInputSelect=function(){console.log("it detects its ebeen tapped")},e.$on("modal.hidden",function(){e.ratingModalShown=!1}),e.checkForRatings=function(){(e.user.pending_guru_ratings||e.user.pending_student_ratings)&&(e.user.pending_guru_ratings.length>0&&!e.user.guru_mode||e.user.pending_student_ratings.length>0&&e.user.guru_mode)&&(o.fromTemplateUrl(BASE+"templates/ratings.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.ratingModal=t}),i(function(){e.ratingModal.isShown()||e.ratingModalShown||e.ratingModal.show()},1e3))},e.$on("$ionicView.beforeEnter",function(){e.loader.show(),m.getUserFromServer(e,null,t),e.root.vars.guru_selected_index&&e.bottomTabsDelegate.select(e.root.vars.guru_selected_index),console.log("guru home view before Enter"),window.StatusBar&&StatusBar.styleLightContent(),console.log(JSON.stringify(e.user.current_device))}),e.$on("$ionicView.enter",function(){e.user.guru_mode=!0,e.root.vars.guru_mode=!0,r.setObject("user",e.user),console.log("printing guru stuff",e.user.active_proposals),m.getUserFromServer(e,null,t)}),e.$on("$ionicView.loaded",function(){e.loader.hide()}),e.$on("$ionicView.afterEnter",function(){e.loader.hide(),e.checkForRatings()}),e.launchSupport=function(){e.supportModal.show()},e.supportTicket={message:null},e.submitSupport=function(){e.supportTicket.user_id=e.user.id,Support.create(e.supportTicket).then(function(){e.success.show(0,2e3,"Your support message has been submitted. We will get back to you very soon!"),e.supportModal.hide()},function(e){console.log("error from server",e)})},e.$on("$ionicView.beforeLeave",function(){e.loader.hide(),e.bottomTabsDelegate&&(e.root.vars.guru_selected_index=e.bottomTabsDelegate.selectedIndex()),e.checkForRatings()})}]),angular.module("uguru.guru.controllers").controller("GuruOpportunitiesController",["$scope","$state","$timeout","$localstorage","$ionicTabsDelegate",function(e,t,n,i,r){e.process_guru_opportunities=function(e){result=[];for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];result.push(e[i+""])}return result},e.$on("$ionicView.loaded",function(){e.guru_opportunities=e.process_guru_opportunities(e.user.guru_score_opportunities)})}]),angular.module("uguru.guru.controllers").controller("GuruProfileController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","Camera","$ionicSideMenuDelegate","$ionicActionSheet","$cordovaFacebook",function(e,t,n,i,r,o,s,a,l,u,c,d){e.profile={edit_mode:!1,showCredibility:!1},e.root.vars.profile||(e.root.vars.profile=!1),e.initHourlyMax=function(){e.user.max_hourly=e.user.max_hourly?parseInt(e.user.max_hourly):10,e.maxHourlyOptions=[{label:"free",id:0}];for(var t=1;t<=e.user.max_hourly;t++)e.maxHourlyOptions.push({label:t,id:t});e.selectedOption=e.maxHourlyOptions[e.user.max_hourly]},e.editGuruIntro=function(){e.profile.intro_edit_mode=!0;var t=document.getElementById("guru-introduction-text");t.focus(),i(function(){t.setSelectionRange(0,t.value.length)},100)},e.saveGuruIntroduction=function(){e.loader.show(),e.user.updateAttr("guru_introduction",e.user,e.user.guru_introduction,null,e),e.profile.intro_edit_mode=!1,i(function(){e.loader.hide(),e.success.show(250,1e3,"Saved!")},500)},e.initLateNightOptions=function(){e.lateNightMappingOptions=[{id:0,name:"before 10pm"},{id:1,name:"10pm"},{id:2,name:"11pm"},{id:3,name:"12am"},{id:4,name:"1am"},{id:5,name:"2am"},{id:6,name:"3am"},{id:7,name:"4am"},{id:8,name:"24/7"}],e.user.guru_latest_time=e.user.guru_latest_time?parseInt(e.user.guru_latest_time):1,e.selectedOptionLateNight=e.lateNightMappingOptions[e.user.guru_latest_time]},e.initHourlyMax(),e.initLateNightOptions(),e.lateNightOnChange=function(){e.success.show(0,750,"Saved!"),i(function(){var t=document.getElementById("late-night-select");t.blur(),e.user.guru_latest_time=t.selectedIndex,e.user.updateAttr("guru_latest_time",e.user,e.user.guru_latest_time,null,e)},500);for(var t=document.getElementsByTagName("option"),n=(document.getElementById("late-night-select").selectedIndex,0),r=t.length;r>n;n++)t[n].style.backgroundColor="white"},e.maxHourlyOnChange=function(t){e.success.show(0,750,"Saved!"),i(function(){var t=document.getElementById("max-hourly-select");t.blur();var n=t.options[t.selectedIndex].text;e.user.max_hourly=parseInt(n),e.user.updateAttr("max_hourly",e.user,e.user.max_hourly,null,e);for(var i=document.getElementsByTagName("option"),r=(document.getElementById("max-hourly-select").selectedIndex,0),o=i.length;o>r;r++)i[r].style.backgroundColor="white"},500)},e.transitionToMajor=function(){t.go("^.majors-container")},e.transitionToGuruRemote=function(){t.go("^.guru-remote")},e.transitionToGuruExperiences=function(){t.go("^.guru-experiences")},e.transitionToGuruLanguages=function(){t.go("^.guru-languages")},e.transitionToGuruCourses=function(){t.go("^.guru-courses-container")},e.saveTutoringPlatformsAndCloseModal=function(){e.loader.show(),i(function(){e.tutoringPlatformsModal.hide()},500);var t=function(){e.loader.hide(),e.success.show(0,1e3,"Saved!")};e.user.updateAttr("tutoring_platforms_description",e.user,e.user.tutoring_platforms_description,t,e)},e.launchAddTutoringPlatformsModal=function(t){o.fromTemplateUrl(BASE+"templates/guru.tutor-platforms.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.tutoringPlatformsModal=t,e.tutoringPlatformsModal.show()})},e.$on("modal.shown",function(){e.tutoringPlatformsModal.isShown()&&i(function(){var e=document.getElementById("tutoring-platforms-input");e.focus()},500)}),e.connectWithFacebook=function(){d.login(["email","public_profile","user_friends"]).then(function(t){e.loader.show();var n=function(){e.loader.hide(),e.success.show(0,1e3,"FB Account Saved")},i=function(t){e.loader.hide(),401===t.status&&(e.signupForm.password="",e.success.show(0,1e3,"FB Account has another account - please contact support"))};e.user.updateAttr("fb_id",e.user,t.authResponse.accessToken,n,e,i)})},u.canDragContent(!1),e.goToUniversity=function(){e.loader.show(),t.go("^.university-container"),i(function(){e.loader.hide()},500)},e.saveGuruProfile=function(){e.success.show(0,1500,"Profile Successfully Saved"),e.root.vars.profile.edit_mode=!e.root.vars.profile.edit_mode},e.showActionSheetTranscriptPhoto=function(){if(!e.platform.mobile)return void e.takeTranscriptPhoto(0);var t=[{text:"Choose from Library"}];e.platform.mobile&&t.push({text:"Take a Photo"}),e.closeAttachActionSheet=c.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){e.takeTranscriptPhoto(t),i(function(){e.closeAttachActionSheet()},500)}})},e.showActionSheetProfilePhoto=function(){if(!e.platform.mobile)return void e.takeProfilePhoto(0);var t=[{text:"Choose from Library"}];e.platform.mobile&&t.push({text:"Take a Photo"}),e.closeAttachActionSheet=c.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){e.takeProfilePhoto(t),i(function(){e.closeAttachActionSheet()},500)}})},e.takeProfilePhoto=function(t){if(e.platform.mobile)e.root.vars.profile_url_changed=!0,l.takePicture(e,t,!0);else{var n=document.getElementById("file-input-guru-edit-profile");n.click()}},e.takeTranscriptPhoto=function(t){if(e.platform.mobile)l.takePicture(e,t,!0,e.user.id);else{var n=document.getElementById("file-input-guru-add-transcript");n.click()}},e.file_changed_profile=function(t){{var n=t.files[0],i=new FileReader;document.getElementById("become-guru-profile")}i.onload=function(t){e.user.profile_url=t.target.result},i.readAsDataURL(n);var r=new FormData;r.append("file",n),r.append("profile_url",e.user.id),r.append("filename",name),e.file_index+=1,e.loader.show(),callbackSuccess=function(){e.loader.hide(),e.success.show(0,1500,"Saved!")},e.user.createObj(e.user,"files",r,e,callbackSuccess)},e.file_changed_transcript=function(t){{var n=t.files[0],i=new FileReader;document.getElementById("become-guru-profile")}i.onload=function(t){e.user.transcript_file&&(e.user.transcript_file.url=t.target.result)},i.readAsDataURL(n);var r=new FormData;r.append("file",n),r.append("transcript_url",e.user.id),r.append("filename",name),e.file_index+=1,e.loader.show(),callbackSuccess=function(){e.loader.hide(),e.success.show(0,1500,"Saved!")},e.root.vars.transcript_url_changed=!0,e.user.createObj(e.user,"files",r,e,callbackSuccess)};var p=function(){return'<input style="padding:2px 6px; margin-bottom:0.5em" type="text" ng-model="data.phone" placeholder="123-456-7890">      <input style="padding:2px 6px;" type="text" ng-show="user.phone_number && user.phone_number.length && user.phone_number_token" ng-model="data.token" placeholder="Enter 4-digit numerical code ">'};e.showPopupEditPhoneNumber=function(){e.data={phone:e.user.phone_number,token:""};var t={text:"Close",type:"button-popup"},r={text:"Resend",type:"button-popup",onTap:function(t){if(!(e.data.phone&&e.data.phone.length>=10))return void alert("Please enter valid phone number");e.user.updateAttr("phone_number_generate",e.user,e.data.phone,null,e);var n="New code re-sent to "+e.data.phone;e.success.show(0,1500,n)}},o={text:"<b>Verify</b>",type:"button-positive button-popup",onTap:function(t){if(!(e.data.phone&&e.data.phone.length>=10))return void alert("Please enter valid phone number");if(e.user.phone_number&&e.user.phone_number_token&&(!e.data.token||e.data.token.length<4))return void alert("Please enter a 4 digit code");if(e.data.phone&&!e.user.phone_number_token&&!e.data.token){e.user.phone_number_token=!0,i(function(){e.user.phone_number=e.data.phone},500),e.user.updateAttr("phone_number_generate",e.user,e.data.phone,null,e);var n="Code sent to "+e.data.phone;e.success.show(0,1500,n)}if(e.user.phone_number&&e.data.token&&4===e.data.token.length){var r=function(){e.loader.hide(),e.user.phone_number_confirmed?e.success.show(0,2e3,"Verification Code confirmed!"):e.success.show(0,2e3,"Invalid Code - please try again?")};e.loader.show(),e.user.updateAttr("phone_number_check_token",e.user,e.data.token,r,e)}}};buttons=[],buttons.push(t),e.user.phone_number_token?(buttons.push(r),buttons.push(o)):buttons.push(o),e.inputPopup=n.show({template:p(),title:"Enter your phone number",subTitle:"Try not to troll too hard",scope:e,buttons:buttons})},e.showPopupEditEmail=function(){e.user.email&&-1!==e.user.email.indexOf(".edu")&&(e.user.school_email=e.user.email,e.user.updateAttr("school_email",e.user,e.user.school_email,null,e)),e.data={email:e.user.school_email},e.inputPopup=n.show({template:'<input style="padding:2px 4px;" type="text" ng-model="data.email">',title:"Confirm Email",subTitle:"Please enter your <strong> school email </strong> <br>(.edu one)",scope:e,buttons:[{text:"Cancel"},{text:"<b>Send</b>",type:"button-positive",onTap:function(t){return e.data.email?(e.inputPopup.close(),e.user.school_email=e.data.email,e.user.updateAttr("confirm_school_email",e.user,e.data.email,null,e),void e.success.show(0,2e3,"Email sent to "+e.data.email)):void alert("Please enter a valid email")}}]})},e.showPopupEditName=function(){e.data={name:e.user.name},e.inputPopup=n.show({template:'<input style="padding:2px 4px;" type="text" ng-model="data.name" autofocus>',title:"Change your try identity",subTitle:"Try not to troll too hard",scope:e,buttons:[{text:"Cancel"},{text:"<b>Save</b>",type:"button-positive",onTap:function(t){e.inputPopup.close(),e.user.name=e.data.name,e.user.updateAttr("name",e.user,e.user.name,null,e),e.success.show(0,1e3,"Saved!")}}]})},document.addEventListener("resume",function(){e.user.active_proposals&&e.user.active_proposals.length>0&&($ionicViewSwitcher.nextDirection("enter"),t.go("^.guru"))},!1),e.active_questions=e.user.active_questions,e.$on("$ionicView.enter",function(){e.$apply(),e.user.active_proposals&&e.user.active_proposals.length>0&&($ionicViewSwitcher.nextDirection("enter"),t.go("^.guru"));for(var n=document.getElementsByTagName("option"),i=0,r=n.length;r>i;i++)n[i].style.backgroundColor="white"})}]),angular.module("uguru.guru.controllers").controller("ProposalDetailsActionController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","$ionicViewSwitcher",function(e,t,n,r,o,s,a,l){if(o.fromTemplateUrl(BASE+"templates/view-files.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.viewFilesModal=t}),e.getNumber=function(e){return new Array(e)},e.proposal=JSON.parse(s.proposalObj),e.request=e.proposal.request,e.proposal.request.files&&e.proposal.request.files.length>0)var u=e.proposal.request.files[0].url;e.course=e.proposal.request,e.progress_active=!1,e.openAttachment=function(){window.open(u,"_system","location=yes");return!1},e.convertTimeEstimate=function(e){var t=["30 minutes","1 Hour","1.5 hours","2+ hours"];return t[e]},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)};var c=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=new Date(e.proposal.request.time_created);e.formatted_time_created=d[p.getDay()]+", "+c[p.getMonth()]+" "+p.getDate(),e.formatted_time_estimated_hours=Math.round(e.proposal.request.time_estimate/60,2),e.proposal.request.online&&e.proposal.request.in_person?e.formatted_request_type="In-person and online":e.proposal.request.online?e.formatted_request_type="Online only":e.proposal.request.in_person&&(e.formatted_request_type="In-person only"),e.removeRequestFromActive=function(t){for(var n=e.user.active_requests,i=0;i<n.length;i++){var r=n[i];r.id===t.id&&e.user.active_requests.splice(i,i+1)}},e.updateUserRequest=function(t){for(var n=e.user.requests,i=0;i<n.length;i++){var r=n[i];r.id===t.id&&(e.user.requests[i].status=3)}},e.acceptStudent=function(){console.log("this button was clicked"),proposalObj=e.proposal,proposalObj.status=2,proposalObj.proposal=!0,e.deleteProposalFromList(e.proposal,e.user.active_proposals),e.user.pending_proposals||(e.user.pending_proposals=[]),e.user.pending_proposals.push(proposalObj),e.user.updateObj(e.user,"requests",proposalObj,e);var t=function(){a.goBack()};e.root.dialog.alert("Student request accepted. We'll let you know if they choose you! \n See below for progress","Sweet!","OK",t)},e.deleteProposalFromList=function(e,t){for(i=0;i<t.length;i++)if(t[i].id===e.id)return void t.splice(i,i+1)},e.rejectStudent=function(){var n=function(){proposalObj=e.proposal,e.deleteProposalFromList(e.proposal,e.user.active_proposals),proposalObj.status=3,proposalObj.proposal=!0,e.user.updateObj(e.user,"requests",proposalObj,e),e.success.show(0,2e3,"Success!"),t.go("^.guru-home")};e.platform.mobile?e.root.dialog.confirm("You cannot undo this!","Are you sure?",["Cancel","Yes"],[null,n]):confirm("Are you sure? You cannot undo this!")&&n()},e.$on("$ionicView.enter",function(){e.loader.show(),n(function(){e.showGoogleMap(),e.loader.hide()},1e3)}),e.showGoogleMap=function(){if(!e.proposal.request.position||!e.proposal.request.position.latitude||!e.proposal.request.position.longitude)return void console.log("no coordinates... forget about it");e.map={center:{latitude:e.proposal.request.position.latitude,longitude:e.proposal.request.position.longitude},zoom:14,control:{}},e.options={scrollwheel:!1};var t,n=document.getElementById("map_canvas");t=e.createGoogleLatLng(e.proposal.request.position.latitude,e.proposal.request.position.longitude);var i={center:t,zoom:17,disableDefaultUI:!0,draggable:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}};actual_map=new google.maps.Map(n,i),e.marker=new google.maps.Marker({position:t,map:actual_map}),e.actual_map=actual_map},e.goToStudentCalendar=function(n){l.nextDirection("forward"),mixpanel.track("Request.calendar"),t.go("^.request-calendar",{proposalObj:JSON.stringify(e.proposal)})},e.goToConfirmProposal=function(e){mixpanel.track("Guru.confirm.proposal"),t.go("^.guru-confirm-proposal",{proposalObj:JSON.stringify(e)})}}]),angular.module("uguru.guru.controllers").controller("GuruQuestionsController",["$scope","$state","$ionicPlatform","$cordovaStatusbar","$ionicModal","$timeout","$q","University","$localstorage","$ionicSideMenuDelegate","$ionicBackdrop","$ionicActionSheet","Camera",function(e,t,n,i,r,o,s,a,l,u,c,d,p){e.file_index=0,e.deleteFile=function(t){console.log("attempt to delete file",t),confirm("Are you sure you want to delete this photo?")&&(e.proposal.files.splice(t,1),e.success.show(0,750,"File deleted!"))},r.fromTemplateUrl(BASE+"templates/questions.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.questionsModal=t}),e.postQuestionResponse=function(){proposalObj=e.proposal,proposalObj.status=2,proposalObj.proposal=!0,e.deleteProposalFromList(e.proposal,e.user.active_proposals),e.user.pending_proposals||(e.user.pending_proposals=[]),e.loader.show(),t.go("^.guru");var n=function(){o(function(){e.loader.hide(),e.questionsModal.remove()},1e3)};e.user.updateObj(e.user,"requests",proposalObj,e,n)},e.launchAnswerQuestionModal=function(t){e.proposal=t,e.proposal.files=[],e.proposal.response="",e.proposal.request.student_price=parseInt(e.proposal.request.student_price),e.questionsModal.show()},e.takePhoto=function(t){if(e.platform.mobile)p.takePicture(e,t);else{var n=document.getElementById("file-input-web");n.click()}},e.showAttachActionSheet=function(){var t=[{text:"Choose from Library"}];e.platform.mobile&&t.push({text:"Take a Photo"}),e.closeAttachActionSheet=d.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){e.takePhoto(t),o(function(){e.closeAttachActionSheet()},500)}})},e.file_changed=function(t){var n=t.files[0],i=new FileReader;i.readAsDataURL(n);var r=new FormData;r.append("file",n),r.append("filename",name),e.file_index+=1,e.user.createObj(e.user,"files",r,e)},e.closeQuestionsModal=function(){e.questionsModal.hide()},e.active_questions=e.user.active_questions,e.$on("$ionicView.enter",function(){e.user.active_proposals&&e.user.active_proposals.length>0&&($ionicViewSwitcher.nextDirection("enter"),t.go("^.guru"))}),document.addEventListener("resume",function(){e.user.active_proposals&&e.user.active_proposals.length>0&&($ionicViewSwitcher.nextDirection("enter"),t.go("^.guru"))},!1)}]),angular.module("uguru.guru.controllers").controller("GuruRankingController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate","$ionicPlatform","$cordovaStatusbar","$ionicViewSwitcher","$ionicActionSheet","$ionicHistory",function(e,t,n,i,r,o,s,a,l,r,u,c,d,p){e.takePhotoCallbackSuccess=function(e){e.success.show(0,2e3,"Awesome! You're all set."),c.nextDirection("forward"),t.go("^.guru")},e.goBack=function(){p.goBack()},e.uploadPhotoAndFinish=function(){e.success.show(0,2e3,"Awesome! You're all set."),c.nextDirection("forward"),t.go("^.guru")},e.showAttachActionSheet=function(){var t=[{text:"Choose from Library"}];e.platform.mobile&&t.push({text:"Take a Photo"}),e.closeAttachActionSheet=d.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){e.takePhoto(t),n(function(){e.closeAttachActionSheet()},500)}})},e.confirmCommitment=function(){return e.user.default_transfer_card?void 0:void alert("Please add a bank card or account first!")},e.takePhoto=function(t){if(e.platform.mobile)Camera.takePicture(e,t,e.takePhotoCallbackSuccess);else{var n=document.getElementById("file-input-web");n.click()}},e.closeAttachActionSheet=function(){e.closeAttachActionSheet()},e.file_changed=function(t){{var n=t.files[0],i=new FileReader;document.getElementById("become-guru-profile")}i.onload=function(t){e.user.profile_url=t.target.result},i.readAsDataURL(n);var r=new FormData;r.append("file",n),r.append("profile_url",e.user.id),r.append("filename",name),e.file_index+=1,e.user.createObj(e.user,"files",r,e,e.takePhotoCallbackSuccess)}}]),angular.module("uguru.guru.controllers").controller("GuruRemoteController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$q","$cordovaKeyboard","University","$ionicSideMenuDelegate",function(e,t,n,i,r,o,s,a,l,u){e.hangoutsFriendlyChanged=function(){e.user.updateAttr("hangouts_friendly",e.user,e.user.hangouts_friendly,null,e)},e.skypeFriendlyChanged=function(){e.user.updateAttr("skype_friendly",e.user,e.user.skype_friendly,null,e)},e.facetimeFriendlyChanged=function(){e.user.updateAttr("facetime_friendly",e.user,e.user.facetime_friendly,null,e)},e.messengerFriendlyChanged=function(){e.user.updateAttr("messenger_friendly",e.user,e.user.messenger_friendly,null,e)},e.phoneFriendlyChanged=function(){e.user.updateAttr("phone_friendly",e.user,e.user.phone_friendly,null,e)},e.textFriendlyChanged=function(){e.user.updateAttr("text_friendly",e.user,e.user.text_friendly,null,e)},e.emailFriendlyChanged=function(){e.user.updateAttr("email_friendly",e.user,e.user.email_friendly,null,e)},e.backToGuruRemoteProfile=function(i){i?e.success.show(0,1500):e.loader.show(),n(function(){e.loader.hide()},500),t.go("^.guru-profile")}}]),angular.module("uguru.guru.controllers").controller("GuruSessionStartController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$stateParams","Geolocation","$ionicHistory","$cordovaActionSheet",function(e,t,n,i,r,o,s,a,l,u){e.session=JSON.parse(s.sessionObj),e.set_timer_mode=!1,e.max_hour=new Array(10),e.max_minutes=new Array(60),e.timer={minutes:e.session.minutes,seconds:e.session.seconds,hours:e.session.hours,active:!1},e.goToSessionMessages=function(e){mixpanel.track("Student.messages"),t.go("^.^.student.messages",{sessionObj:JSON.stringify(e)})},e.goBack=function(){l.goBack()},e.goToGuruProfile=function(e){mixpanel.track("Student.guru.profile"),t.go("^.^.student.guru-profile",{guruObj:JSON.stringify(session.student)})},e.goToSessionTimer=function(e){mixpanel.track("Student.guru.session"),t.go("^.guru-session",{sessionObj:JSON.stringify(e)})},e.startTimer=function(){e.timer.active=!0,e.addOneSecond(),e.session.start_timer=!0,e.user.updateObj(e.user,"sessions",e.session,e)},e.startTimerFromZero=function(){setInterval(function(){var e=(new Date).getSeconds();
seconds.animate(e/60,function(){})},1e3)};var c={title:"What do you want with this image?",buttonLabels:["Share via Facebook","Share via Twitter"],addCancelButtonWithLabel:"Cancel",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0,addDestructiveButtonWithLabel:"Delete it"};document.addEventListener("deviceready",function(){e.showTimerActionSheet=function(){c={title:"Options",buttonLabels:["Reset","Set Timer"],addCancelButtonWithLabel:"Cancel",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0},u.show(c).then(function(t){var n=t;console.log(n),1===n?e.resetTimer():2===n&&e.setTimer(59,59,59)})}},!1),e.startTimerFromX=function(t){e.timer_seconds.animate(t/60,{duration:1e3})},e.incrementMinute=function(){e.timer.minutes+=1},e.decrementMinute=function(){e.timer.minutes-=1},e.incrementHour=function(){e.timer.hours+=1},e.decrementHour=function(){e.timer.hours-=1},e.resetTimer=function(){var t=function(){e.timer.seconds=0,e.timer.hours=0,e.timer.minutes=0,e.pauseTimer(),e.session.reset_timer=!0,e.startTimerFromX(-1),e.user.updateObj(e.user,"sessions",e.session,e)},n=[null,t];e.platform.web?confirm("Are you sure? \n You will lose track of all progress")&&t():e.root.dialog.confirm("You will lose track of all progress","Are you sure?",["Cancel","Yes"],n)},e.addOneSecond=function(){n(function(){e.timer.seconds+=1,e.updateTimer(),e.timer.active&&(e.startTimerFromX(e.timer.seconds),e.addOneSecond())},1e3)},e.updateTimer=function(){e.timer.seconds>59&&(e.timer.seconds=0,e.timer.minutes+=1),e.timer.minutes>59&&(e.timer.minutes=0,e.timer.hours+=1)},e.$on("$ionicView.beforeEnter",function(){e.timer_seconds||e.initTimer(),console.log("timer initializer")}),e.$on("$ionicView.loaded",function(){e.timer_seconds||e.initTimer()}),e.initTimer=function(){e.timer_seconds=new ProgressBar.Circle("#timer-container",{color:"#FFFFFF",strokeWidth:3.1,trailColor:"#A1D5CC"}),n(function(){e.timer_seconds.animate(1,function(){e.timer_seconds.set(.001)})},1e3)},e.pauseTimer=function(){e.timer.active=!1,e.timer_seconds.stop()},e.setTimer=function(t,n,i){e.timer.hours=i,e.timer.minutes=n,e.timer.seconds=t,e.session.update_timer=e.timer,e.user.updateObj(e.user,"sessions",e.session,e)},e.submitTimeToServer=function(){e.session.status=3,e.session.minutes=e.timer.minutes,e.session.seconds=e.timer.seconds,e.session.hours=e.timer.hours;var n={session:e.session},i=function(){e.root.vars.check_for_ratings_modal=!0,e.loader.hide(),mixpanel.track("Giri.home"),t.go("^.guru-home")};e.loader.show(),e.user.updateObj(e.user,"sessions",n,e,i)},e.submitTime=function(){var t=function(){e.submitTimeToServer()},n=[null,t];e.platform.web?confirm("Are you sure? \n The student will be billed.")&&t():e.root.dialog.confirm("The student will be billed","Are you sure?",["Cancel","Yes"],n)}}]),angular.module("uguru.guru.controllers").controller("GuruSessionController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","$ionicActionSheet","Restangular","$ionicPlatform","$ionicScrollDelegate","$cordovaKeyboard","$ionicHistory",function(e,t,n,i,r,o,s,a,l,u,c,d,s){u.ready(function(){window.StatusBar&&e.user.guru_mode&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),e.root.vars.guru_active_session?e.session=e.root.vars.guru_active_session:e.session||(e.session=JSON.parse(o.sessionObj)),console.log(e.session),e.details={show:!0},e.new_message={content:""},e.default_profile_url="https://graph.facebook.com/10152573868267292/picture?width=100&height=100",2===e.session.request.status&&e.session.guru.id===e.user.id?e.message_name=e.session.request.student.name.split(" ")[0]:1===e.session.request.status&&e.session.student&&(e.message_name=e.session.student.name.split(" ")[0]),e.goBack=function(){s.goBack()},e.showChat=function(){e.details.show=!1},e.showDetails=function(){e.details.show=!0},e.showAttachActionSheet=function(){var t=[{text:"Cancel Request"},{text:"Support"}];e.closeAttachActionSheet=a.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){console.log(t),0===t&&n(function(){e.cancelSession(e.session)},500),1===t&&(e.success.show(0,2e3,"Email support@uguru.me for a fast reply"),e.closeAttachActionSheet())}})},e.session.request.schedule_time=45,e.cancelSession=function(t){console.log("calling cancel");var n=function(){e.session.status=5;var t={session:e.session};e.user.previous_guru_sessions.push(e.session),e.root.util.removeObjectByKey(e.user.active_guru_sessions,"id",e.session.id),e.root.util.updateObjectByKey(e.user.guru_sessions,"id",e.session.id,"status",5),e.user.updateObj(e.user,"sessions",t,e),e.success.show(0,2e3,"Request successfully canceled"),e.closeAttachActionSheet(),e.goBack()},i={message:"Are you sure? This will be closely investigated by us and may impact your Guru ranking.",title:"Cancel Session",button_arr:["Never Mind","Cancel Session"],callback_arr:[null,n]};e.platform.web?confirm("Are you sure? \n"+i.message)&&n():e.root.dialog.confirm(i.message,i.title,i.button_arr,i.callback_arr)},e.endSession=function(){e.session.status=3,e.timer&&(e.session.minutes=e.timer.minutes,e.session.seconds=e.timer.seconds,e.session.hours=e.timer.hours);var t={session:e.session};e.loader.show(),e.guruInSessionModal.isShown()&&e.guruInSessionModal.hide(),e.guruSessionDetailsModal.isShown()&&e.guruSessionDetailsModal.hide(),e.postServerCallback=function(){e.loader.hide()},e.user.updateObj(e.user,"sessions",t,e,postServerCallback)},e.getCurrentDate=function(){var e=new Date,t=e.getHours()%12,n=e.getMinutes();return ending=e.getHours()>=12?"PM":"AM",result=t+":"+n+" "+ending,result},r.fromTemplateUrl(BASE+"templates/guru.in-session.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.guruInSessionModal=t}),e.launchGuruInSessionModal=function(){e.guruInSessionModal.show()},e.last_updated=e.getCurrentDate(),e.sortMessageComparator=function(e,t){return e.id-t.id},e.setFocus=function(){e.hide_footer||(e.hide_footer=!1,document.getElementsByName("message-input")[0].focus(),c.$getByHandle("message-scroll").scrollBottom())},e.setUnfocus=function(){e.hide_footer=!0,e.platform.mobile&&d&&(d.close(),c.$getByHandle("message-scroll").scrollBottom()),n(function(){e.hide_footer=!1},500)},e.getMessagePayload=function(t){e.user.id;if(e.session.guru.id===e.user.id)var n=e.session.student.id;else var n=e.session.guru.id;var i={message:{contents:t,relationship_id:e.session.relationship_id,receiver_id:n,sender_id:e.user.id,session_id:e.session.id}};return i},e.root.vars.launchPendingActions=function(){if(e.user.pending_student_ratings.length>0){var t=e.user.pending_student_ratings[0];return e.user.pending_student_ratings.shift(),e.pending_rating=t,void(e.guruRatingsModal&&e.guruRatingsModal.isShown()||e.launchGuruRatingsModal(t))}for(var i=0;i<e.user.active_guru_sessions.length;i++){var r=e.user.active_guru_sessions[i];2===r.status&&(e.session=r,n(function(){e.details={show:!0},e.guruInSessionModal.isShown()||e.launchGuruInSessionModal()},500))}},e.startSessionGuru=function(n){var i=function(){e.session.status=2,e.session.minutes=0,e.session.hours=0,e.session.seconds=0;var n={session:e.session};e.loader.show();var i=function(){t.go("^.guru")};e.user.updateObj(e.user,"sessions",n,e,i)},r={message:"Only start if the student is around you and you're good to go",title:"Are you sure?",button_arr:["Cancel","Yes"],callback_arr:[null,i]};e.platform.web?confirm("Are you sure? \n"+r.message)&&i():e.root.dialog.confirm(r.message,r.title,r.button_arr,r.callback_arr)},e.sendMessage=function(t){var n=e.getMessagePayload(t);e.sendMessageToServer(n),n.message["class"]="item-avatar-right animated fadeInUp",n.message.profile_url=e.user.profile_url,n.message.formatted_time="a couple seconds",e.new_message.content="",e.local_messages.push(n.message)},e.sortedListByObjKey=function(e){return e},e.processMessagesFromServer=function(e,t){return t},e.hideKeyboard=function(){e.root.keyboard.close(),e.hide_footer=!0,c.$getByHandle("message-scroll").resize(),n(function(){e.hide_footer=!1},500)},e.sendMessageToServer=function(t){var n=function(e,t){e.user.active_student_sessions=t.active_student_sessions;for(var n=0;n<t.active_student_sessions.length;n++)if(e.session.id===t.active_student_sessions[n].id){var i=e.processMessages(t.active_student_sessions[n].messages);i.sort(e.sortMessageComparator),e.messages=i,i.length>e.local_messages.length&&(e.local_messages=i)}};e.user.createObj(e.user,"messages",t,e,n)},e.processMessages=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.profile_url=t[n].sender.profile_url,i["class"]=i.sender.id===e.user.id?"item-avatar-right":"item-avatar-left",i.formatted_time=e.root.time.since(new Date(i.time_created))}return t.sort(e.sortMessageComparator),e.loader.hide(),t},e.doRefresh=function(){var t=function(){n(function(){e.$broadcast("scroll.refreshComplete"),c.$getByHandle("message-scroll").scrollBottom()},3e3)};e.getMessagesFromServer(null,!0,t)},e.getMessagesFromServer=function(i,r,o){console.log("getting message from server"),l.one("user",e.user.id).one("sessions",e.session.id).one("messages").customGET().then(function(s){var a=e.processMessages(s.messages);a.sort(e.sortMessageComparator),a.length>e.messages.length&&c.$getByHandle("message-scroll").scrollBottom(),e.messages=a,e.messages.length>e.local_messages.length&&(e.local_messages=e.messages),"root.student-messages"!==t.current.name||r||n(function(){e.getMessagesFromServer(i)},i),o&&o()},function(e){console.log(e),console.log("error...something happened with the server;")})},e.$on("$ionicView.afterEnter",function(){e.session.request.status>0&&e.session.messages&&(e.messages=e.processMessages(e.session.messages),e.local_messages=e.messages,c.$getByHandle("message-scroll").scrollBottom(),n(function(){e.getMessagesFromServer(3e4)},3e4))})}]),angular.module("uguru.guru.controllers").controller("GuruIncomingRequestController",["$scope","$state","$ionicPopup","$timeout","$localstorage","$stateParams","User","$ionicModal",function(e,t,n,r,o,s,a,l){e.request=JSON.parse(s.requestObj),e.proposal=JSON.parse(s.proposalObj),e.user.cashout_cards=[],e.getNumber=function(e){return new Array(e)},e.goToGuruProfile=function(){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(e.guru)})},e.declineRequest=function(){mixpanel.track("Guru.home"),t.go("^.guru.home")},e.goToGuruRequestDetails=function(e){},e.deleteProposalFromList=function(e,t){for(i=0;i<t.length;i++)if(t[i].id===e.id)return void t.splice(i,i+1)},e.calendar={width:2,height:24,num_selected:0},e.updateProposalFromList=function(e,t){for(i=0;i<t.length;i++)if(t[i].id===e.id)return void(t[i].status=e.status)},l.fromTemplateUrl(BASE+"templates/calendar.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.calendarModal=t}),e.showCalendar=function(){},e.acceptStudent=function(){return 0===e.user.transfer_cards.length?(mixpanel.track("Student.add-payment"),void t.go("^.^.student.add-payment")):(proposalObj=e.proposal,proposalObj.status=2,proposalObj.proposal=!0,e.deleteProposalFromList(e.proposal,e.user.active_proposals),e.user.pending_proposals||(e.user.pending_proposals=[]),e.user.pending_proposals.push(proposalObj),e.user.updateObj(e.user,"requests",proposalObj,e),void e.root.dialog.alert("Student request accepted. We'll let you know if they choose you! \n See below for progress","Sweet!","OK"))},e.rejectStudent=function(){proposalObj=e.proposal,e.deleteProposalFromList(e.proposal,e.user.active_proposals),proposalObj.status=3,proposalObj.proposal=!0,e.user.updateObj(e.user,"requests",proposalObj,e),e.root.dialog.alert("Student request rejected. This increases your response rate!","Maybe Next Time","OK")},e.convertPythonDateStrToJsDate=function(e){for(var t=0;t<e.length;t++){var n=e[t].start_time,i=new Date(Date.parse(n));e[t].start_time=i.getHours(),e[t].end_time=i.getHours()}return e};var u=document.getElementById("lightSpeedIn");setTimeout(function(){u.classList.add("animated"),u.classList.add("lightSpeedIn")},5500),e.$on("$ionicView.beforeEnter",function(){var t=e.proposal.student_calendar[0].calendar_events,n=e.convertPythonDateStrToJsDate(t);e.student_calendar=n,console.log(JSON.stringify(e.student_calendar))})}]),angular.module("uguru.guru.controllers").controller("GuruTaskController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate","$ionicPlatform","$cordovaStatusbar","$ionicViewSwitcher","$ionicActionSheet","$ionicHistory",function(e,t,n,i,r,o,s,a,l,r,u,c,d,p){e.user.active_tasks=[{verb_image:"chores.svg",_type:2,task_title:"do my dishes",address:"Ferry Building",student_price:25},{verb_image:"items.svg",_type:2,task_title:"Phantogram Tickets?",address:"Greek Theatre, Balcony",student_price:25},{verb_image:"food.svg",_type:2,task_title:"Need food for party.",address:"Ferry Farmers Market",student_price:130},{verb_image:"skilled.svg",_type:2,task_title:"Fix my iPhone!",address:"Berkeley Downtown",student_price:130},{verb_image:"specific.svg",_type:2,task_title:"I need moving help!",address:"Parker and College",student_price:130},{verb_image:"food.svg",_type:2,task_title:"I need moving help!",address:"Memorial Glade",student_price:130},{verb_image:"specific.svg",_type:2,task_title:"Lost diamond ring!",address:"Parker and College",student_price:130}],e.active_tasks=e.user.active_tasks,e.selectedVerbIndex=0,e.verbImageIndices=[null,"items.svg","food.svg","chores.svg","skilled.svg","specific.svg"],e.taskItemsFilterFunction=function(t){return 0===e.selectedVerbIndex||t.verb_image===e.verbImageIndices[e.selectedVerbIndex]?!0:!1},e.selectedVerb=function(t){e.selectedVerbIndex=t},e.goBack=function(){c.nextDirection("swap"),t.go("^.guru")},document.addEventListener("resume",function(){e.user.active_proposals&&e.user.active_proposals.length>0&&(c.nextDirection("enter"),t.go("^.guru"))},!1),e.active_questions=e.user.active_questions,e.$on("$ionicView.enter",function(){e.user.active_proposals&&e.user.active_proposals.length>0&&(c.nextDirection("enter"),t.go("^.guru"))})}]),angular.module("uguru.guru.controllers").controller("GuruVerificationController",["$scope","$state","$timeout","$localstorage","$ionicModal","$stateParams","$ionicHistory","$cordovaOauth",function(e,t,n,i,r,o,s,a){var l="f6pThzslRv6jZomDd4npfQfejIeY7pHc";e.$on("modal.shown",function(){e.becomeGuruModal.isShown()&&StatusBar.styleLightContent()}),e.fireUberApi=function(){a.uber(l,e,{}).then(function(e){console.log(e)},function(e){console.log(e)})}}]),angular.module("uguru.student.controllers").controller("SettingsCardController",["$scope","$state","$ionicHistory","$ionicViewSwitcher",function(e,t,n,i){e.goBack=function(){i.nextDirection("back"),e.root.vars.select_bottom_three=!0,t.go(e.user.guru_mode?"^.student-home":"^.guru-home")},e.goToEditCard=function(e){mixpanel.track("add.payment"),t.go("^.add-payment",{cardObj:JSON.stringify(e)})},e.deleteCard=function(){},e.goToAddTransferMethod=function(e){mixpanel.track("add.payment"),t.go("^.add-payment",{debitCardOnly:JSON.stringify(e)})}}]),angular.module("uguru.student.controllers").controller("SettingsEditCoursesController",["$scope","$state","$timeout","$ionicHistory","$ionicModal","$cordovaKeyboard","$ionicViewSwitcher",function(e,t,n,i,r,o,s){e.editMode=!1,e.progress_active=!1,e.saveCourses=function(){e.rootUser.updateLocal(e.user),e.success.show(0,1500)},e.goBack=function(){s.nextDirection("back"),e.root.vars.select_bottom_three=!0,t.go(e.user.guru_mode?"^.guru-home":"^.student-home")},e.toggleEditMode=function(){e.editMode=!e.editMode,e.editMode?e.shouldShowDelete=!0:(e.shouldShowDelete=!1,e.rootUser.updateLocal(e.user),e.success.show(0,1500))},r.fromTemplateUrl(BASE+"templates/add-course.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addCourseModal=t}),r.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&o.close()},e.studentCourseDeleteUpdate=function(t){var n=e.user.student_courses[t];e.user.student_courses.splice(t,1),e.user.updateAttr("remove_student_course",e.user,n,null,e),e.success.show(0,1500)},e.guruCourseDeleteUpdate=function(t){var n=e.user.guru_courses[t];e.user.guru_courses.splice(t,1),e.user.updateAttr("remove_guru_course",e.user,n,null,e),e.success.show(0,1500)}}]),angular.module("uguru.student.controllers").controller("SettingsEditUniversityController",["$scope","$state","$timeout","$ionicHistory","$ionicModal","$cordovaKeyboard","$ionicViewSwitcher",function(e,t,n,i,r,o,s){e.editMode=!1,e.progress_active=!1,e.goBack=function(){s.nextDirection("back"),e.root.vars.select_bottom_three=!0,e.user.guru_mode&&(mixpanel.track("Guru.home"),t.go("^.guru-home")),e.user.guru_mode||(mixpanel.track("Student.home"),t.go("^.student-home"))},e.saveUniversity=function(){e.rootUser.updateLocal(e.user)},r.fromTemplateUrl(BASE+"templates/university.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.addUniversityModal=t}),e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&o.close()}}]),angular.module("uguru.student.controllers").controller("SettingsNotificationsController",["$scope","$state","$ionicViewSwitcher","$timeout","$cordovaPush",function(e,t,n,i,r){e.goBack=function(){n.nextDirection("back"),e.root.vars.select_bottom_three=!0,t.go(e.user.guru_mode?"^.guru-home":"^.student-home")},e.textNotificationChange=function(){e.success.show(0,1e3,"Coming Soon!"),i(function(){e.user.text_notifications=!1},1500)},e.emailNotifiationChange=function(){e.user.updateAttr("email_notifications",e.user,e.user.email_notifications,null,e)},e.pushNotificationChange=function(){i(function(){if(!e.user.push_notifications)return console.log("push notifications are false"),void e.user.updateAttr("push_notifications",e.user,e.user.push_notifications,null,e);var t={badge:!0,sound:!0,alert:!0};r.register(t).then(function(t){console.log("push notifications are true"),console.log("deviceToken: "+t),console.log("Register success "+t),(e.platform.ios||e.platform.android)&&(console.log("updating the server..."),e.user.push_notifications=!0,e.user.current_device.push_notif=t,e.user.current_device.push_notif_enabled=!0,e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e),payload={push_notifications:!0},e.user.updateAttr("push_notifications",e.user,payload,null,e))},function(t){console.log(t),e.user.updateObj(e.user.current_device,"devices",e.user.current_device,e)})},500)}}]),angular.module("uguru.student.controllers").controller("SettingsProfileController",["$scope","$state","$timeout","$ionicHistory","$ionicViewSwitcher",function(e,t,n,i,r){e.progress_active=!1,e.changePasswordForm={new_password:"",old_password:""},e.goBack=function(){r.nextDirection("back"),e.root.vars.select_bottom_three=!0,e.user.guru_mode&&(mixpanel.track("Guru.home"),t.go("^.guru-home")),e.user.guru_mode||(mixpanel.track("Student.home"),t.go("^.student-home"))},e.saveProfile=function(){if(!e.user.email||!e.user.first_name||!e.user.last_name)return void e.success.show(0,1500,"Success\n\n!");var t=function(e){alert(e&&e.status&&401===e.status?"Incorrect username & password":"Profile successfully saved!")};payload={email:e.user.email,first_name:e.user.first_name,last_name:e.user.last_name},e.user.updateAttr("profile_info",e.user,payload,t,e)},e.changePassword=function(){if(!e.changePasswordForm.old_password||!e.changePasswordForm.new_password)return void alert("please fill in all fields");var t=function(t){t&&t.status&&401===t.status?(alert("Incorrect old password. Try again?"),e.changePasswordForm.old_password="",e.changePasswordForm.new_password=""):alert("Password successfully saved!")};payload={email:e.user.email,old_password:e.changePasswordForm.old_password,new_password:e.changePasswordForm.new_password},e.user.updateAttr("change_password",e.user,payload,t,e)}}]),angular.module("uguru.student.controllers").controller("SettingsTransactionsController",["$scope","$state","$ionicTabsDelegate","$ionicHistory",function(e,t,n,i){e.goBack=function(){i.goBack()}}]),angular.module("uguru.student.controllers").controller("SettingsTransfersController",["$scope","$state",function(e,t){e.goToSelectDebitCard=function(){},e.selectedTransferCard=e.user.default_transfer_card,e.cashoutAndSendToServer=function(){var n={card_id:e.selectedTransferCard.id,transaction:!0},i=new Date;MONTHS=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],e.user.transfer_transactions.push({card:e.selectedTransferCard,guru_amount:e.user.balance,guru:{name:e.user.name,profile_url:e.user.profile_url},time:{date:i.getDate(),month:MONTHS[i.getMonth()]},transfer_status:"pending"}),e.user.balance=0,e.user.createObj(e.user,"transactions",n,e),mixpanel.track("Setting.transactions"),t.go("^.settings-transactions")}}]),angular.module("uguru.util.controllers",[]).controller("AddUniversityController",["$scope","$state","$timeout","$localstorage","$ionicModal","$cordovaProgress","$q","University","$cordovaKeyboard","$ionicLoading","$cordovaStatusbar","$ionicViewSwitcher","$cordovaGeolocation","$ionicSideMenuDelegate","$ionicSlideBoxDelegate",function(e,t,n,i,r,o,s,a,l,u,c,d,p,g,h){e.data={},e.search_text="",e.keyboard_force_off=!1,e.view=1,e.backToStudentEditProfile=function(i){i?e.success.show(0,1500):e.loader.show(),e.root.vars.guru_mode?t.go("^.guru-profile"):n(function(){g.toggleRight()},500),n(function(){e.loader.hide()},1e3)},e.saveUniversityFromStudentProfileSideBar=function(t){var n=function(){e.user.student_courses=[],i.removeObject("courses"),e.user.university_id=t.id,e.user.university=t,e.user.university.latitude=t.location.latitude,e.user.university.longitude=t.location.longitude,e.search_text="",e.keyboard_force_off=!0,payload={university_id:e.user.university_id},e.backToStudentEditProfile(!0),e.user.updateAttr("university_id",e.user,payload,null,e)};if(e.user.university_id&&t.id!==e.user.university_id){var r={msg:"Are you sure you want to change universities? This will deactive your current courses.",title:"Warning",button_arr:["No Thanks","I'm sure"]};e.platform.mobile?(r.arr_callback=[null,n],e.root.dialog.confirm(r.msg,r.title,r.button_arr,r.arr_callback)):confirm(r.msg)&&n()}},e.unFocusSelect=function(){var e=document.getElementById("role-select");console.log("found element",JSON.stringify(e)),e.blur()},e.getUniversitiesFromServer=function(t){e.loader.show(),a.get().then(function(r){e.loader.hide(),e.keyboard_force_off=!1,n(function(){e.setFocus()},1e3),r=JSON.parse(r),t&&t.resolve(r),e.universities=r,i.setObject("universities",e.universities),console.log(e.universities.length+" universities successfully loaded")},function(){console.log("Universities NOT successfully loaded")})},e.toggleView=function(t){e.view=t,2===t?(e.root.slider.hide(),n(function(){var t=document.getElementById("university-input");t&&t.focus(),e.platform.android&&window.cordova&&window.cordova.plugins.Keyboard&&window.cordova.plugins.Keyboard.show()},300)):(e.root.slider.show(),e.platform.mobile&&l.isVisible()&&l.close())},e.setFocus=function(t){if(0===e.search_text.length&&!e.keyboard_force_off){var n=document.getElementById("university-input");n?n.focus():console.log("University input could not be found"),e.platform.android&&window.cordova&&window.cordova.plugins.Keyboard&&window.cordova.plugins.Keyboard.show()}};var f=function(){var t=s.defer();return window.StatusBar&&StatusBar.styleLightContent(),0===i.getObject("universities").length&&e.getUniversitiesFromServer(t),i.getObject("universities").length>0&&(e.keyboard_force_off=!1,n(function(){e.setFocus()},500)),i.getObject("universities").length>0?i.getObject("universities"):t.promise};e.$on("modal.hidden",function(){window.StatusBar&&StatusBar.styleDefault()}),e.universities=f(),e.clearSearchInput=function(){e.search_text=""},e.universitySelected=function(r,o){if(e.loader.show(),e.onboarding===!0)return void e.nearestUniversitySelected(o,r);var s=function(){console.log("callback executed"),console.log("cleared previous universities courses from the cache"),e.user.guru_courses=[],e.user.student_courses=[],i.removeObject("courses"),e.user.university_id=r.id,e.user.university=r,e.user.university.latitude=r.location.latitude,e.user.university.longitude=r.location.longitude,e.search_text="",e.keyboard_force_off=!0,e.rootUser.updateLocal(e.user),payload={university_id:e.user.university_id};var o=function(){n(function(){e.loader.hide(),d.nextDirection("forward"),"root.university-container"===t.current.name?e.backToStudentEditProfile(!0):t.go("^.home")},1e3)};e.user.updateAttr("university_id",e.user,payload,o,e)};if(e.user.university_id&&r.id!==e.user.university_id){var a={msg:"Are you sure you want to change universities? This will deactive your current courses.",title:"Warning",button_arr:["No Thanks","I'm sure"]};return void(e.platform.mobile?(a.arr_callback=[null,s],e.root.dialog.confirm(a.msg,a.title,a.button_arr,a.arr_callback)):confirm(a.msg)&&s())}e.user.university_id=r.id,e.user.university=r,e.user.university.latitude=r.location.latitude,e.user.university.longitude=r.location.longitude,e.search_text="",e.keyboard_force_off=!0,e.rootUser.updateLocal(e.user),payload={university_id:e.user.university_id},e.user.updateAttr("university_id",e.user,payload,null,e),n(function(){e.loader.hide(),d.nextDirection("forward"),"root.university-container"===t.current.name?e.backToStudentEditProfile(!0):t.go("^.home")},1e3)},e.getLocation=function(){var r={timeout:1e4,enableHighAccuracy:!1};e.loader.show(),p.getCurrentPosition(r).then(function(r){if(console.log("location found!",r.coords.latitude,r.coords.longitude),e.request&&e.request.position&&(e.request.position=r.coords,e.user.recent_position=r,e.user.location_services_enabled=!0,payload={location_services_enabled:!0,recent_latitude:r.coords.latitude,recent_longitude:r.coords.longitude},e.user.updateAttr("recent_position",e.user,payload,null,e),e.locationModal&&e.locationModal.isShown()&&(e.auto_choose_first_location=!0,console.log("getting address from gps coordinates"),e.getAddressfromGeolocation(r.coords.latitude,r.coords.longitude),n(function(){e.$apply()},1e3))),"root.onboarding"===t.current.name){e.loader.show();var o=function(e,t){e.loader.hide(),e.view=2};e["static"]&&e["static"].universities&&e["static"].universities.length>0?(console.log("universities already loaded, grabbing universities"),getNearestUniversity(r.coords.latitude,r.coords.longitude,e["static"].universities,10,i,e,o,t)):(console.log("universities NOT NOT NOT already loaded first university view, grabbing universities"),on_app_open_retrieve_objects(e,t,i,a,null,Geolocation))}},function(t){e.loader.hide(),e.user.recent_position=null,alert("Sorry! Please check your privacy settings check your GPS signal.");var i=document.getElementById("location-input");i&&!i.value&&0===i.value.length&&n(function(){i.focus()},1e3)})},e.hideUniversityModal=function(){window.StatusBar&&StatusBar.styleDefault(),e.platform.mobile&&l.isVisible()?(e.keyboard_force_off=!0,e.closeKeyboard(),n(function(){e.addUniversityModal.hide()},300)):e.addUniversityModal.hide()},e.$on("$ionicView.enter",function(){"root.university-container"!==t.current.name||e["static"].nearest_universities&&e["static"].nearest_universities.length||n(function(){e.setFocus()},1250),e.user.university&&e.user.university_id&&(e.search_text=e.user.university.title)})}]),angular.module("uguru.util.controllers").controller("AddCourseController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$q","$cordovaKeyboard","University","Popover","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,r,o,s,a,l,u,c,d){e.course_search_text="",e.keyboard_force_off=!1,d.ready(function(){e.turnStatusBarWhiteText=function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}}),e.setCourseFocus=function(t){0!==e.course_search_text.length||e.keyboard_force_off||document.getElementsByName("course-input")[0].focus(),e.platform&&e.platform.android&&n(function(){a.isVisible||a.show()},500)},e.clearSearchInput=function(){e.course_search_text=""},e.getCoursesFromServer=function(t){e.user.university.title;e.loader.show(),l.getCourses(e.user.university_id).then(function(r){e.loader.hide(),e.progress=!1,console.log(r.length+" courses uploaded from "+e.user.university.title),t&&t.resolve(r),n(function(){e.setCourseFocus()},1e3),e.courses=r,i.setObject("courses",e.courses)},function(e){console.log("Courses NOT successfully loaded"),console.log(e)})};var p=function(){if(i.getObject("courses").length>0)return e.$on("modal.shown",function(){e.addCourseModal.isShown()&&!e.addUniversityModal.isShown()&&!e.supportModal.isShown()&&i.getObject("courses").length>0&&(e.turnStatusBarWhiteText&&e.turnStatusBarWhiteText(),e.keyboard_force_off=!1,n(function(){e.setCourseFocus()},500))}),i.getObject("courses");var t=s.defer();return e.$on("modal.hidden",function(){!e.addUniversityModal.isShown()&&e.addCourseModal.isShown()&&e.user.university_id&&(0===i.getObject("courses").length?e.getCoursesFromServer(t):n(function(){e.setCourseFocus()},500))}),d.ready(function(){e.switchStatusBariOS=function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}}),e.$on("modal.shown",function(){e.turnStatusBarWhiteText&&(!e.supportModal.isShown()&&e.switchStatusBariOS||e.turnStatusBarWhiteText())&&(e.switchStatusBariOS(),e.turnStatusBarWhiteText()),e.addCourseModal.isShown()&&!e.addUniversityModal.isShown()&&i.getObject("courses").length>0?(e.keyboard_force_off=!1,n(function(){e.setCourseFocus()},500)):e.addCourseModal.isShown()&&!e.addUniversityModal.isShown()&&e.user.university_id&&0===i.getObject("courses").length&&e.getCoursesFromServer(t)}),t.promise};e.courses=p(),e.hideCourseModal=function(){e.platform.mobile&&a.isVisible()?(e.keyboard_force_off=!0,e.course_search_text="",e.closeKeyboard(),n(function(){e.addCourseModal.hide()},300)):e.addCourseModal.hide()},e.courseSelected=function(i){var r=e.user.guru_mode||"root.guru-wizard"===t.current.name;if(e.user.student_courses||r||(e.user.student_courses=[]),r){if(e.root.util.objectFindByKey(e.user.guru_courses,"short_name",i.short_name))return void e.success.show(0,1e3,"You have already added "+i.short_name+"!");e.user.guru_courses.push(i),e.user.updateAttr("add_guru_course",e.user,i,null,e)}else{if(console.log("does course exist",e.root.util.objectFindByKey(e.user.student_courses,"short_name",i.short_name)),e.root.util.objectFindByKey(e.user.student_courses,"short_name",i.short_name))return void e.success.show(0,1e3,"You have already added "+i.short_name+"!");e.user.student_courses.push(i),1===e.user.student_courses.length&&0===e.user.requests.length&&n(function(){document.getElementsByClassName("course-item")[0]},2e3),e.user.updateAttr("add_student_course",e.user,i,null,e)}document.getElementsByName("course-input")[0].blur(),e.keyboard_force_off=!0,e.rootUser.updateLocal(e.user),payload={add_student_course:!0,course:i},serverSuccess=function(e){console.log(e)},e.course_search_text="",n(function(){e.closeKeyboard()},500),n(function(){e.addCourseModal.hide(),e.success.show(0,1500)},1e3)}}]),angular.module("uguru.util.controllers").controller("GuruIntroController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$q","$cordovaKeyboard","University",function(e,t,n,i,r,o){e.guru_introduction="",e.guruBioForm=null,e.keyboard_force_off=!1,e.submitGuruBio=function(){e.user.updateAttr("add_guru_intro",e.user,e.user.guru_introduction,null,e),n(function(){e.addGuruIntroModal.hide()},1e3)},e.setInputFocus=function(t){0!==e.guru_introduction.length||e.keyboard_force_off||document.getElementsByName("bio-input")[0].focus()},e.$on("modal.shown",function(){e.addGuruIntroModal.isShown()&&(e.keyboard_force_off=!1,n(function(){e.setInputFocus()},500))})}]),
angular.module("uguru.util.controllers").controller("AddMajorController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$q","$cordovaKeyboard","University","$ionicSideMenuDelegate",function(e,t,n,i,r,o,s,a,l,u){e.showMainBody=!0,e.search_text="",e.backToStudentEditProfile=function(i){i?e.success.show(0,1500):e.loader.show(),e.root.vars.guru_mode?t.go("^.guru-profile"):n(function(){u.toggleRight()},500),n(function(){e.loader.hide()},500)},e.keyboard_force_off=!1,e.setMajorFocus=function(t){0!==e.major_input.search_text.length||e.keyboard_force_off||document.getElementById("major-input").focus()},e.clearSearchInput=function(){e.major_search_text=""},e.getMajorsFromServer=function(t){e.user.university.title;e.loader.show(),l.getMajors(e.user.university_id).then(function(r){e.loader.hide(),e.progress=!1,console.log(r.length+" majors uploaded from "+e.user.university.title),n(function(){r.length+" majors Found!"},500),t&&t.resolve(r),e.majors=r,i.setObject("majors",e.majors)},function(e){console.log("majors NOT successfully loaded"),console.log(e)})};var c=function(){var t=s.defer();return i.getObject("majors").length>0?i.getObject("majors"):(0===i.getObject("majors").length&&e.user.university_id&&e.getMajorsFromServer(t),i.getObject("majors").length>0?i.getObject("majors"):(e.getMajorsFromServer(t),t.promise))};e.majors=e["static"].majors||c(),e.hidemajorModal=function(){e.platform.mobile&&a.isVisible()?(e.keyboard_force_off=!0,e.major_search_text="",e.closeKeyboard(),n(function(){e.addMajorModal.hide()},300)):e.addMajorModal.hide()},e.removeMajor=function(i,r){if("root.become-guru"!==t.current.name||confirm("Remove "+i.name+"?")){var o=function(){e.loader.hide(),e.success.show(0,1e3,i.name+" successfully removed")};e.loader.show(),n(function(){e.user.updateAttr("remove_major",e.user,i,o,e)},1e3)}},e.updateMajorProgress=function(t){e.major_progress=t.length>0,e.major_progress?console.log("text is typed in",e["static"].majors.length):console.log("text is not typed in",e["static"].majors.length)},e.major_progress=!1,e.majorSelected=function(t,n,i){console.log("major selected"),e["static"].popular_majors.splice(i,1),e.user.majors||(e.user.majors=[]),e.majorInput&&(e.majorInput.value=""),e.showMainBody=!0,e.search_text="",e.keyboard_force_off=!0,e.user.updateAttr("add_user_major",e.user,t,null,e),e.user.majors.push(t)},e.$on("$ionicView.enter",function(){n(function(){e.majorInput=document.getElementById("major-input"),e.majorInput.addEventListener("keyup",function(){console.log(e.majorInput.value.length)},500)},1e3)})}]),angular.module("uguru.util.controllers").controller("AddNoteController",["$scope","$state","$timeout","$localstorage","$ionicModal","Camera","$ionicHistory","$ionicTabsDelegate","$cordovaActionSheet","$ionicActionSheet",function(e,t,n,i,r,o,s,a,l,u){e.topTabsDelegate=a.$getByHandle("student-home-tabs-top"),e.file_index=0,e.root.vars.request&&(e.root.vars.request.attached_files=[]),e.attached_files=[],document.addEventListener("deviceready",function(){e.showTimerActionSheet=function(){e.platform.mobile&&(options={title:"Options",buttonLabels:["Use Camera","Choose from Library"],addCancelButtonWithLabel:"Cancel",androidEnableCancelButton:!0,winphoneEnableCancelButton:!0},l.show(options).then(function(t){var n=t;1===n?e.takePhoto(1):2===n&&e.takePhoto(0)}))}}),e.promptActionBar=function(){e.platform.mobile?e.showTimerActionSheet():e.showIonicActionSheet()},e.showIonicActionSheet=function(){e.hideSheet=u.show({buttons:[{text:"Attach Local File"}],titleText:"File Options",cancelText:"Cancel",cancel:function(){e.hideSheet()},buttonClicked:function(t){1===t?e.takePhoto(1):2===t&&e.takePhoto(0)}})},e.hideAddNoteModal=function(){e.root.keyboard.isVisible()?(e.root.keyboard.close(),n(function(){e.addRequestNoteModal.hide()},300)):e.addRequestNoteModal.hide()},e.goBackToRequests=function(){s.goBack()},e.validateForm=function(){e.root.vars.request.description.length>0?s.goBack():alert("Please fill out description.")},e.saveNote=function(){e.addRequestNoteModal.hide()},e.toggleShowTextArea=function(){e.showAddNoteTextArea=!e.showAddNoteTextArea,e.showAddNoteTextArea&&e.root.keyboard.show("note-input",500)},e.goToStudentRequest=function(){mixpanel.track("Student.request"),t.go("^.student-request",{courseObj:JSON.stringify(e.root.vars.request.course)})},e.showAddNoteTextArea=function(){e.root.keyboard.show("note-input",500)},e.$on("$ionicView.beforeEnter",function(){if(e.root.vars.request.description||(e.root.vars.request.description=""),e.root.vars.files_should_be_cleared){var t=document.getElementsByClassName("attachment-container")[0];t.src=null,e.root.vars.files_should_be_cleared=!1}}),e.takePhoto=function(t){if(e.platform.mobile)o.takePicture(e,t);else{var n=document.getElementById("file-input-web");n.click()}};var c=function(e){return-1!==e.indexOf("image/")?e.split("/")[1]:void 0},d=function(e){return Math.round(parseInt(e)/1e3,2)};e.initTimer=function(t){e.timer_seconds=new ProgressBar.Circle("#file-loader-container-"+t.toString(),{color:"#68b2a5",strokeWidth:10,trailColor:"#FFFFFF",easing:"easeInOut",duration:2500}),e.timer_seconds.animate(1,function(){e.timer_seconds.destroy()})},e.deleteFile=function(t){confirm("Are you sure you want to delete this photo?")&&(e.attached_files.splice(t,1),e.file_index-=1)},e.file_changed=function(t){var i=t.files[0];e.attached_files.push({type:c(i.type),size:d(i.size)}),e.root.vars.request.attached_files.push({type:c(i.type),size:d(i.size)}),e.initTimer(e.file_index);var r=new FileReader,o=document.getElementsByClassName("attachment-container")[e.file_index];r.onload=function(e){o.src=e.target.result},r.readAsDataURL(i);var s=new FormData;s.append("file",i),s.append("filename",name),e.file_index+=1,n(function(){e.attached_files[e.file_index-1].show=!0},3e3),e.user.createObj(e.user,"files",s,e)},e.saveImgToTag=function(e){var t=document.getElementsByClassName("attachment-container")[0];t.src=e}}]),angular.module("uguru.util.controllers").controller("PaymentsController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicHistory","$stateParams","$ionicViewSwitcher","$ionicSideMenuDelegate","$ionicActionSheet",function(e,t,n,i,r,o,s,a,l,u){e.data={card_exists:!1},e.user.cards=[],e.user_has_card=e.user.cards&&e.user.cards.length>0,e.clearCard=function(){e.card=null,e.cardInput.value="",e.ccvInput.value="",e.rootUser.updateLocal(e.user),e.root.keyboard.show("card-input",500)},e.paymentCardActionSheetOptions=function(){var t=e.card,i=[{text:"Remove Card"}];t.is_default_payment||t.is_default_transfer||i.push({text:"Set Default"}),e.closeAttachActionSheet=u.show({buttons:i,titleText:'<span class="semibold uppercase">Edit Card **-'+t.card_last4+"</span>",cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){0===t&&(e.closeAttachActionSheet(),e.removeCard(),e.loader.show(),n(function(){e.loader.hide()},750)),1===t&&(e.closeAttachActionSheet(),e.setDefault(),e.loader.show(),n(function(){e.loader.hide()},750))}})},e.addPaymentActionBtn=function(){"save"===e.actionButtonText.toLowerCase()?e.savePayment():e.clearCard(),e.setActionButtonText()},e.setActionButtonText=function(){e.actionButtonText=e.card?"clear":"save"},e.goBack=function(){e.paymentsModal?o.goBack():(e.loader.show(),l.toggleRight(),n(function(){e.loader.hide()},1e3))},e.showSuccess=function(t){e.progress_active?console.log("Show success cannot be shown because progress bar is already active"):(e.progress_active=!0,$cordovaProgress.showSuccess(!0,t),n(function(){$cordovaProgress.hide(),e.progress_active=!1,o.goBack()},1e3))},e.savePaymentStatic=function(){var t=function(){e.success.show(0,2e3,"Your card was successfully added!"),n(function(){e.root.vars.show_price_fields=!e.root.vars.show_price_fields},500)};e.savePayment(t,null)},e.savePaymentHome=function(){e.success.show(500,2e3,"Your card was successfully added!"),l.toggleRight()},e.savePayment=function(){e.loader.show();var t=e.card_details.number,i=e.card_details.expiry.split(" / ")[0],r=e.card_details.expiry.split(" / ")[1];console.log("new details",t,i,r);var o=function(t,i){if(i.error)e.loader.hide(),e.error_msg=!0,e.progress_active=!0,e.success.show(0,2e3,i.error.message),n(function(){e.error_msg=null},2e3),e.card_input_text="",e.card_mm_text="",e.card_yy_text="";else if(e.debitCardOnly&&"debit"!==i.card.funding)e.success.show(0,2e3,"Please Enter a Debit Card. This one appears to be credit."),e.cardYY.value="",e.cardMM.value="",e.cardInput.value="";else{var r={stripe_token:i.id,card_last4:i.card.last4,card_type:i.card.brand};e.debitCardOnly?(r.debit_card=!0,r.is_transfer_card=!0,e.user.transfer_cards||(e.user.transfer_cards=[]),e.user.transfer_cards.push(r)):(r.card=!0,r.is_payment_card=!0,e.user.payment_cards||(e.user.payment_cards=[]),e.user.payment_cards.push(r)),e.loader.hide(),e.user.cards.push(r),e.success.show(0,2e3,"Your card has been successfully added");var o=function(e,t){"root.home"===t.current.name&&(e.closePaymentsModal(),e.choosePriceModal&&(e.choosePriceModal.show(),n(function(){e.loader.hide()},500))),e.paymentsModal&&e.paymentsModal.isShown()&&(e.paymentsModal.hide(),e.loader.hide()),"root.payments"===t.current.name&&(l.toggleRight(),n(function(){e.loader.hide()},500))};e.user.createObj(e.user,"cards",r,e,o)}};Stripe.card.createToken({number:t,exp_month:i,exp_year:r},o)},e.removeCard=function(){var t=e.root.util.objectFindByIndexByKey(e.user.cards,"last_4",e.card.last_4);e.user.cards.splice(t,1);var n={card:{id:e.card.id,remove_card:!0}};e.user.updateObj(e.user,"cards",n,e),alert("Card Successfully Deleted"),o.goBack()},e.setDefault=function(){var t={card:{id:e.card.id}},n=e.card;if(e.debitCardOnly){for(var i=0;i<e.user.transfer_cards.length;i++)n.id!=e.user.transfer_cards[i].id&&(e.user.transfer_cards[i].is_default_transfer=!1);t.default_transfer=!0}else{for(var i=0;i<e.user.payment_cards.length;i++)n.id!=e.user.payment_cards[i].id&&(e.user.payment_cards[i].is_default_payment=!1);t.default_payment=!0}e.user.updateObj(e.user,"cards",t,e),alert("Card Default Set!"),o.goBack()},e.card_already_created=!1,e.$on("modal.shown",function(){e.paymentsModal&&e.paymentsModal.isShown()&&!e.card_already_created&&(console.log("instantiating"),e.card_already_created=!0,n(function(){e.initCardAndFocusInput()},750))}),e.injectCardPngClass=function(){},e.getCardType=function(e){return"visa"},e.validatedAddCardForm=function(e,t){return!0};e.getCardType=function(e){var t=new RegExp("^4");return null!=e.match(t)?"visa":(t=new RegExp("^(34|37)"),null!=e.match(t)?"amex":(t=new RegExp("^5[1-5]"),null!=e.match(t)?"master":null!=e.match(t)?"discover":""))},e.$on("$ionicView.beforeEnter",function(){}),e.initCardAndFocusInput=function(t){var n=document.getElementById("card-input");n.focus();var i={name:e.user.name||null},r={numberInput:"input#card-input",expiryInput:"input#expiry-input"};e.root.vars.editCardClicked&&(i.number=e.card_details.number,i.expiry="**/**"),e.card_js=new Card({form:document.querySelector("form"),container:".card-wrapper",values:i,formSelectors:r}),t()},e.fireKeyUpEvent=function(){var e=document.getElementById("card-input"),t=document.createEvent("KeyboardEvent");t.initEvent("keyup",!0,!0),t.view=window,t.altKey=!1,t.ctrlKey=!1,t.shiftKey=!1,t.metaKey=!1,t.keyCode=0,t.charCode="a",t.keyCode=32,e.dispatchEvent(t),console.log("fired shit")},console.log("rendering the original"),e.card_details={number:"",expiry:""},e.$on("$ionicView.enter",function(){e.loader.hide(),e.root.vars.editCardClicked&&(e.data.card_exists=!0),console.log("after enter"),n(function(){var t=function(){e.card=JSON.parse(s.cardObj),e.card_details.expiry="** / **",e.card_details.number="****-****-****-"+e.card.card_last4,n(function(){e.fireKeyUpEvent()},500)};e.initCardAndFocusInput(t)},1e3)}),e.$on("$ionicView.leave",function(){console.log("leaving view.."),e.root.vars.editCardClicked=null})}]),angular.module("uguru.util.controllers").controller("AppsController",["$scope","$state","$timeout","$localstorage","$ionicViewSwitcher",function(e,t,n,i,r){e.goToFiles=function(){console.log("this works")},e.goToRequest=function(){r.nextDirection("forward"),e.success.show(0,1500,"Coming Soon!")},e.goToSearch=function(){e.success.show(0,1500,"Coming Soon!")},e.goToAskQuestion=function(){e.success.show(0,1500,"Coming Soon!")},e.goToBakery=function(){e.success.show(0,1500,"Coming Soon!")}}]),angular.module("uguru.util.controllers").controller("AvailabilityController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicScrollDelegate",function(e,t,n,i,r,o,s,a,l){function u(e){for(var t=0,n=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:n}}function c(t){if(!t)return void console.log("event doesnt exist.. quitting");var n=t.target,i=(parseFloat(n.getAttribute("data-x"))||0)+t.dx,r=(parseFloat(n.getAttribute("data-y"))||0)+t.dy;n.style.webkitTransform=n.style.transform="translate("+i+"px, "+r+"px)",n.setAttribute("data-x",i),n.setAttribute("data-y",r),e.updateCalendarMargins(),e.getTimeBasedOnStartAndHeight(e.calendar.coords.currentTopY,e.calendar.coords.currentHeight,e.calendar.coords.chunkHeights.hours,e.calendar.coords.chunkHeights.thirty)}var d=new Date,p=new Date(d.getYear(),d.getMonth(),0).getDate();e.calendarMoversShown=!1,e.showDateTabs=!1,e.weekdays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e.full_weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.hours=["12 am","1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","12pm","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm"],e.calendar={date:{offset:0,date:d.getDate(),month:d.getMonth()+1,formatted_date:e.weekdays[d.getDay()]+" "+d.getDate()},selected_custom_date:"Date",weekday_offset:d.getDay()+2,start_date:d.getDate()+2,next_month_length:p,offset_length:12,selected_time:{start_time:{hour:null,minute:null},end_time:{hour:null,minute:null}},coords:{calendarTopY:null,calendarBottomY:null,currentTopY:null,currentHeight:null,chunkHeights:{hour:null,thirty:null}}},e.handle=a.$getByHandle("availability-handle"),e.getNumber=function(e){return new Array(e)},e.toggleCalendarHeight=function(e){document.getElementById("calendar-content").style.top=e?"133px":"96px"},e.$on("modal.shown",function(){e.availabilityModal.isShown()&&(n(function(){h()},1e3),e.onAvailabilityTabSelected=function(t,n){var i=e.handle.selectedIndex();if(2>i){e.calendar.date.offset=i,e.toggleCalendarHeight(!1);var r=d.getDate()+i,o=e.weekdays[r%7];e.calendar.date.formatted_date=o.toString()+" "+r.toString()}else if(2!==i||t||0===t){e.toggleCalendarHeight(!1),e.calendar.date.offset=i+t+1;var o=e.weekdays[(t+e.calendar.weekday_offset)%7];console.log("selected",i,t,n),e.calendar.date.weekday=o.toString();var r=n;e.calendar.date.date=r,e.calendar.selected_custom_date=o.toString()+" "+n.toString(),e.calendar.date.formatted_date=e.calendar.selected_custom_date,e.showDateTabs=!1,e.date_index=null}else{e.calendar.date.offset=i,e.showDateTabs=!0,e.toggleCalendarHeight(!0);var r=d.getDate()+i;e.calendar.date.date=r;var o=e.weekdays[(r+e.calendar.weekday_offset)%7];e.calendar.date.formatted_date=o.toString()+" "+r.toString()}console.log("current offset",e.calendar.date.offset)},n(function(){if(!e.request.calendar_edit){var t=document.getElementById("8AM");height=t.getBoundingClientRect().top,console.log(t.getBoundingClientRect()),console.log(height,"height"),console.log(l.$getByHandle("calendar").getScrollPosition()),l.$getByHandle("calendar").scrollTo(0,.7*height)}},500))}),e.getCalendarEventRect=function(){{var e=document.getElementById("calendar-rows");e.getBoundingClientRect(),u(e)}},e.getChunksInBetween=function(){},e.postDragCalendarUpdate=function(){};var g=function(){hour_rows=document.getElementsByClassName("calendar-date-row"),first_row=hour_rows[0],last_row=hour_rows[hour_rows.length-2],starting_point=first_row.getBoundingClientRect().top,ending_point=last_row.getBoundingClientRect().top+last_row.getBoundingClientRect().height,height=(ending_point-starting_point)/48,e.calendar.coords.calendarTopY=Math.round(starting_point),e.calendar.coords.calendarBottomY=Math.round(ending_point),e.calendar.coords.chunkHeights.hours=Math.round(2*height),e.calendar.coords.chunkHeights.thirty=Math.round(height),calendar_event_rect=document.getElementById("calendar-event").getBoundingClientRect(),e.calendar.coords.currentTopY=Math.round(calendar_event_rect.top-e.calendar.coords.calendarTopY),e.calendar.coords.currentHeight=Math.round(calendar_event_rect.height);for(var t=[],n=0;48>n;n++)t.push({y:starting_point+height*n,range:height/2});return t};e.resize_mode=!1;var h=function(){var t=g();interact(".draggable-event").draggable({inertia:!1,onmove:c,restrict:{restriction:"parent",elementRect:{top:0,left:0,bottom:1,right:1}},snap:{targets:t},axis:"y"}).resizable({edges:{bottom:!0,top:!0},inertia:!1,endOnly:!0,snap:{targets:t}}).on("resizemove",function(t){var n=t.target,i=parseFloat(n.getAttribute("data-x"))||0,r=parseFloat(n.getAttribute("data-y"))||0;n.style.width=t.rect.width+"px",n.style.height=t.rect.height+"px",i+=t.deltaRect.left,r+=1*t.deltaRect.top,n.style.webkitTransform=n.style.transform="translate("+i+"px,"+r+"px)",n.setAttribute("data-x",i),n.setAttribute("data-y",r),e.resize_mode=!1,e.updateCalendarMargins(),e.getTimeBasedOnStartAndHeight(e.calendar.coords.currentTopY,e.calendar.coords.currentHeight,e.calendar.coords.chunkHeights.hours,e.calendar.coords.chunkHeights.thirty)})};e.saveRequestInfo=function(){e.saveRequestInfo()},e.updateCalendarMargins=function(){calendar_event_rect=document.getElementById("calendar-event").getBoundingClientRect(),e.calendar.coords.currentTopY=Math.round(calendar_event_rect.top-e.calendar.coords.calendarTopY),e.calendar.coords.currentHeight=Math.round(calendar_event_rect.height),e.request&&!e.request.calendar_edit&&(e.request.calendar_edit=!0,window.location.hash=""),e.$apply()},e.formatMinutes=function(e){return 0===e?"00":"30"};var f=function(e){return Math.round(2*e)/2};e.getTimeBasedOnStartAndHeight=function(t,n,i,r){start_hour=f(t/i),end_hour=f((t+n)/i),e.calendar.selected_time.start_time.hours=parseInt(start_hour),e.calendar.selected_time.start_time.minutes=60*Math.abs(parseInt(start_hour)-start_hour),e.calendar.selected_time.end_time.hours=parseInt(end_hour),e.calendar.selected_time.end_time.minutes=60*Math.abs(parseInt(end_hour)-end_hour)},e.formatHours=function(e){return e=Math.round(e,2),result="",0===e?"12 PM":12>e?e+"AM":12===e?"12 PM":24>e?12%e+"PM":void 0},e.formatHoursAndMinutes=function(e,t){var n=e.hours,i=e.minutes;return result="",0===n||12===n?result+="12":n>0&&12>n?result+=n:n>12&&23>=n&&(result+=n%12),i>0&&30===i&&(result+=":30"),t&&n>=12&&(result+="pm"),t&&12>n&&(result+="am"),result},e.saveRequestInfo=function(){e.getTimeBasedOnStartAndHeight(e.calendar.coords.currentTopY,e.calendar.coords.currentHeight,e.calendar.coords.chunkHeights.hours,e.calendar.coords.chunkHeights.thirty),e.request.calendar.start_time=e.calendar.selected_time.start_time,e.request.calendar.end_time=e.calendar.selected_time.end_time,e.request.calendar.start_time.formatted=e.formatHoursAndMinutes(e.request.calendar.start_time,!1),e.request.calendar.end_time.formatted=e.formatHoursAndMinutes(e.request.calendar.end_time,!0),e.request.calendar.date.offset=e.calendar.date.offset,e.request.calendar.date.day=e.calendar.date.date,e.request.calendar.date.month=d.getMonth(),e.request.calendar.date.year=d.getYear(),e.request.calendar.date.formatted_date=e.calendar.date.formatted_date,e.request.time_estimate.hours=e.request.calendar.end_time.hours-e.request.calendar.start_time.hours,e.request.time_estimate.minutes=Math.abs(e.request.calendar.end_time.minutes-e.request.calendar.start_time.minutes),e.closeAvailabilityModal()}}]),angular.module("uguru.util.controllers").controller("CourseController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate",function(e,t,n,i,r,o,s,a){}]),angular.module("uguru.util.controllers").controller("CalendarModalController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$ionicHistory","$stateParams","$ionicScrollDelegate",function(e,t,n,i,r,o,s,a,l){e.day_split_segments=24,e.default_num_days=2,e.day_rows=[],e.modalShown=!1;var u=new Date,c=u.getMonth()+1,d=u.getDate();e.day_one=c+"/"+d,e.day_two=c+"/"+(d+1),e.hours_past=u.getHours()+1,e.proposal=null,e.hideModal=function(){e.modalShown&&(e.modalShown=!1,e.calendarModal.hide())},e.paint=function(t,i){t||(t=e.calendar.data),e.user.guru_mode&&console.log("calendar_grid",t);var r=(new Date).getUTCDate();n(function(){for(var o=0;o<t.length;o++){js_time=new Date(t[o].start_time),event_date=js_time.getUTCDate(),event_hours=js_time.getUTCHours(),offset_date=event_date-r,console.log(event_date,offset_date);var s=e.getElementbyCalenderWidthHeight(offset_date,event_hours);i||(s.style.background="grey",s.style.color="white",s.childNodes[0].background="grey",e.user.proposals.length<5&&n(function(){var t='<span style="background-color:grey; padding:0px 15px;">&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;Times student has chosen</br><br>Tap any of these that you can also make!</span>';e.success.show(1e3,2e3,t)}))}},1e3)},e.processStudentCalendar=function(e){num_columns=e.length;for(var t=0;t<num_columns;t++)start_time=e[t].start_time,end_time=e[t].end_time,console.log(start_time,end_time);return e},e.getElementbyCalenderWidthHeight=function(e,t){var n=e+","+t,i=document.getElementById(n);return i},e.goBackToRequests=function(){s.goBack()},e.validateForm=function(){e.calendar.num_selected>0?s.goBack():alert("Please select at least one option")},e.goBack=function(){s.goBack()},e.initCalendar=function(){e.user.guru_mode&&a&&a.proposalObj?(e.calendar={width:2,height:24,num_selected:0},e.proposal=JSON.parse(a.proposalObj),console.log("proposal",e.proposal),e.student_calendar=e.processStudentCalendar(e.proposal.student_calendar[0].calendar_events),e.paint(e.student_calendar),e.root.vars.request={},e.root.vars.request.calendar=e.calendar):!e.user.guru_mode&&a.proposalObj&&(e.calendar={width:2,height:24,num_selected:0},e.request=JSON.parse(a.proposalObj),console.log("request",e.request),e.student_calendar=e.processStudentCalendar(e.request.student_calendar[0].calendar_events),e.paint(e.student_calendar),e.viewOnly=!0,e.root.vars.request={},e.root.vars.request.calendar=e.calendar),e.calendar||(e.calendar={width:2,height:24,num_selected:0})},e.goToConfirmProposal=function(){e.proposal.guru_calendar=e.formatCalendarEventJson(e.calendar.data).slice(),console.log("guru calendar",JSON.stringify(e.proposal.guru_calendar[0][3])),mixpanel.track("Guru.confirm.proposal"),t.go("^.guru-confirm-proposal",{proposalObj:JSON.stringify(e.proposal)})};var p=function(e,t){for(var n=new Array(e),i=0;e>i;i++)n[i]=new Array(t);return n};e.initCalendar(),e.calendar.data=p(e.calendar.width,e.calendar.height),e.root.vars.request.calendar.data=p(e.calendar.width,e.calendar.height),e.day_rows=p(e.calendar.height,1),e.day_columns=p(e.calendar.width,1);for(var g=0;g<e.day_rows.length;g++)e.day_rows[g]=g;for(var g=0;g<e.day_columns.length;g++)e.day_columns[g]=g;e.clear=function(t){t=e.calendar.data,e.calendar.num_selected=0;for(var n=0,i=0;i<t[0].length;i++)for(var r=0;r<t.length;r++)if(t[r][i]){t[r][i]=!1;var o=e.getElementbyCalenderWidthHeight(r,i);o.style.background="white",o.style.color="inherit",o.childNodes[0].background="white"}else{t[r][i]=!1;var o=e.getElementbyCalenderWidthHeight(r,i);o.style.background="white",o.style.color="inherit",o.childNodes[0].background="white"}return e.root.vars.request.calendar_selected=!1,e.root.vars.calendar_should_be_empty=null,n},e.hideModalAndSave=function(){return e.calendar.num_selected?void(e.modalShown&&(e.modalShown=!1,e.formatCalendarEventJson(e.calendar.data),e.calendarModal.hide())):void e.root.dialog.alert("Please select at least one time","Oops!","OK",null)},e.generateDaySegmentArr=function(e){for(var t=new Array(e),n=0;e>n;n++)t[n]=n;return t},e.getTimeFromHourInt=function(e){var t;return 0===e?t="12 am":11>=e?t=e+" am":12===e?t="12 pm":e>12&&25>e&&(t=e-12+" pm"),t},e.isStudentMode=function(){return e.user.guru_mode?!1:!0},e.isMutual=function(e,t,n){return!1},e.formatCalendarEventJson=function(t){for(var n=0;n<t[0].length;n++)for(var i=0;i<t.length;i++)t[i][n]=t[i][n]?{start_time:n,end_time:n+1,is_student:e.isStudentMode(),is_guru:!e.isStudentMode(),is_mutual:e.isMutual()}:{};return t},e.getDayTimeFromNumDays=function(e){},e.$on("modal.shown",function(){console.log(e.student_calendar),e.student_calendar&&(e.calendar.student_request=e.student_calendar,e.processStudentCalendar(e.calendar.student_request)),e.calendarModal.isShown()&&!e.modalShown&&(e.modalShown=!0)}),e.countCalendarSelected=function(t){for(var n=0,i=0;i<t[0].length;i++)for(var r=0;r<t.length;r++)!e.user.guru_mode&&t[r][i]&&(n+=1),e.user.guru_mode&&"boolean"==typeof t[r][i]&&t[r][i]&&(n+=1);return n},e.triggerCalendarClick=function(t,n,i){console.log(t.target.parentNode),e.clickCalendarGridElement(null,n,i,t.target.parentNode)},e.clickCalendarGridElement=function(t,n,i,r){if(!e.viewOnly){if(t)var o=t.target,s=o.style.background;else var o=r,s=o.style.background;console.log(s,o,o.childNodes),e.user.guru_mode||s&&"white"!==s?e.user.guru_mode&&"rgb(128, 128, 128)"===s?(e.calendar.data[n][i]=!0,e.root.vars.request.calendar.data[n][i]=!0,o.style.background="#6C87B0",o.style.color="white",o.childNodes[0].background="#6C87B0"):e.user.guru_mode&&"rgb(108, 135, 176)"===s?(e.calendar.data[n][i]=!1,e.root.vars.request.calendar.data[n][i]=!1,o.style.background="rgb(128, 128, 128)",o.style.color="white",o.childNodes[0].background="rgb(128, 128, 128)"):(e.calendar.data[n][i]=!1,e.root.vars.request.calendar.data[n][i]=!1,o.style.background="white",o.style.color="rgba(0,0,0,0.8)",o.childNodes[0].background="white",o.childNodes[1].background="white"):(e.calendar.data[n][i]=!0,e.root.vars.request.calendar.data[n][i]=!0,o.style.background="#6C87B0",o.style.color="white",o.childNodes[0].background="#6C87B0"),e.calendar.num_selected=e.countCalendarSelected(e.calendar.data),e.root.vars.request.calendar_selected=!0}},e.scrollHalfway=function(){var e=Math.round(document.getElementsByClassName("has-header")[0].scrollHeight/2*1.3,2);l.scrollBy(0,e,!0)},e.$on("$ionicView.loaded",function(){console.log("loaded")}),e.$on("$ionicView.enter",function(){0===e.calendar.num_selected&&e.success.show(500,1500,"Tap any white dates that you are available!")}),e.$on("$ionicView.afterEnter",function(){console.log("after view has loaded")}),e.$on("$ionicView.beforeEnter",function(){e.root.vars.calendar_should_be_empty&&(e.clear(),e.initCalendar(),e.calendar.data=p(e.calendar.width,e.calendar.height),e.root.vars.request.calendar.data=p(e.calendar.width,e.calendar.height))}),console.log("scrolling halfway..."),ionic.DomUtil.ready(function(){e.scrollHalfway()})}]),angular.module("uguru.util.controllers").controller("ContactGuruController",["$scope","$state","$timeout","$localstorage","$ionicModal","User","CordovaPushWrapper","$timeout",function(e,t,n,i,r,o,s,n){e.$on("modal.shown",function(){e.contactingGuruModal.isShown()&&e.platform.mobile&&e.platform.ios&&n(function(){s.register(e,function(){setTimeout(function(){pulse.classList.add("animated","pulse"),setTimeout(function(){console.log("shit is pulsating 3 second has passed"),pulse.classList.remove("animated","pulse"),e.closeContactGuruModal()},2e3)},2e3)})},2500),e.closeContactGuruModal=function(){n(function(){mixpanel.track("Home"),t.go("^.home"),e.contactingGuruModal.hide()},500)}})}]),angular.module("uguru.util.controllers").controller("CoursesController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate",function(e,t,n,i,r,o,s,a,l){!(e["static"].courses&&e["static"].courses.length>0)||e.courses&&e.courses.length||(e.courses=e["static"].courses),e.shouldShowDelete=!1,e.listCanSwipe=!0,l.canDragContent(!1),(e.root.vars.guru_mode||"root.become-guru"===t.current.name)&&(e.editCourseMode=!1,e.course_search_text=""),e.swipeRightGoBack=function(){confirm("Exit become guru process?")&&(e.loader.show(),l.toggleRight(),n(function(){e.loader.hide()},500))},e.backToStudentEditProfile=function(i){i?e.success.show(0,1500):e.loader.show(),e.root.vars.guru_mode?t.go("^.guru-profile"):n(function(){l.toggleRight()},500),n(function(){e.loader.hide()},500)},e.toggleEditGuru=function(){e.editCourseMode=!e.editCourseMode,e.editCourseMode&&n(function(){e.focusCourseInput()},500)},e.editCourses=function(){console.log("show delete should be here")},e.$on("$ionicView.beforeEnter",function(){l.canDragContent(!1)}),e.$on("$ionicView.leave",function(){l.canDragContent(!0)}),e.updateProgress=function(t){e.progress=t.length>0},e.focusCourseInput=function(){var e=document.getElementById("guru-course-input");e&&e.focus()},e.removeGuruCourseAndUpdate=function(n,i){if("root.become-guru"!==t.current.name||confirm("Remove "+n.short_name+"?")){e.user.guru_courses.splice(i,1);var r=function(){e.loader.hide(),e.success.show(0,1e3,n.short_name+" successfully removed")};e.loader.show(),e.user.updateAttr("remove_guru_course",e.user,n,r,e)}},e.addSelectedGuruSkill=function(t,n,i){e.user.guru_skills.push(t),e.user.id?e.user.updateAttr("add_guru_skill",e.user,t,null,e):e.root.vars.remote_cache.push({add_guru_skill:t})},e.cancelStudentAddCourse=function(){e.showCourseInput=!e.showCourseInput,e.studentCourseInput.value=""},e.addSelectedStudentCourse=function(t,n,i){e.search_text="",e.studentCourseInput.value="",e.course_search_text=t.short_name,e.user.student_courses.push(t),e.user.id?e.user.updateAttr("add_student_course",e.user,t,null,e):e.root.vars.remote_cache.push({add_student_course:t})},e.addSelectedGuruCourse=function(t,n,i){e["static"].popular_courses.splice(i,1),e.search_text="",document.getElementById("guru-course-input").value="",e.course_search_text=t.short_name,e.user.guru_courses.push(t),e.user.id?e.user.updateAttr("add_guru_course",e.user,t,null,e):e.root.vars.remote_cache.push({add_guru_course:t})},e.$on("$ionicView.enter",function(){n(function(){console.log("view has entered"),e.guruCourseInput=document.getElementById("guru-course-input"),e.studentCourseInput=document.getElementById("student-course-input")},1e3)})}]),angular.module("uguru.util.controllers").controller("DescriptionController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicActionSheet","Camera",function(e,t,n,i,r,o,s,a,l){e.file_index=0,e.takePhoto=function(t){if(e.platform.mobile)l.takePicture(e,t,!0);else{var n=document.getElementById("file-input-web");n.click()}},e.showAttachActionSheet=function(){var t=[{text:"Choose from Library"}];t.push({text:"Take a Photo"}),e.closeAttachActionSheet=a.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){e.takePhoto(t),n(function(){e.closeAttachActionSheet()},500)}})},e.closeAttachActionSheet=function(){e.closeAttachActionSheet()},e.validateForm=function(){e.root.vars.request.description.length>0?e.closeDescriptionModal():alert("Please fill out description.")},e.saveDescriptionAndCloseModal=function(){e.closeDescriptionModal()},e.takePhoto=function(t){if(e.platform.mobile)l.takePicture(e,t);else{var n=document.getElementById("file-input-web");n.click()}};e.$on("modal.shown",function(){e.descriptionModal&&e.descriptionModal.isShown()&&(document.getElementById("course-input").blur(),n(function(){document.getElementById("description-input").focus()},1e3))});e.initTimer=function(t){e.timer_seconds=new ProgressBar.Circle("#file-loader-container-"+t.toString(),{color:"#68b2a5",strokeWidth:10,trailColor:"#FFFFFF",easing:"easeInOut",
duration:2500}),e.timer_seconds.animate(1,function(){e.timer_seconds.destroy()})},e.deleteFile=function(t){console.log("attempt to delete file",t),confirm("Are you sure you want to delete this photo?")&&(e.request.files.splice(t,1),e.success.show(0,750,"File deleted!"),e.file_index-=1)},e.file_changed=function(t){var n=t.files[0],i=new FileReader;i.readAsDataURL(n);var r=new FormData;r.append("file",n),r.append("filename",name),e.file_index+=1,e.loader.show();var o=function(){e.loader.hide()};e.user.createObj(e.user,"files",r,e,o)}}]),angular.module("uguru.util.controllers").controller("ExperiencesController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate",function(e,t,n,i,r,o,s,a,l){e.backToEditProfile=function(i){i?e.success.show(0,1500):e.loader.show(),t.go("^.guru-profile"),n(function(){e.loader.hide()},500)},e.saveGuruExperience=function(){if(!e.experience.name.length||!e.experience.years||!e.experience.description.length)return void e.success.show(0,1500,"Please enter in all fields");var t=function(){e.loader.hide(),e.success.show(0,1500,"Saved!"),e.guruExperiencesModal&&e.guruExperiencesModal.isShown()&&e.guruExperiencesModal.remove()};e.loader.show(),e.experience.id?e.user.updateAttr("update_guru_experience",e.user,e.experience,t,e):e.user.updateAttr("add_guru_experience",e.user,e.experience,t,e)},e.launchAddGuruExperienceModal=function(t){s.fromTemplateUrl(BASE+"templates/guru.experiences.modal.html",{scope:e,animation:"slide-in-up"}).then(function(n){e.experience=t?t:{name:"",description:"",years:1},e.guruExperiencesModal=n,e.guruExperiencesModal.show()})},e.$on("modal.shown",function(){e.guruExperiencesModal.isShown()&&!e.experience.name.length&&n(function(){var e=document.getElementById("experience-name-input");e.focus()},500)})}]),angular.module("uguru.util.controllers").controller("GuruBookController",["$scope","$state","$timeout","$localstorage","$ionicTabsDelegate",function(e,t,n,i,r){if(e.goToGuruProfile=function(e){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(e),showContactGuru:!0})},e.user.gurus)for(var o=0;o<e.user.gurus.length;o++)e.user.gurus[o].profile_url||(e.user.gurus[o].profile_url="https://graph.facebook.com/10152573868267292/picture?width=100&height=100",console.log(e.user.gurus[o].profile_url),console.log(e.user.gurus[o].name));e.topGuruBookTabsDelegate=r.$getByHandle("student-guru-book-tabs-top")}]),angular.module("uguru.util.controllers").controller("LanguagesController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate",function(e,t,n,i,r,o,s,a,l){e["static"].languages=[{name:"Mandarin",id:1},{name:"Spanish",id:2},{name:"English",id:3},{name:"Hindi",id:4},{name:"Arabic",id:5},{name:"Portuguese",id:6},{name:"Bengali",id:7},{name:"Russian",id:8},{name:"Japanese",id:9},{name:"Punjabi",id:10},{name:"German",id:11},{name:"Javanese",id:12},{name:"Wu",id:13},{name:"Malay/Indonesian",id:14},{name:"Telugu",id:15},{name:"Vietnamese",id:16},{name:"Korean",id:17},{name:"French",id:18},{name:"Marathi",id:19},{name:"Tamil",id:20},{name:"Urdu",id:21},{name:"Persian",id:22},{name:"Turkish",id:23},{name:"Italian",id:24},{name:"Cantonese",id:25},{name:"Thai",id:26},{name:"Gujarati",id:27},{name:"Jin",id:28},{name:"Min Nan",id:29},{name:"Polish",id:30},{name:"Pashto",id:31},{name:"Kannada",id:32},{name:"Xiang",id:33},{name:"Malayalam",id:34},{name:"Sundanese",id:35},{name:"Hausa",id:36},{name:"Odia",id:37},{name:"Burmese",id:38},{name:"Hakka",id:39},{name:"Ukrainian",id:40},{name:"Bhojpuri",id:41},{name:"Tagalog",id:42},{name:"Yoruba",id:43},{name:"Maithili",id:44},{name:"Swahili",id:45},{name:"Uzbek",id:46},{name:"Sindhi",id:47},{name:"Amharic",id:48},{name:"Fula",id:49},{name:"Romanian",id:50},{name:"Oromo",id:51},{name:"Igbo",id:52},{name:"Azerbaijani",id:53},{name:"Awadhi",id:54},{name:"Gan",id:55},{name:"Cebuano",id:56},{name:"Dutch",id:57},{name:"Kurdish",id:58},{name:"Serbo-Croatian",id:59},{name:"Malagasy",id:60},{name:"Saraiki",id:61},{name:"Nepali",id:62},{name:"Sinhalese",id:63},{name:"Chittagonian",id:64},{name:"Khmer",id:65},{name:"Assamese",id:66},{name:"Madurese",id:67},{name:"Somali",id:68},{name:"Marwari",id:69},{name:"Magahi",id:70},{name:"Haryanvi",id:71},{name:"Hungarian",id:72},{name:"Chhattisgarhi",id:73},{name:"Greek",id:74},{name:"Chewa",id:75},{name:"Deccan",id:76},{name:"Akan",id:77},{name:"Kazakh",id:78},{name:"Min Bei",id:79},{name:"Sylheti",id:80},{name:"Zulu",id:81},{name:"Czech",id:82},{name:"Kinyarwanda",id:83},{name:"Dhundhari",id:84},{name:"Haitian Creole",id:85},{name:"Min Dong",id:86},{name:"Ilokano",id:87},{name:"Quechua",id:88},{name:"Kirundi",id:89},{name:"Swedish",id:90},{name:"Hmong",id:91},{name:"Shona",id:92},{name:"Uyghur",id:93},{name:"Hiligaynon",id:94},{name:"Bulgarian",id:95},{name:"Mossi",id:96},{name:"Xhosa",id:97},{name:"Belarusian",id:98},{name:"Balochi",id:99},{name:"Konkani",id:100}],e.shouldShowDelete=!1,e.listCanSwipe=!0,l.canDragContent(!1),e.backToEditProfile=function(i){i?e.success.show(0,1500):e.loader.show(),t.go("^.guru-profile"),n(function(){e.loader.hide()},500)},e.removeGuruLanguageAndUpdate=function(e,t){return void alert("coming soon!")},e.addSelectedGuruLanguage=function(t,n,i){e["static"].languages.splice(i,1),e.search_text=null,document.getElementById("guru-language-input").value="",e.language_search_text=t.name,e.user.guru_languages.push(t),e.user.id?e.user.updateAttr("add_guru_language",e.user,t,null,e):e.root.vars.remote_cache.push({add_guru_language:t})},e.$on("$ionicView.enter",function(){n(function(){e.languageInput=document.getElementById("guru-language-input")})})}]),angular.module("uguru.util.controllers").controller("LocationController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","uiGmapGoogleMapApi",function(e,t,n,i,r,o,s){e.closeLocationModal=function(){e.locationModal.hide()},e.saveLocationAndClose=function(t){e.request.address=t.local_name,e.request.city_info=t.city_info,e.request.place_id=t.place_id,e.request.position=e.getGPSCoordsFromPlace(t.local_name,t.city_info,t.description),e.locationModal.hide()},e.getGPSCoordsFromPlace=function(t,n,i){var r=t+", "+n+", "+i,o=new google.maps.Geocoder;o.geocode({address:r},function(t,n){n==google.maps.GeocoderStatus.OK?e.request.position={latitude:t[0].geometry.location.lat(),longitude:t[0].geometry.location.lng()}:console.log("Geocode was not successful for the following reason: "+n)})},e.location_search_text={value:null},e.current_city="San Francisco",e.locationInput=null,e.geocodeOptions={autocomplete:!0,location:{lat:37.87,lng:-122.259}};e.queryAutocomplete=function(t){var n=t;if(!t||0===t.length){var n=document.getElementById("location-input").value;console.log("empty arg passed g-query places")}if(n||t||(t="a"),t.length>0){var i=e.user.recent_position;if(i&&0!==Object.keys(e.user.recent_position).length){console.log("using user gps position",JSON.stringify(e.user.recent_position)),e.request.position={longitude:i.coords.longitude,latitude:i.coords.latitude};var i=new google.maps.LatLng(i.coords.latitude,i.coords.longitude)}else{var i=new google.maps.LatLng(37.76999,-122.44696);e.request.position={longitude:-122.44696,latitude:37.76999}}e.service.getPlacePredictions({input:n,location:i,radius:5e3},e.autocompleteQuerycallback)}},e.autocompleteQuerycallback=function(t,n){if(console.log(n,t[0].terms[0].value),n!=google.maps.places.PlacesServiceStatus.OK)return void alert(n);e.nearby_locations.matches=[],e.root.vars.nearby_locations=[];for(var i,r=0;i=t[r];r++){var o={local_name:i.terms[0].value,description:i.description,terms:i.terms};all_but_first=i.terms.splice(1),result_str="";for(var s=0;s<all_but_first.length;s++)result_str+=" "+all_but_first[s].value;o.city_info=result_str,o.place_id=i.place_id,e.nearby_locations.matches.push(o),e.root.vars.nearby_locations.push(o)}if(e.auto_choose_first_location){e.auto_choose_first_location=!1;var a=e.root.vars.nearby_locations[0];e.request.address=a.local_name,e.request.city_info=a.city_info,e.request.place_id=a.place_id,e.closeLocationModal()}e.$apply()},e.queryGooglePlacesOnKeyPress=function(){current_input_text=e.locationInput.value,e.queryAutocomplete(current_input_text)},e.$on("modal.shown",function(){e.locationModal&&e.locationModal.isShown()&&(e.locationInput=document.getElementById("location-input"),e.locationInput.addEventListener("keyup",e.queryGooglePlacesOnKeyPress),!e.locationInput||e.locationInput.value&&0!==e.locationInput.value.length||n(function(){e.locationInput.focus()},1e3))}),r.ready(function(){window.StatusBar&&e.user.guru_mode&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))})}]),angular.module("uguru.student.controllers").controller("StudentMessagesController",["$scope","$state","$timeout","$localstorage","$ionicModal","$ionicTabsDelegate","$cordovaProgress","$stateParams","$cordovaKeyboard","$ionicScrollDelegate","Restangular","$ionicHistory","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,r,o,s,a,l,u,c,d,p,g){e.hide_footer=!1,e.session=JSON.parse(a.sessionObj),e.new_message={content:""},e.default_profile_url="https://graph.facebook.com/10152573868267292/picture?width=100&height=100",e.message_name=e.session.guru.id===e.user.id?e.session.request.student.name.split(" ")[0]:e.session.guru.name.split(" ")[0],g.ready(function(){window.StatusBar&&e.user.guru_mode&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),e.goBack=function(){d.goBack()},e.getCurrentDate=function(){var e=new Date,t=e.getHours()%12,n=e.getMinutes();return ending=e.getHours()>=12?"PM":"AM",result=t+":"+n+" "+ending,result},e.last_updated=e.getCurrentDate(),e.sortMessageComparator=function(e,t){return e.id-t.id},e.processMessages=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.profile_url=t[n].sender.profile_url,i["class"]=i.sender.id===e.user.id?"item-avatar-right":"item-avatar-left",i.formatted_time=e.root.time.since(new Date(i.time_created))}return t.sort(e.sortMessageComparator),e.loader.hide(),t},e.setFocus=function(){e.hide_footer||(e.hide_footer=!1,document.getElementsByName("message-input")[0].focus(),u.$getByHandle("message-scroll").scrollBottom())},e.setUnfocus=function(){e.hide_footer=!0,e.platform.mobile&&l&&(l.close(),u.$getByHandle("message-scroll").scrollBottom()),n(function(){e.hide_footer=!1},500)},e.sendMessage=function(t){var n=e.getMessagePayload(t);e.sendMessageToServer(n),n.message["class"]="item-avatar-right animated fadeInUp",n.message.profile_url=e.user.profile_url,n.message.formatted_time="a couple seconds ago",e.new_message.content="",e.messages.push(n.message),u.$getByHandle("message-scroll").scrollBy(0,100,!0)},e.getMessagePayload=function(t){var n={message:{contents:t,relationship_id:e.session.relationship_id,receiver_id:e.session.guru.id,sender_id:e.user.id,session_id:e.session.id}};return n},e.getMessagesFromServer=function(i,r,o){console.log("getting message from server"),c.one("user",e.user.id).one("sessions",e.session.id).one("messages").customGET().then(function(s){console.log("response from server",JSON.stringify(s.plain()));var a=e.processMessages(s.messages);a.sort(e.sortMessageComparator),a.length>e.messages.length&&u.$getByHandle("message-scroll").scrollBottom(),e.messages=a,"root.student-messages"!==t.current.name||r||n(function(){e.getMessagesFromServer(i)},i),o&&o()},function(e){console.log(e),console.log("error...something happened with the server;")})},e.sortedListByObjKey=function(e){return e},e.processMessagesFromServer=function(e,t){return t},e.sendMessageToServer=function(t){var n=function(e,t){e.user.active_student_sessions=t.active_student_sessions;for(var n=0;n<t.active_student_sessions.length;n++)if(e.session.id===t.active_student_sessions[n].id){var i=e.processMessages(t.active_student_sessions[n].messages);i.sort(e.sortMessageComparator),e.messages=i}};e.user.createObj(e.user,"messages",t,e,n)},e.hideKeyboard=function(){e.root.keyboard.close(),e.hide_footer=!0,u.$getByHandle("message-scroll").resize(),n(function(){e.hide_footer=!1},500)},e.$on("$ionicView.beforeEnter",function(){console.log("view has entered"),e.platform.mobile&&window.cordova&&window.cordova.plugins.Keyboard&&(console.log("keyboard exists!"),window.cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.cordova.plugins.Keyboard.disableScroll(!0)),n(function(){u.$getByHandle("message-scroll").scrollBottom()},500)}),e.checkSubmission=function(t){13===t.which&&e.sendMessage(e.new_message.content)},e.doRefresh=function(){var t=function(){n(function(){e.$broadcast("scroll.refreshComplete"),u.$getByHandle("message-scroll").scrollBottom()},3e3)};e.getMessagesFromServer(null,!0,t)},e.$on("$ionicView.beforeEnter",function(){e.loader.show(),e.messages=e.processMessages(e.session.messages),n(function(){e.getMessagesFromServer(3e4)},3e4)}),e.$on("$ionicView.afterEnter",function(){n(function(){e.platform.ios?e.setFocus():e.platform.android&&l.show()},1e3)})}]),angular.module("uguru.util.controllers").controller("OnboardingController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate","$ionicSideMenuDelegate","$ionicPlatform","$cordovaStatusbar","$ionicSlideBoxDelegate",function(e,t,n,i,r,o,s,a,l,r,u,c){document.addEventListener("deviceready",function(){e.platform.ios&&o.hideAccessoryBar&&o.hideAccessoryBar(!1)}),e.activeSlideIndex=0,e.injectAnimatedHand=!1,e.injectAnimatedPhone=!1,e.user_bgs=[{name:"student"},{name:"professional"},{name:"HS student"}],e.selectedBg=e.user_bgs[0],e.slideHasChanged=function(t){e.activeSlideIndex=t,1===t&&(e.universityInput=document.getElementById("university-input"),e.universityInput&&e.universityInput.addEventListener("keyup",function(){c.enableSlide(e.universityInput.value&&e.universityInput.value.length?!1:!0)}))},e.goToUniversity=function(){t.go("^.university")},l.canDragContent(!1),r.ready(function(){e.turnStatusBarWhite=function(){window.StatusBar&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))},e.turnStatusBarBlack=function(){window.StatusBar&&(StatusBar.styleDefault(),StatusBar.overlaysWebView(!0))},e.turnStatusBarWhite()}),e.$on("$ionicView.afterLeave",function(){e.platform.ios&&o.hideAccessoryBar&&o.hideAccessoryBar(!0)}),e.$on("$ionicView.loaded",function(){document.addEventListener("deviceready",function(){if(e.platform.mobile)var t=1e3;n(function(){e.injectAnimatedHand=!0},t),n(function(){e.injectAnimatedPhone=!0},t)}),n(function(){e.injectAnimatedHand&&e.injectAnimatedPhone||(e.injectAnimatedHand=!0,e.injectAnimatedPhone=!0)},1250)})}]),angular.module("uguru.util.controllers").controller("RatingsController",["$scope","$state","$timeout","$localstorage","$ionicModal","$cordovaStatusbar","$ionicPlatform",function(e,t,n,i,r,o,s){function a(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}s.ready(function(){window.StatusBar&&e.user.guru_mode&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),e.pending_rating&&(e.pending_rating.session.guru.current_hourly=10),e.rating=e.user.guru_mode?e.user.pending_student_ratings[0]:e.user.pending_guru_ratings[0],e.saveInfo=function(){e.ratingModal.hide()},e.starClicked=function(t){var n=t.target.getAttribute("value");e.showGreenStars(n,t.target),e.starsSelected=n,e.root.vars.starsSelected=n,console.log(n),e.showSubmitButton=!0},e.showGreenStars=function(e,t){for(var n=t.parentNode.parentNode.querySelectorAll(":scope > .pure-u-1-5"),i=0;e>i;i++){var r=n[i];a(r,"blue")||(r.className=r.className+" blue")}for(var o=e;5>o;o++){var r=n[o];a(r,"blue")&&(r.className=r.className.replace("blue",""))}},e.closeRatingsModal=function(){e.root.keyboard.isVisible()?(e.root.keyboard.close(),n(function(){e.ratingModal.hide()},300)):e.ratingModal.hide()}}]),angular.module("uguru.util.controllers").controller("RequestLocationController",["$scope","$state","$timeout","$localstorage","$ionicModal","$compile","$ionicHistory","$cordovaGeolocation",function(e,t,n,i,r,o,s,a){e.goBackToRequests=function(){s.goBack()},e.validateForm=function(){e.root.vars.request.location?s.goBack():alert("Please select a location")},e.refresh_map=!1,e.random=null,e.hideRequestMapModal=function(){e.request.location||e.togglePersonGuru(),e.root.keyboard.isVisible()?(e.root.keyboard.close(),n(function(){e.requestMapModal.hide()},300)):e.requestMapModal.hide()},e.setLocation=function(){e.root.vars.request.position=e.requestPosition,s.goBack()},e.createGoogleLatLng=function(e,t){return new google.maps.LatLng(e,t)},e.setMarkerPosition=function(t,n,i){t.setPosition(e.createGoogleLatLng(n,i))},e.getAddressFromLatLng=function(t,i,r){var o=e.createGoogleLatLng(i,r);t.geocode({latLng:o},function(t,o){if(o==google.maps.GeocoderStatus.OK)if(t[0]){var s=t[0].formatted_address;e.root.vars.request.address=s,console.log(e.root.vars.request.location),e.requestPosition.coords.latitude=i,e.requestPosition.coords.longitude=r,n(function(){e.root.vars.request.address=s},500),e.setMarkerPosition(e.marker,i,r)}else alert("No results found");else alert("Geocoder failed due to: "+o)})},e.setMapCenter=function(t,n,i){e.map.setCenter(e.createGoogleLatLng(n,i))},e.fixInput=function(){n(function(){container=document.getElementsByClassName("pac-container"),console.log(container),angular.element(container).attr("data-tap-disabled","true"),angular.element(container).on("click",function(){console.log("it was clicked"),document.getElementById("type-selector").blur()})},1500)},e.showGoogleMap=function(){e.map={center:{latitude:51.219053,longitude:4.404418},zoom:14,control:{}},e.options={scrollwheel:!1};var t,n=document.getElementsByTagName("ion-pane")[0];e.requestPosition&&(t=e.createGoogleLatLng(e.requestPosition.coords.latitude,e.requestPosition.coords.longitude),e.root.vars.request.location={latitude:e.requestPosition.coords.latitude,longitude:e.requestPosition.coords.longitude});var i={center:t,zoom:17,disableDefaultUI:!0,zoomControl:!1};actual_map=new google.maps.Map(n,i),e.actual_map=actual_map,e.marker=new google.maps.Marker({position:t,map:actual_map,draggable:!0}),e.geocoder=new google.maps.Geocoder,e.requestPosition&&e.getAddressFromLatLng(e.geocoder,e.requestPosition.coords.latitude,e.requestPosition.coords.longitude),google.maps.event.addListener(e.marker,"dragend",function(){e.getAddressFromLatLng(e.geocoder,e.marker.getPosition().lat(),e.marker.getPosition().lng())})},e.$on("$ionicView.enter",function(){console.log("entering view");var t={timeout:1e4,enableHighAccuracy:!1};a.getCurrentPosition(t).then(function(t){e.loader.hide(),e.user.last_position=t.coords,e.requestPosition=t,e.showGoogleMap()},function(t){e.loader.hide(),console.log(JSON.stringify(t)),e.requestPosition={coords:{latitude:e.user.university.latitude,longitude:e.user.university.longitude}},e.success.show(0,2e3,"Sorry! We couldn't detect a strong enough GPS signal."),e.showGoogleMap()})})}]),angular.module("uguru.util.controllers").controller("RequestController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicGesture","$cordovaGeolocation","$ionicSideMenuDelegate",function(e,t,n,i,r,o,s,a,l,u){e.selectedPriceTable=[0,1,2,5],e.setPriceOption=function(t){e.request.selected_price_option=t,e.request.student_price=e.selectedPriceTable[t]},e.course_search_text="",e.show_student_courses=!1,e.availability_scroll_init=!1,e.root.vars.detailed_verbs_index_clicked||(e.root.vars.detailed_verbs_index_clicked=0),e.addCard=function(){return e.request.selected_price_option||0===e.request.selected_price_option?(t.go("^.payments"),e.loader.show(),void n(function(){e.loader.hide(),e.closeChoosePriceModal()},1e3)):void e.success.show(0,2e3,"Please selected at least one option")},e.request={location:null,course:null,title:null,tags:[],description:"",time_estimate:{hours:2,minutes:0},urgency:!0,tags:[],files:[],category:"",position:{latitude:null,longitude:null},availability_edit:!1,calendar_edit:!1,selected_price_option:null,current_price_options:e.selectedPriceTable,type:{session:0===e.root.vars.last_verb_index_clicked,question:1===e.root.vars.last_verb_index_clicked,task:2===e.root.vars.last_verb_index_clicked,value:e.root.vars.last_verb_index_clicked},calendar:{weekday:"Today",start_time:{hours:0,minutes:0},end_time:{hours:0,minutes:0},formatted_start_time:null,formatted_end_time:null,date:{day:1,month:1,year:15}},availability:{hours:2,minutes:"00"}};var c=["chores.svg","items.svg","food.svg","skilled_task.svg","specific.svg"],d=["chores","items","food","skilled_task","specific"],p=["My laundry + dishes","Get bread from safeway","I want ice cream","Please fix my iPhone","Wait this line for me"],g=[{img:"session.svg",course_placeholder:"Enter course",description_placeholder:"Describe your problem (optional)",show_location:!0,show_urgency:!0,show_estimate:!0,show_availability:!0,show_divider_one:!0,show_divider_two:!0,show_tags:!0,background_class:"standard-bg",title:"Request a Session",initial_status:"finding a guru"},{img:"question.svg",course_placeholder:"Enter course",description_placeholder:"What's your question? Try to be specific as possible so we can help you find the best answer",show_location:!1,show_urgency:!1,show_estimate:!1,show_availability:!1,show_divider_one:!1,show_divider_two:!1,show_description:!0,show_tags:!0,background_class:"dark-bg",title:"Ask a Question",initial_status:"finding an answer"},{img:c[e.root.vars.detailed_verbs_index_clicked],course_placeholder:p[e.root.vars.detailed_verbs_index_clicked],description_placeholder:"Describe your task in more detail",show_location:!0,show_urgency:!0,show_estimate:!0,show_availability:!0,show_divider_one:!0,show_divider_two:!0,show_description:!0,show_tags:!0,title:"Request a Task",initial_status:"getting help"}];e.request_fields=g[e.root.vars.last_verb_index_clicked],e.request.fields=e.request_fields,e.request.type.task&&(e.request.category=d[e.root.vars.detailed_verbs_index_clicked]),e.launchLocationModal=function(){!e.request.availability_edit||e.toggleAvailability(),e.locationModal.show()},e.toggleYourCourses=function(){e.show_student_courses=!e.show_student_courses},e.launchDescriptionModal=function(){!e.request.availability_edit||e.toggleAvailability(),e.descriptionModal.show()},e.closeDescriptionModal=function(){e.descriptionModal.hide()},e.toggleAvailability=function(){e.request.availability_edit=!e.request.availability_edit,n(function(){e.initAvailabilityScroll()},100)},e.closeLocationModal=function(){e.locationModal.hide()},e.toggleChanged=function(){console.log()},e.clearLocationButton=function(){e.request.location=null,e.launchLocationModal()},e.launchAvailabilityModal=function(){!e.request.availability_edit||e.toggleAvailability(),e.availabilityModal.show()},e.launchTagsModal=function(){n(function(){e.tagsModal.show()},250),e.descriptionModal.isShown()&&n(function(){e.closeDescriptionModal()},1e3)},e.closeTagsModal=function(){e.tagsModal.hide()},s.fromTemplateUrl(BASE+"templates/price.home.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.choosePriceModal=t}),s.fromTemplateUrl(BASE+"templates/payments.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.paymentsModal=t}),s.fromTemplateUrl(BASE+"templates/signup.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.signupModal=t}),e.launchChoosePriceModal=function(){e.choosePriceModal.show()},e.launchPaymentsModal=function(){e.paymentsModal.show()},e.closePaymentsModal=function(){e.paymentsModal.hide()},e.launchSignupModal=function(){e.signupModal.show()},e.closeSignupModal=function(){e.signupModal.hide()},e.closeChoosePriceModal=function(){e.choosePriceModal.hide()},e.closeAvailabilityModal=function(){e.availabilityModal.hide()},s.fromTemplateUrl(BASE+"templates/location.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.locationModal=t}),s.fromTemplateUrl(BASE+"templates/tags.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.tagsModal=t}),s.fromTemplateUrl(BASE+"templates/availability.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.availabilityModal=t}),s.fromTemplateUrl(BASE+"templates/description.modal.html",{scope:e,animation:"fade"}).then(function(t){e.descriptionModal=t}),e.resetLocation=function(){e.request.address=null},e.new_courses=[{short_name:"ARC 101",title:"Foundations of Architecture"},{short_name:"ARC 110",title:"Basics of Architectural Materi.."},{short_name:"ARC 120",title:"Ancient Architecture.."}],e.closeRequestModal=function(){e.root.vars.detailed_verbs_index_clicked=null,e.requestModal.remove()},e.addSelectedStudentCourse=function(t){document.getElementById("course-input").value=t.short_name,e.progress=!1,e.request.course=t,e.show_student_courses=!1},e.addSelectedCourse=function(t,n){console.log(t,n),e.course_search_text=t.short_name.toUpperCase(),e.request.course=t,n="",document.getElementById("course-input").value=t.short_name,e.course_search_text=t.short_name,e.progress=!1,e.user.student_courses.push(t),console.log("user object snapshot",e.user),e.user.id?e.user.updateAttr("add_student_course",e.user,t,null,e):e.root.vars.remote_cache.push({add_student_course:t})},r.ready(function(){window.StatusBar&&e.user.guru_mode&&(StatusBar.styleLightContent(),StatusBar.overlaysWebView(!0))}),e.updateProgress=function(t){e.progress=t.length>0&&(0===e.root.vars.last_verb_index_clicked||1===e.root.vars.last_verb_index_clicked)},e.focusCourseInput=function(){var e=document.getElementById("course-input");e&&e.focus()},e.tagsInputFocus=function(){var e=document.getElementById("tags-input");e&&e.focus()},e.setCourseFocus=function(t){console.log(e.matchingCourses);var i=document.getElementById("course-input");return i===document.activeElement||e.keyboard_force_off?(0!==e.course_search_text.length||e.keyboard_force_off||document.getElementsByName("course-input")[0].focus(),void(e.platform&&e.platform.android&&n(function(){o.isVisible||o.show()},500))):void(e.progress=!1)},e.initAvailabilityScroll=function(){function t(){var e=SpinningWheel.getSelectedValues();alert("values:"+e.values.join(", ")+" - keys: "+e.keys.join(", "))}function i(){alert("cancelled!")}n(function(){var t=angular.element(document.getElementById("test"));a.on("touchend",function(){var t=e.spinning_wheel.getSelectedValues();e.request.time_estimate={hours:t.values[0],minutes:t.values[2]},console.log(e.request.time_estimate.hours)},t,{})},500);var r={0:0,1:1,2:2,3:3,4:4},o={0:"00",1:15,2:30,3:45};e.root.vars.availability_scroll_init||(SpinningWheel.addSlot(r,"right","2"),SpinningWheel.addSlot({separator:":"},"readonly shrink"),SpinningWheel.addSlot(o,"left"),SpinningWheel.setCancelAction(i),SpinningWheel.setDoneAction(t)),e.availability_scroll_init||SpinningWheel.open("test"),e.spinning_wheel=SpinningWheel,e.availability_scroll_init=!0,e.root.vars.availability_scroll_init=!0},e.nearby_locations={matches:[]},e.attemptToGetLocation=function(){e.getLocation()},e.getAddressfromGeolocation=function(t,i){geocoder=new google.maps.Geocoder;var r=new google.maps.LatLng(t,i);geocoder.geocode({latLng:r},function(r,o){if(o==google.maps.GeocoderStatus.OK&&r[1]){var s=r[1].formatted_address;e.request.position={longitude:i,latitude:t},e.request.address=s.split(",").splice(0,1).join(", ").replace(/\s+/g," ").replace(/^\s|\s$/g,""),e.request.city_info=s.split(",").splice(1,s.split(",").length).join(", ").replace(/\s+/g," ").replace(/^\s|\s$/g,""),e.request.place_id=r.place_id,e.locationModal.isShown()&&e.closeLocationModal(),n(function(){e.loader.hide()},1e3)}})},e.getLocation=function(){if(1===e.request._type)return void console.log("no location needed for questions");var t={timeout:1e4,enableHighAccuracy:!1};e.requestModalOnlyShown()||e.loader.show(),l.getCurrentPosition(t).then(function(t){console.log("location found!",t.coords.latitude,t.coords.longitude),e.request.position=t.coords,e.user.recent_position=t,e.user.location_services_enabled=!0,payload={location_services_enabled:!0,recent_latitude:t.coords.latitude,recent_longitude:t.coords.longitude},e.user.updateAttr("recent_position",e.user,payload,null,e),e.locationModal&&e.locationModal.isShown()?(e.auto_choose_first_location=!0,console.log("getting address from gps coordinates"),e.getAddressfromGeolocation(t.coords.latitude,t.coords.longitude),n(function(){e.$apply()},1e3)):(0===e.request._type||2===e.request._type)&&e.getAddressfromGeolocation(t.coords.latitude,t.coords.longitude)},function(t){e.loader.hide(),e.user.recent_position=null,e.locationModal&&e.locationModal.isShown()&&alert("Sorry! Please check your privacy settings check your GPS signal.");var i=document.getElementById("location-input");i&&!i.value&&0===i.value.length&&n(function(){i.focus()},1e3)})},e.service=new google.maps.places.AutocompleteService,n(function(){e.validateFormVanilla=function(){return 1===e.root.vars.last_verb_index_clicked?(result=e.request.course&&e.request.course.short_name&&e.request.description.length>0,result):(course_input_value=document.getElementById("course-input").value,result=(e.request.course&&e.request.course.short_name||course_input_value.length>0)&&e.request.address&&e.request.address.length>0,result)}},500),e.validateForm=function(){if(course_input_value=document.getElementById("course-input").value,result=e.request.course&&e.request.course.short_name||course_input_value.length>0,!result&&1!==e.root.vars.last_verb_index_clicked)return 2===e.root.vars.last_verb_index_clicked?e.success.show(0,1250,"Please enter a task title"):e.success.show(0,1250,"Please enter a course"),!1;if(1!==e.root.vars.last_verb_index_clicked&&(!e.request.address||0===e.request.address.length))return e.success.show(0,1250,"Please enter a location"),!1;if(1===e.root.vars.last_verb_index_clicked){if(!e.request.description)return e.success.show(0,1250,"Please enter a question"),!1}else{if(!e.request.address)return e.success.show(0,1250,"Please enter a location"),!1;if(!e.request.urgency&&!e.request.calendar.start_time.hours&&!e.request.calendar.start_time.minutes)return e.success.show(0,1250,"Please fill out your availability"),!1}return!0},e.queryAutocomplete=function(t){var n=t;if(!t||0===t.length){var n=document.getElementById("location-input").value;console.log("empty arg passed g-query places")}if(n||t||(t="a"),t.length>0){var i=e.user.recent_position;if(i){console.log("using user gps position"),e.request.position={longitude:i.coords.longitude,latitude:i.coords.latitude};var i=new google.maps.LatLng(i.coords.latitude,i.coords.longitude)}else{var i=new google.maps.LatLng(37.76999,-122.44696);e.request.position={longitude:-122.44696,latitude:37.76999}}e.service.getPlacePredictions({input:n,location:i,radius:5e3},e.autocompleteQuerycallback)}},e.showSidebar=function(){u.toggleRight()},e.autocompleteQuerycallback=function(t,n){if(console.log(n,t[0].terms[0].value),n!=google.maps.places.PlacesServiceStatus.OK)return void alert(n);e.nearby_locations.matches=[],e.root.vars.nearby_locations=[];for(var i,r=0;i=t[r];r++){var o={local_name:i.terms[0].value,description:i.description,terms:i.terms};all_but_first=i.terms.splice(1),result_str="";for(var s=0;s<all_but_first.length;s++)result_str+=" "+all_but_first[s].value;o.city_info=result_str,o.place_id=i.place_id,e.nearby_locations.matches.push(o),e.root.vars.nearby_locations.push(o)}if(e.auto_choose_first_location){e.auto_choose_first_location=!1;var a=e.root.vars.nearby_locations[0];e.request.address=a.local_name,e.request.city_info=a.city_info,e.request.place_id=a.place_id,e.closeLocationModal()}e.$apply()},e.submitRequest=function(){if(!e.validateForm())return void console.log("Form is not complete");if(console.log("location",e.request.position.latitude),!e.request.selected_price_option&&0!==e.request.selected_price_option&&e.root.vars.last_verb_index_clicked>0)return console.log("launching choose price modal"),e.root.vars.price_modal_shown=!0,e.root.vars.show_price_fields=!1,
void e.launchChoosePriceModal();if(e.request.type.task){var i=document.getElementById("course-input");e.request.task_title=i.value}if(e.root.vars.request=e.request,!e.user.id)return e.root.vars.pending_request=!0,e.loader.show(),t.go("^.signup"),n(function(){e.loader.hide()},600),void n(function(){e.closeRequestModal(),e.closeChoosePriceModal(),e.verbModal.hide(),e.root.vars.show_account_fields=!0},1e3);!e.request.availability_edit||e.toggleAvailability(),console.log("submitting request"),e.launchContactingModal();var r=function(e,t){n(function(){e.closeRequestModal(),e.verbModal.hide(),e.choosePriceModal&&e.closeChoosePriceModal()},500),n(function(){e.closeContactingModal(),console.log("saved request",e.root.vars.request)},4e3)};n(function(){e.contactingModal.isShown()&&e.closeContactingModal()},1e4),e.user.createObj(e.user,"requests",e.request,e,r)},e.requestModalOnlyShown=function(){return e.locationModal&&!e.locationModal.isShown()&&!e.tagsModal.isShown()&&!e.availabilityModal.isShown()&&!e.descriptionModal.isShown()},e.$on("modal.shown",function(){n(function(){e.requestModal&&e.requestModal.isShown()&&e.requestModalOnlyShown()&&(!e.user.location_services_enabled||e.paymentsModal.isShown()||e.request.address||e.getLocation())}),n(function(){var t=document.getElementById("course-input");n(function(){!e.requestModal||!e.requestModal.isShown()||t.value||0!==t.value.length||e.locationModal.isShown()||e.tagsModal.isShown()||e.availabilityModal.isShown()||e.descriptionModal.isShown()||t.focus()},1e3)},500)})}]),angular.module("uguru.util.controllers").controller("RootController",["$ionicPlatform","$scope","$state","$localstorage","User","RootService","Version","$ionicHistory","$templateCache","$ionicLoading","$rootScope","CordovaPushWrapper","$cordovaPush","University","$cordovaStatusbar","$cordovaSplashscreen","$timeout","Geolocation","$cordovaPush","$ionicSideMenuDelegate","$ionicViewSwitcher","$cordovaGeolocation","Major","Skill","Profession",function(e,t,n,r,o,s,a,l,u,c,d,p,g,h,f,m,v,b,g,y,_,w,$,x,k,S){t.network_speed=null,t.window={width:document.querySelector("body").getBoundingClientRect().width},t.platform_ready=!1,t.user=o.getLocal(),t.user.updateAttr=o.updateAttrUser,t.user.createObj=o.createObj,t.user.updateObj=o.updateObj,t.popupScope={},t.user&&t.user.id&&o.getUserFromServer(t,null,n),t.img_base=LOCAL?"remote/":"",t.rootUser=o,t.root=s,t.root.vars={},t.root.vars.remote_cache=[],t.root.vars.onboarding=!1,t.root.vars.request_cache={},t.root.vars.onboarding_cache={},t.root.vars.guru_mode=t.user.guru_mode,t["static"]={},t["static"].nearest_universities=[],t["static"].universities=[],local_version=r.getObject("version"),a.getUpdatedVersionNum().then(function(e){var n=parseFloat(JSON.parse(e).version);t.root.vars.version=n,console.log("server",n,typeof n),console.log("local",local_version,typeof local_version),local_version!==n&&((t.platform.mobile||WINDOWS)&&m&&m.show&&m.show(),l.clearCache(),l.clearHistory(),u.removeAll(),r.setObject("version",t.root.vars.version),console.log("updating version to",n,"..."),navigator.userAgent.match(/iemobile/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/IEMobile/i)||"Win32NT"===navigator.userAgent?window.location.replace(BASE_URL):(window.location=BASE_URL,window.location.reload(!0))),r.setObject("version",t.root.vars.version)},function(e){console.log(e)}),t.logoutUser=function(){confirm("Are you sure you want to log out?")&&(t.settings&&t.settings.icons&&(t.settings.icons.profile=!1),t.loader.show(),r.setObject("user",[]),l.clearCache(),l.clearHistory(),v(function(){y.toggleRight()},1e3),v(function(){t.loader.hide(),t.user=o.getLocal(),t.user.updateAttr=o.updateAttrUser,t.user.createObj=o.createObj,t.user.updateObj=o.updateObj,t.root.vars.settings={icons:{profile:!0}},t.success.show(500,1500,"You have been successfully logged out!")},2e3))},t.root.vars.courses||h.getCourses(2732).then(function(e){t.root.vars.courses=e,t.root.vars.popular_courses=t.root.vars.courses.slice(0,16),t["static"].courses=t.root.vars.courses,t["static"].popular_courses=t.root.vars.popular_courses},function(e){console.log("Courses NOT successfully loaded"),console.log(e)}),t.toggleRightSideMenu=function(){y.toggleRight()},console.log("getting most up to date universities + user from server..");var C=r.getObject("universities");C&&0!==C.length?(t["static"].universities=r.getObject("universities"),console.log(t["static"].universities&&t["static"].universities.length>0?"universities already loaded":"something funky is going on...")):(o.getUserFromServer(t,null,n),on_app_open_retrieve_objects(t,n,r,h,null,b,$,x,k));var T=r.getObject("majors"),E=r.getObject("popular_majors");T&&0!==T.length&&E&&0!==E.length?(t.root.vars.majors=T,t["static"].majors=T,t["static"].popular_majors=E,console.log(T.length,"majors already loaded")):(console.log("getting majors"),on_app_open_retrieve_objects(t,n,r,h,null,b,$,x,k));var M=r.getObject("skills"),A=r.getObject("local_popular_skills");M&&0!==M.length?(t["static"].skills=M,t["static"].popular_skills=A,processSkills(t),console.log("skills already loaded")):on_app_open_retrieve_objects(t,n,r,h,null,b,$,x,k);var D=r.getObject("professions"),P=r.getObject("local_professions");D&&0!==D.length?(t["static"].professions=D,t["static"].popular_professions=P,console.log("professions already loaded")):on_app_open_retrieve_objects(t,n,r,h,null,b,$,x,k),t.loader={show:function(){c.show({template:'<ion-spinner icon="lines" class="spinner-positive"></ion-spinner>'}),t.root.vars.loaderOn=!0},hide:function(){c.hide(),t.root.vars.loaderOn=!1}},t.doRefresh=function(e){t.root.vars.user_refresh=!0,(t.root.vars.user_refresh||!e)&&(o.getUserFromServer(t,null,n),e&&(t.root.vars.user_refresh=!1))},t.togglePaymentSideBarView=function(){t.root.vars.show_price_fields=!t.root.vars.show_price_fields,console.log("this was clicked"),t.root.vars.show_price_fields&&v(function(){if(t.root.vars.price_modal_shown){t.root.vars.price_modal_shown=!1;var e=document.getElementById("card-input");document.getElementsByClassName("sidebar-card-input"),e.focus()}else{var e=document.getElementById("card-input");e.focus()}},1e3)},t.requestPushNotifications=function(){if(!t.user.push_notifications)return console.log("push notifications are false"),payload={push_notifications:!1},void t.user.updateAttr("push_notifications",t.user,payload,null,t);var e={badge:!0,sound:!0,alert:!0};g.register(e).then(function(e){console.log("deviceToken: "+e),console.log("Register success "+e),t.platform.ios&&(console.log("updating the server..."),t.user.push_notifications=!0,t.user.current_device.push_notif=e,t.user.current_device.push_notif_enabled=!0,t.user.updateObj(t.user.current_device,"devices",t.user.current_device,t),payload={push_notifications:!0},t.user.updateAttr("push_notifications",t.user,payload,null,t))},function(e){console.log(JSON.stringify(e)),t.user.push_notifications=!1,payload={push_notifications:!1},t.user.updateAttr("push_notifications",t.user,payload,null,t),alert("Please turn your Push Notifications ON in your settings.")})},t.getNumber=function(e){return e?("string"==typeof e&&(e=0|parseInt(e)),arr=new Array(e),arr):new Array(0)},t.getGrayNumber=function(e){return e?("string"==typeof e&&(e=0|parseInt(e)),arr=new Array(5-e),arr):new Array(5)},t.checkCourses=function(){var e=t.root.vars&&t.root.vars.courses&&t.root.vars.courses.length>0;e?(_.nextDirection("fade"),n.go("^.guru-courses")):(t.success.show(0,2e3,"Loading courses. One moment..."),v(function(){t.checkCourses()},2e3))},t.deleteProposalFromList=function(e,t){for(i=0;i<t.length;i++)if(t[i].id===e.id)return void t.splice(i,i+1)},t.success={show:function(e,t,n){n||(n="Saved!"),c.show({template:'<span class="capitalized">'+n+"</span>",delay:e,duration:t})},hide:function(){c.hide()}},t.platform={mobile:!1,web:!0,device:!1,android:!1,ios:!1},document.addEventListener("deviceready",function(){function e(e){console.log();var t=e.uri;console.log("channelHandler uri: "+t)}function i(e){console.log("Error Handle :",e)}if(t.platform={ios:ionic.Platform.isIOS(),android:ionic.Platform.isAndroid(),windows:ionic.Platform.isWindowsPhone(),mobile:ionic.Platform.isIOS()||ionic.Platform.isAndroid()||ionic.Platform.isWindowsPhone(),web:!(ionic.Platform.isIOS()||ionic.Platform.isAndroid()||ionic.Platform.isWindowsPhone()),device:ionic.Platform.device()},console.log("device is ready from the root controller"),S&&"Win32NT"===S.getPlatform()&&(t.platform.windows=!0,t.platform.mobile=!0,t.platform.web=!1),t.platform.mobile&&m&&m.hide&&m.hide(),t.platform.android){var o={senderID:"413826461390",ecb:"angular.element(document.body).injector().get('$cordovaPush').onNotification"};g.register(o).then(function(e){console.log("android notifications",e)},function(e){console.log(e)}),console.log("Extra #2. Android push notifications need to be registered"),d.$on("pushNotificationReceived",function(e,n){p.received(d,e,n),console.log("android notifications registered",e,n),t.user&&t.user.id&&(payload={push_notifications:!0},t.user.updateAttr("push_notifications",t.user,payload,null,t))}),on_app_open_retrieve_objects(t,n,r,h,null,b,$,x,k)}t.platform.windows&&g&&(console.log("we are updating the push notifications on windows device"),g.register(e,i,{channelName:"123723560",ecb:"onNotificationWP8",uccb:"channelHandler",errcb:"jsonErrorHandler"})),t.platform&&t.user&&(t.user.current_device=ionic.Platform.device(),t.user.current_device.user_id=t.user.id,t.user.createObj(t.user,"device",t.user.current_device,t))}),document.addEventListener("deviceready",function(){t.toggleLightStatusBar=function(){window.StatusBar&&StatusBar.styleLightContent()},document.addEventListener("resume",function(){local_version=r.getObject("version"),a.getUpdatedVersionNum().then(function(e){var i=parseFloat(JSON.parse(e).version);t.root.vars.version=i,console.log("server",i,typeof i),console.log("local",local_version,typeof local_version),local_version!==i?((t.platform.mobile||WINDOWS)&&m&&m.show&&m.show(),l.clearCache(),l.clearHistory(),u.removeAll(),r.setObject("version",t.root.vars.version),console.log("updating version to",i,"..."),navigator.userAgent.match(/iemobile/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/IEMobile/i)||"Win32NT"===navigator.userAgent?window.location.replace(BASE_URL):(window.location=BASE_URL,window.location.reload(!0))):o.getUserFromServer(t,null,n),r.setObject("version",t.root.vars.version)},function(e){console.log(e)})},!1),document.addEventListener("online",function(){o.getUserFromServer(t,null,n)},!1),document.addEventListener("offline",function(){},!1),document.addEventListener("pause",function(){},!1)}),t.user&&(t.user.incoming_requests&&t.user.incoming_requests.length>0||t.user.active_student_sessions&&t.user.active_student_sessions.length>0)?(_.nextDirection("enter"),n.go("^.home")):t.user.active_proposals&&t.user.active_proposals.length>0||t.user.active_guru_sessions&&t.user.active_guru_sessions.length>0?(_.nextDirection("enter"),n.go("^.guru")):t.user&&t.user.guru_mode?(t.loader.show(),_.nextDirection("enter"),n.go("^.guru"),v(function(){t.loader.hide()},1e3)):t.user&&t.user.university_id&&(t.loader.show(),_.nextDirection("enter"),n.go("^.home"),v(function(){t.loader.hide()},1e3))}]),angular.module("uguru.util.controllers").controller("SignupController",["$scope","$state","$timeout","$localstorage","$ionicModal","$cordovaProgress","$cordovaFacebook","User","$rootScope","$controller","$ionicSideMenuDelegate","$cordovaPush","$ionicViewSwitcher","$ionicHistory","$ionicActionSheet","$ionicPopup","Camera","Support",function(e,t,n,i,r,o,s,a,l,u,c,d,p,g,h,f,m,v){e.root.vars.show_account_fields=!1,e.loginMode=!1,e.headerText="Sign Up",e.resetMode=!1,e.support_index=0,e.supportTicket={},e.settings={},e.settings.icons={profile:e.user&&e.user.id,notifications:!1,card:!1,support:!1,guru:!1,groceries:!1,presignup:!(e.user&&e.user.id)},e.resetSettingsIcons=function(){e.settings.icons.profile=!0,e.settings.icons.notifications=!1,e.settings.icons.card=!1,e.settings.icons.support=!1,e.settings.icons.guru=!1,e.settings.icons.groceries=!1},e.selectedCurrentHourly=10,e.setSettingsToIndex=function(t){e.root.vars.settings={icons:{profile:!1}};for(var n=0;n<Object.keys(e.settings.icons).length;n++){var i=Object.keys(e.settings.icons)[n];e.settings.icons[i]&&(e.settings.icons[i]=!1),n+1===t&&(e.settings.icons[i]=!0)}5===t&&e.user.id&&(e.root.vars.guru_mode?(e.root.vars.guru_mode=!1,e.goToStudentMode()):e.goToGuru())},e.user&&e.user.current_hourly&&(e.selectedCurrentHourly=e.user.current_hourly+""),e.loginMode||(e.loginMode=!1),e.toggleAccountView=function(){e.root.vars.show_account_fields=!e.root.vars.show_account_fields},e.goToEditCourses=function(){e.loader.show(),t.go("^.courses"),n(function(){e.loader.hide()},750)},e.attemptToResetPassword=function(){function t(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}if(!t(e.signupForm.email))return void alert("Please enter valid email");var i=function(){e.loader.hide(),alert("Reset Successful.\nPlease check "+e.signupForm.email.toLowerCase()+" for more details!"),e.signupForm.email=""},r=function(t){t&&404===t.status&&alert("The email "+e.signupForm.email+" does not exist in our records.\n Try again?")};e.user.updateAttr("forgot_password",e.user,e.signupForm.email,i,e,r),e.loader.show(),n(function(){e.toggleBackToLoginMode()},500)},e.toggleResetModeFromLogin=function(){e.loginMode=!1,e.resetMode=!e.loginMode,e.loginMode||e.signupMode||(e.headerText="Reset Password"),n(function(){var e=document.getElementById("email-input");e&&e.focus()},500),n(function(){e.loader.hide()},750)},e.toggleBackToLoginMode=function(){e.loginMode=!0,e.resetMode=!e.loginMode,e.headerText="Log In",e.loader.show(),n(function(){var e=document.getElementById("email-input");e&&e.focus()},500),n(function(){e.loader.hide()},750)},e.toggleLoginMode=function(){e.loginMode=!e.loginMode,e.headerText=e.loginMode?"Log In":"Sign Up",n(function(){if(e.loginMode){var t=document.getElementById("email-input");t&&t.focus()}else{var n=document.getElementById("first-name-input");n&&n.focus()}},250)},e.setSupportIndex=function(t){e.support_index=t},e.submitSupport=function(){return e.support_index?e.supportTicket.description&&0!==e.supportTicket.description.length?(e.loader.show(),e.supportTicket.message=e.support_index.toString()+"|"+e.supportTicket.description,e.supportTicket.user_id=e.user.id,void v.create(e.supportTicket).then(function(){e.success.show(0,3500,"Your support message has been submitted. <br> <br> We will get back to you very soon!"),e.supportTicket.description="",e.support_index=0},function(e){console.log("error from server",e)})):void alert("Please write a message so we can help!"):void alert("Please submit one of the 6 support options")},e.goBack=function(i,r){"root.home"===t.current.name&&e.signupModal&&e.signupModal.isShown()&&e.signupModal.hide(),"root.signup"===t.current.name&&(e.loader.show(),c.toggleRight(),n(function(){e.loader.hide()},500))},e.signupForm={first_name:null,last_name:null,email:null,password:null},e.showActionSheetProfilePhoto=function(){if(!e.platform.mobile)return void e.takePhoto(0);var t=[{text:"Choose from Library"}];e.platform.mobile&&t.push({text:"Take a Photo"}),e.closeAttachActionSheet=h.show({buttons:t,cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){e.takePhoto(t),n(function(){e.closeAttachActionSheet()},500)}})},e.takePhoto=function(t){if(e.platform.mobile)m.takePicture(e,t,!0);else{var n=document.getElementById("file-input-web-sidebar");n.click()}},e.file_changed=function(t){{var n=t.files[0],i=new FileReader;document.getElementById("become-guru-profile")}i.onload=function(t){e.user.profile_url=t.target.result},i.readAsDataURL(n);var r=new FormData;r.append("file",n),r.append("profile_url",e.user.id),r.append("filename",name),e.file_index+=1,e.loader.show(),callbackSuccess=function(){e.loader.hide(),e.success.show(0,1500,"Saved!")},e.user.createObj(e.user,"files",r,e,callbackSuccess)},e.showPopupEditEmail=function(){e.data={email:e.user.email},e.inputPopup=f.show({template:'<input style="padding:2px 4px;" type="text" ng-model="data.email" autofocus>',title:"Edit email",subTitle:"Please your main school one",scope:e,buttons:[{text:"Cancel"},{text:"<b>Save</b>",type:"button-positive",onTap:function(t){e.inputPopup.close(),e.user.email=e.data.email;var n=function(t){401===t.status&&(e.loader.hide(),e.signupForm.password="",alert("Another account already exists with this email. Please login with that email or try again."))},i=function(){e.loader.hide(),e.success.show(0,1e3,"Saved!")};e.loader.show(),e.user.updateAttr("change_email",e.user,e.user.email,i,e,n)}}]})},e.showPopupEditPassword=function(){e.data={email:e.user.email},template='<input style="padding:2px 4px; margin-bottom:4px;" type="password" ng-model="data.old_password" placeholder="old password" autofocus><input style="padding:2px 4px;" type="password" ng-model="data.new_password" placeholder="new password">',e.user.fb_id&&!e.user.password&&(template='<input style="padding:2px 4px; margin-bottom:4px;" type="password" ng-model="data.old_password" placeholder="new password" autofocus><input style="padding:2px 4px;" type="password" ng-model="data.new_password" placeholder="confirm password">'),e.inputPopup=f.show({template:template,title:"Change your password",subTitle:"Must be longer than 6 characters",scope:e,buttons:[{text:"Cancel"},{text:"<b>Save</b>",type:"button-positive",onTap:function(t){if(!e.data.old_password||!e.data.new_password||e.data.new_password.length<7)return void alert("Please fill in all fields");if(e.data.new_password.length<7)return void alert("Please create a password longer than 6 characters");var i=function(){e.inputPopup.close(),n(function(){e.success.show(0,1e3,"Saved!")},500)},r=function(){alert("Incorrect Password - try again?")},o={email:e.user.email,new_password:e.data.new_password,old_password:e.data.old_password};e.user.updateAttr("change_password",e.user,o,i,e,r)}}]})},e.showPopupEditName=function(){e.data={name:e.user.name},e.inputPopup=f.show({template:'<input style="padding:2px 4px;" type="text" ng-model="data.name" autofocus>',title:"Change your try identity",subTitle:"Try not to troll too hard",scope:e,buttons:[{text:"Cancel"},{text:"<b>Save</b>",type:"button-positive",onTap:function(t){return!e.data.name||e.data.name.length<2?void alert("Please enter a valid name"):(e.inputPopup.close(),e.user.name=e.data.name,e.user.updateAttr("name",e.user,e.user.name,null,e),void e.success.show(0,1e3,"Saved!"))}}]})},e.editAccountInfoActionSheet=function(){var t=[{text:"Edit Name"},{text:"Edit Email"}];t.push(e.user.fb_id&&!e.user.password?{text:"Create Password"}:{text:"Edit Password"}),e.closeAttachActionSheet=h.show({buttons:t,titleText:'<span class="semibold uppercase">Edit Account Settings</span>',cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){0===t&&(e.closeAttachActionSheet(),n(function(){e.showPopupEditName()},500)),1===t&&(e.closeAttachActionSheet(),n(function(){e.showPopupEditEmail()},500)),2===t&&(e.closeAttachActionSheet(),n(function(){e.showPopupEditPassword()},500))}})},e.transitionToUniversity=function(){t.go("^.university-container")},e.transitionToMajor=function(){t.go("^.majors-container")},e.goToMajorPage=function(){e.closeAttachActionSheet(),e.loader.show(),e.transitionToMajor(),n(function(){e.loader.hide(),c.toggleRight()},1e3)},e.showStudentEditActionSheet=function(){var t=[{text:"Profile Photo"},{text:"University"},{text:"Major"},{text:"Account Information"}];e.closeAttachActionSheet=h.show({buttons:t,titleText:'<span class="semibold uppercase">What would you like to edit?</span>',cancelText:"Cancel",cancel:function(){e.closeAttachActionSheet()},buttonClicked:function(t){0===t&&(e.closeAttachActionSheet(),n(function(){e.showActionSheetProfilePhoto()},500)),1===t&&(e.closeAttachActionSheet(),e.loader.show(),e.transitionToUniversity(),n(function(){e.loader.hide(),c.toggleRight()},1e3)),2===t&&e.goToMajorPage(),3===t&&(e.closeAttachActionSheet(),n(function(){e.editAccountInfoActionSheet()},500))}})},e.resetSignupForm=function(){e.signupForm={first_name:null,last_name:null,email:null,password:null}},e.resetAccount=function(){e.user.is_admin&&confirm("Are you sure you want to reset your admin account?")&&(e.loader.show(),a.clearAttr(e.user,e.user.id).then(function(t){e.loader.hide(),e.user.university_id=null,e.success.show(0,2e3,"Admin Account Successfully cleared!"),c.toggleRight(),e.logoutUser(),e.goToBeginning()},function(e){console.log(e)}))},e.goToEditUniversity=function(){c.toggleRight(),n(function(){t.go("^.university")},500)},e.updateHourlyPrice=function(t){e.user.updateAttr("current_hourly",e.user,{current_hourly:parseInt(t)},null,e)},e.goToBeginning=function(){e.user&&e.user.id||(c.toggleRight(),e.user.university_id=null,i.setObject("user",e.user),n(function(){t.go("^.onboarding")},500))},e.goToEditCourses=function(){e.loader.show(),t.go("^.courses"),n(function(){c.toggleRight(),e.loader.hide()},750)},e.goToBecomeGuru=function(){return e.user&&e.user.id?(e.loader.show(),e.root.vars.guru_mode=!1,t.go("^.become-guru"),e.user.updateAttr("is_a_guru",e.user,{is_a_guru:!0},null,e),void n(function(){c.toggleRight(),e.loader.hide()},750)):void(confirm("You need to have an account to become a guru. Continue?")&&e.goToSignupFromSideBar())},e.goToGuru=function(){e.loader.show(),t.go(e.user&&(0===e.user.guru_courses.length||0===e.user.guru_skills.length||0===e.user.majors.length)&&confirm("Your guru account is not complete. Complete it?")?"^.become-guru":"^.guru"),e.user.updateAttr("guru_mode",e.user,{guru_mode:!0},null,e),n(function(){c.toggleRight(),e.loader.hide()},750),n(function(){e.root.vars.guru_mode=!0},1e3)},e.goToPaymentsFromSideBar=function(i){e.loader.show(),i?(console.log("passing payments",i),e.root.vars.editCardClicked=!0,t.go("^.payments",{cardObj:JSON.stringify(i)})):t.go("^.payments"),n(function(){c.toggleRight(),e.loader.hide()},750)},e.goToSignupFromSideBar=function(){e.resetSettingsIcons(),e.loader.show(),t.go("^.signup"),n(function(){c.toggleRight(),e.loader.hide()},750)},e.goToStudent=function(){e.loader.show(),t.go("^.home"),e.user.updateAttr("guru_mode",e.user,{guru_mode:!1},null,e),n(function(){c.toggleRight(),e.loader.hide()},750),n(function(){e.root.vars.guru_mode=!1},1e3)},e.closeSignupModal=function(t){e.loader.hide(),e.platform.mobile&&e.signupModal&&e.root.keyboard.isVisible()?(e.root.keyboard.close(),n(function(){e.signupModal.hide(),t&&t()},300)):(e.signupModal.hide(),t&&t()),e.resetSignupForm()},e.comingSoon=function(){e.success.show(0,1500,"Coming Soon!")},e.goToGuruMode=function(){c.toggleRight(),e.user.updateAttr("guru_mode",e.user,{guru_mode:!0},null,e),n(function(){t.go("^.guru"),e.root.vars.guru_mode=!0},500)},e.goToStudentMode=function(){e.root.vars.guru_mode=!1,t.go("^.home"),e.user.updateAttr("guru_mode",e.user,{guru_mode:!1},null,e),n(function(){c.toggleRight()},500)};var b=function(){return{getLoginStatus:function(e,t){try{FB.getLoginStatus(function(t){e(t)})}catch(n){t?t(n.message):console.error(n.message)}},showDialog:function(e,t,n){e.name||(e.name=""),e.message||(e.message=""),e.caption||(e.caption=""),e.description||(e.description=""),e.link||(e.link=""),e.picture||(e.picture="");try{FB.ui({method:e.method,message:e.message,name:e.name,caption:e.caption,description:e.description,link:e.link,href:e.link,picture:e.picture},function(e){!e||!e.request&&e.error_code?n(e):t(e)})}catch(i){n?n(i.message):console.error(i.message)}},login:function(e,t,n){var i={};e&&e.length>0&&(i.scope=e.toString()),FB.login(function(e){e.authResponse?t(e):n(e.status)},i)},getAccessToken:function(e,t){var n=FB.getAccessToken();n?e(n):t?t("NO_TOKEN"):console.error("NO_TOKEN")},logEvent:function(e,t,n,i,r){i()},logPurchase:function(e,t,n,i){n()},logout:function(e,t){try{FB.logout(function(t){e(t)})}catch(n){t?t(n.message):console.error(n.message)}},api:function(e,t,n,i){try{FB.api(e,function(e){e.error?i(e):n(e)})}catch(r){i?i(r.message):console.error(r.message)}},browserInit:function(e,t){t||(t="v2.0"),console.log(e),console.log(t),FB.init({appId:e,cookie:!0,xfbml:!0,version:t})}}};e.isWindowsPlatform=function(){return navigator.userAgent.match(/iemobile/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/IEMobile/i)||"Win32NT"===navigator.userAgent},e.fbAuthBrowser=function(){var t=0x5082f9fa7ad0d,n="v2.2",r=e.platform.web&&(ionic.Platform.isIOS()||ionic.Platform.isAndroid()||ionic.Platform.isWindowsPhone())||e.isWindowsPlatform();if(!o)var o=b();var a=function(t){if(r&&e.platform.web||e.isWindowsPlatform()){if("unknown"===t.status){var n="http://uguru.me/app/",l="token",u="https://www.facebook.com/dialog/oauth?client_id=1416375518604557&redirect_uri="+n+"&response_type="+l;i.set("mobile-web-auth",!0),window.location.replace(u)}else if("connected"===t.status){e.loader.show();var c=function(t){var n=function(){e.loader.hide(),e.success.show(0,1e3,"Login Successful!"),e.settings.icons.profile=!0};e.postFbGraphApiSuccess(t,n)};o.api("/me",null,c)}}else s&&s.login?s.login(["email","public_profile","user_friends"]).then(y,_):o.login(["email","public_profile","user_friends"],a,_)};o.browserInit(t,n),o.getLoginStatus(a,_)};var y=function(t){e.loginInfo=t,console.log("success",t);var n=function(){e.loader.hide(),e.loader.hide(),e.success.show(0,1500,"Login Successful!"),e.settings.icons.profile=!0};e.facebookApiGetDetails(n),console.log("Getting Facebook information...")},_=function(t){e.loader.hide(),e.error=t,console.log("FB CONNECT FAILED..."),console.log("Error from logging from facebook:"+JSON.stringify(t)),s.logout(),s&&s.logout()};if(e.fbAuthNative=function(){s.login(["email","public_profile","user_friends"]).then(y,_)},e.connectWithFacebook=function(){e.loader.show(),e.platform.web||e.platform.windows||e.isWindowsPlatform()?e.fbAuthBrowser():e.fbAuthNative()},e.closeSideBar=function(){"root.home"===t.current.name?c.toggleRight():(n(function(){c.toggleRight(),e.loader.hide()},500),e.loader.show(),t.go(e.root.vars.guru_mode?"^.guru":"^.home"))},e.postFbGraphApiSuccess=function(t,n){console.log(t),e.user.first_name=t.first_name,e.user.last_name=t.last_name,e.user.name=t.name,e.user.email=t.email,e.user.fb_id=t.id,console.log(e.user.profile_url),e.signupForm.email=t.email,e.signupForm.first_name=e.user.first_name,e.signupForm.last_name=e.user.last_name,e.signupForm.fb_id=t.id,e.signupForm.profile_url="https://graph.facebook.com/"+t.id+"/picture?width=100&height=100",e.signupForm.gender=t.gender,e.completeSignup(),n&&n()},e.facebookApiGetDetails=function(t){var n=function(n){e.postFbGraphApiSuccess(n,t)};s.api("/me",null).then(n,function(t){e.error=t,console.log(t)})},e.fbConnect=function(){console.log("Attempting to login through facebook..."),e.login()},e.$on("modal.shown",function(){e.signupModal&&e.signupModal.isShown()&&(e.loginMode=e.userClickedLoginModal?!0:!1)}),e.signupFacebook=function(){console.log("printing user",JSON.stringify(e.user)),e.login()},e.validateLoginForm=function(){function t(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var n=e.signupForm;if(!n.email){e.success.show(0,2e3,"Please enter your email"),document.getElementsByName("login-email")[0].focus();var i=document.getElementById("input_email_login");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(!t(n.email)){document.getElementsByName("login-email")[0].focus();var i=document.getElementById("input_email_login");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(e.user.email=e.signupForm.email,!n.password){document.getElementsByName("login-password")[0].focus();var i=document.getElementById("input_password_login");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}return e.user.password=e.signupForm.password,e.user.last_name=e.signupForm.last_name,e.user.email=e.signupForm.email,e.user.password=e.signupForm.password,!0},e.validateSignupForm=function(){function t(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var n=e.signupForm;if(!n.first_name){e.success.show(0,2e3,"Please fill in all fields!"),document.getElementsByName("signup-first-name")[0].focus();var i=document.getElementById("input_first");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(e.user.first_name=e.signupForm.first_name,!n.last_name){e.success.show(0,2e3,"Please fill in all fields!"),document.getElementsByName("signup-last-name")[0].focus();var i=document.getElementById("input_last");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(e.user.last_name=e.signupForm.last_name,!n.email){e.success.show(0,2e3,"Please fill in all fields!"),document.getElementsByName("signup-email")[0].focus();var i=document.getElementById("input_email");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(!t(n.email)){e.success.show(0,2e3,"Please fill in all fields!"),document.getElementsByName("signup-email")[0].focus();var i=document.getElementById("input_email");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}if(e.user.email=e.signupForm.email,!n.password){e.success.show(0,2e3,"Please fill in all fields!"),e.user.password=e.signupForm.password,document.getElementsByName("signup-password")[0].focus();var i=document.getElementById("input_password");return i.classList.add("animated","shake"),setTimeout(function(){i.classList.remove("animated","shake")},950),!1}return e.user.password=e.signupForm.password,e.user.last_name=e.signupForm.last_name,e.user.email=e.signupForm.email,e.user.password=e.signupForm.password,!0},e.loginUser=function(){(e.validateLoginForm()||e.user.fb_id)&&(e.loginPayload={email:e.signupForm.email,password:e.signupForm.password},e.loginPayload.student_courses=e.user.student_courses,e.loginPayload.university_id=e.user.university_id,e.loginPayload.current_device=e.user.current_device,e.user.current_device&&e.user.current_device.id&&(e.loginPayload.current_device_id=e.user.current_device.id),a.login(e.loginPayload).then(function(r){var o=a.process_results(r.plain());a.assign_properties_to_root_scope(e,o),e.user.guru_mode=!1,i.setObject("user",e.user),e.success.show(0,1250,"Login Successful!"),e.settings.icons.profile=!0,e.root.vars.settings={icons:{profile:!0}},"root.home"===t.current.name&&(n(function(){e.loader.hide()},500),g.goBack()),"root.signup"===t.current.name&&n(function(){c.toggleRight()},500)},function(t){401===t.status&&(e.signupForm.password="",e.success.show(0,1e3,"Incorrect username or password"))}))},e.completeSignup=function(){return e.loginMode?void e.loginUser():void((e.user.fb_id||e.validateSignupForm())&&(e.signupForm.name=e.signupForm.first_name+" "+e.signupForm.last_name,e.signupForm.student_courses=e.user.student_courses,e.signupForm.university_id=e.user.university_id,e.signupForm.current_device=e.user.current_device,e.user.current_device&&e.user.current_device.id&&(e.signupForm.current_device_id=e.user.current_device.id),e.signupForm.guru_mode=!1,e.loader.show(),a.create(e.signupForm).then(function(o){var s=a.process_results(o.plain());if(a.assign_properties_to_root_scope(e,s),e.user.guru_mode=!1,i.setObject("user",e.user),e.settings.icons.profile=!0,
e.root.vars.settings={icons:{profile:!0}},"root.signup"===t.current.name&&(e.success.show(0,1e3,"Account Successfully Created!"),n(function(){c.toggleRight()},500)),"root.home"===t.current.name&&(e.loader.show(),e.signupModal&&e.signupModal.isShown()&&e.signupModal.hide()),"root.student-request"===t.current.name){var l=function(){e.requestHelp(),e.loader.hide()};e.closeSignupModal(l)}a.getUserFromServer(e,null,t),e.root.vars.pending_request&&(e.root.vars.pending_request=!1,r.fromTemplateUrl(BASE+"templates/contacting.modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.contactingModal=t,e.contactingModal.show()}),t.go("^.home"),e.user.createObj(e.user,"requests",e.root.vars.request,e),n(function(){e.contactingModal.hide(),console.log("saved request",e.root.vars.request)},5e3))},function(t){console.log(t),e.loader.hide(),409===t.status&&(alert("Email already exists in our system! Login?"),e.toggleLoginMode(),e.signupForm.password="")})))},e.showComingSoon=function(){e.progress_active=!0,o.showText(!1,"Coming Soon!","center"),n(function(){o.hide(),e.progress_active=!1},1e3)},e.root.vars.show_price_fields&&(e.root.vars.show_profile_fields=!1,e.hide_defaults=!0),e.$on("$ionicView.enter",function(){if(e.loginMode){var t=document.getElementById("email-input");t&&t.focus()}else{var n=document.getElementById("first-name-input");n&&n.focus()}}),e.$on("modal.shown",function(){if(e.signupModal&&e.signupModal.isShown())if(e.loginMode){var t=document.getElementById("email-input");t&&n(function(){t.focus()},500)}else{var i=document.getElementById("first-name-input");i&&n(function(){i.focus()},500)}}),i.get("mobile-web-auth")){i.removeObject("mobile-web-auth");var w=function(t){e.loader.show();var n=function(t){var n=function(){e.loader.hide(),e.success.show(0,2500,"Login Successful!"),e.settings.icons.profile=!0,c.toggleRight()};e.postFbGraphApiSuccess(t,n)};$.api("/me",null,n)};if(!$)var $=b();$.getLoginStatus(w,_)}}]),angular.module("uguru.util.controllers").controller("StudentBookController",["$scope","$state","$timeout","$localstorage","$ionicTabsDelegate",function(e,t,n,i,r){e.ionicTabsStudentBookDelegate=r.$getByHandle("student-book-tabs-top"),e.getNumber=function(e){return new Array(e)},e.goToGuruProfile=function(e){mixpanel.track("Guru.profile"),t.go("^.guru-profile",{guruObj:JSON.stringify(e),showContactGuru:!0})}}]),angular.module("uguru.util.controllers").controller("TagsController",["$scope","$state","$timeout","$localstorage","$ionicPlatform","$cordovaKeyboard","$ionicModal","$ionicTabsDelegate",function(e,t,n,i,r,o,s,a){e.input_tags="",e.related_tags=["elements","recursion","hydrogen"],e.addTagToRequestTags=function(t){e.request&&e.request.tags&&-1===e.request.tags.indexOf(t)&&(e.request.tags.push(t),e.input_tags="",document.getElementById("tags-input").value="",e.closeTagsModal())},e.saveTag=function(){{var t=document.getElementById("tags-input").value;e.input_tags}e.request&&e.request.tags&&-1===e.request.tags.indexOf(t)&&(e.request.tags.push(t),e.input_tags="",document.getElementById("tags-input").value="",e.closeTagsModal())},e.$on("modal.shown",function(){e.tagsModal&&e.tagsModal.isShown()&&n(function(){var t=document.getElementById("tags-input");t.focus(),t.addEventListener("keyup",function(n){13===n.which&&t.value.length>0&&e.saveTag()})},1500)})}]),angular.module("uguru.onboarding.controllers",[]).controller("OnboardingRequestLocationController",["$scope","$state","$timeout","$localstorage","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicPlatform","$cordovaStatusbar",function(e,t,n,i,r,o,s,a,l,u){e.$on("$ionicView.loaded",function(){document.getElementById("header"),document.getElementById("body"),document.getElementById("footer_1"),document.getElementById("footer_2")}),e.togglePersonGuru=function(){console.log("we are about to launch the location picker and are on the platform",JSON.stringify(e.platform)),e.platform.mobile?e.platform.android?e.nearest_universities&&e.nearest_universities.length>0?(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):e.platform.ios?(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):e.platform.web?console.log("I am testing through the web."):(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university"))},e.checkLocationStatus=function(){if(console.log("current location status is..",e.location_error),"turned-off"===e.location_error)return void console.log("skipping status check upon user request...");var t={timeout:1e4,enableHighAccuracy:!1};console.log("checking status of user location services..."),a.getCurrentPosition(t).then(function(t){e.location_error=null,console.log("user has it turned on")},function(t){1===t.code&&(e.location_error="denied",console.log("user has denied...")),2===t.code&&(e.location_error="unavailable",console.log("it is unavailable...")),3===t.code&&(console.log("it is unavailable..."),e.location_error="timeout")})},e.toggleLocationService=function(){if(e.location_error){var t=e.location_error;if("denied"==t){var n=function(){e.requestMapModal.hide()};e.showDialog("Please go to privacy settings, turn on location services for Uguru, and try again","Location Error","OK",n)}else"unavailable"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):"timeout"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):(r.getUserPosition(e,e.showRequestMapModal),e.location_error=null)}else e.location_error="turned-off"}}]),angular.module("uguru.onboarding.controllers").controller("OnboardingLoadingController",["$scope","$state","$timeout","$localstorage","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicPlatform","$cordovaSplashscreen","$cordovaStatusbar",function(e,t,n,i,r,o,s,a,l,u,c,d){if(e.user.university_id&&e.user.guru_mode)return console.log("going to guru mode"),mixpanel.track("Guru.home"),void t.go("^.guru-home");if(e.user.university_id&&!e.user.guru_mode)return console.log("going to student mode"),mixpanel.track("Student.home"),void t.go("^.student-home");e.intervals=10,e.time_length=700,e.root.vars.onboarding=!0,e.extra_delay=3500,e.img_components=[];var p="<p id='typewriter-1' class='typewriter-text'>College is known to be the <br><b>BEST 4 years of your life</b>.</p>",g="<p id='typewriter-2' class='typewriter-text'>Let Uguru help you stay on top of your academic life.</p>";e.startIntervals=function(t,n,i,r){for(var o=0;t>o;o++)showTargetComponentAtIndex(i[o],o,n*(o+1),r),e.typerwriter(p)},n(function(){var i=getComponents();e.startIntervals(e.intervals,e.time_length,i,n),n(function(){e.user.university_id?(mixpanel.track("Student.home"),t.go("^.student-home")):(mixpanel.track("Onboarding.location"),t.go("^.onboarding-location"))},e.intervals*e.time_length+1e3)},1e3),e.typerwriter=function(t){var i,r,t=t,o=0;!function s(){if(r=t.slice(0,++o),r===t)return void(e.runSecondScript||(e.runSecondScript=!0,n(function(){e.typerwriter(g)},1500)));document.getElementById("typewriter").innerHTML=r;var a=r.slice(-1);return"<"===a&&(i=!0),">"===a&&(i=!1),i?s():void setTimeout(s,30)}()}}]);var showTargetComponentAtIndex=function(e,t,n,i){i(function(){e.style.display="block"},n)},getComponents=function(){return document.getElementsByClassName("component")};angular.module("uguru.onboarding.controllers").controller("OnboardingNearestUniversityController",["$scope","$state","$timeout","$localstorage","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicPlatform","$ionicModal","$cordovaKeyboard","$cordovaStatusbar","$ionicViewSwitcher",function(e,t,n,i,r,o,s,a,l,u,c,d,p){e.search_text="",e.header_text="Nearby Schools",e.$on("$ionicView.beforeEnter",function(){console.log("before view has entered"),e.universities=e["static"].universities,e.platform.ios&&window.StatusBar&&StatusBar.styleDefault()}),e.$on("$ionicView.afterEnter",function(){console.log("after view has entered"),e.setFocus=function(t){0!==e.search_text.length||e.keyboard_force_off?e.search_active=!1:(document.getElementsByName("university-input")[0].focus(),e.search_active=!0)},e.clearSearchInput=function(){e.search_text=""},0===e["static"].nearest_universities.length&&(console.log(document.getElementsByName("university-input")[0].focus()),e.search_active=e["static"].universities&&e["static"].universities.length>0,e.search_active&&(e.header_text="Select University",e.setFocus()))}),e.hideKeyboard=function(){e.closeKeyboard()},e.nearest_universities=e["static"].nearest_universities,e.n_universities=e.nearest_universities.slice(0,10),e.onboarding=!0,e.nearestUniversitySelected=function(i,r){var o=document.querySelectorAll(".selected");[].forEach.call(o,function(e){e.checked===!0&&(e.classList.remove("selected"),e.checked=!1)}),i.target.classList.add("selected"),e.user.university_id=r.id,e.user.university=r,e.user.university.latitude=r.location.latitude,e.user.university.longitude=r.location.longitude,e.search_text="",e.keyboard_force_off=!0,e.user.updateAttr("university_id",e.user,e.user.university_id,null,e),e.platform.mobile&&e.closeKeyboard(),e.loader.show(),n(function(){e.loader.hide(),p.nextDirection("forward"),mixpanel.track("Student.home"),t.go("^.student-home")},1e3)},e.closeKeyboard=function(){window.cordova&&window.cordova.plugins.Keyboard&&c.close()}}]),angular.module("uguru.onboarding.controllers").controller("PromptLocationController",["$scope","$state","$timeout","$localstorage","Geolocation","$ionicPosition","$cordovaDialogs","$cordovaGeolocation","$ionicPlatform","$cordovaStatusbar","$cordovaPreferences",function(e,t,n,i,r,o,s,a,l,u,c){var d=function(e,t){e.loader.hide(),mixpanel.track("Onboarding.prompt"),t.go("^.prompt-location")};e.goToSettings=function(){s.alert("Go to your iOS Settings > Privacy > Uguru ","GO TO SETTINGS")};var p=function(e,t){e.loader.hide(),mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")};e.togglePersonGuru=function(){e.platform.ios||!e.platform.mobile?r.getUserPosition(e,p,d,t):e.platform.android&&(e.nearest_universities&&e.nearest_universities.length>0?(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")):(mixpanel.track("Onboarding.nearest"),t.go("^.onboarding-nearest-university")))},e.checkLocationStatus=function(){if(console.log("current location status is..",e.location_error),"turned-off"===e.location_error)return void console.log("skipping status check upon user request...");var t={timeout:1e4,enableHighAccuracy:!1};console.log("checking status of user location services..."),a.getCurrentPosition(t).then(function(t){e.location_error=null,console.log("user has it turned on")},function(t){1===t.code&&(e.location_error="denied",console.log("user has denied...")),2===t.code&&(e.location_error="unavailable",console.log("it is unavailable...")),3===t.code&&(console.log("it is unavailable..."),e.location_error="timeout")})},e.toggleLocationService=function(){if(e.location_error){var t=e.location_error;if("denied"==t){var n=function(){e.requestMapModal.hide()};e.showDialog("Please go to privacy settings, turn on location services for Uguru, and try again","Location Error","OK",n)}else"unavailable"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):"timeout"==t?e.showDialog("Sorry, GPS is currently unavailable for your phone at the moment. Please try again later","Location Error","OK"):(r.getUserPosition(e,e.showRequestMapModal),e.location_error=null)}else e.location_error="turned-off"},e.$on("$ionicView.beforeEnter",function(){console.log("before view has entered"),e.platform.ios&&window.StatusBar&&StatusBar.styleLightContent()}),n(function(){e.loader&&e.loader.hide()},500)}]),angular.module("uguru").run(["$templateCache",function(e){e.put("templates/root.html",'<ion-nav-view animation="slide-left-right">\n\n      </ion-nav-view>\n      <ion-nav-back-button class="button-clear" style="width:75px;">\n          <img src="./img/left-chevron.png" class=\'uguru-back-button\'/>\n      </ion-nav-back-button>'),e.put("templates/university.modal.html",'<ion-modal-view ng-controller=\'AddUniversityController\' class=\'university-modal\'>\n      <ion-header-bar>\n        <h1 class="title">Select University</h1>\n        <a class=\'button button-clear\'ng-click="hideUniversityModal()">Cancel</a>\n      </ion-header-bar>\n      <ion-content>\n\n        <ion-list class="list">\n          <ion-item ng-repeat="university in matchingUniversities" class=\'university-list\'ng-click="universitySelected(university, $event)">\n            <h2>{{university.title}}</h2>\n            <p>{{university.city}}, {{university.state}}</p>\n          </ion-item>\n        </ion-list>\n\n    </ion-content>\n\n\n    <ion-footer-bar class="bar-footer item-input-inset" keyboard-attach>\n\n          <label class="item-input-wrapper">\n              <i class="icon ion-search placeholder-icon"></i>\n\n              <input type="search" name="university-input" id=\'university-input\'class="form-control"\n                      fast-matcher\n                      fast-matcher-source="universities"\n                      fast-matcher-output="matchingUniversities"\n                      fast-matcher-properties="title, keywords"\n                      fast-matcher-any-word="true"\n                      fast-matcher-limit="10"\n                      fast-matcher-preserve-order="true"\n                      fast-matcher-case-insensitive="true"\n                      placeholder="Search {{universities.length}} Available Universities"\n                      ng-model="search_text"\n                      ng-blur="setFocus()"\n              />\n          </label>\n\n          <button class="button button-clear button-positive search-button" ng-show="search_text.length" ng-click="clearSearchInput()">\n          Clear\n          </button>\n\n    </ion-footer-bar>\n  </ion-modal-view>'),e.put("templates/signup.modal.html","<ion-modal-view hide-nav-bar='true' class='Signup' cache-view='false'>\n  <div ng-include=\"img_base + 'templates/signup.components.html'\" ng-controller='SignupController'> </div>\n</ion-modal-view>"),e.put("templates/availability.modal.html","<ion-modal-view  class='availability-modal' ng-controller='AvailabilityController'>\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header calendar-top-header no-background-image' hide-nav-bar='true'>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link\" ng-click='closeAvailabilityModal()'>Cancel</button>\n    </div>\n    <h1 class=\"title micro-text modal-header-text\">When Are You Available?</h1>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link button-submit button-blue\" ng-click='saveRequestInfo()'>\n        Done\n      </button>\n    </div>\n  </ion-header-bar>\n\n  <ion-header-bar class='dark-bg-header bar-header no-padding'>\n    <ion-tabs class=\"tabs-top home-request-tabs-top tabs-title-only\" delegate-handle='availability-handle'>\n\n      <ion-tab on-select='onAvailabilityTabSelected()' title=\"Today\" class='uppercase dark-bg white-text calendar-tab-item bar-subheader'>\n\n    <!-- Tab 1 content -->\n      </ion-tab>\n\n      <ion-tab on-select='onAvailabilityTabSelected()' title=\"Tomorrow\" class='uppercase dark-bg white-text calendar-tab-item'>\n    <!-- Tab 2 content -->\n      </ion-tab>\n\n      <ion-tab on-select='onAvailabilityTabSelected()' title=\"{{calendar.selected_custom_date}}\" class='uppercase dark-bg white-text calendar-tab-item'>\n\n          <ion-scroll direction=\"x\" ng-show='showDateTabs' class=\"tabs home-request-tabs-top tabs-top bar-subheader date-tabs-top\" delegate-handle='date-handle' scrollbar-x=\"false\" style='border-top:1px solid grey; overflow-x: hidden;'>\n          <!-- <div  > -->\n                <a class=\"tab-item uppercase dark-bg white-text calendar-tab-item center\" ng-click='onAvailabilityTabSelected($index, ($index + calendar.start_date + calendar.offset_date) % calendar.next_month_length)' ng-repeat='time in getNumber(7) track by $index'>\n                  <div class='calendar-date'>\n                    <span class='nano-text'>{{weekdays[($index + calendar.weekday_offset) % 7]}}</span> <br>\n                    <span class='date white-text semibold'>{{($index + calendar.start_date + calendar.offset_date) % calendar.next_month_length}}  </span>\n                  </div>\n                </a>\n          <!-- </div> -->\n          </ion-scroll>\n\n      </ion-tab>\n\n    </ion-tabs>\n\n  </ion-header-bar>\n\n  <ion-content class='has-header has-subheader calendar-bg' id='calendar-content' delegate-handle='calendar'style='margin-top:-20px;'>\n\n    <div class='pure-g flex-space-between flex-column'>\n        <div class='pure-g center' style='margin-top:5px;'>\n            <!-- left date column -->\n            <div class='pure-u-1-6'>\n              <div class='pure-u-1 padding-1em calendar-date-label relative' ng-repeat='time in getNumber(24) track by $index'>&nbsp;\n                <span  id='{{hours[$index].replace(\" \", \"\").toUpperCase()}}' ng-show='$index > 0'class='calendar-date-label-text ng-class:{\"blue blue-left-margin full-opacity\" : ($index * calendar.coords.chunkHeights.hours) >= calendar.coords.currentTopY && ($index * calendar.coords.chunkHeights.hours) < (calendar.coords.currentTopY + calendar.coords.currentHeight) }'>{{hours[$index]}}</span>\n              </div>\n            </div>\n            <!-- left column -->\n            <div class='pure-u-7-8 calendar-date-row-wrapper' >\n              <div class='pure-u-1 padding-1em calendar-date-row' id='calendar-rows' ng-repeat='time in getNumber(24) track by $index'>\n                <div class='pure-g full-height'>\n                  <div class='pure-u-1 calendar-hour-half-row'>&nbsp;</div>\n                  <div class='pure-u-2-24 calendar-hour-half-row border-top'>&nbsp;</div>\n                </div>\n              </div>\n              <div class='draggable-event pure-u-1 padding-1em calendar-date-row' id='calendar-event'data-tap-disabled =\"true\">\n                <div class='pure-g full-height'>\n                    <span class='drag-point' id='drag-point-top'> </span>\n                    <span class='drag-point' id='drag-point-bottom'> </span>\n                </div>\n              </div>\n              <!-- <div class='draggable-event absolute' data-tap-disabled =\"true\">\n                    <span class='drag-point' id='drag-point-top'> </span>\n                    <span class='drag-point' id='drag-point-bottom'> </span>\n              </div> -->\n            </div>\n          </div>\n        </div>\n    <!-- </div> -->\n\n  </ion-content>\n</ion-modal-view>"),e.put("templates/become.guru.courses.html"," <ion-view hide-nav-bar='true' class='subdark-bg' cache-view='false' >\n  <ion-content class='white-text subdark-bg university-view-2' scroll='false' style='top:0px; bottom:10%;' ng-controller='CoursesController' on-swipe-right=\"swipeRightGoBack()\">\n      <div class='pure-g'>\n        <div class=\"list pure-u-1\">\n          <label class=\"item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2\">\n                  <i class='icon ion-search onboarding-search-icon' ng-hide=\"search_text.length > 0\"></i>\n                      <input id='guru-course-input' type=\"text\" class='ng-class:{\"align-left-start\":search_text.length > 0}'\n                        fast-matcher\n                        fast-matcher-source=\"courses\"\n                        fast-matcher-output=\"matchingCourses\"\n                        fast-matcher-properties=\"short_name, title\"\n                        fast-matcher-any-word=\"true\"\n                        fast-matcher-limit=\"10\"\n                        fast-matcher-preserve-order=\"true\"\n                        fast-matcher-case-insensitive=\"true\"\n                        placeholder=\"Search Available Courses\"\n                        ng-model = \"search_text\"\n                      />\n                  </span>\n                </label>\n              </div>\n            </div>\n\n            <ion-list ng-show='search_text.length > 0'>\n              <ion-scroll>\n                <ion-item class='item-button-right request-form-item course-item major-item' ng-repeat='course in matchingCourses' ng-click='addSelectedGuruCourse(course, course_search_text)'>\n                  <p class='semibold'> {{course.short_name}} <span class='course-title'> {{course.title}} </span> </p>\n                </ion-item>\n              </ion-scroll>\n            </ion-list>\n\n            <!-- <ion-list ng-show='search_text.length === 0'>\n\n              <ion-item class='item-button-right request-form-item padding-half' ng-repeat='course in user.guru_courses' ng-click='addSelectedGuruCourse(course, course_search_text)' style='padding-right:3em;'>\n                <p> <strong>{{course.short_name}} </strong> <span class='course-title'> {{course.title}} </span> </p>\n                 <button class='button button-clear' ng-click='success.show(0, 2000, \"Coming Soon!\")' style='margin-right: -8px;'>\n                    <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' style='margin-top:-0.3em;' src='{{img_base}}./img/icons/close_icon.svg'>\n                  </button>\n              </ion-item>\n\n            </ion-list> -->\n\n            <div class='pure-g-c flex-column flex-space-between' ng-show='!search_text || search_text.length === 0'>\n\n              <div class='flex-item-c center j-end' ng-show='user.guru_courses.length > 0'>\n                <div class='pure-g'>\n\n                  <div class='pure-u-1'>\n                    <p class='uppercase opacity-1-2 micro-text bold sans-bold'> <strong> My Courses </strong> <br>\n                    </p>\n                    <div class='micro-text regular' style='opacity:1'>(Double tap to Remove)</div>\n                  </div>\n                </div>\n\n                <div class='pure-g'>\n\n                  <div class='pure-u-1'>\n                    <a class='course-tag major-tag white-bg orange' on-double-tap=\"removeGuruCourseAndUpdate(guru_course, $index)\" style='font-size:80%;' ng-repeat=\"guru_course in user.guru_courses track by $index\">{{guru_course.short_name}} &nbsp; &nbsp; <i class='icon ion-checkmark'></i></a>\n                  </div>\n                </div>\n\n              </div>\n\n              <div class='flex-item-c center'>\n              </div>\n              <div class='flex-item-c center j-start'>\n\n                <div class='pure-g'>\n\n                  <div class='pure-u-1 padding-1em'>\n                    <p class='uppercase sans-bold bold micro-text opacity-1-2'>\n                      Tap Any Popular Course\n                    </p>\n                  </div>\n                  <div class='pure-u-1'>\n                    <a class='course-tag popular-course-tag' ng-click='addSelectedGuruCourse(popular_course, course_search_text, $index)' style='font-size:60%;' ng-repeat='popular_course in static.popular_courses'>{{popular_course.short_name}}</a>\n                  </div>\n\n\n                </div>\n              </div>\n\n              <div class='flex-item-c j-start'>\n\n              </div>\n            </div>\n        </ion-content>\n\n\n</ion-view>"),e.put("templates/become.guru.html","\n\n\n    <ion-slide-box show-pager=\"true\" class='dark-bg' on-slide-changed=\"slideHasChanged($index)\" delegate-handle='become-guru-slide-box'>\n\n      <ion-slide>\n         <div ng-include=\"img_base + BASE + 'templates/become.guru.courses.html'\"></div>\n      </ion-slide>\n\n\n      <ion-slide>\n\n        <div ng-include=\"img_base + BASE + 'templates/majors.html'\"></div>\n\n      </ion-slide>\n\n      <ion-slide>\n\n        <div ng-include=\"img_base + BASE + 'templates/become.guru.skills.html'\"></div>\n\n      </ion-slide>\n      <ion-slide>\n\n        <div ng-include=\"img_base + BASE + 'templates/become.guru.photo.html'\"></div>\n\n      </ion-slide>\n\n    </ion-slide-box>\n"),e.put("templates/become.guru.photo.html"," <ion-view hide-nav-bar='true' ng-controller='BecomeGuruPhotoController' class='sub dark-bg'>\n  <ion-content class='white-text dark-bg has-header' scroll='false' style='top:0px; bottom:10%;'>\n\n\n      <h3 class='uppercase white-text semibold center' style='margin-top:10%;'>\n        Add a #SELFIE\n      </h3>\n      <h6 class='uppercase white-text bold center opacity-1-2 nano-text'>\n        Show everyone what you're all about\n      </h6>\n\n\n       <div class='pure-g-c flex-column flex-space-between'>\n\n          <div class='pure-g-c flex-column height-40 j-end padding-2em'>\n            <div class='center no-margin'>\n              <div class='pure-u-1 center float-center'>\n                <img ng-show='user && !user.id'class='pure-img profile-img inline' id='become-guru-profile' src='https://graph.facebook.com/10152573868267292/picture?width=100&height=100'/>\n                <img ng-hide='user && !user.id'class='pure-img profile-img inline' id='become-guru-profile' src='{{user.profile_url}}'/>\n              </div>\n            </div>\n          </div>\n\n\n          <div class='flex-item-c j-center center'>\n              <a class='button button-full light-blue-bg button-footer white-text' ng-click='showAttachActionSheet()'>Upload Photo</a>\n              <div class='pure-u-1 padding-1em'>\n                <a ng-click='uploadPhotoAndFinish()'>\n                  <p class='uppercase semibold opacity-1-2'>\n                    Skip\n                  </p>\n                </a>\n              </div>\n          </div>\n\n\n        </div>\n\n\n  </ion-content>\n  <input type='file' id='file-input-web' onchange=\"angular.element(this).scope().file_changed(this)\" style='display:none'>\n\n\n</ion-view>"),e.put("templates/become.guru.skills.html"," <ion-view hide-nav-bar='true' ng-controller='CoursesController' class='subdark-bg'>\n  <ion-content class='white-text subdark-bg has-subheader' scroll='false' style='top:0px; bottom:10%'>\n\n\n      <h3 class='uppercase white-text semibold center' style='margin-top:10%;'>\n        Tap skills that apply\n      </h3>\n      <h6 class='uppercase white-text bold center opacity-1-2 nano-text'>\n        Make money on errthang.\n      </h5>\n\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='flex-item-c center'>\n        </div>\n        <div class='flex-item-c center j-start'>\n\n          <div class='pure-g'>\n\n\n            <div class='pure-u-1 professional-wrapper'>\n                <a ng-click='addSelectedGuruSkill(professional_skill)' class='course-tag skill-tag' ng-repeat='professional_skill in static.professional_skills'>{{professional_skill.name.toUpperCase()}}</a>\n                <!-- <a class='course-tag skill-tag'>Writing</a>\n                <a class='course-tag skill-tag'>Interviews</a><br>\n                <a class='course-tag skill-tag'>Public Speaking</a>\n                <a class='course-tag skill-tag'>Bullshitting</a>\n                <a class='course-tag skill-tag'>Drinking</a> -->\n            </div>\n\n\n            <div class='pure-u-1 skilled-wrapper'>\n                <a class='course-tag skill-tag' ng-click='addSelectedGuruSkill(specialized_skill)' ng-repeat='specialized_skill in static.specialized_skills'>{{specialized_skill.name.toUpperCase()}}</a>\n            </div>\n\n            <div class='pure-u-1 chores-wrapper'>\n              <a class='course-tag skill-tag' ng-click='addSelectedGuruSkill(chores_skill)' ng-repeat='chores_skill in static.chores_skills'>{{chores_skill.name.toUpperCase()}}</a>\n            </div>\n\n            <div class='pure-u-1 labor-wrapper' >\n                <a class='course-tag skill-tag' ng-click='addSelectedGuruSkill(labor_skill)' ng-repeat='labor_skill in static.labor_skills'>{{labor_skill.name.toUpperCase()}}</a>\n            </div>\n\n\n          </div>\n        </div>\n\n        <div class='flex-item-c j-start'>\n\n        </div>\n      </div>\n\n\n  </ion-content>\n\n\n</ion-view>"),e.put("templates/browse.html","<ion-view hide-nav-bar='true' class='browse'>\n  <ion-header-bar align-title=\"center\" class='dark-bg-header item-icon-right'>\n        <h1 class=\"title\">Browse</h1>\n        <div class=\"buttons\">\n          <button ng-click='launchVerbModal()' class=\"button button-clear\"><i class='icon ion-plus blue'></i></button>\n        </div>\n  </ion-header-bar>\n  <ion-header-bar align-title=\"center\" class='dark-bg-header bar bar-subheader'>\n      <div class='pure-g'>\n        <div class='pure-u-1 padding-half padding-horizontal-only'>\n          <input type='text' class='dark-search' placeholder=\"Whatchu lookin for?\">\n          </input>\n        </div>\n      </div>\n  </ion-header-bar>\n\n<ion-content class='dark-bg has-subheader request-form-tags-offset has-tabs'>\n\n  <ion-list class='no-horizontal-padding'>\n\n    <div class=\"list card no-horizontal-margin margin-top-10\">\n      <div class=\"item item-image card-item-image\" style='background-image:url(\"{{img_base}}./img/stock/stock-1.png\")'>\n      </div>\n      <a class=\"no-horizontal-margin item browse-card-link item-avatar-left item-icon-right\">\n        <img class='pure-img' ng-src='{{img_base}}./img/verbs/session.svg' />\n        <div class='inner-card-content'>\n          <p class='light-text'>We're making muffins!</p>\n          <p class='nano-text bold black'>\n            Dolores Park, San Francisco, CA\n          </p>\n        </div>\n        <i class=\"icon ion-chevron-right grey icon-small\"></i>\n      </a>\n    </div>\n\n    <div class=\"list card no-horizontal-margin margin-top-10\">\n      <div class=\"item item-image card-item-image\" style='background-image:url(\"{{img_base}}./img/stock/stock-2.png\")'>\n      </div>\n      <a class=\"no-horizontal-margin item browse-card-link item-avatar-left item-icon-right\">\n        <img class='pure-img' ng-src='{{img_base}}./img/verbs/task.svg' />\n        <div class='inner-card-content'>\n          <p class='light-text'>Anyone need blueberries?</p>\n          <p class='nano-text bold black'>\n            Marina District, San Francisco, CA\n          </p>\n        </div>\n        <i class=\"icon ion-chevron-right grey icon-small\"></i>\n      </a>\n    </div>\n\n    <div class=\"list card no-horizontal-margin\">\n      <div class=\"item item-image card-item-image\" style='background-image:url(\"{{img_base}}./img/stock/stock-3.png\")'>\n      </div>\n      <a class=\"no-horizontal-margin item browse-card-link item-avatar-left item-icon-right\">\n        <img class='pure-img' ng-src='{{img_base}}./img/verbs/task.svg' />\n        <div class='inner-card-content'>\n          <p class='light-text'>Cupcakes Anyone?</p>\n          <p class='nano-text bold black'>\n            Berkeley Campus, Berkeley, CA\n          </p>\n        </div>\n        <i class=\"icon ion-chevron-right grey icon-small\"></i>\n      </a>\n    </div>\n\n    <div class=\"list card no-horizontal-margin\">\n      <div class=\"item item-image card-item-image\" style='background-image:url(\"{{img_base}}./img/stock/stock-4.png\")'>\n      </div>\n      <a class=\"no-horizontal-margin item browse-card-link item-avatar-left item-icon-right\">\n        <img class='pure-img' ng-src='{{img_base}}./img/verbs/task.svg' />\n        <div class='inner-card-content'>\n          <p class='light-text'>For Sale: Phantogram TIX</p>\n          <p class='nano-text bold black'>\n            The Greek Theater, Berkeley, CA\n          </p>\n        </div>\n        <i class=\"icon ion-chevron-right grey icon-small\"></i>\n      </a>\n    </div>\n\n    <div class=\"list card no-horizontal-margin\">\n      <div class=\"item item-image card-item-image\" style='background-image:url(\"{{img_base}}./img/stock/stock-5.png\")'>\n      </div>\n      <a class=\"no-horizontal-margin item browse-card-link item-avatar-left item-icon-right\">\n        <img class='pure-img' ng-src='{{img_base}}./img/verbs/task.svg' />\n        <div class='inner-card-content'>\n          <p class='light-text'>We're making muffins!</p>\n          <p class='nano-text bold black'>\n            Dolores Park, San Francisco, CA\n          </p>\n        </div>\n        <i class=\"icon ion-chevron-right grey icon-small\"></i>\n      </a>\n    </div>\n\n  </ion-list>\n\n</ion-content>\n\n<div class=\"tabs tabs-icon-only dark-bg\">\n    <a class=\"tab-item\" href='#/new-home' nav-direction=\"swap\" id='home-button'>\n      <img class='pure-img icon' src='{{img_base}}./img/request/house-icon.svg'></i>\n    </a>\n    <a class=\"tab-item\" href='#/courses' nav-direction='swap' id='courses-button'>\n      <img class='pure-img icon' src='{{img_base}}./img/request/guru_book.svg'></i>\n    </a>\n    <a class=\"tab-item\" href='#/browse' nav-direction='swap' id='browse-button'>\n      <img class='pure-img icon' src='{{img_base}}./img/request/search-blue.svg'></i>\n    </a>\n    <a class=\"tab-item\">\n    </a>\n    <a class=\"tab-item\">\n    </a>\n    <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n      <img class='pure-img icon' src='{{img_base}}./img/request/settings.svg'></i>\n    </a>\n</div>\n\n\n</ion-view>\n"),
e.put("templates/calendar.modal.html",' <ion-modal-view ng-controller="CalendarModalController" id=\'calendar-modal\'>\n    <ion-header-bar class="bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)">\n        <h1 class="title">Your Availability</h1>\n    </ion-header-bar>\n    <ion-content>\n      <ion-list>\n        <ion-item class="item" ng-repeat="hour_int in day_rows" style="padding:0px; margin:0px;">\n          <div class="row" style="padding:0px; margin:2px 0px; height:30px">\n            <div class="col-33">{{getTimeFromHourInt(hour_int)}}</div>\n            <div style="padding:0px; background-color:white; margin:0px;border:1px solid green;" class="col" ng-repeat="day_int in day_columns" id="{{day_int}},{{hour_int}}"ng-click="clickCalendarGridElement($event, day_int, hour_int)">\n            </div>\n            <div class="col-10 center">\n              <i class="icon ion-chevron-right"> </i>\n            </div>\n          </div>\n        </ion-item>\n      </ion-list>\n   </ion-content>\n   <ion-footer>\n    <div class="tabs tabs-icon-only">\n      <a class="tab-item">\n        <i class="icon ion-close positive" ng-click="hideModal()"></i>\n      </a>\n      <a class="tab-item" ng-click="clear()">\n        <i class="icon ion-refresh positive" ng-click="clear()"></i>\n      </a>\n      <a class="tab-item">\n        <i class="icon ion-checkmark positive" ng-click="hideModalAndSave()"></i>\n      </a>\n    </div>\n   </ion-footer>\n  </ion-modal-view>'),e.put("templates/components.session.html","<ion-header-bar class='dark-bg-header mini-header'>\n\n    <button class=\"button button-clear button-header-link\" ng-click='goBack()'>Back</button>\n    <h1 class=\"title\">Session with {{session.request.student.name.split(' ')[0]}}</h1>\n\n    <div class='buttons'>\n      <!-- <button class=\"button button-clear button-header-link submit-button\" ng-click='showAttachActionSheet()'>\n        <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' style='height:15px; margin-top:0.18em'ng-src='{{img_base}}./img/paperclip-blue.svg' ng-show='!details.show'>\n      </button> -->\n      <button class=\"button button-clear button-header-link submit-button\" ng-click='showAttachActionSheet()'>\n        Help\n      </button>\n    </div>\n\n  </ion-header-bar>\n\n<div class=\"tabs home-request-tabs-top tabs-top\" ng-show='session.request.status > 0 && session.messages' style='height:45px;'>\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':details.show, 'opacity-1-2':!details.show}\" ng-click='showDetails()' >\n        Details\n      </a>\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':!details.show, 'opacity-1-2':details.show}\" ng-click='showChat()'>\n        Chat\n      </a>\n</div>\n\n\n<ion-content class='dirty-white-bg ng-class:{\"has-subheader\":session.messages}' ng-show='details.show'>\n      <div class='pure-g'>\n          <ion-list class='pure-u-1'>\n\n            <ion-item class='padding-1em item-avatar-left dark-bg white-text' ng-show='session.request.status > 0'>\n              <img class='pure-img can-help-profile-img' ng-src='{{session.request.student.profile_url}}'/>\n                <div class='guru-info-wrapper'>\n                  <h2>{{session.request.student.name.split(' ')[0]}} </h2>\n                  <p class='uppercase nano-text'>\n                    <span ng-show='session.request.student.university'>{{session.request.student.university.title}}  -</span>\n                    <span ng-show='session.request.student.majors'>{{session.request.student.majors[0].name}}</span>\n                  </p>\n\n                  <div class='pure-u-11-12'>\n                    <div class='pure-u-1-12' ng-repeat='number in getNumber(session.request.student.student_avg_rating) track by $index'>\n                            <i class='icon ion-star blue'></i>\n                    </div>\n                    <div class='pure-u-1-12' ng-repeat='number in getNumber(5 - session.request.student.student_avg_rating) track by $index'>\n                      <i class='icon ion-star grey'></i>\n                    </div>\n                  </div>\n                </div>\n            </ion-item>\n\n\n            <!-- 4.  jack dfrom student, put hashtags, icon right-->\n            <ion-item class='item-avatar-left'>\n              <img class='pure-img verb-img' ng-src='{{img_base}}./img/verbs/{{session.request.verb_image}}' />\n                <h2 class='uppercase student-session-course-name'>{{session.request.course.short_name}}</h2>\n            </ion-item>\n\n            <ion-item class='item-avatar-left card-item-left request-form-item' ng-show='session.messages && session.request.student_calendar'>\n              <img class='icon ion-plus-custom blue custom-icon pure-img'ng-src='{{img_base}}./img/icons/clock.svg'>\n              <p class='inline'> Starts in </p>\n              <p ng-show='session.status === 1' class='inline time-until' style='padding-left:1em'> {{session.request.schedule_time}} minutes </p>\n              <p ng-show='session.status === 2' class='inline time-until' style='padding-left:1em; color:green;'> In progress </p>\n            </ion-item>\n\n            <!-- 5.  Same old but no orange> -->\n            <ion-item class='item-avatar-left card-item-left request-form-item'>\n              <img class='icon ion-plus-custom blue custom-icon pure-img'ng-src='{{img_base}}./img/icons/marker.svg'>\n              <p class='inline'> Meet up </p>\n              <p class='inline black' style='padding-left:1em'> {{session.request.address}} </p>\n            </ion-item>\n\n            <div class='item item-divider' ng-show='(session.request.description && session.request.description.length > 0) || (session.request.files && session.request.files.length > 0) || (session.request.tags && session.request.tags.length > 0) '>\n            </div>\n\n            <ion-item ng-show='session.request.description && session.request.description.length > 0'>\n              <p class='pico-text white-space-normal'> {{session.request.description}} </p>\n              <div class='pure-u-1'>\n                <div class='pure-u-1-3 session-details-img-wrapper padding-right-half padding-top-half' ng-repeat='file in session.request.files'>\n                  <img class='pure-img'ng-src='{{file.url}}'/>\n                </div>\n              </div>\n            </ion-item>\n\n            <ion-item class='item-icon-left' ng-show='session.request.tags && session.request.tags.length > 0'>\n              <img style='margin-top:0.4em; left:24px; top:5px;'class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon'ng-src='{{img_base}}./img/icons/tags.svg'>\n              <p>&nbsp;<span class='blue request-tag' ng-repeat='tag in session.request.tags'>#{{tag.name}} </span> </p>\n            </ion-item>\n\n\n          </ion-list>\n        <!-- </div> -->\n    </div>\n\n</ion-content>\n\n<div ng-show='!details.show' >\n  <div ng-include=\"img_base + 'templates/messages.components.html'\"  >\n  </div>\n  </div>\n<ion-footer-bar class='guru-session-footer' ng-show='details.show && session.messages'>\n\n\n      <button class='button button-full button-bright' ng-click='startSessionGuru()' ng-show='session.status === 1 || !session.status'>\n        Tap to start session!\n      </button>\n\n      <button class='button button-full end-session-button dark-bg white-text' ng-click='endSessionGuru()' ng-show='session.status === 2'>\n        Tap to end session\n      </button>\n</ion-footer-bar>"),e.put("templates/components.side-menu.html","\n<ion-view class='side-menu-right' id=\"side_menu\" ng-controller='SignupController' cache-view=\"false\">\n\n\n  <ion-content class='ios-status-bar-dark' scroll='false' style='margin-top:-1px;'>\n    <div class='pure-g full-height' style='margin-top:-1px;'>\n      <div class='pure-u-1-5 dark-bg full-height left-icon-menu-bar' style='z-index:1000;'>\n        <div class='pure-g-c flex-column flex-space-between dark-bg' style='padding-top:10px; background-color: #2B3233 !important;'>\n\n          <div class='flex-item-c center'>\n            <a class='pure-u-1 padding-3-4em dark-bg' style='background-color:#2B3233 !important;' ng-click='setSettingsToIndex(1)'>\n\n              <!-- For logged in users they can see the settings options-->\n              <div ng-show='user && user.id'>\n                <img class='pure-img animated pulse hide ng-class:{\"show\":settings.icons.profile || root.vars.settings.icons.profile}' ng-src='{{img_base}}./img/settings/profile.svg'/>\n\n\n\n                <img class='pure-img hide ng-class:{\"show\": (!settings.icons.profile && !root.vars.settings.icon.profile)}' ng-src='{{img_base}}./img/settings/profile-outline.svg'/>\n              </div>\n\n              <div ng-show='!(user && user.id)' style='padding-top:10px;'>\n                <img class='pure-img padding-eight' ng-src='{{img_base}}./img/verbs/session.svg' />\n              </div>\n\n            </a>\n          </div>\n          <div class='flex-item-c center'>\n            <a class='pure-u-1 padding-3-4em' ng-click='setSettingsToIndex(2)' ng-show='user && user.id'>\n                <img class='pure-img animated pulse ng-class:{\"hide\":!settings.icons.notifications}' ng-src='{{img_base}}./img/settings/notification.svg'/>\n\n                <img class='pure-img ng-class:{\"hide\":settings.icons.notifications}' ng-src='{{img_base}}./img/settings/notification-outline.svg'>\n            </a>\n\n            <a class='pure-u-1 padding-3-4em' ng-click='setSettingsToIndex(2)' ng-show='user && !user.id'>\n\n                <img class='pure-img padding-eight' ng-src='{{img_base}}./img/verbs/guru.svg' />\n            </a>\n          </div>\n          <div class='flex-item-c center'>\n            <a class='pure-u-1 padding-3-4em' ng-click='setSettingsToIndex(3)'>\n              <div ng-show='user && user.id'>\n                <img class='pure-img animated pulse ng-class:{\"hide\":!settings.icons.card}' ng-src='{{img_base}}./img/settings/card.svg'/>\n\n                <img class='pure-img ng-class:{\"hide\":settings.icons.card}' ng-src='{{img_base}}./img/settings/card-outline.svg'>\n              </div>\n              <div ng-show='user && !user.id'>\n                <img class='pure-img padding-eight' ng-src='{{img_base}}./img/verbs/chores.svg' />\n              </div>\n            </a>\n          </div>\n          <div class='flex-item-c center'>\n            <a class='pure-u-1 padding-3-4em' ng-click='setSettingsToIndex(4)'>\n              <div ng-show='user && user.id'>\n                <img class='pure-img animated pulse ng-class:{\"hide\":!settings.icons.support}' ng-src='{{img_base}}./img/settings/support.svg'/>\n\n                <img class='pure-img ng-class:{\"hide\":settings.icons.support}' ng-src='{{img_base}}./img/settings/support-outline.svg'>\n              </div>\n              <div ng-show='user && !user.id'>\n                <img class='pure-img padding-eight' ng-src='{{img_base}}./img/verbs/food.svg' />\n              </div>\n            </a>\n          </div>\n          <div class='flex-item-c center' ng-show='user && !user.id'>\n            <a class='pure-u-1 padding-3-4em' ng-click='setSettingsToIndex(5)'>\n              <div>\n                <img class='pure-img padding-eight' ng-src='{{img_base}}./img/verbs/skilled.svg'/>\n              </div>\n            </a>\n          </div>\n\n          <div class='flex-item-c center' ng-show='user && !user.id'>\n            <a class='pure-u-1 padding-3-4em' ng-click='setSettingsToIndex(6)'>\n              <div>\n                <img class='pure-img' ng-src='{{img_base}}./img/verbs/items.svg'/>\n              </div>\n            </a>\n          </div>\n\n          <a ng-click='logoutUser()' class='flex-item-c center' ng-show='user && user.id'>\n            <div class='pure-u-1 padding-3-4em'>\n                <img class='pure-img' ng-src='{{img_base}}./img/settings/logout.svg'/>\n            </div>\n          </a>\n          <a ng-click='closeSideBar()' class='flex-item-c center' style='background-color:rgba(255,255,255,0.1)'>\n            <div class='pure-u-1' style='padding:1.5em;'>\n                <img class='pure-img' ng-src='{{img_base}}./img/settings/settings-back.svg'/>\n            </div>\n          </a>\n\n        </div>\n      </div>\n\n      <div class='pure-u-4-5 full-height settings-view-container'>\n\n      <!-- [Profile] settings icon section -->\n\n          <div class='full-height' ng-show='user && !user.id' ng-include=\"img_base + 'templates/components.side-menu.presignup.html'\"> </div>\n\n          <div class='full-height' ng-show='user && user.id' ng-include=\"img_base + 'templates/components.side-menu.postsignup.html'\"> </div>\n\n\n\n      </div>\n\n\n\n    </div>\n   <!--  <ion-footer-bar ng-show='root.vars.version && !settings.icons.support' class='side-menu-footer-bar' style='padding-left:20%; background-color:transparent;'>\n      <a class='pure-u-1 nano-text center' ng-click='resetAccount()'>\n          v1.0.{{root.vars.version}}\n      </a>\n    </ion-footer-bar> -->\n\n  </ion-content>\n</ion-view>"),e.put("templates/components.side-menu.postsignup.html","<div class='relative full-height hide ng-class:{\"show\": (settings.icons.profile || root.vars.settings.icons.profile) && user.id}'>\n        <div ng-show='user && user.id'class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n          <h1 class=\"title bold\">Student Profile</h1>\n          <div class='buttons'>\n            <button style='padding-top:0.1em;'class=\"button button-clear button-header-link submit-button button-right\" id='done-button' ng-click='showStudentEditActionSheet()'>Edit</button>\n          </div>\n        </div>\n        <div class='pure-g-c flex-column flex-space-between' style='height:90%;'>\n\n\n            <div class='pure-g flex-item-c center no-margin relative full-width'>\n              <div class='pure-u-1 center float-center relative center'>\n                <div class='absolute settings-profile-image-container padding-1em auto-margin full-width' style='position:absolute'>\n                  <img ng-show='user && user.profile_url' style='width:130px; height:130px;'class='pure-img profile-img sidebar-img inline'style='margin-top:2%;' id='sidebar-student-profile-photo'src='{{user.profile_url}}'/>\n                </div>\n                <div class='white-bg' style='margin-top:35%; padding-top:20%; padding-bottom:5%;'>\n                  <div class='pure-u-1 regular'>\n                    <div ng-show='user && user.id'>\n                      <h1 class='light regular-text no-margin'>\n                        {{user.name.split(' ')[0].toUpperCase()}} {{user.name.split(' ')[1][0].toUpperCase()}}.\n                      </h1>\n                    </div>\n                  </div>\n                  <div class='pure-u-1' style='padding-left:20%; padding-right:20%;'>\n                    <div class='pure-g center' style='font-size:1.5em; margin-right:10%; margin-left:10%;'>\n                      <div class='pure-u-1-8 auto-margin' ng-repeat='number in getNumber(user.student_avg_rating) track by $index'>\n                          <i class='icon ion-star blue'></i>\n                      </div>\n                      <div class='pure-u-1-8 auto-margin' ng-repeat='number in getGrayNumber(user.student_avg_rating) track by $index'>\n                        <i class='icon ion-star grey'></i>\n                      </div>\n                    </div>\n                  </div>\n                  <div class='pure-u-1 padding-half opacity-3-4' style='font-size:80%;'>\n                    <div class='white-space-normal uppercase semibold'>{{user.university.title}}</div>\n                  </div>\n                  <!-- <div class='pure-u-1' style='font-size:80%; opacity:1' ng-show='!user.majors || user.majors.length === 0'>\n                    <a class='white-space-normal uppercase light blue full-width' ng-click='transitionToMajor()'> + add your major(s)</a>\n                  </div> -->\n                </div>\n\n              </div>\n\n            </div>\n\n            <div class='pure-g flex-item-c center no-margin relative'>\n              <div class='pure-u-1 padding-half'>\n                <div class='pure-g'>\n                  <div class='pure-u-1'>\n                    <h4 class='uppercase opacity bold no-margin hide ng-class:{\"show\":!root.vars.guru_mode}' style='opacity:0.3; font-size:90%;'>Your Courses</h4>\n                  </div>\n                </div>\n                <div class='pure-u-1 padding-1em hide ng-class:{\"show\":!root.vars.guru_mode}' style='padding-left:0px; padding-right:0px;'>\n                    <span ng-repeat='course in user.student_courses' class='course-tag student-settings inline white-space-normal' style='letter-spacing:0em'>{{course.short_name}}</span><span ng-click='goToEditCourses()' class='button course-tag student-settings inline white-space-normal inverted hide ng-class:{\"show-inline\":user.student_courses.length > 0}'>Edit</span>\n                    <span ng-click='goToEditCourses()' class='button course-tag student-settings inline white-space-normal inverted hide ng-class:{\"show-inline\":user.student_courses.length === 0}'>Add A Class</span>\n                </div>\n              </div>\n            </div>\n\n\n             <div class='flex-item-c j-start'>\n\n                <div class='pure-u-1'>\n                  <div class='pure-g-c flex-column j-start'>\n                    <div class='pure-u-1 padding-1em no-padding-bottom '>\n                      <button class='button button-full button-black micro-text item-avatar-left relative' ng-show='user && !user.is_a_guru' style='padding-left:3em;' ng-click='goToBecomeGuru()'>\n                        <img class='pure-img absolute' ng-src='{{img_base}}./img/settings/become-guru-outline.svg' style='height:120%; top:0;'>\n                        Become a Guru\n                      </button>\n                      <button class='button button-full button-black micro-text item-avatar-left relative' ng-show='user && user.is_a_guru && !root.vars.guru_mode' style='padding-left:3em; height:50px;' ng-click='goToGuru()'>\n                        <img class='pure-img absolute' ng-src='{{img_base}}./img/settings/become-guru-outline.svg' style='height:60px; top:10%;'>\n                        Switch to Guru Mode\n                      </button>\n                      <button class='button button-full button-footer light-blue-bg micro-text relative white' ng-show='user && user.is_a_guru && root.vars.guru_mode' style='height:50px;' ng-click='goToStudent()'>\n                        Switch to Student Mode\n                      </button>\n                     </div>\n                  </div>\n                </div>\n              </div>\n\n\n        </div>\n\n\n      </div>\n\n\n      <!-- [Notifications] settings icon section -->\n\n      <div ng-show='settings.icons.notifications' class='relative full-height settings-notification'>\n        <div class=\"bar bar-header dark-bg-header mini-header uppercase\" style='width:auto;'>\n          <h1 class=\"title bold\">Notification Settings</h1>\n        </div>\n        <div class='pure-g-c flex-column flex-space-between'>\n\n          <div class='pure-g flex-item-c relative'>\n            <ion-list class='standard-bg full-width'>\n\n\n              <!-- <div class='item item-divider course-divider'>\n                <p class='uppercase opacity-3-4 micro-text'> Student Notifications </p>\n              </div> -->\n\n              <ion-toggle class='request-form-item'  ng-change=\"requestPushNotifications()\" ng-show='platform.mobile' ng-model=\"user.push_notifications\" toggle-class=\"toggle-calm\">\n                <p class='opacity-4-5'> Push Notifications </p>\n              </ion-toggle>\n\n              <ion-toggle class='request-form-item ng-class:{\"extra\":user.email && user.email.length > 0}' ng-model=\"user.email_notifications\" ng-change='emailNotificationChange()' toggle-class=\"toggle-calm\">\n                <p class='opacity-4-5'> Email Notifications</p>\n                <p class='opacity-6-10 nano-text'>{{user.email}}</p>\n              </ion-toggle>\n\n\n              <!-- <div class='item item-divider'>\n              </div>\n\n              <div class='item item-divider course-divider'>\n                <p class='uppercase opacity-3-4 micro-text'> Guru Notifications </p>\n              </div>\n\n              <ion-toggle class='request-form-item'>\n                <p class='opacity-4-5'> Options </p>\n              </ion-toggle>\n\n              <ion-toggle class='request-form-item'>\n                <p class='opacity-4-5'> Options </p>\n              </ion-toggle>\n\n              <ion-toggle class='request-form-item'>\n                <p class='opacity-4-5'> Options </p>\n              </ion-toggle>\n\n              <ion-toggle class='request-form-item'>\n                <p class='opacity-4-5'> Options </p>\n              </ion-toggle> -->\n\n            </ion-list>\n          </div>\n\n        </div>\n      </div>\n\n      <div ng-show='settings.icons.card' class='relative full-height cards-notification'>\n        <div class=\"bar bar-header dark-bg-header mini-header uppercase\" style='width:auto;'>\n          <h1 class=\"title bold\">Your Cards</h1>\n        </div>\n        <div class='pure-g-c flex-column flex-space-between'>\n          <div class='pure-g flex-item-c relative'>\n              <ion-list class='standard-bg full-width'>\n\n\n                <div class='item item-divider course-divider'>\n                  <p class='uppercase opacity-3-4 micro-text'> Payment Cards </p>\n                </div>\n\n\n                <ion-item class='request-item item-icon-right relative' ng-click='goToPaymentsFromSideBar()'>\n                  <p class='opacity-4-5 no-margin' style='padding-left:0.3em; font-size:80%;'>\n                    Add A New Account </p>\n                  <span class='card-icons-right'>\n                    <i class='icon ion-plus icon-small'> </i>\n                  </span>\n                </ion-item>\n\n\n                <ion-item  class='request-item item-icon-right relative' ng-repeat='payment_card in user.payment_cards' ng-click='goToPaymentsFromSideBar(payment_card)'>\n                  <span class='card-img'> <img ng-src='{{img_base}}./img/visa.png' class='pure-img' style='height:20px; display:inline-block;'/> </span>\n                  <p class='opacity-4-5' style='padding-left:3em; padding-right:3em;'>\n                    **{{payment_card.card_last4}} </p>\n                  <span class='card-icons-right'>\n                    <i class='icon ion-chevron-right icon-small'> </i>\n                    <i ng-show='payment_card.is_default_payment' class='icon ion-checkmark green'> </i>\n                  </span>\n                </ion-item>\n\n                <div class='item item-divider' ng-show='user && user.is_a_guru'>\n                </div>\n\n                <div class='item item-divider course-divider' ng-show='user && user.is_a_guru'>\n                  <p class='uppercase opacity-3-4 micro-text'> Bank Cards </p>\n                </div>\n\n                <ion-item class='request-item item-icon-right relative' ng-show='user && user.is_a_guru' ng-click='goToPaymentsFromSideBar()'>\n                  <p class='opacity-4-5 no-margin' style='padding-left:0.3em; font-size:80%;'>\n                    Add A New Bank Account </p>\n                  <span class='card-icons-right'>\n                    <i class='icon ion-plus icon-small'> </i>\n                  </span>\n                </ion-item>\n\n                <!-- <ion-item class='request-item item-icon-right relative'>\n                  <span class='card-img'> <img ng-src='{{img_base}}./img/visa.png' class='pure-img' style='height:20px; display:inline-block;'/> </span>\n                  <p class='opacity-4-5' style='padding-left:3em; padding-right:3em;'>\n                    **6190 </p>\n                  <span class='card-icons-right'>\n                    <i class='icon ion-chevron-right icon-small'> </i>\n                    <i class='icon ion-checkmark green'> </i>\n                  </span>\n                </ion-item>\n\n                <ion-item class='request-item item-icon-right relative'>\n                  <span class='card-img'> <img ng-src='{{img_base}}./img/visa.png' class='pure-img' style='height:20px; display:inline-block;'/> </span>\n                  <p class='opacity-4-5' style='padding-left:3em; padding-right:3em;'>\n                    **4242 </p>\n                  <span class='card-icons-right'>\n                    <i class='icon ion-chevron-right icon-small'> </i>\n                  </span>\n                </ion-item>\n\n                <ion-item class='request-item item-icon-right relative'>\n                  <span class='card-img'> <img ng-src='{{img_base}}./img/visa.png' class='pure-img' style='height:20px; display:inline-block;'/> </span>\n                  <p class='opacity-4-5' style='padding-left:3em; padding-right:3em;'>\n                    **9563 </p>\n                  <span class='card-icons-right'>\n                    <i class='icon ion-chevron-right icon-small'> </i>\n                  </span>\n                </ion-item> -->\n\n              </ion-list>\n          </div>\n        </div>\n      </div>\n\n      <div ng-show='settings.icons.support' class='relative full-height support-notification'>\n\n        <div class=\"bar bar-header dark-bg-header mini-header uppercase\" style='width:auto;'>\n          <h1 class=\"title bold\">Support</h1>\n        </div>\n         <div class='pure-g-c flex-column flex-space-between'>\n          <div class='pure-g flex-item-c relative j-start'>\n\n            <div class='pure-u-1 padding-1em' style='margin-top:44px;'>\n              <ion-scroll>\n              <div class='pure-g'>\n                <div class='pure-u-1-2 padding-half'>\n                  <div ng-click='setSupportIndex(1);' class='support-img-container dark-bg full-height padding-half ng-class:{\"blue-bg\":support_index === 1}'>\n                    <img ng-src='{{img_base}}./img/support/refund.svg' class='pure-img support-img card-img-support'\n                    >\n                    <p class='semibold white-text center' style='padding:0.5em 0em 0em 0em;'>\n                      Refund\n                    </p>\n                  </div>\n                </div>\n\n                <div class='pure-u-1-2 padding-half'>\n                  <div ng-click='setSupportIndex(2);' class='support-img-container dark-bg full-height padding-half ng-class:{\"blue-bg\":support_index === 2}'>\n                    <img ng-src='{{img_base}}./img/support/confused.svg' class='pure-img support-img card-img-confused'\n                    >\n                    <p class='semibold white-text center' style='padding:0.5em 0em 0em 0em;'>\n                      Confused\n                    </p>\n                  </div>\n                </div>\n\n              </div>\n              <div class='pure-g'>\n               <div class='pure-u-1-2 padding-half'>\n                  <div ng-click='setSupportIndex(3);'class='support-img-container dark-bg full-height padding-half ng-class:{\"blue-bg\":support_index === 3}'>\n                    <img ng-src='{{img_base}}./img/support/frustated.svg' class='pure-img support-img'\n                    >\n                    <p class='semibold white-text center' style='padding:0.5em 0em 0em 0em;'>\n                      Frustrated\n                    </p>\n                  </div>\n                </div>\n                <div class='pure-u-1-2 padding-half'>\n                  <div ng-click='setSupportIndex(4)' class='support-img-container dark-bg full-height padding-half ng-class:{\"blue-bg\":support_index === 4}'>\n                    <img ng-src='{{img_base}}./img/support/question.svg' class='pure-img support-img'\n                    >\n                    <p class='semibold white-text center' style='padding:0.5em 0em 0em 0em;'>\n                      Question\n                    </p>\n                  </div>\n                </div>\n              </div>\n              <div class='pure-g'>\n\n                <div class='pure-u-1-2 padding-half'>\n                  <div ng-click='setSupportIndex(5)' class='support-img-container dark-bg full-height padding-half ng-class:{\"blue-bg\":support_index === 5}'>\n                    <img ng-src='{{img_base}}./img/support/not-working.svg' class='pure-img support-img'\n                    >\n                    <p class='semibold white-text center' style='padding:0.5em 0em 0em 0em;'>\n                      Not working\n                    </p>\n                  </div>\n                </div>\n                <div class='pure-u-1-2 padding-half'>\n                  <div ng-click='setSupportIndex(6);'class='support-img-container dark-bg full-height padding-half ng-class:{\"blue-bg\":support_index === 6}'>\n                    <img ng-src='{{img_base}}./img/support/other.svg' class='pure-img support-img other-img-support'\n                    >\n                    <p class='semibold white-text center' style='padding:0.5em 0em 0em 0em;'>\n                      Other\n                    </p>\n                  </div>\n                </div>\n\n                </div>\n              <div class='pure-g'>\n                <div class='pure-u-1' keyboard-attach>\n\n                  <ion-list class='list-inset standard-bg'>\n\n\n                    <ion-list class='standard-bg flex-item-c pure-g j-start bg-transparent'>\n                      <ion-item class='pure-u-1 item-icon-right relative description-wrapper-item' ng-hide='progress'>\n                            <textarea id='description-input'  style='font-size:1em;' rows=\"5\" class='full-width' ng-model='supportTicket.description' placeholder='How can we help?'></textarea>\n                      </ion-item>\n                    </ion-list>\n\n                    <!-- <ion-item class='request-form-item item-icon-left' style='height:44px;'>\n                      <img style='margin-top:0.4em;'class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' src='{{img_base}}./img/icons/tags.svg'>\n                        <p class='empty-tags-placeholder opacity-1-2'>Add some tags (optional)</p>\n                    </ion-item> -->\n                  </ion-list>\n                  <button class='button button-full button-black light-blue-bg' ng-click='submitSupport()' style='font-size:80%;'>\n                    Submit\n                  </button>\n\n                </div>\n              </div>\n            </ion-scroll>\n            </div>\n          </div>\n        </div>\n\n        <input type='file' id='file-input-web-sidebar' onchange=\"angular.element(this).scope().file_changed(this)\" style='display:none'/>\n      </div>"),e.put("templates/components.side-menu.presignup.html","\n\n\n\n\n\n    <!-- default settings page for user who has not signed up -->\n    <div ng-show='settings.icons.presignup && !user.id' class='relative' style='height:90%;'>\n\n        <div ng-show='user && !user.id' class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n            <h1 class=\"title bold\">Welcome</h1>\n        </div>\n\n\n        <div class='pure-g-c flex-column flex-space-between full-height'>\n\n             <div class='pure-g flex-item-c center no-margin relative full-width'>\n\n                <div class='transparent-bg'>\n                    <div class='pure-u-1 regular padding-2em'>\n                      <h1 class='regular-text light no-margin' style='opacity:0.6'>\n                          Let <strong class='font-family:OpenSans-Regular;'> Uguru </strong> help you enjoy college\n                      </h1>\n                    </div>\n                </div>\n\n            </div>\n\n            <div class='flex-item-c j-end padding-1em' ng-show='user && !user.id'>\n\n              <div class='pure-u-1'>\n                <div class='pure-g-c flex-column j-end'>\n                  <div class='pure-u-1 padding-1em no-padding-bottom'>\n                    <button class='button button-full button-black micro-text fb-blue-bg'  ng-click='connectWithFacebook()'>Continue with Facebook\n                    </button>\n                  </div>\n                  <div class='pure-u-1 padding-half center' id=\"E2E_Email\" style='margin-top:0.5em;'>\n                        <a class='center grey nano-text normal' style='font-size:100%;' id=\"email\" ng-click='goToSignupFromSideBar()'> <strong class='uppercase'>sign up</strong> or <strong class='uppercase'>login</strong> via email </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n        </div>\n    </div>\n\n\n\n\n      <div class='relative full-height hide ng-class:{\"show\":settings.icons.profile && !user.id}' style='height:90%;'>\n        <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n          <h1 class=\"title bold\">Request Help</h1>\n        </div>\n\n\n        <div class='pure-g-c flex-column flex-space-between'>\n\n\n          <div class='pure-g flex-item-c center no-margin relative full-width'>\n\n              <div class='transparent-bg'>\n                  <div class='pure-u-1 regular padding-2em'>\n                    <h1 class='light regular-text no-margin'>\n                        Get Instant Help in Any Course\n                    </h1>\n                  </div>\n              </div>\n\n          </div>\n\n          <div class='pure-g flex-item-c j-start center no-margin'>\n\n            <div class='pure-g'>\n                  <div class='pure-u-1 padding-1em' style='padding-bottom:0.5em'>\n                    <h4 class='uppercase opacity bold no-margin' style='opacity:0.6; font-size:90%;'>Popular Courses This Week</h4>\n                  </div>\n                  <div class='pure-u-1'>\n                    <p class='micro-text regular no-margin' style='opacity:0.6;'>@ {{user.university.title}}</p>\n                  </div>\n\n                <div class='pure-u-1 padding-1em' style='padding-left:0px; padding-right:0px;'>\n                    <span class='course-tag student-settings inline white-space-normal' style='letter-spacing:0em'>CS10</span>\n                    <span class='course-tag student-settings inline white-space-normal' style='letter-spacing:0em'>BIO 1A</span>\n                    <span class='course-tag student-settings inline white-space-normal' style='letter-spacing:0em'>Math 54</span>\n                    <span class='course-tag student-settings inline white-space-normal' style='letter-spacing:0em'>Poly Sci 1</span>\n                </div>\n              </div>\n\n          </div>\n\n          <div class='flex-item-c j-end padding-1em' ng-show='user && !user.id'>\n\n              <div class='pure-u-1'>\n                <div class='pure-g-c flex-column j-end'>\n                  <div class='pure-u-1 padding-1em no-padding-bottom'>\n                    <button class='button button-full button-black micro-text fb-blue-bg'  ng-click='connectWithFacebook()'>Continue with Facebook\n                    </button>\n                  </div>\n                  <div class='pure-u-1 padding-half center' id=\"E2E_Email\">\n                        <a class='center grey nano-text normal' id=\"email\" ng-click='goToSignupFromSideBar()'> <strong class='uppercase'>sign up</strong> or <strong class='uppercase'>login</strong> with email </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n        </div>\n      </div>\n\n      <div class='relative full-height  hide ng-class:{\"show\":settings.icons.notifications && !user.id}' style='height:90%;'>\n        <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n          <h1 class=\"title bold\">Become a Guru</h1>\n        </div>\n\n\n        <div class='pure-g-c flex-column flex-space-between'>\n\n\n          <div class='flex-item-c pure-g center j-center'>\n            <div class='pure-u-1 padding-2em' style='padding-bottom:1em;'>\n                <img class='pure-img guru-bg-img' src='{{img_base}}./img/cashout/cash-guru.svg'/>\n            </div>\n          </div>\n\n          <div class='pure-g flex-item-c center no-margin relative full-width j-end'>\n\n              <div class='transparent-bg'>\n                  <div class='pure-u-1 regular padding-2em'>\n                    <h1 class='light regular-text no-margin'>\n                        Make Money on Courses and Skills\n                    </h1>\n                  </div>\n              </div>\n\n          </div>\n\n          <div class='flex-item-c j-end padding-1em'>\n\n                <div class='pure-u-1'>\n                  <div class='pure-g-c flex-column j-end'>\n                    <div class='pure-u-1 padding-1em no-padding-bottom'>\n                      <button class='button button-full button-black micro-text'  ng-click='goToBecomeGuru()'>Become a Guru\n                      </button>\n                     </div>\n                  </div>\n                </div>\n                <div class='pure-u-1 padding-half center' id=\"E2E_Email\">\n                    <a class='center grey nano-text normal' id=\"email\" ng-click='goToSignupFromSideBar()'> <strong class='uppercase'>&nbsp;&nbsp;</a>\n                </div>\n          </div>\n\n        </div>\n\n\n\n      </div>\n\n      <div class='relative full-height hide ng-class:{\"show\":settings.icons.card && !user.id}' style='height:90%;'>\n        <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n          <h1 class=\"title bold\">Uguru Fresh</h1>\n        </div>\n\n\n        <div class='pure-g-c flex-column flex-space-between'>\n\n\n          <div class='pure-g flex-item-c center no-margin relative full-width j-end'>\n              <div class='transparent-bg'>\n                  <div class='pure-u-1 regular padding-2em'>\n                    <h1 class='light regular-text no-margin'>\n                        Too lazy to laundry?\n                    </h1>\n                  </div>\n              </div>\n          </div>\n\n          <div class='pure-g flex-item-c j-end center no-margin'>\n\n            <div class='pure-g'>\n                  <div class='pure-u-1 padding-1em' style='padding-bottom:0.5em'>\n                    <div class='pure-u-1'>\n                      <p class='micro-text regular no-margin' style='opacity:0.6;'>Popular this week</p>\n                    </div>\n                  </div>\n            </div>\n            <div class='pure-u-1 chores-wrapper' style='margin-top:2%'>\n                <a class='course-tag skill-tag' ng-repeat='chore in static.chores_skills'>{{chore.name.toUpperCase()}}</a>\n            </div>\n          </div>\n\n          <div class='flex-item-c j-end padding-1em'>\n\n              <div class='pure-u-1'>\n                <div class='pure-g-c flex-column j-end'>\n                  <div class='pure-u-1 padding-1em no-padding-bottom'>\n                    <button class='button button-full button-black micro-text fb-blue-bg'  ng-click='connectWithFacebook()'>Continue with Facebook\n                    </button>\n                  </div>\n                  <div class='pure-u-1 padding-half center' id=\"E2E_Email\">\n                        <a class='center grey nano-text normal' id=\"email\" ng-click='goToSignupFromSideBar()'> <strong class='uppercase'>sign up</strong> or <strong class='uppercase'>login</strong> with email </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n        </div>\n      </div>\n\n      <div class='relative full-height hide ng-class:{\"show\":settings.icons.support && !user.id}' style='height:90%;'>\n        <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n          <h1 class=\"title bold\">Grub Guru</h1>\n        </div>\n\n\n        <div class='pure-g-c flex-column flex-space-between'>\n\n\n          <div class='pure-g flex-item-c center no-margin relative full-width j-end'>\n              <div class='transparent-bg'>\n                  <div class='pure-u-1 regular padding-2em'>\n                    <h1 class='light regular-text no-margin'>\n                        Too hungry to get food?\n                    </h1>\n                  </div>\n              </div>\n          </div>\n\n          <div class='pure-g flex-item-c j-end center no-margin'>\n\n            <div class='pure-g'>\n                  <div class='pure-u-1 padding-1em' style='padding-bottom:0.5em'>\n                    <div class='pure-u-1'>\n                      <p class='micro-text regular no-margin' style='opacity:0.6;'>Popular this week</p>\n                    </div>\n                  </div>\n            </div>\n            <div class='pure-u-1 course-wrapper' style='margin-top:2%'>\n                <a class='course-tag skill-tag'>Cream Ice Cream</a>\n                <a class='course-tag skill-tag'>La Burrita</a>\n                <a class='course-tag skill-tag'>Taco Bell Late</a>\n                <a class='course-tag skill-tag'>Starbucks Coffee</a>\n            </div>\n          </div>\n\n          <div class='flex-item-c j-end padding-1em'>\n\n              <div class='pure-u-1'>\n                <div class='pure-g-c flex-column j-end'>\n                  <div class='pure-u-1 padding-1em no-padding-bottom'>\n                    <button class='button button-full button-black micro-text fb-blue-bg'  ng-click='connectWithFacebook()'>Continue with Facebook\n                    </button>\n                  </div>\n                  <div class='pure-u-1 padding-half center' id=\"E2E_Email\">\n                        <a class='center grey nano-text normal' id=\"email\" ng-click='goToSignupFromSideBar()'> <strong class='uppercase'>sign up</strong> or <strong class='uppercase'>login</strong> with email </a>\n                  </div>\n                </div>\n              </div>\n          </div>\n\n\n        </div>\n      </div>\n\n\n      <div class='relative full-height hide ng-class:{\"show\":settings.icons.guru && !user.id}' style='height:90%;'>\n        <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n          <h1 class=\"title bold\">24hr Tech Stop</h1>\n        </div>\n\n\n        <div class='pure-g-c flex-column flex-space-between'>\n\n\n          <div class='pure-g flex-item-c center no-margin relative full-width j-end'>\n              <div class='transparent-bg'>\n                  <div class='pure-u-1 regular padding-2em'>\n                    <h1 class='light regular-text no-margin'>\n                        <strong>WTF</strong> just happened to my laptop?\n                    </h1>\n                  </div>\n              </div>\n          </div>\n\n          <div class='pure-g flex-item-c j-end center no-margin'>\n            <div class='pure-g'>\n                  <div class='pure-u-1 padding-1em' style='padding-bottom:0.5em'>\n                    <div class='pure-u-1'>\n                      <p class='micro-text regular no-margin' style='opacity:0.6;'>Popular this week</p>\n                    </div>\n                  </div>\n            </div>\n            <div class='pure-u-1 skilled-wrapper' style='margin-top:2%'>\n                <a class='course-tag skill-tag'>I need internetz</a>\n                <a class='course-tag skill-tag'>Windows - IDK</a>\n                <a class='course-tag skill-tag'>Laptop Crashed</a>\n                <a class='course-tag skill-tag'>Starbucks Coffee</a>\n            </div>\n          </div>\n\n          <div class='flex-item-c j-end padding-1em'>\n\n              <div class='pure-u-1'>\n                <div class='pure-g-c flex-column j-end'>\n                  <div class='pure-u-1 padding-1em no-padding-bottom'>\n                    <button class='button button-full button-black micro-text fb-blue-bg'  ng-click='connectWithFacebook()'>Continue with Facebook\n                    </button>\n                  </div>\n                  <div class='pure-u-1 padding-half center' id=\"E2E_Email\">\n                        <a class='center grey nano-text normal' id=\"email\" ng-click='goToSignupFromSideBar()'> <strong class='uppercase'>sign up</strong> or <strong class='uppercase'>login</strong> with email </a>\n                  </div>\n                </div>\n              </div>\n          </div>\n\n        </div>\n      </div>\n\n       <div class='relative full-height hide ng-class:{\"show\":settings.icons.groceries && !user.id}' style='height:90%;'>\n        <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n          <h1 class=\"title bold\">Delivery Guru</h1>\n        </div>\n\n\n        <div class='pure-g-c flex-column flex-space-between'>\n\n\n          <div class='pure-g flex-item-c center no-margin relative full-width'>\n              <div class='transparent-bg'>\n                  <div class='pure-u-1 regular padding-2em'>\n                    <h1 class='light regular-text no-margin'>\n                        Why move when you can sit?\n                    </h1>\n                  </div>\n              </div>\n          </div>\n\n          <div class='pure-g flex-item-c j-end center no-margin'>\n            <div class='pure-g'>\n                  <div class='pure-u-1 padding-1em' style='padding-bottom:0.5em'>\n                    <div class='pure-u-1'>\n                      <p class='micro-text regular no-margin' style='opacity:0.6;'>Popular this week</p>\n                    </div>\n                  </div>\n            </div>\n            <div class='pure-u-1 labor-wrapper' style='margin-top:2%'>\n                <a class='course-tag skill-tag' ng-click='addSelectedGuruSkill(labor_skill)' ng-repeat='labor_skill in static.labor_skills'>{{labor_skill.name.toUpperCase()}}</a>\n            </div>\n          </div>\n\n          <div class='flex-item-c j-end padding-1em'>\n\n              <div class='pure-u-1'>\n                <div class='pure-g-c flex-column j-end'>\n                  <div class='pure-u-1 padding-1em no-padding-bottom'>\n                    <button class='button button-full button-black micro-text fb-blue-bg'  ng-click='connectWithFacebook()'>Continue with Facebook\n                    </button>\n                  </div>\n                  <div class='pure-u-1 padding-half center' id=\"E2E_Email\">\n                        <a class='center grey nano-text normal' id=\"email\" ng-click='goToSignupFromSideBar()'> <strong class='uppercase'>sign up</strong> or <strong class='uppercase'>login</strong> with email </a>\n                  </div>\n                </div>\n              </div>\n          </div>\n\n        </div>\n      </div>\n"),
e.put("templates/contacting.modal.html","<ion-modal-view class='contacting-modal'>\n  <ion-content class='white-text dark-bg' scroll='false' >\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='flex-item-c center'>\n        </div>\n        <div class='flex-item-c'>\n\n          <div class='pure-g icon-row'>\n                <div class='pure-u-1-5 padding-half'>\n                  <img class='pure-img' ng-src='{{img_base}}./img/verbs/question.svg'/>\n                </div>\n                <div class='pure-u-1-5 padding-half'>\n                  <img class='pure-img' ng-src='{{img_base}}./img/verbs/session.svg' />\n                </div>\n\n                <div class='pure-u-1-5 padding-half'>\n                  <img class='pure-img' ng-src='{{img_base}}./img/verbs/guru.svg' />\n                </div>\n\n                <div class='pure-u-1-5 padding-half' >\n                  <img class='pure-img' ng-src='{{img_base}}./img/verbs/wheel.svg' />\n                </div>\n                <div class='pure-u-1-5 padding-half'>\n                  <img class='pure-img' ng-src='{{img_base}}./img/verbs/specific.svg' />\n                </div>\n          </div>\n\n\n          <div class='pure-g'>\n\n            <div class='pure-u-1 padding-top-2em'>\n              <p class='standard center' ng-show='root.vars.request.type.session'>\n              Submitting your <strong class='semibold capitalized'> {{root.vars.request.course.short_name}} request</strong>! </p>\n              <p class='standard center' ng-show='root.vars.request.type.question'>\n              Submitting your <strong class='semibold capitalized'> {{root.vars.request.course.short_name}} question</strong>!\n              </p>\n              <p class='standard center' ng-show='root.vars.request.type.task'>\n              Submitting your <strong class='semibold capitalized'> {{root.vars.request.category}} task</strong>!\n              </p>\n              <p class='standard center no-margin' style='padding-top:5px;'>\n              Let's find you a Guru!\n              </p>\n            </div>\n\n          </div>\n\n          <div class='pure-g padding-top-2em'>\n\n            <div class='pure-u-1 white-bg request-info-wrapper'>\n\n\n              <ion-list>\n\n                <ion-item class='item-icon-right request-card-item'>\n                <!-- <ion-item class='item-avatar item-icon-right request-card-item'> -->\n                  <!-- <img class='pure-img' ng-src='{{img_base}}./img/verbs/session.svg' /> -->\n                  <div class='request-card-content'>\n                    <p class='course-text'>\n                      <span ng-show='root.vars.request.type.session || root.vars.request.type.question'>\n                        {{root.vars.request.course.short_name}}\n                      </span>\n                      <span ng-show='root.vars.request.type.task' class='transform-capitalize'>\n                        {{root.vars.request.task_title}}\n                      </span>\n                      <span class='request-tag-status'> {{root.vars.request.fields.initial_status}} </span>\n                    </p>\n                    <p class='location-text' ng-show='root.vars.request.type.session'> {{root.vars.request.address}}</p>\n                  </div>\n                  <!-- <i class='icon ion-chevron-right icon-small'> </i> -->\n                </ion-item>\n\n                <ion-item class='item-wrap-text'>\n                <!-- <ion-item class='item-avatar item-wrap-text'> -->\n                  <p class='request-description' ng-show='root.vars.request.type.session'>\n\n                    <!-- required -->\n                    <strong> {{root.vars.request.calendar.weekday}}\n                    </strong>\n\n                    <!-- not all have calendars -->\n                    <span class='calendar-availability-contact' ng-show='root.vars.request.calendar.formatted_start_time'>\n                       between <strong>{{root.vars.request.calendar.formatted_start_time}} & {{root.vars.request.calendar.formatted_end_time}}</strong>\n                    </span>\n\n\n                    <!-- required -->\n                    for <strong>3.5 hours</strong>.\n\n                     <span ng-show=\"root.vars.request.description\">\n                      <strong>Description</strong>\n                     </span>\n\n                     <span ng-show='root.vars.request.description && root.vars.request.files_attached.length > 0 '>\n                      and\n                     </span>\n\n                      <span ng-show=\"root.vars.request.files_attached.length > 0\">\n                        <strong>Attachments</strong>\n                      </span>\n\n                      <span ng-show='root.vars.request.description && root.vars.request.files_attached.length > 0 '>\n                        have been added.\n                      </span>\n                      <span ng-show='!root.vars.request.description && root.vars.request.files_attached.length > 0 '>\n                        have been added.\n                      </span>\n                      <span ng-show='root.vars.request.description && !root.vars.request.files_attached.length > 0 '>\n                        has been added.\n                      </span>\n                  </p>\n                  <p class='request-description' ng-show='root.vars.request.type.question'>\n                    {{root.vars.request.description}}\n                  </p>\n                  <p class='request-description' ng-show='root.vars.request.type.task'>\n                    {{root.vars.request.description}}\n                  </p>\n                </ion-item>\n\n                <ion-item class='item-wrap-text item-icon-left' ng-show='root.vars.request.tags.length > 0' style='padding:12px 0px 10px 44px;'>\n                    <!-- <div class='pure-g'> -->\n                      <img style='margin-top: 4%; 'class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' ng-src='{{img_base}}./img/icons/tags.svg'/>\n                      <p class='blue'><span class='inline'ng-repeat='tag in root.vars.request.tags'>#{{tag}}</span></p>\n                    <!-- </div> -->\n                </ion-item>\n\n                <ion-item class='item-wrap-text item-icon-left' ng-show='root.vars.request.type.task'>\n                  <img style='margin-top:0.4em;' class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' ng-src='{{img_base}}./img/icons/location.svg'/>\n                  <p class='request-description'>\n                    {{root.vars.request.address}}\n                  </p>\n                </ion-item>\n\n              </ion-list>\n\n            </div>\n\n          </div>\n\n        </div>\n\n        <div class='flex-item-c j-center center' ng-show='(root.vars.request.type.task || root.vars.request.type.question) && root.vars.request.student_price > 0'>\n            <div class='pure-g'>\n                <div class='pure-u-1-3'>\n                  &nbsp;\n                </div>\n                <div class='pure-u-1-3'>\n                  <div class='pure-g' style='margin-top:1em;'>\n                    <div class='pure-u-1-2 white-bg border-radius-circular-left'>\n                      <img style='margin-left:0.3em;'class='pure-img' ng-src='{{img_base}}./img/icons/stacks.svg'/>\n                    </div>\n                    <div class='pure-u-1-2 white-bg grey-text flex-item-c border-radius-circular-right'>\n                      <h4 class='grey-text semibold' style='padding-right:0.85em'>\n                      ${{root.vars.request.student_price}}\n                      </h4>\n                    </div>\n                  </div>\n                </div>\n            </div>\n            <div class='pure-g'>\n              <div class='pure-u-1 padding-half' style='padding-top:0em; margin-top:5%;'>\n                <p class='center micro-text opacity-6-10 white-text white-space-normal'>We'll only charge you after <br> your question is answered.</p>\n              </div>\n            </div>\n        </div>\n\n        <div class='flex-item-c j-end center'>\n          <div class='pure-u-1 padding-bottom-2em'>\n            <a class='close-modal-link' ng-click='closeContactingModal()'>\n              <p class='standard micro-text'>\n                Uh oh! Cancel\n              </p>\n            </a>\n          </div>\n        </div>\n\n      </div>\n  </ion-content>\n</ion-modal-view>"),e.put("templates/courses.html","<ion-view hide-nav-bar='true' class='courses' ng-controller='HomeController'>\n  <ion-header-bar class='dark-bg-header item-button-left item-icon-right'>\n        <!-- <button ng-click='launchVerbModal()' class=\"button button-clear button-blue\">Edit</button> -->\n        <h1 class=\"title\">My Courses</h1>\n        <div class=\"buttons\">\n          <a ng-click='showCourseInput = !showCourseInput;' class='ng-class:{\"hide\":showCourseInput}'>\n            <img class='icon ion-plus-custom blue custom-icon' style='top:0.33em !important;' ng-src='{{img_base}}./img/icons/blue_add.svg'></img>\n          </a>\n        <button class=\"button button-clear cancel-button white-text ng-class:{'hide':!showCourseInput}\" ng-click='cancelStudentAddCourse()'>Cancel</button>\n        </div>\n  </ion-header-bar>\n<ion-content class='dark-bg' ng-controller='CoursesController'>\n    <div class='pure-g' ng-show='showCourseInput'>\n      <div class=\"list pure-u-1\">\n        <label class=\"item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2\">\n                <i class='icon ion-search onboarding-search-icon' ng-hide=\"studentCourseInput.value.length > 0\"></i>\n                    <input id='student-course-input' type=\"text\" class='ng-class:{\"align-left-start\":studentCourseInput.value.length > 0}'\n                      fast-matcher\n                      fast-matcher-source=\"courses\"\n                      fast-matcher-output=\"matchingCourses\"\n                      fast-matcher-properties=\"short_name, title\"\n                      fast-matcher-any-word=\"true\"\n                      fast-matcher-limit=\"10\"\n                      fast-matcher-preserve-order=\"true\"\n                      fast-matcher-case-insensitive=\"true\"\n                      placeholder=\"Search Available Courses\"\n                      ng-model = \"search_text\"\n                    />\n              </span>\n          </label>\n        </div>\n    </div>\n    <ion-list ng-show='studentCourseInput.value.length > 0'>\n        <ion-item class='item-button-right request-form-item course-item major-item' ng-repeat='course in matchingCourses' ng-click='addSelectedStudentCourse(course, course_search_text)'>\n          <p class='semibold'> {{course.short_name}} <span class='course-title'> {{course.title}} </span> </p>\n        </ion-item>\n    </ion-list>\n    <div class='pure-g-c flex-column flex-space-between' ng-show='(!studentCourseInput || studentCourseInput.value.length === 0) && user.student_courses && user.student_courses.length > 0'>\n\n      <div class='flex-item-c'>\n        <ion-list class='no-horizontal-padding dark-bg pure-u-1' show-delete=\"shouldShowDelete\" can-swipe='listCanSwipe' >\n          <ion-item class='uppercase light item-icon-right dark-bg add-course-item' ng-repeat='course in user.student_courses'>\n            {{course.short_name}}\n            <ion-option-button class='item-options' ng-click=\"user.student_courses.splice($index, 1)\">\n              Delete\n            </ion-option-button>\n          </ion-item>\n\n        </ion-list>\n      </div>\n        <div class='pure-g j-start'>\n            <div class='pure-u-1 add-more-courses-button-wrapper'>\n               <a ng-click='showCourseInput = !showCourseInput'>\n                  <img class='pure-img guru-bg-img' src='{{img_base}}./img/verbs/session.svg'>\n                  <div id='add-more-courses-text' class='pure-u-1 micro-text center blue-text'>\n                      Add more Courses\n                  </div>\n               </a>\n            </div>\n        </div>\n    </div>\n\n\n     <div class='pure-g-c flex-column flex-space-between' ng-show='!user.student_courses || user.student_courses.length === 0' style='margin-top:33%;'>\n        <div class='flex-item-c pure-g center'>\n            <div class='pure-u-1'>\n                <img class='pure-img guru-bg-img' src='{{img_base}}./img/general/logo-01.svg'/>\n            </div>\n            <div class='pure-u-1 margin-top-half'>\n                <p class='light-font center white-text padding-1em content-header-text'>\n                    Add your courses by <br>\n                    creating a request!\n                </p>\n            </div>\n            <a ng-click='launchVerbModal()'>\n              <div class='pure-u-1 margin-top-half'>\n                  <img class='pure-img home-request-button' src='{{img_base}}./img/request/button-01.svg'>\n              </div>\n              <div class='pure-u-1 micro-text center blue-text' id='request-button-text'>\n                  Request\n              </div>\n            </a>\n        </div>\n    </div>\n\n</ion-content>\n\n<div class=\"tabs tabs-icon-only dark-bg\">\n  <a class=\"tab-item\" id='home-button' href='#/new-home' nav-direction=\"swap\">\n    <img class='pure-img icon' src='{{img_base}}./img/request/house-icon.svg'></i>\n  </a>\n  <a class=\"tab-item\" href='#/courses' nav-direction='swap' id='questions-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/guru_book_blue.svg'></i>\n  </a>\n  <!-- <a class=\"tab-item\" href='#/browse' nav-direction='swap' id='browse-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/search.svg'></i>\n  </a> -->\n  <a class=\"tab-item\">\n  </a>\n  <a class=\"tab-item\">\n  </a>\n  <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/settings.svg'/>\n  </a>\n</div>\n\n\n</ion-view>\n"),e.put("templates/description.modal.html","<ion-modal-view  class='description-modal' ng-controller='DescriptionController'>\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header calendar-top-header mini-header' hide-nav-bar='true'>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link\" ng-click='closeDescriptionModal()'>Cancel</button>\n    </div>\n    <h1 class=\"title micro-text modal-header-text\" style='padding-left:5px;'>Describe your problem</h1>\n      <a class=\"button button-clear button-blue button-header-link \" ng-click='saveDescriptionAndCloseModal()'>\n        Done\n      </a>\n  </ion-header-bar>\n\n  <ion-content scroll='false' class='white-bg'>\n    <div class='pure-g-c flex-column flex-space-between'>\n        <ion-list class='standard-bg flex-item-c pure-g j-start bg-transparent'>\n          <ion-item class='pure-u-1 item-icon-right relative description-wrapper-item' ng-hide='progress'>\n                <a ng-click='showAttachActionSheet()'>\n                  <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon request-icon' ng-src='{{img_base}}./img/icons/paperclip.svg'>\n                </a>\n                <textarea id='description-input'  style='padding-right:3em; font-size:1.25em;' rows=\"10\" class='full-width' ng-model='request.description' placeholder='Describe your problem (optional)'></textarea>\n          </ion-item>\n        </ion-list>\n    </div>\n  </ion-content>\n  <input type='file' id='file-input-web' onchange=\"angular.element(this).scope().file_changed(this)\">\n\n  <ion-footer-bar class=\"bar-footer\" keyboard-attach style='height:auto;'>\n    <div class='pure-g full-width'>\n      <div class='pure-u-1' ng-show='request.files && request.files.length > 0'>\n        <div class='pure-u-1-4' ng-repeat='file in request.files track by $index' ng-show='true || request && request.files && request.files.length > 0'>\n          <div class='attach-img-wrapper padding-1em relative'>\n            <a ng-click='deleteFile($index)' >\n              <i class='icon absolute-icon ion-close attach-icon'></i>\n            </a>\n            <div class=\"attach-img\" style='background-image:url(\"{{file.url}}\")'>\n            </div>\n          </div>\n        </div>\n      </div>\n    <div class='pure-u-1 tag-input-wrapper'>\n        <label class=\"item item-input relative\" ng-click='launchTagsModal()'>\n          <img style='margin-top:0.4em;'class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' ng-src='{{img_base}}./img/icons/tags.svg'>\n          <p class='empty-tags-placeholder opacity-1-2' style='margin-top:0.4em;' ng-show='!request.tags || request.tags.length === 0'>Add some tags (optional)</p>\n          <p class='tags-wrapper'>&nbsp;<span class='blue request-tag' ng-repeat='tag in request.tags'>#{{tag}} </span> </p>\n        </label>\n      </div>\n    </div>\n  </ion-footer>\n</ion-modal-view>"),e.put("templates/generalConfirmPopup.html",'\n  <div class=\'confirm-popover-prompt\'>\n    <div class=\'row\'>\n      <div class="col padding-2em">\n        <div class="center img-container padding-2em">\n            <img src=\'./img/uguru-04.png\' class=\'pure-img\'>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col">\n        <h1 id=\'popover-header\' class=\'center\'>{{confirmPopupOptions.header}}\n          </h1>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <p ng-bind-html="confirmPopupOptions.body" class=\'center margin-half\'>\n        </p>\n      </div>\n    </div>\n    <div class=\'row call-to-action\'>\n      <div class="col">\n        <button class="button button-full button-positive button-prompt" id="popup-positive-btn">\n          {{confirmPopupOptions.positiveBtnText}}!\n        </button>\n        <a class="prompt-cancel" id="popup-cancel-btn">\n          {{confirmPopupOptions.negativeBtnText}}\n        </a>\n      </div>\n    </div>\n  </div>'),e.put("templates/generalPopover.html",'\n<div class="popover" ng-controller="StudentHomeController" style="margin-top:-33px; width:90%; max-width:none; padding:12px; border-radius:16px;">\n  <div class="arrow"></div>\n  <!-- <h3 class="popover-title" ng-bind="templateOptions.title" ng-show="templateOptions.title"></h3> -->\n  <div class="popover-content">\n  	<div class="row">\n      <div class="col">\n        <p style="font-size:7vmin; color:rgba(0,0,0,0.7)"class="bold-font center font-24 line-height-120">{{templateOptions.title}}</p>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <p style="font-size:15px;"class="osreg-font center grey" ng-bind-html="templateOptions.body">\n        </p>\n      </div>\n    </div>\n	<button class="button button-full button-positive" ng-click="hideTooltip()"\n  	ng-show="templateOptions.buttonText">{{templateOptions.buttonText}}</button>\n  </div>\n</div>'),e.put("templates/guru-courses.html","<ion-view hide-nav-bar='true' class='courses' ng-controller='GuruController'>\n  <ion-header-bar class='dark-bg-header item-button-left item-icon-right'>\n        <!-- <button ng-click='launchVerbModal()' class=\"button button-clear button-blue\">Edit</button> -->\n        <h1 class=\"title\">I can teach..</h1>\n  </ion-header-bar>\n<ion-content class='white-bg standard-bg' ng-controller='CoursesController'>\n\n    <div class='pure-g-c flex-column flex-space-between'>\n      <ion-list class='standard-bg'>\n        <ion-item ng-show='editCourseMode' class='item-avatar-left item-mini course-input-item item-icon-right guru-course-input-wrapper' ng-click='focusCourseInput()'>\n              <img class='pure-img'  src='{{img_base}}./img/verbs/session.svg'/>\n              <input type='text' name=\"course-input\" class='light input-lg guru-course-input course-input form-control'id='guru-course-input' ng-click='focusCourseInput()'\n                  fast-matcher\n                  fast-matcher-source=\"root.vars.courses\"\n                  fast-matcher-output=\"root.vars.matchingCourses\"\n                  fast-matcher-properties=\"short_name, title\"\n                  fast-matcher-any-word=\"true\"\n                  fast-matcher-limit=\"5\"\n                  fast-matcher-preserve-order=\"true\"\n                  fast-matcher-case-insensitive=\"true\"\n                  placeholder=\"Add a Course to Teach\"\n                  ng-model = \"course_search_text\"\n                  ng-change = \"updateProgress(course_search_text)\"\n\n              />\n        </ion-item>\n\n        <div class='autocomplete-wrapper' ng-show='progress && root.vars.matchingCourses.length > 0'>\n            <div class='item item-divider course-divider'>\n              <p class='uppercase opacity-3-4 micro-text'> Suggestions </p>\n            </div>\n            <ion-item class='course-item' ng-repeat='course in root.vars.matchingCourses' ng-click='addSelectedGuruCourse(course, course_search_text)'>\n              <span class='course-name'> {{course.short_name}} </span> <span class='course-title'> {{course.title}} </span>\n            </ion-item>\n        </div>\n\n      </ion-list>\n\n\n      <div class='flex-item-c' ng-show='!progress'>\n        <ion-list class='no-horizontal-padding standard-bg black opacity-1-2 pure-u-1' show-delete=\"shouldShowDelete\" can-swipe='listCanSwipe' >\n          <ion-item class='uppercase item-icon-right standard-bg' ng-repeat='course in user.guru_courses'>\n            {{course.short_name}}\n            <!-- <ion-option-button class='item-options' ng-click=\"removeGuruCourseAndUpdate($index)\">\n              Delete\n            </ion-option-button> -->\n          </ion-item>\n\n        </ion-list>\n      </div>\n        <div class='pure-g j-start'>\n            <div class='pure-u-1 add-more-courses-button-wrapper'>\n               <a ng-click='toggleEditGuru()'>\n                  <img class='pure-img guru-bg-img' src='{{img_base}}./img/verbs/session.svg'>\n                  <div id='add-more-courses-text' class='pure-u-1 micro-text center blue-text'>\n                      Add More Skills\n                  </div>\n               </a>\n            </div>\n        </div>\n    </div>\n\n</ion-content>\n\n<div class=\"tabs tabs-icon-only white-bg\" id='guru-tab-bar'>\n  <a class=\"tab-item\" id='home-button' href='#/guru' nav-direction='home'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/house-icon-outline.svg'></i>\n  </a>\n  <a class=\"tab-item\" id='guru-courses-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/guru_book_blue.svg'></i>\n  </a>\n  <a class=\"tab-item\" href='#/guru-questions' nav-direction='swap' id='questions-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/icons/question.svg'></i>\n  </a>\n  <a class=\"tab-item\" id='browse-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/icons/task.svg'></i>\n  </a>\n  <a class=\"tab-item\">\n  </a>\n  <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/settings-tab-guru.svg'/>\n  </a>\n</div>\n\n\n</ion-view>\n"),e.put("templates/guru.bill-student.html","<ion-view hide-nav-bar='true' class='cashout'>\n  <ion-header-bar class='dark-bg-header'>\n      <h1 class=\"title\">Bill a Student</h1>\n  </ion-header-bar>\n<ion-content class='white-bg flex-item flex-direction' scroll='false'>\n\n        <div class='pure-g-c flex-column flex-space-between full-height' ng-show='!showHistory'>\n\n          <div class='flex-item-c pure-g center j-center'>\n            <div class='pure-g'>\n              <div class='pure-u-1'>\n                <div class='pure-g'>\n                  <div class='pure-u-1-2'>\n\n                    <h3 class='opacity-1-2 light black-text'>\n                      Student:\n                    </h3>\n\n                  </div>\n                  <div class='pure-u-1-2'>\n\n                    <h3 class='left semibold opacity-2-3'>\n                      Randy K. <i class='icon ion-arrow-down-b' style='opacity:0.3;'> </i>\n                    </h3>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class='pure-g'>\n              <div class='pure-u-1'>\n                <div class='pure-g'>\n                  <div class='pure-u-1-2'>\n\n                    <h3 class='opacity-1-2 light black-text no-margin' style='line-height: 2.25em;'>\n                      Amount:\n                    </h3>\n\n                  </div>\n                  <div class='pure-u-1-2'>\n                      <h1 class='left semibold opacity-3-5 no-margin inline' style='font-size:300%;'>\n                        $\n                      </h1>\n                      <input type='tel' class='bill-student-input' placeholder='10.00'> </input>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class='pure-g'>\n              <div class='pure-u-1 padding-2em'>\n                  <p style='opacity:0.25; font-size:110%;'>\n                    <strong>Important:</strong> No transaction fees!  <br>\n                    Service is free :)\n                  </p>\n              </div>\n            </div>\n\n          </div>\n\n           <div class='flex-item-c pure-g center j-end'>\n            <div class='pure-u-1 padding-1em' style='padding-left:1em; padding-right:1em;'>\n              <a href='#/ranking' style='line-height:4em;' nav-direction='forward' class='button button-full light-blue-bg button-footer white-text uppercase no-margin'>Send Bill</a>\n            </div>\n          </div>\n\n        </div>\n\n\n</ion-content>\n</ion-view>\n"),e.put("templates/guru.cashout.html","<ion-view hide-nav-bar='true' class='cashout'>\n  <ion-header-bar class='dark-bg-header'>\n      <div class=\"buttons\">\n        <button class=\"button button-clear button-header-link cancel-button\" ng-click='goBack()'>back</button>\n      </div>\n\n      <h1 class=\"title\">MAKE THAT BANK</h1>\n  </ion-header-bar>\n\n  <div class=\"tabs home-request-tabs-top tabs-top\">\n\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':!showHistory, 'opacity-1-2':showHistory}\" ng-click='showHistory = false;'>\n        Cashout\n      </a>\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':showHistory, 'opacity-1-2':!showHistory}\" ng-click='showHistory = true;'>\n        History\n      </a>\n  </div>\n\n<ion-content class='white-bg standard-bg max-height cashout-content-wrapper' style='top:88px;'>\n\n    <!-- Cash out page -->\n    <div class='pure-g-c flex-column flex-space-between full-height' ng-show='!showHistory'>\n        <div class='flex-item-c pure-g center j-center'>\n            <div class='pure-u-1 padding-3em' style='padding-bottom:1em;'>\n                <img class='pure-img guru-bg-img' src='{{img_base}}./img/cashout/cash-guru.svg'/>\n            </div>\n        </div>\n        <div class='flex-item-c pure-g center j-start'>\n            <div class='pure-g'>\n                <div class='pure-u-1 center'>\n                    <img style='max-height:50px;'class='pure-img auto-margin' ng-src='{{img_base}}./img/cashout/cash-shrine.svg'/>\n                </div>\n                <div class='pure-u-1-3'>\n                  &nbsp;\n                </div>\n                <div class='pure-u-1-3'>\n                  <div class='pure-g' style='margin-top:0.33em; height:60px;'>\n                    <div class='pure-u-1-2 cashout-bg border-radius-circular-left'>\n                      <img style='margin-left:0.3em; height:50px; width:100%; padding-top:0.5em'class='pure-img' ng-src='{{img_base}}./img/cashout/money-bag.svg'/>\n                    </div>\n                    <div class='pure-u-1-2 white-bg grey-text flex-item-c border-radius-circular-right cashout-bg'>\n                      <h4 class='white-text semibold font-100' style='padding-right:1em'>\n                      ${{user.balance}}\n                      </h4>\n                    </div>\n                  </div>\n                </div>\n            </div>\n        </div>\n        <div class='flex-item-c pure-g center j-end'>\n            <div class='pure-u-1 padding-1em cashout-bg'>\n                <div class='pure-g'>\n                    <div class='pure-u-1 center' style='margin: 0 auto;'>\n                        <div class='container'>\n                            <img ng-src='{{img_base}}./img/visa.png' class='pure-img dark-bg' style='height:30px; display:inline-block;'/>\n                            <i class='icon ion-chevron-down opacity-1-2 white-text' style='position:absolute; margin-left:5px;'> </i>\n                        </div>\n                    </div>\n\n                <!-- <div class='pure-g'> -->\n                    <div class='pure-u-1 center'>\n                        <p class='white-text opacity-1-2 no-margin'>\n                            **6190\n                        </p>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <div class='flex-item-c pure-g center j-end'>\n            <div class='pure-u-1 padding-1em' style='padding-left:1em; padding-right:1em;'>\n              <a href='#/ranking' nav-direction='forward' class='button button-full light-blue-bg button-footer white-text uppercase no-margin'>Cash Out</a>\n            </div>\n        </div>\n    </div>\n\n    <!-- History page -->\n    <div class='pure-g-c flex-column flex-space-between full-height' ng-show='showHistory'>\n        <div class='flex-item-c pure-g center j-center max-height-40'>\n            <div class='pure-u-1 center padding-3em'>\n                <h4 class='semibold'> Total Earned </h4>\n                <h1 class='bold blue no-margin' style='font-size:333%;'>${{user.balance}}</h1>\n            </div>\n        </div>\n        <div class='flex-item-c pure-g j-start'>\n\n            <ion-list class='white-bg cashout-history-list'>\n\n                <ion-item class='request-item item-icon-right relative cashout-item'>\n                    <div class='container'>\n                        <p class='opacity-4-5 no-margin' style='padding-left:0.3em; font-size:80%;'>\n                        You cashed out <strong> $120 </strong> </p>\n                        <div class='pure-u-1'>\n                            <span class='cashout-status-tag relative'> Success </span>\n                        </div>\n                    </div>\n                  <span class='card-icons-right'>\n                    <img ng-src='{{img_base}}./img/visa.png' class='pure-img' style='height:20px; right:20px;'/>\n                    <div class='opacity-1-2'> <p class='nano-text no-margin semibold'> **6190 </p></div>\n                  </span>\n                </ion-item>\n\n                <ion-item class='request-item item-icon-right relative cashout-item'>\n                    <div class='container'>\n                        <p class='opacity-4-5 no-margin' style='padding-left:0.3em; font-size:80%;'>\n                        You cashed out <strong> $120 </strong> </p>\n                        <div class='pure-u-1'>\n                            <span class='cashout-status-tag pending relative'> Pending </span>\n                        </div>\n                    </div>\n                  <span class='card-icons-right'>\n                    <img ng-src='{{img_base}}./img/visa.png' class='pure-img' style='height:20px; right:20px;'/>\n                    <div class='opacity-1-2'> <p class='nano-text no-margin semibold'> **6190 </p></div>\n                  </span>\n                </ion-item>\n\n            </ion-list>\n\n\n        </div>\n    </div>\n</ion-content>\n\n</ion-view>\n"),e.put("templates/guru.conversations.html","<ion-view hide-nav-bar='true' class='cashout'>\n  <ion-header-bar class='dark-bg-header'>\n      <h1 class=\"title\">My Students</h1>\n  </ion-header-bar>\n<ion-content class='white-bg flex-item flex-direction' scroll='false'>\n  <ion-scroll class='full-height'>\n\n        <ion-refresher\n            pulling-icon=\"ion-arrow-down-c\"\n            spinner=\"circles\"\n            on-refresh=\"doRefresh()\">\n        </ion-refresher>\n\n\n        <ion-list>\n            <ion-item class='item-avatar-left item-icon-right conversation-item'>\n                <img src='https://graph.facebook.com/10152573868267292/picture?width=100&height=100'/>\n                <div class='container'>\n                    <div class='pure-g'>\n                        <div class='pure-u-1 left'>\n                            <p class='title semibold uppercase margin-half'>{{user.name.split(' ')[0] + ' ' + user.name.split(' ')[1][0].toUpperCase()}}.\n\n                            <span class='conversation-skill-tag'> Ikea Assembly </span>\n                            </p>\n                        </div>\n                    </div>\n                    <div class='pure-g no-margin'>\n                        <div class='pure-u-1 left'>\n                            <p class='title light' style='margin:0 0.5em;'> aklsjdalksjd lakjsd lkasjd aklsdjkals jdlaksjd kaljd lakjsdlkasjdklasjdlkas</p>\n                        </div>\n                    </div>\n                </div>\n                <i class='icon ion-chevron-right icon-small opacity-1-2'> </i>\n            </ion-item>\n            <ion-item class='item-avatar-left item-icon-right conversation-item'>\n                <img src='https://graph.facebook.com/10152573868267292/picture?width=100&height=100'/>\n                <div class='container'>\n                    <div class='pure-g'>\n                        <div class='pure-u-1 left'>\n                            <p class='title semibold uppercase margin-half'>{{user.name.split(' ')[0] + ' ' + user.name.split(' ')[1][0].toUpperCase()}}.\n\n                            <span class='conversation-skill-tag'> Ikea Assembly </span>\n                            </p>\n                        </div>\n                    </div>\n                    <div class='pure-g no-margin'>\n                        <div class='pure-u-1 left'>\n                            <p class='title light' style='margin:0 0.5em;'> aklsjdalksjd lakjsd lkasjd aklsdjkals jdlaksjd kaljd lakjsdlkasjdklasjdlkas</p>\n                        </div>\n                    </div>\n                </div>\n                <i class='icon ion-chevron-right icon-small opacity-1-2'> </i>\n            </ion-item>\n            <ion-item class='item-avatar-left item-icon-right conversation-item'>\n                <img src='https://graph.facebook.com/10152573868267292/picture?width=100&height=100'/>\n                <div class='container'>\n                    <div class='pure-g'>\n                        <div class='pure-u-1 left'>\n                            <p class='title semibold uppercase margin-half'>{{user.name.split(' ')[0] + ' ' + user.name.split(' ')[1][0].toUpperCase()}}.\n\n                            <span class='conversation-skill-tag'> Ikea Assembly </span>\n                            </p>\n                        </div>\n                    </div>\n                    <div class='pure-g no-margin'>\n                        <div class='pure-u-1 left'>\n                            <p class='title light' style='margin:0 0.5em;'> aklsjdalksjd lakjsd lkasjd aklsdjkals jdlaksjd kaljd lakjsdlkasjdklasjdlkas</p>\n                        </div>\n                    </div>\n                </div>\n                <i class='icon ion-chevron-right icon-small opacity-1-2'> </i>\n            </ion-item>\n        </ion-list>\n    </ion-scroll>\n\n\n<div class=\"tabs tabs-icon-only white-bg\" id='guru-tab-bar'>\n      <a class=\"tab-item\" id='home-button' nav-direction='swap' href='#/guru'>\n        <img class='pure-img icon' ng-src='{{img_base}}./img/request/house-icon-outline.svg'></i>\n      </a>\n      <!-- <a class=\"tab-item\" id='guru-courses-button' ng-click='checkCourses()'>\n        <img class='pure-img icon' src='{{img_base}}./img/request/guru_book_outline.svg'></i>\n      </a> -->\n      <!-- <a class=\"tab-item\" href='#/guru-questions' nav-direction='swap' id='courses-button' ng-show='user.active_questions'>\n        <img class='pure-img icon' src='{{img_base}}./img/icons/question.svg'></i>\n      </a>\n      <a class=\"tab-item\" id='tasks-button' nav-direction='swap' href='#/guru-tasks'>\n        <img class='pure-img icon' src='{{img_base}}./img/icons/task.svg'></i>\n      </a> -->\n      <a class=\"tab-item\" id='profile-tab-button' nav-direction='swap' href='#/guru-profile'>\n        <i class='icon ion-person'> </i>\n      </a>\n      <!-- <a class=\"tab-item\" id='profile-tab-button' nav-direction='swap' href='#/guru-conversations'>\n        <i class='icon ion-email'> </i>\n      </a> -->\n      <a class=\"tab-item\" id='guru-courses-button' nav-direction='swap' href='#/guru-conversations'>\n        <img class='pure-img icon' ng-src='{{img_base}}./img/request/guru_book_blue.svg'></i>\n      </a>\n      <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n        <img class='pure-img icon' ng-src='{{img_base}}./img/settings-tab-guru.svg'/>\n      </a>\n</div>\n\n\n</ion-content>\n</ion-view>\n"),
e.put("templates/guru.courses.container.html"," <ion-view hide-nav-bar='true' class='dark-bg'>\n   <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n      <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link cancel-button button-left\" ng-click='backToStudentEditProfile()'>Back</button>\n      </div>\n      <h1 class=\"title bold\">Edit Courses</h1>\n      <div class='buttons'>\n        <button style='padding-top:0.1em;'class=\"button button-clear button-header-link submit-button button-right\" id='done-button' ng-click='backToStudentEditProfile(true)'>Save</button>\n      </div>\n  </div>\n  <ion-content class='dark-bg has-header' scroll='false'>\n      <div class='pure-g'>\n        <div class=\"list pure-u-1\">\n          <label class=\"item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2\">\n                  <i class='icon ion-search onboarding-search-icon' ng-hide=\"guruCourseInput.value.length > 0\"></i>\n                      <input id='guru-course-input' type=\"text\" class='ng-class:{\"align-left-start\":guruCourseInput.value.length > 0}'\n                        fast-matcher\n                        fast-matcher-source=\"courses\"\n                        fast-matcher-output=\"matchingCourses\"\n                        fast-matcher-properties=\"short_name, title\"\n                        fast-matcher-any-word=\"true\"\n                        fast-matcher-limit=\"10\"\n                        fast-matcher-preserve-order=\"true\"\n                        fast-matcher-case-insensitive=\"true\"\n                        placeholder=\"Search Available Courses\"\n                        ng-model = \"search_text\"\n                      />\n                  </span>\n                </label>\n              </div>\n          </div>\n\n            <ion-list ng-show='guruCourseInput.value.length > 0'>\n              <!-- <ion-scroll> -->\n                <ion-item class='item-button-right request-form-item course-item major-item' ng-repeat='course in matchingCourses' ng-click='addSelectedGuruCourse(course, course_search_text)'>\n                  <p class='semibold'> {{course.short_name}} <span class='course-title'> {{course.title}} </span> </p>\n                </ion-item>\n              <!-- </ion-scroll> -->\n            </ion-list>\n\n            <div class='pure-g-c flex-column flex-space-between' ng-show='guruCourseInput.value.length === 0'>\n\n              <div class='flex-item-c center j-end' ng-show='user.guru_courses.length > 0'>\n                <div class='pure-g'>\n\n                  <div class='pure-u-1 padding-half'>\n                    <p class='uppercase opacity-1-2 micro-text bold grey' style='color:grey;'> My Courses <br>\n                    </p>\n                    <div class='micro-text regular grey padding-half white' style='opacity:1'>(Double tap to Remove)</div>\n                  </div>\n                </div>\n\n                <div class='pure-g'>\n\n                  <div class='pure-u-1'>\n                    <a class='course-tag major-tag white-bg orange' on-double-tap=\"removeGuruCourseAndUpdate(guru_course, $index)\" style='font-size:80%;' ng-repeat=\"guru_course in user.guru_courses track by $index\">{{guru_course.short_name}} &nbsp; &nbsp; <i class='icon ion-checkmark'></i></a>\n                  </div>\n                </div>\n\n              </div>\n\n              <div class='flex-item-c center'>\n              </div>\n\n\n              <div class='flex-item-c j-start'>\n\n              </div>\n            </div>\n        </ion-content>\n\n\n</ion-view>"),e.put("templates/guru.credibility.components.html","<ion-scroll class='full-height'>\n<!-- <ion-refresher\n        pulling-icon=\"ion-arrow-down-c\"\n        spinner=\"circles\"\n        on-refresh=\"doRefresh()\">\n</ion-refresher> -->\n\n<div class='pure-g-c flex-column flex-space-between credibility'>\n  <div class='flex-item-c pure-g j-start'>\n    <div class='pure-u-1 full-width full-height'>\n      <ul class=\"list\">\n        <a class=\"item item-checkbox item-avatar-left item-icon-right\" ng-click='!user.fb_id && connectWithFacebook()'>\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/credibility/facebook.svg'/>\n          <p class='font-18 white-space-normal'> Connect with Facebook </p>\n          <p class='micro-text regular opacity-3-5 white-space-normal'>Verify that you are human</p>\n         <label class=\"checkbox hide ng-class:{'show':user.fb_id}\">\n           <input type=\"checkbox\" checked>\n         </label>\n         <i class=\"icon ion-plus hide blue ng-class:{'show':!user.fb_id}\"> </i>\n      </a>\n      <a class=\"item item-checkbox item-avatar-left item-icon-right\" ng-click='!user.transcript_file.url && showActionSheetTranscriptPhoto()'>\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/credibility/transcript.svg'/>\n          <p class='font-18 white-space-normal'> Upload your transcript</p>\n          <p class='micro-text regular opacity-3-5 white-space-normal'>Can increase hourly pay + ranking</p>\n         <label class=\"checkbox hide ng-class:{'show':user.transcript_file.url}\">\n           <input type=\"checkbox\" checked>\n         </label>\n         <i class=\"icon ion-plus hide blue ng-class:{'show':!user.transcript_file.url}\"> </i>\n      </a>\n      <a class=\"item item-checkbox item-avatar-left item-icon-right\" ng-click=\"launchAddTutoringPlatformsModal()\">\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/credibility/network.svg'/>\n          <p class='font-18 white-space-normal'>Other tutoring platform urls</p>\n          <p class='micro-text regular opacity-3-5 white-space-normal'>Can increase hourly pay + ranking</p>\n          <label class=\"checkbox hide ng-class:{'show':user.tutoring_platforms_description.length}\">\n           <input type=\"checkbox\" checked>\n         </label>\n         <i class=\"icon ion-plus hide blue ng-class:{'show':!user.tutoring_platforms_description.length}\"> </i>\n      </a>\n\n      <a class=\"item item-checkbox item-avatar-left item-icon-right\" ng-click='!user.phone_number_confirmed && showPopupEditPhoneNumber()'>\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/remote/phone.svg'/>\n          <p class='font-18 white-space-normal'> Confirm your phone number</p>\n          <p class='micro-text regular opacity-3-5 white-space-normal white-space-normal hide ng-class:{\"show\": !user.phone_number_confirmed}'>We will NEVER provide this without your consent</p>\n          <p class='micro-text regular opacity-3-5 white-space-normal hide ng-class:{\"show\": user.phone_number_confirmed}'>You confirmed <strong> {{user.phone_number}} </strong></p>\n          <label class=\"checkbox hide ng-class:{'show':user.phone_number && user.phone_number.length && user.phone_number_confirmed}\">\n           <input type=\"checkbox\" checked>\n         </label>\n         <i class=\"icon ion-plus hide blue ng-class:{'show':!user.phone_number_confirmed}\"> </i>\n      </a>\n\n      <a class=\"item item-checkbox item-avatar-left item-icon-right\" ng-click='!user.school_email_confirmed && showPopupEditEmail()'>\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/credibility/school_email.svg'/>\n          <p class='font-18 white-space-normal'>Confirm your school email</p>\n          <p class='micro-text regular opacity-3-5 white-space-normal'>Required for connecting with college students</p>\n          <label class=\"checkbox hide ng-class:{'show':user.school_email_confirmed}\">\n           <input type=\"checkbox\" ng-model='user.school_email_confirmed'>\n         </label>\n         <i class=\"icon ion-plus hide blue ng-class:{'show':!user.school_email_confirmed}\"> </i>\n      </a>\n\n  </ul>\n    </div>\n  </div>\n</div>\n</ion-scroll>"),e.put("templates/guru.experiences.container.html"," <ion-view hide-nav-bar='true' class='dark-bg'>\n   <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n      <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link cancel-button button-left\" ng-click='backToEditProfile()'>Back</button>\n      </div>\n      <h1 class=\"title bold\">My Experiences</h1>\n      <div class='buttons'>\n        <button style='padding-top:0.1em;'class=\"button button-clear button-header-link submit-button button-right \" id='done-button' ng-click='backToEditProfile(true)'>Save</button>\n      </div>\n  </div>\n  <ion-content class='dark-bg has-header' scroll='false'>\n\n    <div class='pure-g-c flex-column flex-space-between'>\n      <div class='flex-item-c pure-g j-start'>\n        <div class='pure-u-1 full-width'>\n          <ion-list>\n            <!-- <ion-item ng-click='launchAddGuruExperienceModal(experience)'>\n              Lab Assistant\n              <p>\n                7 years\n              </p>\n            </ion-item> -->\n            <ion-item ng-click='launchAddGuruExperienceModal(experience)' ng-repeat='experience in user.guru_experiences'>\n              {{experience.name}}\n              <p>\n                {{experience.years}} years\n              </p>\n            </ion-item>\n          </ion-list>\n        </div>\n      </div>\n\n      <div class='flex-item-c pure-g center j-end'>\n          <div class='pure-u-1 padding-1em' style='padding-left:1em; padding-right:1em; margin-top:0.5em;'>\n            <a ng-click='launchAddGuruExperienceModal()' style='min-height:3.3em; line-height:3.3em;' class='button button-full light-blue-bg button-footer white-text uppercase no-margin'>Add Guru Experience</a>\n          </div>\n      </div>\n    </div>\n\n  </ion-content>\n\n</ion-view>"),e.put("templates/guru.experiences.modal.html","<ion-modal-view>\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header calendar-top-header mini-header' hide-nav-bar='true'>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link\" ng-click='guruExperiencesModal.hide();'>Cancel</button>\n    </div>\n    <h1 class=\"title micro-text modal-header-text\" style='padding-left:5px;'>Add an Experience</h1>\n      <a class=\"button button-clear button-blue button-header-link\" ng-click='saveGuruExperience()'>\n        Save\n      </a>\n  </ion-header-bar>\n\n  <ion-content scroll='false' class='dark-bg'>\n    <div class='pure-g-c flex-column flex-space-between'>\n      <div class='flex-item-c pure-g j-start'>\n        <div class='pure-u-1 full-width'>\n          <ion-list class='standard-bg flex-item-c pure-g j-start bg-transparent'>\n            <label class=\"item item-input item-floating-label\">\n              <span class=\"input-label white-text opacity-3-5\">Role Title</span>\n              <input style='font-size:120%;' id='experience-name-input' type=\"text\" ng-model='experience.name' placeholder=\"Role Title\" class='white-text'>\n            </label>\n            <label class=\"item item-input item-floating-label\">\n              <span class=\"input-label white-text opacity-3-5\">Years of Experience - <strong>{{experience.years}} year<span ng-show='experience.years && experience.years > 1'>s</span></strong></span>\n              <div class=\"item range range-positive dark-bg white-text\" style='border-width:0px;'>\n                0\n                <input type=\"range\" name=\"volume\" min=\"0\" max=\"10\" value=\"5\" ng-model='experience.years' class='dark-bg'>\n                10\n              </div>\n            </label>\n            <label class=\"item item-input item-floating-label\">\n              <span class=\"input-label white-text opacity-3-5\">Short Description</span>\n              <input style='font-size:120%;' class='white-text' type=\"text\" ng-model='experience.description' placeholder=\"Short description\">\n            </label>\n          </ion-list>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-modal-view>"),e.put("templates/guru.html","  <ion-view hide-nav-bar='true' class='request' id='guru-home'>\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header item-icon-right'>\n      <h1 class=\"title\">GURU MODE</h1>\n        <div class=\"buttons\" ng-show='user.balance && user.balance > 0'>\n          <a ng-click='goToCashOut()'>\n            <i class='icon bold green font-1em'>\n              ${{user.balance}}\n            </i>\n          </a>\n        </div>\n  </ion-header-bar>\n\n<div class=\"tabs home-request-tabs-top tabs-top\">\n\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':showActive, 'opacity-1-2':!showActive}\" ng-click='showPreviousActions(0);'>\n        My Dashboard\n      </a>\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':!showActive, 'opacity-1-2':showActive}\" ng-click='showPreviousActions(1);'>\n        Incoming Tasks\n      </a>\n</div>\n\n\n<ion-content class='white-bg has-subheader dirty-white-bg' scroll='false'>\n\n    <!-- the initial i have no tasks screen -->\n    <div class='pure-g-c flex-column flex-space-between' ng-hide='((user.pending_proposals && user.pending_proposals.length > 0)) || !showActive || (user.active_guru_sessions && user.active_guru_sessions.length > 0)' style='padding-bottom:55px;' >\n        <div class='pure-g j-start relative' style='min-height:180px; height:180px;' ng-click='goToRankings()'>\n          <div class='profile-banner-bg full-height'  ng-style='{\"background-image\":\"url({{data.university_banner}})\", \"min-height\":\"180px\", \"height\":\"180px\"}'>\n          </div>\n            <div class='pure-g-c flex-column j-start guru-profile-img-wrapper full-width relative' style='height:50%;top:0%; opacity:1; min-height:180px;'>\n              <div class='pure-g'>\n                <div class='pure-u-1 padding-2em' style='padding-top:0.75em; z-index:1000; opacity-1'>\n\n                  <div class='grey-container center'>\n                    <h4 class='light regular capitalized university-banner-text' style='margin-top:6.66%;'>  <span class='padding-half'>My <strong class='uppercase'>{{user.university.title}}</strong> Rank</span></h4>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class='pure-g-c flex-column j-start full-width relative' style='height:50%; top:50%; z-index:100;'>\n              <div class='pure-g'>\n                <div class='pure-u-1 center'>\n                  <div class='pure-u-1-2 relative margin-auto relative'>\n                    <div class='guru-ranking-progress-container full-width padding-1em' style='position:absolute;'>\n                      <div id='guru-ranking-progress' class='relative'>\n                        <span class='th-text absolute'>th</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div class='pure-g'>\n                <div class='pure-u-1-3 ranking-box'>\n\n                    <div class='grey-container center padding-half' style='width:105%;'>\n                      <h6 class='light uppercase no-margin semibold'>  <div class='dark-bg bold padding-half opacity-4-5'>Rank</div></h6>\n                      <h4 class='light capitalized no-margin no-padding'>  <div style='padding-top:8px !important;' class='ranking-num'>Top 100</div></h4>\n                    </div>\n\n                </div>\n                <div class='pure-u-1-3 relative'>\n                  &nbsp;\n                </div>\n                <div class='pure-u-1-3 payscale-box'>\n                  <div class='grey-container center padding-half' style='width:105%;'>\n                      <h6 class='light uppercase no-margin semibold'>  <div class='dark-bg bold opacity-4-5 padding-half'>Payscale</div></h6>\n                      <h4 class='light no-margin no-padding'>  <div style='padding-top:8px !important;' class='ranking-num'>$10/hr</div></h4>\n                    </div>\n                </div>\n              </div>\n          </div>\n\n        </div>\n        <div class='pure-g flex-column flex-space-between'>\n\n          <div ng-include=\"img_base + 'templates/guru.tips.components.guru.html'\">\n          </div>\n\n        </div>\n    </div>\n    <div class='pure-g-c flex-column flex-space-between' ng-show='!showActive'>\n\n\n        <ion-scroll class='full-height'>\n\n          <ion-refresher\n            pulling-icon=\"ion-arrow-down-c\"\n            spinner=\"circles\"\n            on-refresh=\"doRefresh()\">\n          </ion-refresher>\n\n            <div class='pure-g'>\n\n               <ion-list class='pure-u-1' can-swipe=\"true\">\n\n                  <div class='active-request-card-item-wrapper' ng-repeat='proposal in user.previous_proposals'>\n                    <ion-item class='item-avatar request-card-item'>\n                      <img class='pure-img' ng-src='{{img_base}}./img/verbs/{{proposal.request.verb_image}}' />\n                      <div class='request-card-content relative'>\n                        <p class='course-text relative'>\n                          <span ng-show='proposal.request._type === 0 || proposal.request._type === 1'>\n                            {{proposal.request.course.short_name}}\n                          </span>\n                          <span ng-show='proposal.request._type === 2' class='transform-capitalize'>\n                            {{proposal.request.task_title}}\n                          </span>\n                          <span class='request-tag-status request-tag-status-completed' ng-show='proposal.status === 4'> STUDENT CANCELED </span>\n                          <span class='request-tag-status request-tag-status-completed' ng-show='proposal.status === 15'> Answered </span>\n                          <span class='request-tag-status request-tag-status-completed' ng-show='proposal.status\n                          === 5'> CANCELED </span>\n                        </p>\n                        <p class='location-text' ng-show='proposal.request._type !== 1'> {{proposal.request.address}}</p>\n                      </div>\n                    </ion-item>\n                  </div>\n\n                  <div class='active-request-card-item-wrapper' ng-repeat='session in user.previous_guru_sessions'>\n                    <ion-item class='item-avatar request-card-item'>\n                      <img class='pure-img' ng-src='{{img_base}}./img/verbs/{{session.request.verb_image}}' />\n                      <div class='request-card-content relative'>\n                        <p class='course-text relative'>\n                          <span ng-show='session.request._type === 0 || session.request._type === 1'>\n                            {{session.request.course.short_name}}\n                          </span>\n                          <span ng-show='session.request._type === 2' class='transform-capitalize'>\n                            {{session.request.task_title}}\n                          </span>\n                          <span class='request-tag-status request-tag-status-completed' ng-show='session.request.status === 4'> STUDENT CANCELED </span>\n                          <span class='request-tag-status request-tag-status-completed' ng-show='session.request.status === 15'> Answered </span>\n                          <span class='request-tag-status request-tag-status-completed' ng-show='session.request.status\n                          === 5'> CANCELED </span>\n                        </p>\n                        <p class='location-text' ng-show='session.request._type !== 1'> {{session.request.address}}</p>\n                      </div>\n                    </ion-item>\n                  </div>\n\n                </ion-list>\n              </div>\n\n        </div>\n\n    </div>\n\n    <div class='pure-g-c flex-column flex-space-between' ng-show='showActive'>\n      <ion-scroll class='full-height' style='padding-top:1em;'>\n\n\n        <ion-refresher\n          pulling-icon=\"ion-arrow-down-c\"\n          spinner=\"circles\"\n          on-refresh=\"doRefresh()\">\n        </ion-refresher>\n\n        <div class='pure-g' ng-show='user && user.pending_proposals && user.pending_proposals.length > 0'>\n\n          <ion-list class='pure-u-1' can-swipe=\"true\">\n\n              <div class='guru-pending-proposal-card active-request-card-item-wrapper' ng-repeat='proposal in user.pending_proposals'>\n                <ion-item class='item-avatar request-card-item' on-hold=\"cancelProposal(proposal)\" ng-click='goToProposalRequestDetails(proposal)'>\n                  <img class='pure-img' ng-src='{{img_base}}./img/verbs/{{proposal.request.verb_image}}' />\n                  <div class='request-card-content relative'>\n                    <p class='course-text relative'>\n                      <span class=\"ng-class: {'card-font-small': proposal.request.course.short_name.length > 8 && proposal.request.course.short_name.length < 11, 'card-font-xs': proposal.request.course.short_name.length >= 11}\"ng-show='proposal.request._type === 0 || proposal.request._type === 1'>\n                        {{proposal.request.course.short_name}}\n                      </span>\n                      <span ng-show='proposal.request._type === 2' class='transform-capitalize'>\n                        {{proposal.request.task_title}}\n                      </span>\n                      <span class='request-tag-status'> AWAITING RESPONSE </span>\n                    </p>\n                    <p class='location-text' ng-show='proposal.request._type !== 1'> {{proposal.request.address}}</p>\n                  </div>\n                  <!-- <i class='icon ion-chevron-right icon-small'> </i> -->\n                </ion-item>\n\n                <ion-item class='item-wrap-text' on-hold=\"cancelProposal(proposal)\" ng-click='goToProposalRequestDetails(proposal)' ng-show='(proposal.request._type === 0 || proposal.request._type === 1) && (proposal.request.student_calendar[0].calendar_events[0].formatted || proposal.request.description.length > 0)'>\n                <!-- <ion-item class='item-avatar item-wrap-text'> -->\n                  <p class='request-description white-space-normal' ng-show='proposal.request._type === 0'>\n\n\n                    <span ng-show='proposal.request.student_calendar &&request.student_calendar.length > 0'>\n\n                      <strong> {{proposal.request.student_calendar[0].calendar_events[0].formatted.day}}, {{proposal.request.student_calendar[0].calendar_events[0].formatted.month}} {{proposal.request.student_calendar[0].calendar_events[0].formatted.date}}\n                      </strong> between\n\n                      <!-- not all have calendars -->\n                      <span class='calendar-availability-contact'>\n                        <strong>{{proposal.request.student_calendar[0].calendar_events[0].formatted.start_time_formatted}}-{{proposal.request.student_calendar[0].calendar_events[0].formatted.end_time_formatted}}</strong>\n                      </span>\n<!--\n                      <strong> 12:00pm & 3:30pm </strong>\n                      <!-- required -->\n                      for <strong>{{proposal.request.student_calendar[0].calendar_events[0].formatted.time_length}} hours</strong>.\n                    </span>\n\n\n\n                     <span ng-show=\"proposal.request.description\">\n                      <strong>Description</strong>\n                     </span>\n\n                     <span ng-show='proposal.request.description && proposal.request.files.length > 0 '>\n                     and\n                     </span>\n\n                      <span ng-show=\"proposal.request.files.length > 0\">\n                        <strong>Attachments</strong>\n                      </span>\n\n                      <span ng-show='proposal.request.description && proposal.request.files.length > 0 '>\n                        have been added.\n                      </span>\n                      <span ng-show='!proposal.request.description && proposal.request.files.length > 0 '>\n                        have been added.\n                      </span>\n                      <span ng-show='proposal.request.description && !proposal.request.files.length > 0 '>\n                        has been added.\n                      </span>\n                  </p>\n                  <p class='request-description white-space-normal' ng-show='proposal.request._type === 1'>\n                    {{proposal.request.description}}\n                      <br>\n                      <span ng-show=\"proposal.request.files.length === 0\">\n                        <strong>Attachments</strong> have been added\n                      </span>\n                  </p>\n                </ion-item>\n              </div>\n\n            </ion-list>\n\n\n        </div>\n\n\n        <div class='pure-g'>\n          <!-- 1. create inset list, offset it by -5% margin-top -->\n          <ion-list class='list-inset visible-overflow pure-u-1' style='margin-top:-5%; margin-bottom:10%; margin:0em !important; padding:1em; padding-top:10%;' on-hold='cancelActiveSession(session)'ng-repeat='session in user.active_guru_sessions' ng-click='goToSessionDetails(session);'>\n\n            <!-- 2.  padding 2em h1 format bold, SemiBold, relative-->\n            <ion-item class='padding-2em absolute padding-vertical-1em float-center visible-overflow center'>\n              <img class='home-card-profile pure-img profile-img sidebar-img inline no-border'  ng-src='{{session.request.student.profile_url}}'/>\n              <!-- <h2> &nbsp; </h2> -->\n              <h2 style='margin-top:0.5em;'>Session with <strong>{{session.request.student.name.split(' ')[0]}}</strong></h2>\n            <!-- 3. Absolute positioning item, jack it from settings -->\n            </ion-item>\n            <!-- 4.  jack dfrom student, put hashtags, icon right-->\n            <ion-item class='item-avatar item-icon-right session course-details'>\n              <img class='pure-img verb-img' ng-src='{{img_base}}./img/verbs/{{session.request.verb_image}}' />\n                <h2 class='uppercase'>{{session.request.course.short_name}}</h2>\n                <p class='tags-wrapper'>\n                  <span class='blue request-tag' ng-repeat='tag in session.request.tags'>#{{tag.name}}\n                  </span>\n                </p>\n              <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon request-icon' ng-src='{{img_base}}./img/icons/paperclip-outline-blue.svg' style='margin-right: 0.33em; margin-top:0.4em;'>\n\n            </ion-item>\n\n            <ion-item class='item-avatar-left card-item-left'>\n              <img class='icon ion-plus-custom blue custom-icon pure-img' ng-src='{{img_base}}./img/icons/clock.svg'>\n              <p class='inline'> Starts in </p>\n              <p class='inline time-until' style='padding-left:1em'> {{session.request.schedule_time}} minutes </p>\n            </ion-item>\n\n            <!-- 5.  Same old but no orange> -->\n            <ion-item class='item-avatar-left card-item-left'>\n              <img class='icon ion-plus-custom blue custom-icon pure-img' ng-src='{{img_base}}./img/icons/marker.svg'>\n              <p class='inline'> Meet up </p>\n              <p class='inline black' style='padding-left:1em'> {{session.request.address}} </p>\n            </ion-item>\n\n            <!-- 5.  Formalize list button-->\n            <ion-item class='button-only' style='margin-bottom:1em;'>\n              <button class='button button-full button-bright'>\n                Tap to start session!\n              </button>\n            </ion-item>\n\n\n          </ion-list>\n        <!-- </div> -->\n    </div>\n    </ion-scroll>\n  </div>\n    <!-- bottom tabs -->\n<div class=\"tabs tabs-icon-only white-bg\" id='guru-tab-bar'>\n  <a class=\"tab-item\" id='home-button'>\n    <img class='pure-img icon' ng-src='{{img_base}}./img/request/house-icon-blue.svg'></i>\n  </a>\n  <!-- <a class=\"tab-item\" id='guru-courses-button' ng-click='checkCourses()'>\n    <img class='pure-img icon' ng-src='{{img_base}}./img/request/guru_book_outline.svg'></i>\n  </a> -->\n  <!-- <a class=\"tab-item\" href='#/guru-questions' nav-direction='swap' id='courses-button' ng-show='user.active_questions'>\n    <img class='pure-img icon' ng-src='{{img_base}}./img/icons/question.svg'></i>\n  </a>\n  <a class=\"tab-item\" id='tasks-button' nav-direction='swap' href='#/guru-tasks'>\n    <img class='pure-img icon' ng-src='{{img_base}}./img/icons/task.svg'></i>\n  </a> -->\n  <a class=\"tab-item\" id='profile-tab-button' nav-direction='swap' href='#/guru-profile'>\n    <i class='icon ion-person'> </i>\n  </a>\n  <a class=\"tab-item\" id='guru-courses-button' nav-direction='swap' href='#/guru-conversations'>\n    <img class='pure-img icon' ng-src='{{img_base}}./img/request/guru_book_outline.svg'></i>\n  </a>\n  <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n    <img class='pure-img icon' ng-src='{{img_base}}./img/settings-tab-guru.svg'/>\n  </a>\n</div>\n\n\n</ion-content>\n\n\n</ion-view>\n"),e.put("templates/guru.in-session.modal.html","<ion-modal-view hide-nav-bar ='true' class='verb-modal'>\n  <ion-header-bar class='dark-bg-header mini-header item-button-right'>\n      <button class=\"button button-clear button-header-link submit-button\" ng-click='showAttachActionSheet()'>\n        Help\n      </button>\n  </ion-header-bar>\n  <ion-content class='white-text dark-bg' scroll='false' style='margin-top:-2px !important;'>\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='flex-item-c center'>\n        </div>\n        <div class='flex-item-c'>\n            <div class='pure-u-1'>\n              <div class='timer-container center'>\n\n                  <h1 class='no-margin blue inline font-400 relative'>1<i class='icon ion-chevron-down down-arrow'></i><i class='icon ion-chevron-up up-arrow'></i></h1><span class='white-text opacity-1-2 inline font-300 light' style='margin-left:-4px;'>h</span>\n                  &nbsp;&nbsp;\n                  <h1 class='no-margin blue inline font-400 relative'>30<i class='icon ion-chevron-down down-arrow'></i><i class='icon ion-chevron-up up-arrow'></i></h1><span class='white-text opacity-1-2 inline font-300 light'>m</span>\n\n              </div>\n            </div>\n            <div class='pure-g'>\n              <div class='pure-u-1'>\n                <div class='pure-g'>\n                  <div class='pure-u-1-4'>\n                  </div>\n                  <div class='pure-u-1-2'>\n                    <div class='pure-g'>\n                      <div class='pure-u-1 center padding-1em'>\n                        <img class='inline pure-img auto-margin timer-icon-img' ng-src='{{img_base}}./img/timer/play.svg' />\n                        <img class='inline pure-img auto-margin timer-icon-img' ng-src='{{img_base}}./img/timer/pause.svg' />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n        </div>\n\n        <div class='pure-g'>\n\n          <div class='pure-u-1' style='text-align:center;'>\n            <p class='standard' style='font-size:1.5em; margin-top:7%;'>\n            You've started the session\n            </p>\n          </div>\n\n        </div>\n\n        <div class='flex-item-c center'>\n        </div>\n\n\n        <div class='flex-item-c j-end center'>\n          <div class='pure-u-1 padding-bottom-2em'>\n            <!-- <a class='close-modal-link' id='verb-cancel-button' ng-click='verbModal.hide();'>\n              <p class='standard micro-text'>\n\n              </p>\n            </a> -->\n\n            <ion-list class='pure-u-1'>\n\n              <ion-item class='padding-1em item-avatar-left dark-bg white-text in-session-person-background'>\n                <img class='pure-img can-help-profile-img'  ng-src='{{session.request.student.profile_url}}'/>\n                  <div class='guru-info-wrapper'>\n                    <h2>{{session.request.student.name.split(' ')[0]}} </h2>\n                    <p class='uppercase nano-text'>\n                      <span ng-show='session.request.student.university'>{{session.student.university.title}}  -</span>\n                      <span ng-show='session.request.student.majors'>{{session.student.majors[0].name}}</span>\n                    </p>\n\n                    <div class='pure-u-11-12'>\n                      <div class='pure-u-1-12' ng-repeat='number in getNumber(session.student.student_avg_rating) track by $index'>\n                              <i class='icon ion-star blue'></i>\n                      </div>\n                      <div class='pure-u-1-12' ng-repeat='number in getNumber(5 - session.student.student_avg_rating) track by $index'>\n                        <i class='icon ion-star grey'></i>\n                      </div>\n                    </div>\n                  </div>\n                </ion-item>\n                <div class='pure-u-1 center padding-1em' ng-click='launchGuruSessionDetailsModal()'>\n                  <i class='icon ion-chevron-down' style='opacity:0.7;'></i>\n                </div>\n              </ion-list>\n\n          </div>\n        </div>\n\n      </div>\n  </ion-content>\n</ion-modal-view>"),
e.put("templates/guru.languages.container.html"," <ion-view hide-nav-bar='true' class='dark-bg'>\n   <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n      <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link cancel-button button-left\" ng-click='backToEditProfile()'>Back</button>\n      </div>\n      <h1 class=\"title bold\">My Languages</h1>\n      <div class='buttons'>\n        <button style='padding-top:0.1em;'class=\"button button-clear button-header-link submit-button button-right \" id='done-button' ng-click='backToEditProfile(true)'>Save</button>\n      </div>\n  </div>\n  <ion-content class='dark-bg has-header' scroll='false'>\n      <div class='pure-g'>\n        <div class=\"list pure-u-1\">\n          <label class=\"item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2\">\n                  <i class='icon ion-search onboarding-search-icon' ng-hide=\"languageInput.value.length > 0\"></i>\n                      <input id='guru-language-input' type=\"text\" class='ng-class:{\"align-left-start\":search_text.length > 0}'\n                        fast-matcher\n                        fast-matcher-source=\"static.languages\"\n                        fast-matcher-output=\"matchingLanguages\"\n                        fast-matcher-properties=\"name\"\n                        fast-matcher-any-word=\"true\"\n                        fast-matcher-limit=\"10\"\n                        fast-matcher-preserve-order=\"true\"\n                        fast-matcher-case-insensitive=\"true\"\n                        placeholder=\"Search All Languages\"\n                        ng-model = \"search_text\"\n                      />\n                  </span>\n                </label>\n              </div>\n          </div>\n\n            <ion-list ng-show='languageInput.value.length > 0'>\n              <ion-scroll>\n                <ion-item class='item-button-right request-form-item course-item major-item' ng-repeat='language in matchingLanguages' ng-click='addSelectedGuruLanguage(language, language_search_text)'>\n                  <p class='semibold'> {{language.name}} </p>\n                </ion-item>\n              </ion-scroll>\n            </ion-list>\n\n            <div class='pure-g-c flex-column flex-space-between' ng-show='languageInput.value.length === 0'>\n\n              <div class='flex-item-c center j-end' ng-show='user.guru_languages.length > 0'>\n                <div class='pure-g'>\n\n                  <div class='pure-u-1'>\n                    <p class='uppercase opacity-3-4 micro-text bold sans-bold white-text padding-half'> <strong> My Languages </strong> <br>\n                    </p>\n                    <div class='micro-text regular white-text' style='opacity:1'>(Double tap to Remove)</div>\n                  </div>\n                </div>\n\n                <div class='pure-g'>\n\n                  <div class='pure-u-1'>\n                    <a class='course-tag major-tag white-bg orange' on-double-tap=\"removeGuruLanguageAndUpdate(language, $index)\" style='font-size:80%;' ng-repeat=\"language in user.guru_languages track by $index\">{{language.name}} &nbsp; &nbsp; <i class='icon ion-checkmark'></i></a>\n                  </div>\n                </div>\n\n              </div>\n\n              <div class='flex-item-c center'>\n              </div>\n\n\n              <div class='flex-item-c j-start'>\n\n              </div>\n            </div>\n        </ion-content>\n\n\n</ion-view>"),e.put("templates/guru.onboarding.html",'\n<ion-view hide-nav-bar=\'true\' class=\'guru-onboarding\'>\n\n    <ion-header-bar class="header-bar dark-header">\n        <a class=\'button button-clear button-white button-back positive\' nav-direction="back" href="#/home">Back</a>\n        <h5 class="title">Become a Guru</h5>\n    </ion-header-bar>\n\n        <!-- <ion-nav-bar class="bar-dark nav-bar-text bold-font" animation="slide-left-right">\n            <ion-nav-buttons side="primary">\n                <button ui-sref="^.^.student.home" animation="false" style="width:75px;" class="button-clear">\n                    <img src="img/left-chevron.png" class="uguru-back-button" style="bottom:11px;top:auto !important;"/>\n                </button>\n            </ion-nav-buttons>\n        </ion-nav-bar> -->\n\n        <!-- <ion-header-bar class="bar-dark bar-subheader padding black-subheader" style="padding-left:16px; padding-right:16px;">\n            <p class="subheader-text"> Steps to become a guru <span class="counters-text">({{progressValue}}/{{progressMax}})</span></p>\n            <progressbar class="progress-striped active" animate="true"\n            max="progressMax" value="progressValue" style="height:0.5em; margin-top:-0.5em">\n            </progressbar>\n        </ion-header-bar> -->\n\n        <ion-content>\n\n        <div class="list list-inset">\n\n            <a class="item item-button-right" ng-click="addUniversityModal.show()">\n                <span ng-show="!user.university_id">\n                        What university are you attending?\n                </span>\n                    <span class=\'list-text\' ng-show="user.university_id">\n                    Attending <span class=\'sans-bold\'>{{user.university.title}}</span>\n                    </span>\n                <button ng-click=\'addUniversityModal.show()\'  ng-show=\'user.university_id\'class=\'button button-clear button-positive list-edit\'>edit</button>\n            </a>\n\n            <a class="item item-button-right" ng-click="addMajorModal.show()">\n                <span ng-show="!user.majors[0].id">\n                            What\'s your major?\n                </span>\n                <span class=\'list-text\' ng-show="user.majors[0].id">\n                        Studying\n                        <span class=\'sans-bold\'>{{user.majors[0].name}}<span ng-show="user.majors.length > 1">...</span>\n                        </span>\n                </span>\n                <button ng-click=\'addMajorModal.show()\' ng-show=\'user.majors.length > 0\'class=\'button button-clear button-positive list-edit\'>edit</button>\n            </a>\n\n            <a class="item item-button-right no-margin-bottom" ng-click="addCourseModal.show()">\n                <span>\n                            What courses have you aced?\n                </span>\n                <button ng-click=\'addCourseModal.show()\' ng-show=\'user.guru_courses.length > 0\'class=\'button button-clear edit-guru-course-button button-positive list-edit\'>edit</button>\n            </a>\n\n            <a ng-show=\'user.guru_courses.length > 0\' class="item no-margin-top" ng-click="addCourseModal.show()">\n\n                <span class=\'course-tag\' ng-repeat="course in user.guru_courses.slice(0, 2)">\n                    {{course.short_name}}\n                </span>\n                <span ng-show=\'user.guru_courses.length >= 3\' class=\'course-tag\'>\n                    + {{user.guru_courses.length - 2}} more\n                </span>\n\n            </a>\n\n            <ion-toggle ng-model="user.uber_friendly" class=\'item\' ng-change=\'uberFriendlyChange()\' toggle-class="toggle-positive">\n            <img class=\'uber-logo\' src=\'{{img_base}}./img/uber_logo.svg\'/>\n            <div class=\'avatar-text\'>\n                I\'m cool with <span class=\'sans-bold\'>Uber</span> driving <br> me to student sessions.\n            </div>\n            </ion-toggle>\n\n            <ion-toggle ng-model="user.summer_15" ng-change=\'summer15Change()\' toggle-class="toggle-positive">I\'m around school during Summer 2015\n            </ion-toggle>\n\n            <ion-toggle ng-model="user.outside_university" ng-change=\'outsideSchoolChange()\' toggle-class="toggle-positive">I\'m interested tutoring outside of school (SAT, MCAT, etc).\n            </ion-toggle>\n\n             <!-- <a class="item item-icon-right item-thumbnail-right"  ng-click="addGuruIntroModal.show()">\n\n                <div ng-show="!user.guru_introduction" class="regular-text">\n                Edit your Guru bio\n                </div>\n\n                <div ng-show="user.guru_introduction" class="regular-text">\n                Bio <stro>edited</strong>. Looking good.\n                </div>\n                <i class=\'icon ion-chevron-right\'></i>\n            </a> -->\n        </div>\n\n    </ion-content>\n    <ion-footer-bar style="height:auto; background-image:none; background-color:transparent;margin-bottom:-10px;padding:10px 16px;" class="padding">\n\n        <!-- <button ng-click="submitGuruOnboarding()" class="button button-full button-positive padding wizard-footer" ng-disabled="false!(user.guru_introduction && user.guru_courses.length > 0 && user.majors.length > 0 && user.university_id)" style="height:3.5em;">\n            Finish\n        </button> -->\n\n        <button ng-click="submitGuruOnboarding()" class="button button-full button-positive padding wizard-footer" ng-disabled="false" style="height:3.5em;">\n            Finish\n        </button>\n\n\n    </ion-footer-bar>\n</ion-view>\n'),e.put("templates/guru.opportunities.html",'\n\n<ion-view title="Guru Opportunities">\n  <div class="bar bar-subheader">\n        <ion-tabs class="tabs-dark tabs-icon-only" delegate-handle="student-home-tabs-top">\n          <ion-tab title="Incomplete">\n          </ion-tab>\n          <ion-tab title="Completed">\n          </ion-tab>\n        </ion-tabs>\n  </div>\n  <ion-content class="has-subheader">\n    <ion-list>\n      <ion-item ng-repeat="opportunity in guru_opportunities">\n        {{opportunity.details.title}}\n        <p style="white-space:normal;">{{opportunity.details.description}}</p>\n        <span class="badge badge-positive">{{opportunity.impact_level}}</span>\n      </ion-item>\n    </ion-list>\n  </ion-content>\n</ion-view>\n'),e.put("templates/guru.profile.html","\n\n<ion-view hide-nav-bar='true' class='ranking guru-profile' cache-view=\"false\">\n\n  <ion-header-bar class='dark-bg-header'>\n      <h1 class='title'>Profile</h1>\n      <div class=\"buttons\">\n        <button ng-if=\"!root.vars.profile.edit_mode\" class=\"button button-clear button-header-link button-blue\" ng-click='root.vars.profile.edit_mode = !root.vars.profile.edit_mode'>\n          Edit\n        </button>\n        <button ng-if=\"root.vars.profile.edit_mode\"class=\"button button-clear button-header-link button-submit cancel-button button-blue\" ng-click='saveGuruProfile()'>\n          Save\n        </button>\n      </div>\n  </ion-header-bar>\n\n  <div class=\"tabs home-request-tabs-top tabs-top\">\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':!profile.showCredibility, 'opacity-1-2':profile.showCredibility}\" ng-click='profile.showCredibility = false;'>\n        Profile <span class='align-left semibold opacity-4-5' ng-if=\"user.current_profile_percent\">&nbsp;&nbsp;-&nbsp;&nbsp;{{user.current_profile_percent}}%</span>\n      </a>\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':profile.showCredibility, 'opacity-1-2':!profile.showCredibility}\" ng-click='profile.showCredibility = true;'>\n        Credibility <span class='align-left semibold opacity-4-5' ng-if=\"user.current_credibility_percent\">&nbsp;&nbsp;-&nbsp;&nbsp;{{user.current_credibility_percent}}%</span>\n      </a>\n  </div>\n   <div class=\"tabs home-request-tabs-top tabs-top white-text bg-edit-mode center hide ng-class:{'show':root.vars.profile.edit_mode}\" style='height:44px'>\n    Edit Mode: Tap any component to edit!\n  </div>\n\n<ion-content class='white-bg standard-bg guru-profile-content has-header' style='bottom:50px; top:88px;' scroll=\"false\">\n\n    <div class='pure-g-c flex-column flex-space-between full-height' ng-show='!profile.showCredibility'>\n      <ion-scroll>\n      <ion-slide-box class='guru-profile-slide-box'>\n        <ion-slide style='min-height:200px;'>\n          <div class='profile-banner-bg full-height' ng-style='{\"background-image\":\"url({{img_base}}./img/profile/library.png)\"}'>\n          </div>\n            <div class='pure-g-c flex-column j-center guru-profile-img-wrapper full-width relative'>\n              <div class='pure-u-1'>\n                <div class='pure-g'>\n                  <div class='pure-u-1-2'>\n                    <div class='padding-1em' style='padding-left:2em;'>\n                      <a ng-click='root.vars.profile.edit_mode && showActionSheetProfilePhoto()'>\n                        <img class='pure-img profile-img sidebar-img guru-profile-img inline'  ng-src='{{user.profile_url}}'/>\n                      </a>\n                    </div>\n                    <div ng-include=\"img_base + 'templates/ratings.components.guru.html'\">\n                    </div>\n                  </div>\n\n                  <div class='pure-u-1-2 relative' style='padding-top:1em;'>\n                    <div class='center no-margin'>\n                      <a ng-click='root.vars.profile.edit_mode && showPopupEditName()'>\n                        <h1 class='title light uppercase margin-half'>{{user.name.split(' ')[0] + ' ' + user.name.split(' ')[1][0].toUpperCase()}}.</h1>\n                      </a>\n                      <a ng-click='root.vars.profile.edit_mode && goToUniversity()'>\n                        <h5 class='white-text bold no-margin uppercase'>\n                          {{user.university.title}}\n                        </h5>\n                      </a>\n\n                      <a ng-click='root.vars.profile.edit_mode && transitionToMajor()'>\n                        <h5 class='uppercase guru-profile-major-text light no-margin hide ng-class:{\"show\":user.majors.length > 0}'>\n                          {{user.majors[0].name}}\n                        </h5>\n                        <h5 style='padding-top:0.5em;' class='uppercase semibold no-margin blue hide ng-class:{\"show\":root.vars.profile.edit_mode && user.majors.length === 0}'>\n                          + add a major\n                        </h5>\n                      </a>\n                      <a ng-click='root.vars.profile.edit_mode && showMaxHourlyClicked()'>\n                        <div class='container relative max-hourly-container'>\n                          <h1 class='uppercase light bold' style='margin-top:8px;'>\n                            ${{selectedOption.id}} <span class='profile-15m-text'>/ hour</span>\n                          </h1>\n                          <select ng-show='root.vars.profile.edit_mode' ng-change='maxHourlyOnChange()' id='max-hourly-select' ng-model=\"selectedOption\" ng-options=\"option.label for option in maxHourlyOptions track by option.id\" class='absolute'></select>\n                        </div>\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n        </ion-slide>\n        <ion-slide style='width:100% !important;'>\n              <div class='profile-banner-bg full-height' ng-style='{\"background-image\":\"url({{img_base}}./img/profile/library.png)\"}'>\n              </div>\n                <div class='pure-g-c flex-column j-center guru-profile-img-wrapper full-width relative'>\n                  <a class='full-width hide ng-class:{\"show\":!root.vars.profile.edit_mode || !profile.intro_edit_mode}' ng-click='editGuruIntro()'>\n                    <div class='pure-u-1 padding-3em center hide ng-class:{\"show\":!root.vars.profile.edit_mode}'>\n                        <p class='white-text regular'> {{user.guru_introduction || 'Click edit mode to add an intro'}} </p>\n                    </div>\n                    <div class='pure-u-1 padding-3em center hide ng-class:{\"show\":root.vars.profile.edit_mode && !profile.intro_edit_mode}'>\n                        <p class='white-text regular'> {{user.guru_introduction || '\\nTap me to edit text'}} </p>\n                    </div>\n                  </a>\n                  <div class='pure-u-1 white-text center hide ng-class:{\"show\":root.vars.profile.edit_mode && profile.intro_edit_mode}' >\n\n                      <textarea placeholder='tell us about yourself' ng-model='user.guru_introduction'id='guru-introduction-text' class='full-width transparent-bg center regular' rows=\"6\"></textarea>\n                      <div class='pure-u-1 full-width absolute' style=\"left:0;\">\n                        <a ng-click='saveGuruIntroduction()' style='min-height:2.5em; line-height:2.5em;' nav-direction='forward' class='button button-full transparent-bg button-footer white-text uppercase no-margin'>Done</a>\n                      </div>\n                  </div>\n              </div>\n\n        </ion-slide>\n      </ion-slide-box>\n      <!-- <div class='pure-g-c flex-column j-start center'> -->\n      <div class='profile-statistics-wrapper padding-1em' style='border-bottom: 1px solid rgba(0,0,0,0.4);' ng-show='user.student_sessions.length || user.response_rate'>\n        <ion-scroll>\n        <div class='pure-g' style='margin-top:15px;' >\n\n              <div class='pure-u-1-3 center'>\n                <div class='no-margin center padding-half' style='border-right:1px solid rgba(0,0,0,0.1);'>\n                  <h1 class='no-margin' style='font-size:250%;'>\n                    {{user.student_sessions.length}}\n                  </h1>\n                  <h5 class='opacity-3-4 no-margin semibold' style='font-size:86%; margin-top:0.7em; opacity:0.5'>\n                    sessions\n                  </h5>\n                </div>\n              </div>\n              <div class='pure-u-1-3 center' style='border-right:1px solid rgba(0,0,0,0.1);'>\n                <div class=' no-margin center padding-half'>\n                  <h1 class='no-margin' style='font-size:250%;'>\n                    {{user.response_rate || 0 + '%'}}\n                  </h1>\n                  <h5 class='opacity-3-4 no-margin semibold' style='font-size:86%; margin-top:0.7em; opacity:0.5'>\n                    response rate\n                  </h5>\n                </div>\n              </div>\n              <div class='pure-u-1-3 center'>\n                <div class='no-margin center padding-half'>\n                  <h1 class='no-margin' style='font-size:250%;'>\n                    <1hr\n                  </h1>\n                  <h5 class='opacity-3-4 no-margin semibold' style='font-size:86%; margin-top:0.7em; opacity:0.5'>\n                    last active\n                  </h5>\n                </div>\n              </div>\n        </div>\n      </div>\n       <div class='pure-g-c flex-column j-center center'>\n\n        <div class='pure-g'>\n          <a class='pure-u-1 center' ng-click='root.vars.profile.edit_mode && transitionToGuruCourses()'>\n            <div class='pure-u-1 padding-half light-border-bottom'>\n              <div class='pure-g'>\n                  <h4 class='semibold uppercase flex-item-c' style='color:rgba(0,0,0,0.3)'>\n                    My Courses\n                  </h4>\n                <div class='pure-u-1'>\n                  <div class='pure-g'>\n                    <div class='pure-u-1 course-tag-wrapper'>\n                      <span style='font-size:100%;' class='course-tag uppercase' ng-repeat='guru_course in user.guru_courses'>{{guru_course.short_name}}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </a>\n\n          <div class='pure-u-1 light-border-bottom'>\n            <div class='pure-g'>\n              <div class='pure-u-1-2 padding-half inline align-left'>\n                <div class='attribute-card'>\n                    <div class=\"title-container mdl-card--expand grey-bg center\">\n                      <h5 class=\"title white-text uppercase semibold\">Late night friendly</h5>\n                    </div>\n                    <div class=\"card-body center relative late-night-container\">\n                      <h2 class='opacity-1-2' style='font-size:150%'>\n                        I'm up until <br> <strong> {{selectedOptionLateNight.name}} </strong>\n                      </h2>\n                      <select ng-show='root.vars.profile.edit_mode' ng-change='lateNightOnChange()' id='late-night-select' ng-model=\"selectedOptionLateNight\" ng-options=\"option.name for option in lateNightMappingOptions track by option.id\" class='absolute full-width full-height'></select>\n                    </div>\n                </div>\n              </div>\n              <div class='pure-u-1-2 padding-half'>\n                <a class='attribute-card' ng-click='root.vars.profile.edit_mode && transitionToGuruExperiences()'>\n                    <div class=\"title-container mdl-card--expand grey-bg center\">\n                      <h5 class=\"title white-text uppercase semibold padding-horizontal-only padding-1em\">Teaching Experience</h5>\n                    </div>\n                    <div class=\"card-body\">\n                      <h2 class='opacity-1-2' style='font-size:150%'>\n                        <div class=\"hide ng-class:{'show':user.guru_experiences.length > 0}\" ng-repeat='experience in user.guru_experiences'>{{experience.name}} - {{experience.years}} years</div>\n                        <div class='uppercase semibold no-margin blue hide ng-class:{\"show\":user.guru_experiences.length === 0}'>\n                          + Add an experience\n                        </div>\n                      </h2>\n                    </div>\n                </a>\n              </div>\n              <div class='pure-u-1-2 padding-half inline'>\n                <a class='attribute-card' ng-click='root.vars.profile.edit_mode && transitionToGuruRemote()'>\n                    <div class=\"title-container mdl-card--expand grey-bg center\">\n                      <h5 class=\"title white-text uppercase semibold padding-horizontal-only padding-1em\">Remote Friendly</h5>\n                    </div>\n                    <div class=\"card-body\">\n                      <h2 class='opacity-1-2' style='font-size:150%' ng-show=\"user.skype_friendly || user.facetime_friendly || user.hangouts_friendly || user.messenger_friendly || user.phone_friendly || user.text_friendly || user.email_friendly\">\n                        <div class='hide ng-class:{\"show\":user.skype_friendly}'> Skype </div>\n                        <div class='hide ng-class:{\"show\":user.facetime_friendly}'> FaceTime </div>\n                        <div class='hide ng-class:{\"show\":user.hangouts_friendly}'> Hangouts </div>\n                        <div class='hide ng-class:{\"show\":user.messenger_friendly}'> Instant Chat </div>\n                        <div class='hide ng-class:{\"show\":user.phone_friendly}'> Phone Call </div>\n                        <div class='hide ng-class:{\"show\":user.text_friendly}'> Text Msg </div>\n                        <div class='hide ng-class:{\"show\":user.email_friendly}'> Email </div>\n                      </h2>\n                      <h2 class='opacity-1-2' style='font-size:150%;' ng-show='!(user.skype_friendly || user.facetime_friendly || user.hangouts_friendly || user.messenger_friendly || user.phone_friendly || user.text_friendly || user.email_friendly)'>\n                        <div> In-person only </div>\n                      </h2>\n                    </div>\n                </a>\n              </div>\n              <div class='pure-u-1-2 padding-half'>\n                <a class='attribute-card' ng-click='root.vars.profile.edit_mode && transitionToGuruLanguages()'>\n                    <div class=\"title-container mdl-card--expand grey-bg center\">\n                      <h5 class=\"title white-text uppercase semibold padding-horizontal-only padding-1em\">Spoken Languages</h5>\n                    </div>\n                    <div class=\"card-body\">\n                      <h2 class='opacity-1-2' style='font-size:150%'>\n                        <div ng-repeat='language in user.guru_languages'>{{language.name}}</div>\n                        <div class='uppercase semibold no-margin blue hide ng-class:{\"show\":user.guru_languages.length === 0}'>\n                          + Add a language\n                        </div>\n                      </h2>\n                    </div>\n                </div>\n              </a>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ion-scroll>\n</ion-scroll>\n  <input type='file' id='file-input-guru-edit-profile' onchange=\"angular.element(this).scope().file_changed(this)\" style='display:none'/>\n  <div class='full-height windows-top-margin' ng-show='profile.showCredibility' style='top:88px;'>\n    <div ng-include=\"img_base + 'templates/guru.credibility.components.html'\" class='full-height'>\n    </div>\n  </div>\n\n</ion-content>\n\n<div class=\"tabs tabs-icon-only white-bg\" id='guru-tab-bar'>\n  <a class=\"tab-item\" id='home-button' href='#/guru' nav-direction='home'>\n    <img class='pure-img icon' ng-src='{{img_base}}./img/request/house-icon-outline.svg'></i>\n  </a>\n  <a class=\"tab-item\" id='profile-tab-button' nav-direction='swap' href='#/guru-profile'>\n    <i class='icon ion-person blue'> </i>\n  </a>\n  <a class=\"tab-item\" id='guru-courses-button' nav-direction='swap' href='#/guru-conversations'>\n    <img class='pure-img icon' ng-src='{{img_base}}./img/request/guru_book_outline.svg'></i>\n  </a>\n  <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n    <img class='pure-img icon' ng-src='{{img_base}}./img/settings-tab-guru.svg'/>\n  </a>\n</div>\n\n\n</ion-view>\n"),e.put("templates/guru.questions.html","<ion-view hide-nav-bar='true' class='request' id='guru-questions'>\n\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header item-icon-right'>\n      <h1 class=\"title\">Answer Questions</h1>\n  </ion-header-bar>\n\n<ion-tabs class=\"home-request-tabs-top tabs-top\">\n      <ion-tab class=\"uppercase blue-bg white-text\" title='Newest'>\n\n      </ion-tab>\n\n      <ion-tab class=\"uppercase white-bg black opacity-1-2\" title='Expired'>\n\n      </ion-tab>\n</ion-tabs>\n\n\n<ion-content class='white-bg has-subheader flex-item flex-direction' scroll='false'>\n  <ion-scroll class='full-height'>\n\n    <ion-refresher\n        pulling-icon=\"ion-arrow-down-c\"\n        spinner=\"circles\"\n        on-refresh=\"doRefresh()\">\n    </ion-refresher>\n\n\n    <ion-list>\n      <ion-item ng-repeat='proposal in user.active_questions' class='item-avatar-left question-item' ng-click='launchAnswerQuestionModal(proposal)'>\n\n         <img class='pure-img verb-img' ng-src='{{img_base}}./img/icons/question.svg' ng-show='question.student_price === 0'/>\n         <img class='pure-img verb-img stack_circle' ng-src='{{img_base}}./img/icons/stacks_circled.svg' ng-show='proposal.request.student_price > 0'/>\n         <h4 class='black uppercase semibold'> {{proposal.request.course.short_name}} </h4>\n         <h4 class='black white-space-normal nano-text regular'>{{proposal.request.description}}</h4>\n\n         <p class='tags-wrapper nano-text'>\n            <span class='blue request-tag' ng-repeat='tag in question.tags'>#{{tag.name}}\n            </span>\n          </p>\n\n        <h4 class='blue-art tap-to-reply-link'>  <a class='blue uppercase micro-text margin-top-1em'>Tap to reply</a> </h4>\n\n      </ion-item>\n    </ion-list>\n  </ion-scroll>\n\n\n<div class=\"tabs tabs-icon-only white-bg\" id='guru-tab-bar'>\n  <a class=\"tab-item\" href='#/guru' nav-direction='swap' id='guru-home-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/house-icon-outline.svg'></i>\n  </a>\n  <!-- <a class=\"tab-item\" id='guru-courses-button' href='#/guru-courses' nav-direction='swap'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/guru_book_outline.svg'></i>\n  </a> -->\n  <a class=\"tab-item\" href='#/guru-questions' nav-direction='swap' id='guru-questions-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/icons/question-blue.svg'></i>\n  </a>\n  <a class=\"tab-item\" nav-direction='swap' id='guru-questions-button' href='#/guru-tasks'>\n    <img class='pure-img icon' src='{{img_base}}./img/icons/task.svg'></i>\n  </a>\n  <a class=\"tab-item\" id='profile-tab-button' nav-direction='swap' href='#/guru-profile'>\n    <i class='icon ion-person bg-blue'> </i>\n  </a>\n  <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/settings-tab-guru.svg'/>\n  </a>\n</div>\n\n\n</ion-content>\n\n\n</ion-view>\n"),e.put("templates/guru.ranking.html","\n\n<ion-view hide-nav-bar='true' class='ranking'>\n\n  <ion-header-bar class='dark-bg-header'>\n      <div class=\"buttons\">\n        <button class=\"button button-clear button-header-link cancel-button\" ng-click='goBack()'>back</button>\n      </div>\n      <h1 class=\"title\">Progress & Ranking </h1>\n  </ion-header-bar>\n\n<ion-content class='white-bg standard-bg has-header'>\n\n    <ion-list class='standard-bg'>\n      <ion-toggle ng-change=\"requestPushNotifications()\" ng-model=\"user.push_notifications\" ng-show='platform.mobile' toggle-class=\"toggle-calm\">\n        <p class='no-margin white-space-normal semibold'>\n            Turn on Push Notifications\n        </p>\n        <p class='opacity-4-5 no-margin white-space-normal micro-text'>\n          Ain't no student got time to wait for emails\n        </p>\n      </ion-toggle>\n\n      <ion-toggle ng-change=\"updateTextNotifications()\" ng-model=\"user.text_notifications\" ng-show='!platform.mobile' toggle-class=\"toggle-calm\" >\n        <p class='no-margin white-space-normal semibold'>\n            Turn on Text Notifications\n        </p>\n        <p class='opacity-4-5 no-margin white-space-normal micro-text' ng-show='!user.phone_number'>\n            Tap here to add your phone number & confirm\n        </p>\n        <p class='opacity-4-5 no-margin white-space-normal micro-text' ng-show='user.phone_number && !user.phone_number_confirmed'>\n            Tap here to confirm your phone number\n        </p>\n        <p class='opacity-4-5 no-margin white-space-normal micro-text ' ng-show='user.phone_number && user.phone_number_confirmed'>\n            Texts will be sent to {{user.phone_number}}\n        </p>\n      </ion-toggle>\n      <ion-item href='#/guru-profile' class='item-icon-right' nav-direction='enter'>\n        <p class='no-margin white-space-normal semibold'>\n            Complete your guru profile\n        </p>\n        <p class='opacity-4-5 no-margin white-space-normal micro-text'>\n            Your guru profile is not complete yet\n        </p>\n        <i class='icon icon-small ion-chevron-right opacity-4-5'> </i>\n      </ion-item>\n      <ion-item href='#/guru-profile' class='item-icon-right' nav-direction='enter'>\n        <p class='no-margin white-space-normal semibold'>\n            Increase your credibility to 100%\n        </p>\n        <p class='opacity-4-5 no-margin white-space-normal micro-text'>\n            You could be more credible so students trust you\n        </p>\n        <i class='icon icon-small ion-chevron-right opacity-4-5'> </i>\n      </ion-item>\n      <ion-item href='#/payments' class='item-icon-right' nav-direction='forward'>\n        <p class='no-margin white-space-normal semibold'>\n            Add Your Bank Info\n        </p>\n        <p class='opacity-4-5 no-margin white-space-normal micro-text'>\n            linking your bank account so we know you're serious about earning $$$\n        </p>\n        <i class='icon icon-small ion-plus opacity-4-5'> </i>\n      </ion-item>\n      <ion-item ng-click='confirmCommitment()' class='item-icon-right' nav-direction='forward'>\n        <p class='no-margin white-space-normal semibold'>\n            Confirm Commitment\n        </p>\n        <p class='opacity-4-5 no-margin white-space-normal micro-text'>\n            Deposit <strong class='regular'> $10 </strong> to confirm full interest. You'll receive it back @ the end of the month.\n        </p>\n        <i class='icon icon-small ion-plus opacity-4-5'> </i>\n      </ion-item>\n    </ion-list>\n</ion-view>\n"),
e.put("templates/guru.ratings.modal.html","<!-- <ion-modal-view ng-controller=\"RatingsController\" hide-nav-bar ='true' class='ratings-modal ratings-background'>\n  <ion-content class='white-text' scroll='false' style='margin-top:20px;'>\n      <ion-scroll style='height:100%;'>\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='padding-2em flex-item-c j-start center'>\n          <h1 class='sans-bold center'>\n            Session<br>Completed!\n          </h1>\n          <p>\n            {{pending_rating.session.time_completed}}\n          </p>\n        </div>\n        <div class='padding-2em flex-item-c center'>\n          <div class='pure-u-1'>\n              <h1 style='font-size:400%' class='white-text'><span class=\"bucks sans-light\">$</span><span class='sans-bold'>{{pending_rating.session.guru.current_hourly * (pending_rating.session.hours + (pending_rating.session.minutes / 60.0))}} </span>\n              </h1>\n          </div>\n        </div>\n        <div class='padding-2em pure-g center'>\n          <div class='pure-u-1'>\n            <div class='pure-g'>\n              <div class='pure-u-1-8'>\n              </div>\n              <div class='pure-u-3-4 margin-1em'>\n\n                <div class='item item-avatar-left transparent-background no-border white-text align-left'>\n                  <img src='{{pending_rating.session.student.profile_url}}' class='pure-img'/>\n                  <span class='sans-regular'>\n                    {{pending_rating.session.student.name.split(\" \")[0]}}\n                  </span>\n                  <p>{{pending_rating.session.request.course.short_name}}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class='pure-u-1'>\n            <div class='pure-g'>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"1\" class=\"icon ion-star ion-star-rating\" id=\"starOne\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"2\"  class=\"icon ion-star ion-star-rating\" id=\"starTwo\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"3\"  class=\"icon ion-star ion-star-rating\" id=\"starThree\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"4\"  class=\"icon ion-star ion-star-rating\" id=\"starFour\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"5\" class=\"icon ion-star ion-star-rating\" id=\"starFive\"></span></div>\n            </div>\n          </div>\n          <div class='pure-u-1 padding-2em' ng-show='!starsSelected'> </div>\n          <div class='pure-u-1'>\n            <button class='button button-full button-positive-outline' style='width:100%;' ng-click='closeGuruRatingsModal()' ng-show='starsSelected'>\n              Submit\n            </button>\n          </div>\n        </div>\n      </div>\n    </ion-scroll>\n    </ion-content>\n\n\n</ion-modal-view> -->\n<ion-modal-view ng-controller=\"RatingsController\" hide-nav-bar ='true' class='ratings-modal ratings-background'>\n  <ion-content class='white-text' scroll='false'>\n      <ion-scroll style='height:100%;'>\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='padding-2em flex-item-c j-end center ratings-border-bottom'>\n          <div class='pure-g-c center'>\n            <div class='pure-u-1 padding-1em center'>\n              <img  ng-src='{{img_base}}./img/verbs/{{pending_rating.session.request.verb_image}}' class='pure-img profile-img ratings-profile-img'/>\n            </div>\n          </div>\n          <h3 class='light no-margin small-screen-extra-50-padding-top'>\n            Session Complete\n          </h3>\n          <div class='pure-u-1 padding-1em'>\n            <p class='uppercase bold'>NICE WORK!</p>\n          </div>\n          <div class='pure-u-1' style='margin-top:25%; font-size:125%;'>\n            <div class='pure-g'>\n              <div class='pure-u-1-2'>\n                <p class='light opacity-1-2 align-right'>You Just Made:</p>\n              </div>\n              <div class='pure-u-1-2'>\n                <p class='light opacity-1-2 align-right'>\n                    ${{pending_rating.session.guru.current_hourly * (pending_rating.session.hours + (pending_rating.session.minutes / 60.0))}}.00\n                </p>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n        <div class='padding-2em pure-g center ratings-border-bottom small-screen-no-padding-top'>\n          <div class='pure-u-1 padding-1em'>\n            <div class='pure-g'>\n              <div class='pure-u-1'>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='!starsSelected'>\n                  Don't forget to leave a rating!\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"5\"'>\n                  Amazing!\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"4\"'>\n                  Great!\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"3\"'>\n                  Could've been better\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"2\"'>\n                  Not very good\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"1\"'>\n                  The worst. <div ng-show='starsSelected && starsSelected === \"1\"' style='font-size:70%;'>(We'll contact you soon)</div>\n                </p>\n              </div>\n            </div>\n            <div class='pure-g'>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"1\" class=\"icon ion-star ion-star-rating\" id=\"starOne\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"2\"  class=\"icon ion-star ion-star-rating\" id=\"starTwo\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"3\"  class=\"icon ion-star ion-star-rating\" id=\"starThree\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"4\"  class=\"icon ion-star ion-star-rating\" id=\"starFour\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"5\" class=\"icon ion-star ion-star-rating\" id=\"starFive\"></span></div>\n            </div>\n          </div>\n        </div>\n        <div class='pure-u-1 padding-1em'>\n          <button class='button button-full ratings-footer-button' style='margin:0; min-height:40px;' ng-show='!starsSelected'>\n            Submit\n          </button>\n\n          <button class='button button-full button-blue button-bold'  style='margin:0; min-height:40px; background-color:#68A7CF' ng-click='closeGuruRatingsModal()' ng-show='starsSelected'>\n              Submit\n          </button>\n        </div>\n      </div>\n    </ion-scroll>\n    </ion-content>\n\n\n</ion-modal-view>"),e.put("templates/guru.remote.html","<ion-view hide-nav-bar='true' class='remote'>\n   <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n      <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link cancel-button button-left\" ng-click='backToGuruRemoteProfile()'>Back</button>\n      </div>\n      <h1 class=\"title bold\">Communication Methods</h1>\n      <div class='buttons'>\n        <button style='padding-top:0.1em;'class=\"button button-clear button-header-link submit-button button-right \" id='done-button' ng-click='backToGuruRemoteProfile(true)'>Save</button>\n      </div>\n  </div>\n<ion-content class='dark-bg has-header' scroll='false'>\n    <ul class=\"list\">\n\n      <li class=\"item item-checkbox item-avatar-left\">\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/remote/skype.svg'/>\n          <p class='font-18'> Skype </p>\n         <label class=\"checkbox\">\n           <input type=\"checkbox\" ng-model='user.skype_friendly' ng-change=\"skypeFriendlyChanged()\">\n         </label>\n      </li>\n      <li class=\"item item-checkbox item-avatar-left\">\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/remote/facetime.svg'/>\n          <p class='font-18'> FaceTime</p>\n         <label class=\"checkbox\">\n           <input type=\"checkbox\" ng-model='user.facetime_friendly' ng-change=\"facetimeFriendlyChanged()\">\n         </label>\n      </li>\n\n      <li class=\"item item-checkbox item-avatar-left\">\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/remote/hangouts.svg'/>\n          <p class='font-18'> Hangouts</p>\n         <label class=\"checkbox\">\n           <input type=\"checkbox\" ng-model='user.hangouts_friendly' ng-change=\"hangoutsFriendlyChanged()\">\n         </label>\n      </li>\n\n      <li class=\"item item-checkbox item-avatar-left\">\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/remote/instant_chat.svg'/>\n          <p class='font-18'> Instant Chat</p>\n         <label class=\"checkbox\">\n           <input type=\"checkbox\" ng-model='user.messenger_friendly' ng-change=\"messengerFriendlyChanged()\">\n         </label>\n      </li>\n\n      <li class=\"item item-checkbox item-avatar-left\">\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/remote/phone.svg'/>\n          <p class='font-18'> Phone SVG</p>\n         <label class=\"checkbox\">\n           <input type=\"checkbox\" ng-model='user.phone_friendly' ng-change=\"phoneFriendlyChanged()\">\n         </label>\n      </li>\n\n      <li class=\"item item-checkbox item-avatar-left\">\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/remote/text.svg'/>\n          <p class='font-18'> Texting / iMessage</p>\n         <label class=\"checkbox\">\n           <input type=\"checkbox\" ng-model='user.text_friendly' ng-change=\"textFriendlyChanged()\">\n         </label>\n      </li>\n\n      <li class=\"item item-checkbox item-avatar-left\">\n         <img class='pure-img opacity-4-5 remote-img' ng-src='{{img_base}}./img/remote/email.svg'/>\n          <p class='font-18'> Email </p>\n         <label class=\"checkbox\">\n           <input type=\"checkbox\" ng-model='user.email_friendly' ng-change=\"emailFriendlyChanged()\">\n         </label>\n      </li>\n\n  </ul>\n\n</ion-content>\n\n\n</ion-view>\n"),e.put("templates/guru.request.incoming.modal.html","  <ion-modal-view hide-nav-bar ='true' class='dark-bg incoming-proposal'>\n\n    <ion-header-bar align-title=\"center\" class='dark-bg-header calendar-top-header mini-header' hide-nav-bar='true'>\n      <div class=\"buttons\">\n        <button class=\"button button-clear button-header-link grey opacity-1-2\" ng-click='rejectStudent()'>Cancel</button>\n      </div>\n    </ion-header-bar>\n\n  <ion-content class='white-text dark-bg request-form-tags-offset visible-overflow' scroll='false' >\n\n\n        <ion-scroll class='full-height visible-overflow'>\n          <div class='pure-g-c flex-column flex-space-between' ng-show='!showIncomingProposalDetails' ng-click='showIncomingProposalDetails = true;'>\n              <div class='flex-item-c pure-g'>\n                <!-- 1. create inset list, offset it by -5% margin-top -->\n                <ion-list class='list-inset visible-overflow proposal-card-request' style='margin: 0px 10px !important;'>\n\n                  <!-- 2.  padding 2em h1 format bold, SemiBold, relative-->\n                  <ion-item class='padding-1em absolute padding-vertical-1em float-center visible-overflow center' style='padding-bottom:2em;'>\n                    <img class='home-card-profile guru-proposal-profile pure-img profile-img sidebar-img inline'  ng-src='{{proposal.request.student.profile_url}}'/>\n                    <img class='home-card-profile guru-proposal-profile pure-img profile-img sidebar-img inline'  ng-src='{{user.profile_url}}'/>\n                    <!-- <h2> &nbsp; </h2> -->\n                    <h2 class='capitalize proposal-header white-space-normal' style='margin-top:0.5em;'  ng-show='proposal.request.course && proposal.request.course.short_name'>Session with <strong>{{proposal.request.student.name.split(' ')[0]}}</strong></h2>\n                    <h2 class='capitalize proposal-header white-space-normal' style='margin-top:0.5em;'  ng-hide='proposal.request.course && proposal.request.course.short_name'><strong class='semibold'>{{proposal.request.student.name.split(' ')[0]}}</strong> needs help with <strong class='semibold'>{{proposal.request.category}}</strong></h2>\n                  <!-- 3. Absolute positioning item, jack it from settings -->\n                  </ion-item>\n                  <!-- 4.  jack dfrom student, put hashtags, icon right-->\n                  <ion-item class='item-avatar item-icon-right session course-details'>\n                    <img class='pure-img verb-img' ng-ng-src='{{img_base}}./img/verbs/{{proposal.request.verb_image}}' />\n                      <h2 class='uppercase student-session-course-name' ng-show='proposal.request.course && proposal.request.course.short_name'>{{proposal.request.course.short_name}}</h2>\n                      <h2 class='uppercase student-session-course-name' ng-hide='proposal.request.course && proposal.request.course.short_name'>{{proposal.request.task_title}}</h2>\n                      <p class='tags-wrapper'>\n                        <span class='blue proposal.request-tag' ng-repeat='tag in proposal.request.tags'>#{{tag.name}}\n                        </span>\n                      </p>\n                    <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon proposal.request-icon' ng-src='{{img_base}}./img/icons/paperclip-outline-blue.svg' style='margin-right: 0.33em; margin-top:0.4em;'>\n\n                  </ion-item>\n\n                  <ion-item class='item-avatar-left card-item-left' ng-show='proposal.request.student_calendar[0].calendar_events[0].formatted_time'>\n                    <img class='icon ion-plus-custom blue custom-icon pure-img' ng-src='{{img_base}}./img/icons/clock.svg'>\n                      <div class='pure-u-1-4'>\n                        <p class='inline'>\n                          <span ng-show='proposal.request.student_calendar[0].calendar_events[0].formatted.time_length'>\n                            {{proposal.request.student_calendar[0].calendar_events[0].formatted.time_length}} hours\n                          </span>\n                          <!-- <span ng-show='proposal.request.time_estimate.minutes && !proposal.request.time_estimate.hours'>\n                            {{proposal.request.time_estimate.minutes}} min\n                          </span> -->\n                          <!-- <span ng-show='proposal.request.time_estimate.minutes && proposal.request.time_estimate.hours'>\n                            {{proposal.request.time_estimate.hour}}hr {{proposal.request.time_estimate.minutes}}m\n                          </span> -->\n                        </p>\n                      </div>\n                      <div class='pure-u-3-4 micro-text white-space-normal' style='padding-left:1.5em; line-height:2em; opacity:0.8;'>\n\n                         <strong> {{proposal.request.student_calendar[0].calendar_events[0].formatted.day}}, {{proposal.request.student_calendar[0].calendar_events[0].formatted.month}} {{proposal.request.student_calendar[0].calendar_events[0].formatted.date}}\n                      </strong> between\n\n                      <!-- not all have calendars -->\n                      <span class='calendar-availability-contact'>\n                        <strong>{{proposal.request.student_calendar[0].calendar_events[0].formatted.start_time_formatted}}-{{proposal.request.student_calendar[0].calendar_events[0].formatted.end_time_formatted}}</strong>\n                      </span>\n\n                      </div>\n                  </ion-item>\n\n                  <!-- 5.  Same old but no orange> -->\n                  <ion-item class='item-avatar-left card-item-left'>\n                    <img class='icon ion-plus-custom blue custom-icon pure-img' ng-src='{{img_base}}./img/icons/marker.svg'>\n                    <div class='pure-u-1-4'>\n                      <p class='inline'> Meet up </p>\n                    </div>\n                    <div class='pure-u-3-4 micro-text white-space-normal' style='padding-left:1.5em; line-height:2em; opacity:0.8'>\n                      <strong> {{proposal.request.address}} </strong>\n                    </div>\n                  </ion-item>\n\n                  <!-- 5.  Formalize list button-->\n\n                  <div class='pure-u-1'>\n                    <div id=\"map_canvas\" style=\"height:100px;width: 100%;\">\n                      <ui-gmap-google-map center=\"map.center\" control=\"map.control\" zoom=\"map.zoom\"  pan=\"true\" options=\"options\">\n                      </ui-gmap-google-map>\n                    </div>\n                  </div>\n\n\n                </ion-list>\n                <div class='pure-u-1' style='padding: 0 10px;'>\n                    <button class='button button-full button-blue blue-bg button-submit white-text center' ng-click='acceptIncomingStudentProposal()'>\n                          IM DOWN TO DO THIS\n                  </button>\n                </div>\n\n              </div>\n\n      </div>\n\n\n\n        <div class='pure-g-c flex-column flex-space-between' ng-show='showIncomingProposalDetails' ng-click='showIncomingProposalDetails = false;'>\n              <div class='flex-item-c pure-g full-width padding-1em'>\n                  <ion-list class='list-inset proposal-card-request full-width' style='margin:0px !important;'>\n\n                    <ion-item class='padding-1em item-avatar-left dark-bg white-text' style='border-color: rgba(255,255,255,0.2);'>\n                      <img class='pure-img can-help-profile-img'  ng-src='{{proposal.request.student.profile_url}}'/>\n                        <div class='guru-info-wrapper'>\n                          <h2>{{proposal.request.student.name.split(' ')[0]}} </h2>\n                          <p class='uppercase nano-text'>\n                            <span ng-show='proposal.request.student.university'>{{proposal.request.student.university.title}}  -</span>\n                            <span ng-show='proposal.request.student.majors'>{{proposal.request.student.majors[0].name}}</span>\n                          </p>\n\n                          <div class='pure-u-11-12'>\n                            <div class='pure-u-1-12' ng-repeat='number in getNumber(proposal.student.student_avg_rating) track by $index'>\n                                    <i class='icon ion-star blue'></i>\n                            </div>\n                            <div class='pure-u-1-12' ng-repeat='number in getNumber(5 - proposal.request.student.student_avg_rating) track by $index'>\n                              <i class='icon ion-star grey'></i>\n                            </div>\n                          </div>\n                        </div>\n                    </ion-item>\n\n\n                    <!-- 4.  jack dfrom student, put hashtags, icon right-->\n                    <ion-item class='item-avatar-left'>\n                      <img class='pure-img verb-img' ng-ng-src='{{img_base}}./img/verbs/{{proposal.request.verb_image}}' />\n                        <h2 class='uppercase student-session-course-name'>{{proposal.request.course.short_name}}</h2>\n                    </ion-item>\n\n                    <ion-item class='item-avatar-left card-item-left request-form-item'>\n                      <img class='icon ion-plus-custom blue custom-icon pure-img' ng-src='{{img_base}}./img/icons/clock.svg'>\n                      <p class='inline'> Starts in </p>\n                      <p ng-show='proposal.request.status === 1 || proposal.request.status === 0' class='inline time-until' style='padding-left:1em'> {{proposal.request.schedule_time}} minutes </p>\n                      <p ng-show='proposal.request.status === 2' class='inline time-until' style='padding-left:1em; color:green;'> In progress </p>\n                    </ion-item>\n\n                    <!-- 5.  Same old but no orange> -->\n                    <ion-item class='item-avatar-left card-item-left request-form-item'>\n                      <img class='icon ion-plus-custom blue custom-icon pure-img' ng-src='{{img_base}}./img/icons/marker.svg'>\n                      <p class='inline'> Meet up </p>\n                      <p class='inline black' style='padding-left:1em'> {{proposal.request.address}} </p>\n                    </ion-item>\n\n                    <div class='item item-divider'>\n                    </div>\n\n                    <ion-item>\n                      <p class='pico-text white-space-normal'> {{proposal.request.description}} </p>\n                      <div class='pure-u-1'>\n                        <div class='pure-u-1-3 session-details-img-wrapper padding-right-half padding-top-half' ng-repeat='file in proposal.request.files'>\n                          <img class='pure-img' ng-src='{{file.url}}'/>\n                        </div>\n                      </div>\n                    </ion-item>\n\n                    <ion-item class='item-icon-left' ng-show='proposal.request.tags.length > 0'>\n                      <img style='margin-top:0.4em; left:24px; top:5px;'class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' ng-src='{{img_base}}./img/icons/tags.svg'>\n                      <p>&nbsp;<span class='blue request-tag' ng-repeat='tag in proposal.request.tags'>#{{tag.name}} </span> </p>\n                    </ion-item>\n\n\n                  </ion-list>\n              </div>\n            </div>\n          </ion-scroll>\n\n\n\n  </ion-content>\n</ion-modal-view>"),e.put("templates/guru.session.html","<ion-view hide-nav-bar='true' id='guru-session'>\n\n  <div ng-include=\"img_base + 'templates/components.session.html'\"> </div>\n\n\n\n</ion-view>\n"),e.put("templates/guru.session.modal.html","<ion-modal-view  ng-controller='GuruSessionController'>\n\n  <div ng-include=\"img_base + 'templates/components.session.html'\"> </div>\n\n\n\n</ion-view>\n"),e.put("templates/guru.tasks.html","<ion-view hide-nav-bar='true' class='tasks'>\n    <ion-header-bar class='dark-bg-header'>\n      <!-- <div class=\"buttons\">\n        <button class=\"button button-clear button-header-link cancel-button\" ng-click='goBack()'>Close</button>\n      </div> -->\n\n      <h1 class=\"title\">All Tasks</h1>\n    </ion-header-bar>\n    <!-- <ion-header-bar class='dark-bg-header bar bar-subheader' style='height:67px !important;'> -->\n\n      <!-- <div class='ion-tabs tabs-top'> -->\n        <ion-scroll direction=\"x\" class='tabs tabs-top bar-subheader dark-bg-header task-tabs'>\n          <a class='task-filter-item ion-tab tab-item inline' ng-click='selectedVerb(0)'>\n              <div ng-show='selectedVerbIndex === 0' class='all-types-verb inline white-space-normal upper-case relative'>\n                <span class='absolute nano-text'> All<br>Types </span>\n                &nbsp;\n              </div>\n              <div ng-hide='selectedVerbIndex === 0' class='all-types-verb inline white-space-normal upper-case relative inverted'>\n                <span class='absolute nano-text'> All<br>Types </span>\n                &nbsp;\n              </div>\n          </a>\n          <a class='task-filter-item ion-tab tab-item' ng-click='selectedVerb(1)'>\n              <img ng-show='selectedVerbIndex === 1' class='pure-img padding-half' ng-src='{{img_base}}./img/verbs/items.svg'/>\n              <img ng-hide='selectedVerbIndex === 1' class='pure-img' ng-src='{{img_base}}./img/verbs/items_inverted.svg'/>\n          </a>\n          <a class='task-filter-item ion-tab tab-item' ng-click='selectedVerb(2)'>\n              <img ng-show='selectedVerbIndex === 2' class='pure-img padding-half' ng-src='{{img_base}}./img/verbs/food.svg'/>\n              <img ng-hide='selectedVerbIndex === 2' class='pure-img' ng-src='{{img_base}}./img/verbs/food_inverted.svg'/>\n          </a>\n          <a class='task-filter-item ion-tab tab-item' ng-click='selectedVerb(3)'>\n              <img ng-show='selectedVerbIndex === 3' class='pure-img padding-half' ng-src='{{img_base}}./img/verbs/chores.svg'/>\n              <img ng-hide='selectedVerbIndex === 3' class='pure-img' ng-src='{{img_base}}./img/verbs/chores_inverted.svg'/>\n          </a>\n          <a class='task-filter-item ion-tab tab-item' ng-click='selectedVerb(4)'>\n              <img ng-show='selectedVerbIndex === 4' class='pure-img padding-half' ng-src='{{img_base}}./img/verbs/skilled.svg'/>\n              <img ng-hide='selectedVerbIndex === 4' class='pure-img' ng-src='{{img_base}}./img/verbs/skilled_inverted.svg'/>\n          </a>\n          <a class='task-filter-item ion-tab tab-item' ng-click='selectedVerb(5)'>\n              <img ng-show='selectedVerbIndex === 5' class='pure-img padding-half' ng-src='{{img_base}}./img/verbs/specific.svg'/>\n              <img ng-hide='selectedVerbIndex === 5' class='pure-img' ng-src='{{img_base}}./img/verbs/specific_inverted.svg'/>\n          </a>\n        </ion-scroll>\n\n      </div>\n    <!-- </ion-header-bar> -->\n<ion-content class='white-bg standard-bg' style='top:91px;'>\n  <ion-refresher\n    pulling-icon=\"ion-arrow-down-c\"\n    spinner=\"circles\"\n    on-refresh=\"doRefresh()\">\n  </ion-refresher>\n\n          <ion-list class='pure-u-1' can-swipe=\"true\">\n\n              <div class='active-request-card-item-wrapper' ng-repeat='task in active_tasks | filter:taskItemsFilterFunction'>\n                <ion-item class='item-avatar request-card-item item-button-right' on-hold=\"cancelRequest(request)\" ng-click='goToShowTaskDetails(task)'>\n                  <img style='top:21px;' class='pure-img' ng-src='{{img_base}}./img/verbs/{{task.verb_image}}' />\n                  <div class='request-card-content relative' style='text-align:left;'>\n                    <p class='course-text relative'>\n                      <span ng-show='task._type === 2' class='transform-capitalize'>\n                        {{task.task_title}}\n                      </span>\n                    </p>\n                    <p class='location-text'> {{task.address}}</p>\n                  </div>\n                  <a class='button button-clear button-price-bubble ng-class:{\"price-bubble-lengthy\":(task.student_price).toString().length >= 3}' style='top:21px;'>\n                    <span class='padding-half'> ${{task.student_price}} </span>\n                  </a>\n                </ion-item>\n              </div>\n            </ion-list>\n\n</ion-content>\n<!-- <div ng-include=\"img_base + 'templates/guru.footer.components.html'\"> </div>\n</div> -->\n<div class=\"tabs tabs-icon-only white-bg\" id='guru-tab-bar'>\n  <a class=\"tab-item\" id='home-button' href='#/guru' nav-direction='home'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/house-icon-outline.svg'></i>\n  </a>\n  <a class=\"tab-item\" href='#/guru-questions' nav-direction='swap' id='questions-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/icons/question.svg'></i>\n  </a>\n  <a class=\"tab-item\" id='browse-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/icons/task_blue.svg'></i>\n  </a>\n  <a class=\"tab-item\" id='profile-tab-button' nav-direction='swap' href='#/guru-profile'>\n    <i class='icon ion-person bg-blue'> </i>\n  </a>\n  <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/settings-tab-guru.svg'/>\n  </a>\n</div>\n</ion-view>\n"),e.put("templates/guru.tips.components.guru.html","<ion-slide-box show-pager='true && {{root.vars.guru_rank_pending.length > 1}}' class='guru-home-tip-slider'>\n  <ion-slide ng-repeat=\"rank in root.vars.guru_rank_pending\">\n      <div class='flex-item-c pure-g center j-center'>\n        <div class='container tip-of-day-container' style='padding:10% 0% 2.5% 0%'>\n          <div class='pure-u-1 padding-1em'>\n            <h1 class='uppercase no-margin semibold opacity-3-5'> Guru TIP #{{$index + 1}} </h1>\n          </div>\n          <div class='pure-u-1' style='padding-top:1.5em; padding-bottom:0em;'>\n            <p class='opacity-3-5' style='padding:0em 3em;'> Increase your ranking by {{rank.descriptionText}} </p>\n          </div>\n        </div>\n      </div>\n      <div class='flex-item-c pure-g center j-start'>\n          <div class='pure-u-1 padding-half' style='padding-left:1em; padding-right:1em; margin-top:0.5em;'>\n            <a href='#/{{rank.link}}' style='min-height:3.3em; line-height:3.3em;' nav-direction='swap' class='button button-full light-blue-bg button-footer white-text uppercase no-margin'>{{rank.buttonText}}</a>\n          </div>\n      </div>\n  </ion-slide>\n  <ion-slide ng-if=\"root.vars.guru_rank_pending.length === 1\">\n      <div class='flex-item-c pure-g center j-center'>\n        <div class='container tip-of-day-container' style='padding:10% 0% 2.5% 0%'>\n          <div class='pure-u-1 padding-1em'>\n            <h1 class='uppercase no-margin semibold opacity-3-5'> You're all set! </h1>\n          </div>\n          <div class='pure-u-1 padding-1em' style='padding-top:1.5em; padding-bottom:0em;'>\n            <p class='opacity-3-5' style='padding:0em 3em;'> You have done all that you could. Sit tight & we'll be sending students your way (first).</p>\n          </div>\n        </div>\n      </div>\n      <div class='flex-item-c pure-g center j-start'>\n          <div class='pure-u-1 padding-half' style='padding-left:1em; padding-right:1em; margin-top:0.5em;'>\n            <a href='#/guru-profile' style='min-height:3.3em; line-height:3.3em;' nav-direction='swap' class='button button-full light-blue-bg button-footer white-text uppercase no-margin'>Improve My Profile</a>\n          </div>\n      </div>\n  </ion-slide>\n</ion-slide-box>"),e.put("templates/guru.tutor-platforms.modal.html","<ion-modal-view  class='description-modal' ng-controller='DescriptionController'>\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header calendar-top-header mini-header' hide-nav-bar='true'>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link\" ng-click='tutoringPlatformsModal.hide();'>Cancel</button>\n    </div>\n    <h1 class=\"title micro-text modal-header-text\" style='padding-left:5px;'>Add Profile URLs</h1>\n      <a class=\"button button-clear button-blue button-header-link \" ng-click='saveTutoringPlatformsAndCloseModal()'>\n        Save\n      </a>\n  </ion-header-bar>\n\n  <ion-content scroll='false' class='white-bg'>\n    <div class='pure-g-c flex-column flex-space-between'>\n        <ion-list class='standard-bg flex-item-c pure-g j-start bg-transparent'>\n          <ion-item class='pure-u-1 relative description-wrapper-item' ng-hide='progress'>\n                <textarea id='tutoring-platforms-input'  style='font-size:1.25em;' rows=\"10\" class='full-width' ng-model='user.tutoring_platforms_description' placeholder='Please provide direct links to your profile, separated by commas'></textarea>\n          </ion-item>\n        </ion-list>\n    </div>\n  </ion-content>\n</ion-modal-view>"),
e.put("templates/home.html","<ion-view hide-nav-bar='true' class='request' id='home-page'>\n  <ion-header-bar align-title=\"center\" class='dark-bg-header item-icon-right'>\n        <h1 class=\"title\">Requests</h1>\n        <div class=\"buttons\">\n          <img class='icon ion-plus-custom blue custom-icon' style='top:0.33em !important;' src='{{img_base}}./img/icons/blue_add.svg'></img>\n        </div>\n  </ion-header-bar>\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header item-icon-right'>\n      <h1 class=\"title\">Requests</h1>\n      <div class=\"buttons\">\n        <button ng-click='launchVerbModal()' class='button-img'><img  style='top:0.4em !important;' class='icon ion-plus-custom blue pure-img custom-icon' src='{{img_base}}./img/icons/blue_add.svg'></img></button>\n      </div>\n  </ion-header-bar>\n\n<div class=\"tabs home-request-tabs-top tabs-top\">\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':showUpcoming, 'opacity-1-2':!showUpcoming}\" ng-click='showUpcomingToggle()'>\n        Upcoming\n      </a>\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':!showUpcoming, 'opacity-1-2': showUpcoming}\" ng-click='showPreviousRequests()'>\n        History\n      </a>\n</div>\n\n\n<ion-content class='dark-bg has-subheader request-form-tags-offset' scroll='false'>\n\n    <div class='pure-g-c flex-column flex-space-between' ng-show='!showUpcoming'>\n\n        <ion-scroll class='full-height'>\n\n        <ion-refresher\n          pulling-icon=\"ion-arrow-down-c\"\n          spinner=\"circles\"\n          on-refresh=\"doRefresh()\">\n        </ion-refresher>\n\n        <div class='pure-g'>\n\n           <ion-list class='pure-u-1' can-swipe=\"true\">\n\n              <div class='active-request-card-item-wrapper' ng-repeat='request in user.previous_requests'>\n                <ion-item class='item-avatar request-card-item' ng-click='goToSessionDetails(request.session)'>\n                  <img class='pure-img' ng-src='{{img_base}}./img/verbs/{{request.verb_image}}' />\n                  <div class='request-card-content relative'>\n                    <p class='course-text relative'>\n                      <span ng-show='request._type === 0 || request._type === 1'>\n                        {{request.course.short_name}}\n                      </span>\n                      <span ng-show='request._type === 2' class='transform-capitalize'>\n                        {{request.task_title}}\n                      </span>\n                      <span class='request-tag-status request-tag-status-completed' ng-show='request.status === 4'> CANCELED </span>\n                      <span class='request-tag-status request-tag-status-completed' ng-show='request.status === 15'> Answered </span>\n                    </p>\n                    <p class='location-text' ng-show='request._type !== 1'> {{request.address}}</p>\n                  </div>\n                  <!-- <i class='icon ion-chevron-right icon-small'> </i> -->\n                </ion-item>\n\n\n                 <ion-item class='item-wrap-text' on-hold=\"cancelRequest(request)\" ng-click='goToPendingRequestDetails(request)' ng-show='request._type === 0 || request._type === 1'>\n                  <p class='request-description white-space-normal' ng-show='request._type === 0'>\n\n                    <!-- required -->\n                    <strong> {{request.calendar.weekday}}\n                    </strong>\n\n                    <!-- not all have calendars -->\n                    <span class='calendar-availability-contact' ng-show='request.calendar.formatted_start_time'>\n                       between <strong>{{request.calendar.formatted_start_time}} & {{request.calendar.formatted_end_time}}</strong>\n                    </span>\n\n                    Today between <strong> 12:00pm & 3:30pm </strong>\n                    <!-- required -->\n                    for <strong>3.5 hours</strong>.\n\n                     <span ng-show=\"request.description\">\n                      <strong>Description</strong>\n                     </span>\n\n                     <span ng-show='request.description && request.files.length > 0 '>\n                     and\n                     </span>\n\n                      <span ng-show=\"request.files.length > 0\">\n                        <strong>Attachments</strong>\n                      </span>\n\n                      <span ng-show='request.description && request.files.length > 0 '>\n                        have been added.\n                      </span>\n                      <span ng-show='!request.description && request.files.length > 0 '>\n                        have been added.\n                      </span>\n                      <span ng-show='request.description && !request.fo;es.length > 0 '>\n                        has been added.\n                      </span>\n                  </p>\n\n                  <p class='request-description white-space-normal' ng-show='request._type === 1'>\n                    {{request.description}}\n                      <br>\n                      <span ng-show=\"request.files.length > 0\">\n                        <strong>Attachments</strong> have been added\n                      </span>\n                  </p>\n                </ion-item>\n\n              </div>\n            </ion-list>\n          </div>\n\n    </div>\n\n    <div class='pure-g-c flex-column flex-space-between' ng-show='showUpcoming'>\n\n      <ion-scroll class='full-height'>\n\n        <ion-refresher\n          pulling-icon=\"ion-arrow-down-c\"\n          spinner=\"circles\"\n          on-refresh=\"doRefresh()\">\n        </ion-refresher>\n\n        <div class='flex-item-c pure-g center full-height' ng-show='(!user.active_requests || user.active_requests.length === 0) && (!user.active_student_sessions.length || user.active_student_sessions.length === 0)'>\n            <div class='pure-u-1'>\n                <img class='pure-img guru-bg-img' src='{{img_base}}./img/general/logo-01.svg'/>\n            </div>\n            <div class='pure-u-1 margin-top-half'>\n                <p class='light-font center white-text padding-1em content-header-text'>\n                    Aww, you haven't made <br>\n                    any requests yet. <br> Need anything?\n                </p>\n            </div>\n            <a ng-click='launchVerbModal()' id='request-button'>\n              <div class='pure-u-1 margin-top-half'>\n                  <img class='pure-img home-request-button' src='{{img_base}}./img/request/button-01.svg'>\n              </div>\n              <div class='pure-u-1 micro-text center blue-text' id='request-button-text'>\n                  Request\n              </div>\n            </a>\n        </div>\n\n\n\n\n        <div ng-show='user.active_student_sessions && user.active_student_sessions.length > 0'  class='padding-1em'>\n\n                  <!-- for upcoming sessions for a tutor and guru that have been matched -->\n                  <ion-list class='list-inset visible-overflow' on-hold=\"cancelActiveSession(session)\" ng-repeat='session in user.active_student_sessions' ng-click='goToSessionDetails(session);'>\n\n                      <!-- 2.  padding 2em h1 format bold, SemiBold, relative-->\n                      <ion-item class='padding-2em absolute padding-vertical-1em float-center visible-overflow center'>\n                        <img class='home-card-profile pure-img profile-img sidebar-img inline no-border'  ng-src='{{session.request.guru.profile_url}}'/>\n                        <!-- <h2> &nbsp; </h2> -->\n                        <h2 style='margin-top:0.5em;'>Session with <strong>{{session.request.guru.name.split(' ')[0]}}</strong></h2>\n                      <!-- 3. Absolute positioning item, jack it from settings -->\n                      </ion-item>\n                      <!-- 4.  jack dfrom student, put hashtags, icon right-->\n                      <ion-item class='item-avatar item-icon-right session course-details'>\n                        <img class='pure-img verb-img' ng-src='{{img_base}}./img/verbs/{{session.request.verb_image}}' />\n                          <h2 class='uppercase'>{{session.request.course.short_name}}</h2>\n                          <p class='tags-wrapper no-margin no-padding' style='padding:0px !important; margin:0px !important;'>\n                            <span class='blue request-tag' ng-repeat='tag in session.request.tags'>#{{tag.name}}\n                            </span>\n                          </p>\n                        <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon request-icon' ng-src='{{img_base}}./img/icons/paperclip-outline-blue.svg' style='margin-right: 0.33em; margin-top:0.4em;'>\n\n                      </ion-item>\n\n                      <ion-item class='item-avatar-left card-item-left' ng-show='false || todo'>\n                        <img class='icon ion-plus-custom blue custom-icon pure-img' ng-src='{{img_base}}./img/icons/clock.svg'>\n                        <p class='inline'> Starts in </p>\n                        <p class='inline time-until' style='padding-left:1em'> {{session.request.schedule_time}} minutes </p>\n                      </ion-item>\n\n                      <!-- 5.  Same old but no orange> -->\n                      <ion-item class='item-avatar-left card-item-left' style='margin-bottom:1em;'>\n                        <img class='icon ion-plus-custom blue custom-icon pure-img' ng-src='{{img_base}}./img/icons/marker.svg'>\n                        <p class='inline'> Meet up </p>\n                        <p class='inline black' style='padding-left:1em'> {{session.request.address}} </p>\n                      </ion-item>\n                    </ion-list>\n\n        </div>\n        <div class='pure-g' ng-show='user.active_requests.length > 0'>\n\n          <ion-list class='pure-u-1' can-swipe=\"true\">\n\n              <div class='active-request-card-item-wrapper' ng-repeat='request in user.active_requests'>\n                <ion-item class='item-avatar request-card-item' on-hold=\"cancelRequest(request)\" ng-click='goToPendingRequestDetails(request)'>\n                  <img class='pure-img' ng-src='{{img_base}}./img/verbs/{{request.verb_image}}' />\n                  <div class='request-card-content'>\n                    <p class='course-text'>\n                      <span class=\"ng-class: {'card-font-small': request.course.short_name.length > 8 && request.course.short_name.length < 11, 'card-font-xs': request.course.short_name.length >= 11}\" ng-show='request._type === 0 || request._type === 1'>\n                        {{request.course.short_name}}\n                      </span>\n                      <span ng-show='request._type === 2' class='transform-capitalize'>\n                        {{request.task_title}}\n                      </span>\n                      <span class='request-tag-status'> {{request.initial_status || 'Completed'}} </span>\n                    </p>\n                    <p class='location-text'> {{request.address}}</p>\n                  </div>\n                  <!-- <i class='icon ion-chevron-right icon-small'> </i> -->\n                </ion-item>\n\n                <ion-item class='item-wrap-text' on-hold=\"cancelRequest(request)\" ng-click='goToPendingRequestDetails(request)' ng-show='(request._type === 0 || request._type === 1) && request.student_calendar[0].calendar_events[0].formatted' >\n                <!-- <ion-item class='item-avatar item-wrap-text'> -->\n                  <p class='request-description white-space-normal' ng-show='request._type === 0'>\n\n                    <!-- if not urgent -->\n                    <span ng-show='request.student_calendar &&request.student_calendar.length > 0'>\n\n                      <strong> {{request.student_calendar[0].calendar_events[0].formatted.day}}, {{request.student_calendar[0].calendar_events[0].formatted.month}} {{request.student_calendar[0].calendar_events[0].formatted.date}}\n                      </strong> between\n\n                      <!-- not all have calendars -->\n                      <span class='calendar-availability-contact'>\n                        <strong>{{request.student_calendar[0].calendar_events[0].formatted.start_time_formatted}}-{{request.student_calendar[0].calendar_events[0].formatted.end_time_formatted}}</strong>\n                      </span>\n<!--\n                      <strong> 12:00pm & 3:30pm </strong>\n                      <!-- required -->\n                      for <strong>{{request.student_calendar[0].calendar_events[0].formatted.time_length}} hours</strong>.\n                    </span>\n\n                     <span ng-show=\"request.description\">\n                      <strong>Description</strong>\n                     </span>\n\n                     <span ng-show='request.description && request.files.length > 0 '>\n                     and\n                     </span>\n\n                      <span ng-show=\"request.files.length > 0\">\n                        <strong>Attachments</strong>\n                      </span>\n\n                      <span ng-show='request.description && request.files.length > 0 '>\n                        have been added.\n                      </span>\n                      <span ng-show='!request.description && request.files.length > 0 '>\n                        have been added.\n                      </span>\n                      <span ng-show='request.description && !request.fo;es.length > 0 '>\n                        has been added.\n                      </span>\n                  </p>\n                  <p class='request-description white-space-normal' ng-show='request._type === 1'>\n                    {{request.description}}\n                      <br>\n                      <span ng-show=\"request.files.length > 0\">\n                        <strong>Attachments</strong> have been added\n                      </span>\n                  </p>\n                </ion-item>\n              </div>\n\n            </ion-list>\n\n\n        </div>\n      </ion-scroll>\n    </div>\n  </div>\n    <!-- bottom tabs -->\n<div class=\"tabs tabs-icon-only dark-bg\">\n  <a class=\"tab-item\" id='home-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/house-icon-blue.svg'></i>\n  </a>\n  <a class=\"tab-item\" href='#/courses' nav-direction='swap' id='questions-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/guru_book.svg'></i>\n  </a>\n  <!-- <a class=\"tab-item\" href='#/browse' nav-direction='swap' id='browse-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/search.svg'></i>\n  </a> -->\n  <a class=\"tab-item\">\n  </a>\n  <a class=\"tab-item\">\n  </a>\n  <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/settings.svg'/>\n  </a>\n</div>\n\n</ion-content>\n\n\n</ion-view>\n"),e.put("templates/location.modal.html","<ion-modal-view class='location-modal' ng-controller='LocationController'>\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header mini-header no-background-image'>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link\" ng-click='closeLocationModal()'>Cancel</button>\n    </div>\n    <h1 class=\"title micro-text\">Location</h1>\n  </ion-header-bar>\n\n  <ion-content class='has-header' scroll='false'>\n\n        <ion-list>\n\n          <ion-item class='dark-bg'>\n\n            <div id='searchBoxParent'>\n              <input type=\"text\" id='location-input' placeholder=\"Enter preferred location\" ng-model='location_search_text.value' style='width:100%;'>\n            </div>\n\n          </ion-item>\n\n          <ion-item class='item-icon-left current-location-item' ng-click='attemptToGetLocation()'>\n            <img   style='margin-top: 0.4em;' class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' ng-src='{{img_base}}./img/icons/location.svg'>\n            <p> Current Location</p>\n          </ion-item>\n          <ionic-scroll>\n            <ion-item ng-repeat='location in root.vars.nearby_locations' class='location-item item-icon-right' ng-click='saveLocationAndClose(location)'>\n                <p>{{location.local_name}}<br>\n                  <span class='nano-text'>\n                    {{location.city_info}}\n                  </span>\n                </p>\n                <!-- <i ng-show='user.recent_position && user.recent_position.coords' class='icon blue ion-navigate icon-small'></i> -->\n            </ion-item>\n          </ionic-scroll>\n\n      </ion-list>\n  </ion-content>\n</ion-modal-view>"),e.put("templates/majors.container.html","<ion-view hide-nav-bar='true' >\n   <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n      <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link cancel-button button-left\" ng-click='backToStudentEditProfile()'>Back</button>\n      </div>\n      <h1 class=\"title bold\">Edit Majors</h1>\n      <div class='buttons'>\n        <button style='padding-top:0.1em;'class=\"button button-clear button-header-link submit-button button-right \" id='done-button' ng-click='backToStudentEditProfile(true)'>Save</button>\n      </div>\n  </div>\n<ion-content class='dark-bg has-header' scroll='false'>\n    <div class='pure-g'>\n      <div class=\"list pure-u-1\">\n        <label class=\"item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2\">\n              <i class='icon ion-search onboarding-search-icon' ng-hide=\"search_text.length > 0\"></i>\n              <input id='major-input' type=\"text\" class='ng-class:{\"align-left-start\":search_text.length > 0}'\n\n                      fast-matcher\n                        fast-matcher-source=\"majors\"\n                        fast-matcher-output=\"matchingMajors\"\n                        fast-matcher-properties=\"name\"\n                        fast-matcher-any-word=\"true\"\n                        fast-matcher-limit=\"10\"\n                        fast-matcher-preserve-order=\"true\"\n                        fast-matcher-case-insensitive=\"true\"\n                        placeholder=\"Search Available Majors\"\n                      ng-model=\"search_text\"/>\n          <!-- </span> -->\n        </label>\n      </div>\n    </div>\n\n\n    <ion-list>\n      <ion-item ng-show='majorInput.value.length > 0' class='item-button-right request-form-item major-item' ng-repeat=\"major in matchingMajors\" ng-click=\"majorSelected(major, $event)\">\n                  <p class='semibold'>{{major.name}}\n                  </p>\n      </ion-item>\n    </ion-list>\n\n    <div class='pure-g-c flex-column flex-space-between' ng-show='majorInput.value.length === 0'>\n\n              <div class='flex-item-c center j-center' ng-show='user.majors.length > 0'>\n                <div class='pure-g'>\n\n                  <div class='pure-u-1 padding-half'>\n                    <p class='uppercase opacity-1-2 micro-text bold grey' style='color:grey;'> My Majors<br>\n                    </p>\n                    <div class='micro-text regular grey padding-half white' style='opacity:1'>(Double tap to Remove)</div>\n                  </div>\n                </div>\n\n                <div class='pure-g'>\n\n                  <div class='pure-u-1'>\n                    <a class='course-tag major-tag white-bg orange' on-double-tap=\"removeMajor(user_major)\" style='font-size:80%;' ng-repeat=\"user_major in user.majors\">{{user_major.name}} &nbsp; &nbsp; <i class='icon ion-checkmark'></i></a>\n                  </div>\n                </div>\n\n              </div>\n    </div>\n\n</ion-content>\n\n\n</ion-view>\n"),e.put("templates/majors.html"," <ion-view hide-nav-bar='true' class='subdark-bg' cache-view='false'>\n\n    <ion-content class='white-text subdark-bg university-view-2' scroll='false' style='top:0px; bottom:10%;' ng-controller='AddMajorController' >\n      <div class='pure-g'>\n        <div class=\"list pure-u-1\">\n          <label class=\"item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2\">\n                  <i class='icon ion-search onboarding-search-icon' ng-hide=\"search_text.length > 0\"></i>\n                      <input id='major-input' type=\"text\" class='ng-class:{\"align-left-start\":search_text.length > 0}'\n                        fast-matcher\n                        fast-matcher-source=\"majors\"\n                        fast-matcher-output=\"matchingMajors\"\n                        fast-matcher-properties=\"name\"\n                        fast-matcher-any-word=\"true\"\n                        fast-matcher-limit=\"10\"\n                        fast-matcher-preserve-order=\"true\"\n                        fast-matcher-case-insensitive=\"true\"\n                        placeholder=\"Search Available Majors\"\n                        ng-model=\"search_text\"\n                </label>\n              </div>\n            </div>\n            <ion-list ng-show='search_text.length > 0'>\n                <ion-item class='item-button-right request-form-item major-item' ng-repeat=\"major in matchingMajors\" ng-click=\"majorSelected(major, $event, $index)\">\n                            <p class='semibold'>{{major.name}}\n                            </p>\n                </ion-item>\n            </ion-list>\n\n\n            <div class='pure-g-c flex-column flex-space-between' ng-show='!search_text || search_text.length === 0'>\n\n              <div class='flex-item-c center j-end' ng-show='user.majors.length > 0'>\n                <div class='pure-g'>\n\n                  <div class='pure-u-1 padding-half'>\n                    <p class='uppercase opacity-1-2 micro-text bold sans-bold grey'> <strong class='white-text'> My Majors </strong> <br>\n                    </p>\n                    <div class='micro-text regular padding-half white' style='opacity:0.7'>(Tap & Hold to Remove)</div>\n                  </div>\n                </div>\n\n                <div class='pure-g'>\n\n                  <div class='pure-u-1'>\n                    <a class='course-tag major-tag white-bg orange' on-double-tap=\"removeMajor(user_major)\" style='font-size:80%;' ng-repeat=\"user_major in user.majors\">{{user_major.name}} &nbsp; &nbsp; <i class='icon ion-checkmark'></i></a>\n                  </div>\n                </div>\n\n              </div>\n\n              <div class='flex-item-c center'>\n              </div>\n\n              <div class='flex-item-c center j-start'>\n\n                <div class='pure-g'>\n\n                 <!--  <div class='pure-u-1 padding-1em'>\n                    <p class='uppercase sans-bold bold micro-text opacity-1-2'>\n                      Tap Any Popular Major\n                    </p>\n                  </div>\n                  <div class='pure-u-1' style='padding-bottom:2.5em;'>\n                    <a class='course-tag major-tag' ng-click='majorSelected(popular_major, $event, $index)' style='font-size:70%;' ng-repeat='popular_major in static.popular_majors.slice(0,10)'>{{popular_major.name}}</a>\n                  </div> -->\n\n\n                </div>\n              </div>\n\n              <div class='flex-item-c j-start'>\n\n              </div>\n            </div>\n        </ion-content>\n\n\n</ion-view>"),e.put("templates/messages.components.html",'<ion-content delegate-handle="message-scroll" ng-click=\'setUnfocus()\' class=\'white-background has-subheader\'>\n        <ion-refresher\n          pulling-icon="ion-arrow-down-c"\n          spinner="circles"\n          on-refresh="doRefresh()">\n        </ion-refresher>\n      <!-- <ion-scroll class="messages" ng-click="hideKeyboard()"> -->\n\n\n\n        <ul class="list message-item-list" style=\'margin-top:1em;\'>\n          <div class=\'guru-bot-message\'>\n            <li class="item item-avatar-left message-item">\n              <img ng-src=\'{{img_base}}./img/verbs/guru.svg\'>\n              <div class="text">\n                Hey you two! You can use this chat window to discuss your sessions. After your session is over, this chat will freeze so that you can access it whenever you need to.\n                </div>\n                <div class=\'text-time\' ng-show=\'$index === messages.length - 1\'>\n                  {{message.formatted_time}} ago\n                </div>\n            </li>\n          </div>\n            <li class="item {{message.class}} message-item" ng-repeat="message in local_messages">\n              <img ng-src="{{message.profile_url}}" ng-show=\'message.class === "item-avatar-left"\'>\n              <div class="text">\n                <!-- <span class=\'sans-semibold\' ng-show=\'message.sender.id !== user.id && message.sender.profile_url === default_profile_url\'>{{message.sender.name.split(\' \')[0]}}:</span> -->\n                {{message.contents}}</div>\n                <div class=\'text-time\' ng-show=\'$index === messages.length - 1\'>\n                  {{message.formatted_time}}\n                </div>\n              <!-- <img ng-src="{{message.profile_url}}" ng-show=\'message.class === "item-avatar-right"\'> -->\n            </li>\n        </ul>\n      <!-- </ion-scroll> -->\n    </ion-content>\n    <ion-footer-bar class="bar-footer item-input-inset messages-footer-bar" keyboard-attach>\n      <label class="item-input-wrapper">\n          <i class="icon ion-search placeholder-icon"></i>\n          <input type="search" name="message-input" class="form-control"\n                  placeholder="Enter a message"\n                  ng-model="new_message.content"\n                  ng-focus="setFocus()"\n                  ng-blur="setFocus()"\n                  ng-keypress="checkSubmission($event)"\n          />\n      </label>\n\n      <button class="button button-clear button-positive positive button-search" ng-show="new_message.content.length > 0" ng-click="sendMessage(new_message.content)">\n      Send\n      </button>\n    </ion-footer-bar>'),e.put("templates/onboarding.html","\n\n\n    <ion-slide-box show-pager=\"true\" class='dark-bg'  on-slide-changed=\"slideHasChanged($index)\">\n\n\n\n\n      <ion-slide>\n        <ion-view >\n\n            <ion-header-bar class='item-button-right dark-bg no-border no-background-image'>\n\n                  <!-- <div class=\"buttons\">\n                    <button ng-click='goToUniversity()' class=\"button button-clear button-header-link grey-text light nano-text opacity-1-4\" >Skip</button>\n                  </div> -->\n            </ion-header-bar>\n\n            <ion-content class='dark-bg no-border' scroll='false'>\n\n\n\n                <div class='pure-g-c flex-column flex-space-between'>\n\n\n                  <div class='flex-item-c center j-start first-page-wrapper'>\n                    <div class='pure-g'>\n                      <div class='padding-half pure-u-1 relative onboarding-phone-wrapper relative'>\n                        <img class='lefthand-img ng-class:{\"absolute animated slideInLeft\":injectAnimatedHand}' ng-src='{{img_base}}./img/lefthand.svg'/>\n                        <img class='phone-img ng-class:{\"absolute animated fadeInDown\":injectAnimatedPhone}' ng-src='{{img_base}}./img/onboarding-phone.svg'/>\n                        <img class='righthand-img ng-class:{\"absolute animated slideInRight\":injectAnimatedHand}' ng-src='{{img_base}}./img/righthand.svg'/>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class='flex-item-c center j-start'>\n\n                    <div class='pure-g'>\n\n                      <div class='pure-u-1 white-text'>\n                        <h1 class='white-text onboarding-header-text'>\n                          Welcome to uguru\n                        </h1>\n                        <p class='padding-half regular'>\n                          Free Marketplace for students <br>\n                          at the tip of your finger\n                        </p>\n                      </div>\n\n                    </div>\n                  </div>\n\n                </div>\n\n            </ion-content>\n        </ion-view>\n      </ion-slide>\n\n      <ion-slide>\n        <div ng-include=\"img_base + BASE + 'templates/university.html'\"></div>\n      </ion-slide>\n\n      <!-- <ion-slide>\n        <ion-view class='blue-bg' hide-nav-bar='true'>\n\n          <ion-header-bar class='item-button-right blue-bg no-border no-background-image'>\n\n                  <div class=\"buttons\">\n                    <button ng-click='toggleView(1)' class=\"button button-clear button-header-link grey-text light nano-text opacity-1-3\" >Skip</button>\n                  </div>\n          </ion-header-bar>\n\n            <ion-content class='blue-bg no-border' scroll='false'>\n\n\n                <div class='pure-g-c flex-column flex-space-between'>\n\n                  <div class='flex-item-c center j-start'>\n                    <div class='pure-g'>\n                      <div class='padding-half pure-u-1 relative onboarding-phone-wrapper relative'>\n                        <img class='bling-guru' ng-src='{{img_base}}./img/blingguru.svg'/>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class='flex-item-c center j-start'>\n\n                    <div class='pure-g'>\n\n                      <div class='pure-u-1 white-text'>\n                        <h1 class='white-text onboarding-header-text'>\n                          Anything you want\n                        </h1>\n                        <p class='padding-half regular'>\n                          We got it, real fast, real cheap\n                        </p>\n                      </div>\n\n                    </div>\n                  </div>\n\n                </div>\n\n            </ion-content>\n\n        </ion-view>\n      </ion-slide>\n\n      <ion-slide>\n        <ion-view class='green-bg' hide-nav-bar='true'>\n\n            <ion-header-bar class='item-button-right transparent-bg no-border no-background-image'>\n\n                  <div class=\"buttons\">\n                    <button ng-click='toggleView(1)' class=\"button button-clear button-header-link grey-text light nano-text opacity-1-2\" >Skip</button>\n                  </div>\n            </ion-header-bar>\n\n            <ion-content class='transparent-bg no-border' scroll='false'>\n\n              <div class='pure-g-c flex-column flex-space-between'>\n\n                  <div class='flex-item-c center j-center'>\n                    <div class='pure-g'>\n                      <div class='padding-half pure-u-1 relative onboarding-phone-wrapper'>\n                        <img class='guru-profile-card-img'ng-src='{{img_base}}./img/courses-card-onboarding.svg'/>\n                        <img class='help-needed-card-img' ng-src='{{img_base}}./img/help-needed-card-onboarding.svg'/>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class='flex-item-c center j-start'>\n\n                    <div class='pure-g'>\n\n                      <div class='pure-u-1 white-text'>\n                        <h1 class='white-text onboarding-header-text'>\n                          Part-time Money\n                        </h1>\n                        <p class='padding-half regular' style='margin-top:-1em;'>\n                          Has never been so easy\n                        </p>\n                      </div>\n\n                    </div>\n                  </div>\n\n                </div>\n\n\n            </ion-content>\n\n        </ion-view>\n      </ion-slide> -->\n\n\n    </ion-slide-box>\n"),e.put("templates/payments.components.html","<ion-header-bar align-title=\"center\" class='dark-bg-header no-background-image'>\n      <div class=\"buttons\">\n        <button class=\"button button-clear button-header-link grey-text light nano-text\" ng-click='goBack()'>Cancel</button>\n      </div>\n      <h1 class=\"title micro-text hide ng-class:{'show': !data.card_exists }\">Add Payment</h1>\n      <h1 class=\"title micro-text hide ng-class:{'show': data.card_exists }\">Edit Payment</h1>\n      <div class=\"buttons\">\n        <button class=\"button button-clear button-header-link  submit-button hide ng-class:{'show': !data.card_exists}\" id='done-button' ng-click='savePayment()'>\n          <span class='ng-class:{\"grey-text\":card_details.number.length === 0}'>Add</span>\n        </button>\n        <button class=\"button button-clear button-header-link submit-button hide ng-class:{'show': data.card_exists}\" id='done-button' ng-click='paymentCardActionSheetOptions()'>\n          <span>Edit</span>\n        </button>\n      </div>\n  </ion-header-bar>\n\n  <ion-content>\n\n\n    <!-- <div class=\"demo-container\">\n\n\n          <div class=\"form-container active\">\n\n                  <input placeholder=\"Card number\" type=\"text\" name=\"number\">\n                  <input placeholder=\"Full name\" type=\"text\" name=\"name\">\n                  <input placeholder=\"MM/YY\" type=\"text\" name=\"expiry\">\n                  <input placeholder=\"CVC\" type=\"text\" name=\"cvc\">\n              </form>\n          </div>\n        </div>\n    </div> -->\n    <!-- <ion-scroll class='has-subheader'> -->\n\n    <div class='pure-u-1'>\n      <div class=\"card-wrapper\">  </div>\n    </div>\n              <form action=\"\" style='margin-top:-2em;'>\n                <div class='pure-g'>\n                  <div class='pure-u-1 padding-1em' style='padding-bottom:0em;'>\n                    <label class=\"item item-input item-icon-left\">\n                      <i class=\"icon ion-card placeholder-icon\"></i>\n                      <input type=\"tel\" id='card-input' class='sidebar-card-input' name='number' ng-model='card_details.number' placeholder='1234 5678 9012 3456' ng-disabled='data.card_exists'></input>\n                    </label>\n                  </div>\n                </div>\n                <div class='pure-g'>\n                  <div class='pure-u-1 padding-1em' style='padding-top:0em;'>\n                    <label class=\"item item-input item-icon-left\">\n                      <i class=\"icon ion-calendar placeholder-icon\"></i>\n                      <input type=\"tel\" id='expiry-input' class='sidebar-mm-input sidebar-expiry-input' name='expiry' ng-model='card_details.expiry' name='expiry'  placeholder='MM / YY' style='padding-left:2.25em;' ng-disabled='data.card_exists'></input>\n                    </label>\n                  </div>\n                </div>\n              </form>\n\n\n    <!-- </ion-scroll> -->\n  </ion-content>\n  <script>\n\n  </script>"),
e.put("templates/payments.html","<ion-view hide-nav-bar='true' class='Payments' cache-view='false'>\n  <div ng-include=\"img_base + 'templates/payments.components.html'\" > </div>\n</ion-view>\n"),e.put("templates/payments.modal.html","<ion-modal-view hide-nav-bar='true' class='Payments' cache-view='false'>\n  <div ng-include=\"img_base + 'templates/payments.components.html'\" ng-controller='PaymentsController'> </div>\n</ion-modal-view>"),e.put("templates/price.home.modal.html","\n  <ion-modal-view hide-nav-bar ='true' class='price-modal'>\n    <ion-content class='white-text dark-bg' scroll='false' >\n      <div class='pure-g-c flex-column flex-space-between'>\n\n        <div class='flex-item-c j-end padding-2em'>\n        </div>\n        <div class='flex-item-c j-end padding-2em'>\n\n\n\n          <div class='pure-g'>\n\n            <div class='pure-u-1'>\n              <p class='center light'>\n              Offer up a little cash to get a <br> quicker response?\n              </p>\n            </div>\n\n          </div>\n\n          <div class='pure-g'>\n            <div class='wrapper icon-wrapper pure-u-1'>\n\n                <div class='pure-u-1-3'>\n                </div>\n\n                <div class='pure-u-1-3'>\n\n\n\n                      <div class='pure-g'>\n                        <div class='pure-u-1'>\n                          <img class='pure-img padding-half' ng-src='{{img_base}}./img/icons/stacks.svg' />\n                        </div>\n                      </div>\n\n                  </div>\n              </div>\n          </div>\n\n          <div class='pure-g'>\n            <div class='wrapper padding-1em pure-u-1'>\n\n              <div class='pure-u-1-12'>\n              </div>\n              <div class='pure-u-5-6 white-bg'>\n                <div class='pure-g grey-text opacity-1 center price-item-wrapper'>\n                  <a ng-click='setPriceOption(0)' class='pure-u-1-4 semibold padding-1em price-choice ng-class: {\"active\":request.selected_price_option === 0}'>\n                    $0\n                  </a>\n                  <a ng-click='setPriceOption(1)' class='pure-u-1-4 semibold padding-1em price-choice ng-class: {\"active\":request.selected_price_option === 1}'>\n                    $1\n                  </a>\n                  <a ng-click='setPriceOption(2)' class='pure-u-1-4 semibold padding-1em price-choice ng-class: {\"active\":request.selected_price_option === 2}'>\n                    $2\n                  </a>\n                  <a ng-click='setPriceOption(3)' class='pure-u-1-4 semibold padding-1em price-choice ng-class: {\"active\":request.selected_price_option === 3}'>\n                    $5\n                  </a>\n                </div>\n              </div>\n              <div class='pure-u-1-12'>\n              </div>\n\n              <p class='center micro-text opacity-6-10 white-text white-space-normal'>We'll only charge <span ng-show='user.cards && user.cards.length > 0'>**- {{user.default_payment_card.card_last4}}</span> after <br> your question is answered.</p>\n            </div>\n          </div>\n        </div>\n\n\n        <div class='flex-item-c j-end center padding-2em'>\n          <div class='pure-u-1 center'>\n            <div class='pure-g'>\n              <div class='pure-u-1 padding-horizontal-2em'>\n\n                <button class='button button-full button-blue blue-bg white-text center' ng-click='submitRequest()' ng-show='user.payment_cards &&user.payment_cards.length > 0'>\n                  Submit my question!\n                </button>\n\n                <button class='button button-full button-blue blue-bg white-text center' ng-click='launchPaymentsModal()' ng-show='user && user.id && user.payment_cards &&user.payment_cards.length === 0'>\n                  <div class='pure-u-1 item-icon-left item-icon-right' style='font-size:90%;'>\n                     Add a card\n                  </div>\n                </button>\n\n                <button class='button button-full button-blue blue-bg white-text center' ng-click='launchSignupModal()' ng-show='user && !user.id'>\n                  <div class='pure-u-1' style='font-size:90%;'>\n\n                     Next Step\n                  </div>\n                </button>\n\n              </div>\n            </div>\n          </div>\n          <div class='pure-u-1' style='margin-top:0.5em;'>\n            <a class='close-modal-link' ng-click='closeChoosePriceModal()'>\n              <p class='standard micro-text'>\n                Close this thing\n              </p>\n            </a>\n          </div>\n        </div>\n\n      </div>\n  </ion-content>\n</ion-modal-view>"),e.put("templates/questions.modal.html","<ion-modal-view class='question-modal'>\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header no-background-image'>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link\" ng-click='closeQuestionsModal()'>Cancel</button>\n    </div>\n    <h1 class=\"title\">Got An Answer?</h1>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link submit-button\" id='done-button' ng-click='postQuestionResponse()'>\n        <span class='ng-class:{\"grey-text\":proposal.response.length === 0}'>Post</span>\n      </button>\n    </div>\n  </ion-header-bar>\n\n  <ion-content class='has-header' scroll='false'>\n\n        <ion-list>\n\n          <ion-item class='dark-bg'>\n\n            <div class='pure-g'>\n              <div class='pure-u-1-8'>\n                <img class='pure-img verb-img stack_circle white-bg' style='margin-left:-0.5em' ng-src='{{img_base}}./img/icons/stacks_circled.svg' ng-show='proposal.request.student_price > 0'/>\n              </div>\n              <div class='pure-u-7-8'>\n                <h5 class='white-text bold'>\n                  {{proposal.request.course.short_name}} <span ng-show='proposal.request.student_price > 0' class='white-text opacity-1-2'> ${{proposal.request.student_price}}</span>\n                </h5>\n                <div class='nano-text white-text white-space-normal' style='line-height:1.5em;'>\n                  {{proposal.request.description}} <span class='blue' ng-repeat=\"tag in proposal.request.tags\">#{{tag.name}} </span>\n                </div>\n              </div>\n            </div>\n          </ion-item>\n\n          <ion-item class='pure-u-1 item-icon-right relative description-wrapper-item nano-text' style='padding:12px;'ng-hide='progress'>\n            <div class='pure-g'>\n              <div class='pure-u-1'>\n                <a ng-click='showAttachActionSheet()'>\n                  <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon request-icon' style='top:16px; right:12px; margin:0;' src='{{img_base}}./img/icons/paperclip.svg'>\n                </a>\n                <textarea id='description-input'  style='padding-right:3em; font-size:1.25em;' rows=\"10\" class='full-width' ng-model='proposal.response' placeholder='Reply as clearly & concisely as possible.'></textarea>\n                <span class='character-count opacity-1-2 ng-class:{\"red-text\":proposal.response.length > 500}'>{{500 - proposal.response.length}}</span>\n              </div>\n            </div>\n\n            <div class='pure-g full-width'>\n              <div class='pure-u-1' ng-show='proposal.files && proposal.files.length > 0'>\n                <div class='pure-u-1-4' ng-repeat='file in proposal.files track by $index' ng-show='true || proposal && proposal.files && proposal.files.length > 0'>\n                  <div class='attach-img-wrapper padding-1em relative'>\n                    <a on-hold='deleteFile($index)'>\n                      <div class=\"attach-img\" style='background-image:url(\"{{file.url}}\")'>\n                      </div>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n\n          </ion-item>\n\n          <div class='item item-divider' ng-hide='!proposal.request.files || proposal.request.files.length === 0'>\n          </div>\n          <ion-item ng-show='proposal.request.files && proposal.request.files.length > 0'>\n             <p class='white-space-normal nano-text uppercase opacity-1-2' style='font-size:0.66em !important;'><strong>{{proposal.request.files.length}} files attached</strong> (Tap to View)</p>\n             <div class='pure-u-1'>\n                <div class='pure-u-1-3 session-details-img-wrapper padding-right-half padding-top-half' ng-repeat='file in proposal.request.files'>\n                  <img class='attach-img pure-img' src='{{file.url}}'/>\n                </div>\n              </div>\n          </ion-item>\n\n\n          </ionic-scroll>\n\n      </ion-list>\n  </ion-content>\n  <input type='file' id='file-input-web' onchange=\"angular.element(this).scope().file_changed(this)\">\n</ion-modal-view>"),e.put("templates/ratings.components.guru.html","<div class='pure-u-1 padding-1em padding-horizontal-only' style='font-size:1.5em; margin-left:-0.3em;'>\n  <div class='pure-u-1-6' ng-repeat='number in getNumber(user.guru_avg_rating) track by $index'>\n    <i class='icon ion-star blue'></i>\n  </div>\n  <div class='pure-u-1-6' ng-repeat='number in getNumber(5 - user.guru_avg_rating) track by $index'>\n    <i class='icon ion-star white'></i>\n  </div>\n  <span class='micro-text white-text semibold rating-num'>\n    {{user.guru_ratings.length}}\n  </span>\n</div>"),e.put("templates/ratings.modal.html","<ion-modal-view ng-controller=\"RatingsController\" hide-nav-bar ='true' class='ratings-modal ratings-background'>\n  <ion-content class='white-text' scroll='false' style='margin-top:20px;'>\n      <ion-scroll style='height:100%;'>\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='padding-2em flex-item-c j-start center'>\n          <h1 class='sans-bold center'>\n            Session<br>Completed!\n          </h1>\n          <p>\n            {{pending_rating.transaction.time_created}}\n          </p>\n        </div>\n        <div class='padding-2em flex-item-c center'>\n          <div class='pure-u-1'>\n              <h1 style='font-size:400%' class='white-text'><span class=\"bucks sans-light\">$</span><span class='sans-bold'>{{pending_rating.session.guru.current_hourly * (pending_rating.session.hours + (pending_rating.session.minutes / 60.0))}</span>\n              </h1>\n          </div>\n        </div>\n        <div class='padding-2em pure-g center'>\n          <div class='pure-u-1'>\n            <div class='pure-g'>\n              <div class='pure-u-1-8'>\n              </div>\n              <div class='pure-u-3-4 margin-1em'>\n\n                <div class='item item-avatar-left transparent-background no-border white-text align-left'>\n                  <img src='{{pending_rating.request.student.profile_url}}' class='pure-img'/>\n                  <span class='sans-regular'>\n                    {{pending_rating.guru.name.split(\" \")[0]}}\n                  </span>\n                  <p>{{pending_rating.request.course.short_name}}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class='pure-u-1'>\n            <div class='pure-g'>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"1\" class=\"icon ion-star ion-star-rating\" id=\"starOne\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"2\"  class=\"icon ion-star ion-star-rating\" id=\"starTwo\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"3\"  class=\"icon ion-star ion-star-rating\" id=\"starThree\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"4\"  class=\"icon ion-star ion-star-rating\" id=\"starFour\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"5\" class=\"icon ion-star ion-star-rating\" id=\"starFive\"></span></div>\n            </div>\n          </div>\n          <div class='pure-u-1' ng-show='!starsSelected'> </div>\n          <div class='pure-u-1'>\n            <button class='button button-full button-positive-outline' style='width:100%;' ng-show='!starsSelected'>\n              Submit\n            </button>\n\n            <button class='button button-full button-blue' style='width:100%;'  ng-click='submitRatingToServer()' ng-show='starsSelected'>\n              Submit\n            </button>\n\n          </div>\n        </div>\n      </div>\n    </ion-scroll>\n    </ion-content>\n\n\n</ion-modal-view>"),e.put("templates/request.modal.html","<ion-modal-view class='request-modal' ng-controller=\"RequestController\">\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header mini-header'>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link cancel-button button-left\" ng-click='closeRequestModal()'>Cancel</button>\n    </div>\n    <h1 class=\"title dont-modify-bounds\">{{request_fields.title}}</h1>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link submit-button button-right\" id='done-button' ng-click='submitRequest()'>\n        <span ng-show='!progress' class='ng-class:{\"grey-text\":!validateFormVanilla()}'>Done </span>\n        <span class='blue' ng-show='progress'>Okay</span>\n      </button>\n    </div>\n  </ion-header-bar>\n\n  <ion-content ng-class='rounded-corners'>\n      <ion-list class='standard-bg'>\n\n          <ion-item class='item-avatar-left item-mini course-input-item item-button-right' ng-click='focusCourseInput()'>\n            <img class='pure-img'  ng-src='{{img_base}}./img/verbs/{{request_fields.img}}' class=''/>\n            <input type='text' name=\"course-input\" class='light input-lg course-input form-control'id='course-input' ng-click='focusCourseInput()'\n                fast-matcher\n                fast-matcher-source=\"root.vars.courses\"\n                fast-matcher-output=\"root.vars.matchingCourses\"\n                fast-matcher-properties=\"short_name, title\"\n                fast-matcher-any-word=\"true\"\n                fast-matcher-limit=\"5\"\n                fast-matcher-preserve-order=\"true\"\n                fast-matcher-case-insensitive=\"true\"\n                placeholder=\"{{request_fields.course_placeholder}}\"\n                ng-model = \"course_search_text\"\n                ng-change = \"updateProgress(course_search_text)\"\n\n            />\n\n            <!-- ng-change=\"updateProgress()\" -->\n            <a ng-click='toggleYourCourses()' class='button button-clear' style='top:20px; padding-left:50px;'>\n              <img ng-show='show_student_courses' class='icon ion-plus-custom blue custom-icon pure-img chevron-filled-down' ng-src='{{img_base}}./img/icons/chevron-filled-down.svg'>\n              <img ng-show='!show_student_courses && user.student_courses && user.student_courses.length > 0 && root.vars.last_verb_index_clicked !== 2'class='icon ion-plus-custom blue custom-icon pure-img chevron-filled-down' ng-src='{{img_base}}./img/icons/chevron-filled.svg'>\n            </a>\n          </ion-item>\n\n          <div class='autocomplete-wrapper' ng-show='progress && root.vars.matchingCourses.length > 0'>\n            <div class='item item-divider course-divider'>\n              <p class='uppercase opacity-3-4 micro-text'> Suggestions </p>\n            </div>\n            <ion-item class='course-item' ng-repeat='course in root.vars.matchingCourses' ng-click='addSelectedCourse(course, course_search_text)'>\n              <span class='course-name'> {{course.short_name}} </span> <span class='course-title'> {{course.title}} </span>\n            </ion-item>\n          </div>\n\n          <div class='your-courses-wrapper' ng-show='show_student_courses && user.student_courses.length > 0'>\n            <div class='item item-divider course-divider'>\n              <p class='uppercase opacity-3-4 micro-text'> Your Courses </p>\n            </div>\n            <ion-item class='course-item' ng-repeat='student_course in user.student_courses' ng-click='addSelectedStudentCourse(student_course)'>\n              <span class='course-name blue'> {{student_course.short_name}} </span> <span class='course-title'> {{student_course.title}} </span>\n            </ion-item>\n            <div class='item item-divider course-divider'>\n              <p class='micro-text'>&nbsp;</p>\n            </div>\n          </div>\n\n            <ion-item class='item-icon-right request-form-item' ng-click='launchLocationModal()' ng-hide='progress || request.address || !request_fields.show_location'>\n              <p> Location </p>\n            </ion-item>\n\n            <ion-item ng-show='request.address && !progress && request._type !== 1' class='item-button-right request-form-item'  id='location-filled-item' >\n              <a class='request-location-wrapper-link' ng-click='clearLocationButton()'>\n                <p>{{request.address}}<br>\n                  <span class='nano-text'>\n                    <!-- {{request.location.city}}, {{request.location.state}}, {{request.location.country}} -->\n                    {{request.city_info}}\n                  </span>\n                </p>\n              </a>\n              <button class='button button-clear' ng-click='resetLocation()' style='margin-right: -8px;'>\n                <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' style='margin-top:-0.3em;' ng-src='{{img_base}}./img/icons/close_icon.svg'>\n              </button>\n            </ion-item>\n\n          <ion-toggle ng-hide='progress || !request_fields.show_urgency' ng-model='request.urgency' class='request-form-item' ng-click='availability_edit = false;'>\n            <p> Is this session urgent? </p>\n          </ion-toggle>\n\n          <div class='item item-divider' ng-hide='progress || !request_fields.show_divider_one' ng-click='!request.availability_edit || toggleAvailability()'>\n          </div>\n          <a ng-hide='progress || !request_fields.show_estimate' ng-blur='toggleAvailability()' ng-click='toggleAvailability()' class='item request-form-item'>\n            <p class='inline'> How much time do you need?\n            </p>\n            <p ng-show='request.time_estimate.hours && !request.time_estimate.minutes' class='align-right blue item-right-text'>{{request.time_estimate.hours}} hours <span ng-show='request.time_estimate.minutes > 0'>{{request.time_estimate.minutes}} min</span></p>\n\n            <p ng-show='request.time_estimate.hours && request.time_estimate.minutes' class='align-right blue item-right-text'>{{request.time_estimate.hours}}hr <span ng-show='request.time_estimate.minutes > 0'>{{request.time_estimate.minutes}}m</span></p>\n          </a>\n\n          <ion-item  ng-show='request.availability_edit && !progress' class='scroll-availability-section relative item request-form-item' data-tap-disabled=\"true\">\n            <div id='test' style='margin-top:238px; margin-left:27%; position:absolute; margin-bottom:-260px;'> </div>\n            <div class='pure-u-1 padding-2em'> </div>\n            <div class='pure-u-1 padding-2em'> </div>\n            <div class='pure-g'>\n              <div class='pure-u-3-5 i-think-text'>\n\n                I think I need...\n\n              </div>\n              <div class='pure-u-1-5'>\n\n              </div>\n              <div class='pure-u-1-5 i-think-text'>\n                Hours\n              </div>\n            </div>\n            <div class='pure-u-1 padding-2em'> </div>\n            <div class='pure-u-1 padding-2em'> </div>\n\n          </ion-item>\n\n          <ion-item ng-hide='progress || request.urgency || !request_fields.show_availability' ng-click='launchAvailabilityModal()' class='request-form-item'>\n            <a style='width:100%; height:100%;'>\n              <p class='inline'> When are you available? </p>\n              <p ng-show='!request.calendar.start_time.hours && !request.calendar.start_time.minutes'class='align-right blue item-right-text'>Pick a Time</p>\n              <p ng-show='request.calendar.start_time.hours || request.calendar.start_time.minutes' class='align-right blue item-right-text'>{{request.calendar.date.formatted_date}}, {{request.calendar.start_time.formatted}}-{{request.calendar.end_time.formatted}}</p>\n            </a>\n          </ion-item>\n\n          <div class='item item-divider' ng-hide='progress || !request_fields.show_divider_two' ng-click='!request.availability_edit || toggleAvailability()'>\n          </div>\n          <ion-item class='relative item-icon-right description-item request-form-item' ng-hide='progress' ng-click='launchDescriptionModal()' >\n            <div class='empty-description-wrapper' ng-hide='progress || request.description || request.files.length > 0'>\n              <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon request-icon' ng-src='{{img_base}}./img/icons/paperclip.svg' style='margin-right: 0.33em; margin-top:0.4em;'>\n              <span><p class='white-space-normal' style='padding-right:2em;'> {{request_fields.description_placeholder}}</p></span>\n              <div class='pure-u-1 padding-1em'>&nbsp;<br></div>\n              <div class='pure-u-1 padding-1em'>&nbsp;<br></div>\n            </div>\n\n            <div class='description-wrapper item-icon-right' ng-hide='progress || (!request.description && !request.files.length > 0)' style='margin-right: 0.33em;'>\n              <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon request-icon' ng-src='{{img_base}}./img/icons/paperclip.svg'>\n              <p class='black white-space-normal' ng-show='request.description'>\n                {{request.description}}\n              </p>\n\n            </div>\n\n\n            <div class='pure-g' ng-show='request.files && request.files.length > 0' ng-show='true || request && request.files && request.files.length > 0'>\n              <div class='pure-u-1' style='border-top: 1px solid rgba(0,0,0,0.1)'>\n                <div class='pure-u-1-4' ng-repeat='file in request.files track by $index' style='padding-top:12px;'>\n                    <div class=\"attach-img pure-img padding-half auto-margin\" style='background-image:url(\"{{file.url}}\")'>\n                    </div>\n                </div>\n              </div>\n            </div>\n\n          </ion-item>\n          <ion-item class='item-icon-left' ng-hide='progress' ng-click='launchTagsModal()'>\n            <img style='margin-top:0.4em;'class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' ng-src='{{img_base}}./img/icons/tags.svg'>\n            <p class='empty-tags-placeholder' ng-show='!request.tags || request.tags.length === 0'>Add some tags (optional)</p>\n            <p class='tags-wrapper'>&nbsp;<span class='blue request-tag' ng-repeat='tag in request.tags'>#{{tag}} </span> </p>\n          </ion-item>\n      </ion-list>\n  </ion-content>\n\n</ion-modal-view>"),e.put("templates/searchbox.tpl.html","\n<input type=\"text\" id='placesSearch' placeholder=\"Enter preferred location\" ng-focus='disableTap()'>"),e.put("templates/signup.components.html","<ion-header-bar align-title=\"center\" class='dark-bg-header no-background-image'>\n      <div class=\"buttons\">\n        <button ng-if=\"!resetMode\" class=\"button button-clear button-header-link grey-text light nano-text\" ng-click='goBack()'>Cancel</button>\n        <button ng-if=\"resetMode\" class=\"button button-clear button-header-link grey-text light nano-text\" ng-click='toggleBackToLoginMode()'>Back</button>\n      </div>\n      <h1 class=\"title micro-text\">{{headerText}}</h1>\n        <!-- <span ng-show='!loginMode'>Sign Up</span> -->\n      <div class=\"buttons\">\n        <button class=\"button button-clear button-header-link submit-button\" id='done-button' ng-click='completeSignup()'>\n          <span class='ng-class:{\"grey-text\":signupForm.email.length === 0 || signupForm.password.length === 0 || signupForm.first_name.length === 0 || signupForm.last_name.length === 0}'>Submit</span>\n        </button>\n      </div>\n    </ion-header-bar>\n\n<ion-content>\n    <ion-scroll class='has-header' style='overflow:visible'>\n              <div class='container' style='padding-left:1em; padding-right:1em; margin-top:-5%;' ng-click='this.style.opacity = 0.1;'>\n                <div class='pure-g'>\n                  <a class='pure-u-1 padding-1em center micro-text semibold blue' style='padding-bottom:0px;' ng-show=\"loginMode\" ng-click=\"toggleResetModeFromLogin()\">\n                      <p>Forgot your password?</p>\n                  </a>\n                </div>\n                <div class='pure-g' style='padding-top:1em;'>\n                  <div class='pure-u-1-2' ng-show='!loginMode && !resetMode'>\n                    <label class=\"item item-input item-icon-right\">\n                      <input type=\"text\" class='capitalized' id='first-name-input' ng-model='signupForm.first_name'  placeholder='First Name'></input>\n                    </label>\n                  </div>\n                  <div class='pure-u-1-2' ng-show='!loginMode && !resetMode'>\n                    <label class=\"item item-input item-icon-right\">\n                      <input type=\"text\" class='capitalized' id='last-name-input' ng-model='signupForm.last_name' placeholder='Last Name'></input>\n                    </label>\n                  </div>\n                </div>\n                <div class='pure-g'>\n                  <div class='pure-u-1'>\n                    <label class=\"item item-input\">\n                      <input type=\"email\" id='email-input' ng-model='signupForm.email' placeholder='Email'></input>\n                    </label>\n                  </div>\n                </div>\n                <div class='pure-g' ng-show=\"!resetMode\">\n                  <div class='pure-u-1'>\n                    <label class=\"item item-input\">\n                      <input type=\"password\" id='password-input' ng-model='signupForm.password' placeholder='Password'></input>\n                    </label>\n                  </div>\n                </div>\n              </div>\n\n                <div class='pure-g' ng-show='!loginMode && !resetMode'>\n                  <div class='pure-u-1' style='padding-left:1em; padding-right:1em;'>\n                    <a style='line-height:3.5em' ng-click='completeSignup()' class='button button-full light-blue-bg button-footer white-text uppercase'>Create Account</a>\n                  </div>\n                </div>\n\n                <div class='pure-g' ng-show='loginMode && !resetMode'>\n                  <div class='pure-u-1' style='padding-left:1em; padding-right:1em; margin-top:1em;'>\n                    <a style='line-height:3.5em' ng-click='completeSignup()' class='button button-full light-blue-bg button-footer white-text uppercase'>Log In</a>\n                  </div>\n                </div>\n\n                <div class='pure-g' ng-show='resetMode'>\n                  <div class='pure-u-1' style='padding-left:1em; padding-right:1em; margin-top:1em;'>\n                    <a style='line-height:3.5em' ng-click='attemptToResetPassword()' class='button button-full light-blue-bg button-footer white-text uppercase'>Reset Password</a>\n                  </div>\n                </div>\n\n\n                <div class='pure-g' ng-show=\"!resetMode\">\n                  <div class='pure-u-1 padding-1em center' style='padding-top:0em; padding-bottom:0em;'>\n                    <div class='pure-u-1 padding-half'>\n                      <a class='center grey uppercase semibold nano-text padding-1em'> Or </a>\n                    </div>\n\n                    <a class='button button-full button-black uppercase fb-blue-bg'  ng-click='signupFacebook()' style='line-height:3.5em; font-size:90%;'>Continue with Facebook</a>\n\n                  </div>\n                </div>\n                <div class='pure-u-1' style='font-size:150%; padding-left:1em; padding-right:1em;' ng-show='!resetMode'>\n                  <div class='pure-u-1 center' id=\"E2E_SwitchLog\" ng-show='user && !user.id'>\n                      <a class='button button-full button-stable-outlined center grey uppercase semibold nano-text'  ng-click='toggleLoginMode();' ng-show='!loginMode'> Already have an account? </a>\n                      <a class='button button-full button-stable-outlined center grey uppercase semibold nano-text'  ng-click='toggleLoginMode();' ng-show='loginMode'> or Sign Up Here </a>\n                  </div>\n                </div>\n\n\n    </ion-scroll>\n  </ion-content>\n"),e.put("templates/signup.html","<ion-view hide-nav-bar='true' class='Signup'>\n  <div ng-include=\"img_base + 'templates/signup.components.html'\"> </div>\n</ion-view>\n"),e.put("templates/student.components.session.html","<ion-header-bar class='dark-bg-header mini-header'>\n\n    <button class=\"button button-clear button-header-link\" ng-click='goBack()'>Back</button>\n    <h1 class=\"title\">\n      <span ng-show='session.request.status > 0'>Session with {{session.request.guru.name.split(' ')[0]}} </span>\n      <span ng-show='session.request.status === 0'>Session details </span>\n\n\n    </h1>\n\n    <div class='buttons'>\n      <button class=\"button button-clear button-header-link submit-button\" ng-click='showAttachActionSheet()'>\n        <img class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' style='height:15px; margin-top:0.18em' ng-src='{{img_base}}./img/paperclip-blue.svg' ng-show='!details.show'>\n      </button>\n      <button class=\"button button-clear button-header-link submit-button\" ng-click='showAttachActionSheet()'>\n        Help\n      </button>\n    </div>\n\n  </ion-header-bar>\n\n<div class=\"tabs home-request-tabs-top tabs-top\" ng-show='session.request.status > 1' style='height:45px;'>\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':details.show, 'opacity-1-2':!details.show}\" ng-click='showDetails()' >\n        Details\n      </a>\n      <a class=\"tab-item uppercase ng-class:{'blue-bg white-text':!details.show, 'opacity-1-2':details.show}\" ng-click='showChat()'>\n        Chat\n      </a>\n</div>\n\n\n<ion-content class='white-bg ng-class:{\"has-subheader\":session.request.status > 1}' ng-show='details.show && session && session.request'>\n      <div class='pure-g'>\n          <ion-list class='pure-u-1'>\n\n            <ion-item class='padding-1em item-avatar-left dark-bg white-text' ng-show='session && session.request.guru.name'>\n              <img class='pure-img can-help-profile-img'  src='{{session.request.guru.profile_url}}'/>\n                <div class='guru-info-wrapper'>\n                  <h2>{{session.request.guru.name.split(' ')[0]}} </h2>\n                  <p class='uppercase nano-text'>\n                    <span ng-show='session.request.guru.university'>{{session.guru.university.title}}  -</span>\n                    <span ng-show='session.request.guru.majors'>{{session.guru.majors[0].name}}</span>\n                  </p>\n\n                  <div class='pure-u-11-12'>\n                    <div class='pure-u-1-12' ng-repeat='number in getNumber(session.guru.guru_avg_rating) track by $index'>\n                            <i class='icon ion-star blue'></i>\n                    </div>\n                    <div class='pure-u-1-12' ng-repeat='number in getNumber(5 - session.guru.guru_avg_rating) track by $index'>\n                      <i class='icon ion-star grey'></i>\n                    </div>\n                  </div>\n                </div>\n            </ion-item>\n\n\n            <!-- 4.  jack dfrom student, put hashtags, icon right-->\n            <ion-item class='item-avatar-left'>\n              <img class='pure-img verb-img' ng-src='{{img_base}}./img/verbs/{{session.request.verb_image}}' />\n                <h2 class='uppercase student-session-course-name' ng-show='session.request.course && session.request.course.short_name'>{{session.request.course.short_name}}</h2>\n                <h2 class='uppercase student-session-course-name' ng-hide='session.request.course && session.request.course.short_name'>{{session.request.task_title}}</h2>\n            </ion-item>\n\n            <ion-item class='item-avatar-left card-item-left request-form-item' ng-show='false || todo'>\n              <img class='icon ion-plus-custom blue custom-icon pure-img' src='{{img_base}}./img/icons/clock.svg'/>\n              <p class='inline'> Starts in </p>\n              <p ng-show='session.status === 1' class='inline time-until' style='padding-left:1em'> {{session.request.schedule_time}} minutes </p>\n              <p ng-show='session.status === 2' class='inline time-until' style='padding-left:1em; color:green;'> In progress </p>\n            </ion-item>\n\n            <!-- 5.  Same old but no orange> -->\n            <ion-item class='item-avatar-left card-item-left request-form-item'>\n              <img class='icon ion-plus-custom blue custom-icon pure-img' src='{{img_base}}./img/icons/marker.svg'>\n              <p class='inline'> Meet up </p>\n              <p class='inline black' style='padding-left:1em'> {{session.request.address}} </p>\n            </ion-item>\n\n            <div class='item item-divider'>\n            </div>\n\n            <ion-item ng-show='session.request.description && session.request.description.length > 0'>\n              <p class='pico-text white-space-normal'> {{session.request.description}} </p>\n              <div class='pure-u-1'>\n                <div class='pure-u-1-3 session-details-img-wrapper padding-right-half padding-top-half' ng-repeat='file in session.request.files'>\n                  <img class='pure-img' src='{{file.url}}'/>\n                </div>\n              </div>\n            </ion-item>\n\n            <ion-item class='item-icon-left' ng-show='session.request.tags && session.request.tags.length > 0'>\n              <img style='margin-top:0.4em; left:24px; top:5px;'class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' src='{{img_base}}./img/icons/tags.svg'>\n              <p>&nbsp;<span class='blue request-tag' ng-repeat='tag in session.request.tags'>#{{tag.name}} </span> </p>\n            </ion-item>\n\n\n          </ion-list>\n        <!-- </div> -->\n    </div>\n\n</ion-content>\n\n<div ng-show='!details.show' >\n  <div ng-include=\"img_base + 'templates/messages.components.html'\"  >\n  </div>\n</div>"),
e.put("templates/student.conversations.html","<ion-view hide-nav-bar='true' class='cashout'>\n  <ion-header-bar class='dark-bg-header'>\n      <h1 class=\"title\">My Gurus</h1>\n  </ion-header-bar>\n<ion-content class='white-bg flex-item flex-direction' scroll='false'>\n  <ion-scroll class='full-height'>\n\n        <ion-refresher\n            pulling-icon=\"ion-arrow-down-c\"\n            spinner=\"circles\"\n            on-refresh=\"doRefresh()\">\n        </ion-refresher>\n\n\n        <ion-list>\n            <ion-item class='item-avatar-left item-icon-right conversation-item'>\n                <img src='https://graph.facebook.com/10152573868267292/picture?width=100&height=100'/>\n                <div class='container'>\n                    <div class='pure-g'>\n                        <div class='pure-u-1 left'>\n                            <p class='title semibold uppercase margin-half'>{{user.name.split(' ')[0] + ' ' + user.name.split(' ')[1][0].toUpperCase()}}.\n\n                            <span class='conversation-skill-tag'> Ikea Assembly </span>\n                            </p>\n                        </div>\n                    </div>\n                    <div class='pure-g no-margin'>\n                        <div class='pure-u-1 left'>\n                            <p class='title light' style='margin:0 0.5em;'> aklsjdalksjd lakjsd lkasjd aklsdjkals jdlaksjd kaljd lakjsdlkasjdklasjdlkas</p>\n                        </div>\n                    </div>\n                </div>\n                <i class='icon ion-chevron-right icon-small opacity-1-2'> </i>\n            </ion-item>\n            <ion-item class='item-avatar-left item-icon-right conversation-item'>\n                <img src='https://graph.facebook.com/10152573868267292/picture?width=100&height=100'/>\n                <div class='container'>\n                    <div class='pure-g'>\n                        <div class='pure-u-1 left'>\n                            <p class='title semibold uppercase margin-half'>{{user.name.split(' ')[0] + ' ' + user.name.split(' ')[1][0].toUpperCase()}}.\n\n                            <span class='conversation-skill-tag'> Ikea Assembly </span>\n                            </p>\n                        </div>\n                    </div>\n                    <div class='pure-g no-margin'>\n                        <div class='pure-u-1 left'>\n                            <p class='title light' style='margin:0 0.5em;'> aklsjdalksjd lakjsd lkasjd aklsdjkals jdlaksjd kaljd lakjsdlkasjdklasjdlkas</p>\n                        </div>\n                    </div>\n                </div>\n                <i class='icon ion-chevron-right icon-small opacity-1-2'> </i>\n            </ion-item>\n            <ion-item class='item-avatar-left item-icon-right conversation-item'>\n                <img src='https://graph.facebook.com/10152573868267292/picture?width=100&height=100'/>\n                <div class='container'>\n                    <div class='pure-g'>\n                        <div class='pure-u-1 left'>\n                            <p class='title semibold uppercase margin-half'>{{user.name.split(' ')[0] + ' ' + user.name.split(' ')[1][0].toUpperCase()}}.\n\n                            <span class='conversation-skill-tag'> Ikea Assembly </span>\n                            </p>\n                        </div>\n                    </div>\n                    <div class='pure-g no-margin'>\n                        <div class='pure-u-1 left'>\n                            <p class='title light' style='margin:0 0.5em;'> aklsjdalksjd lakjsd lkasjd aklsdjkals jdlaksjd kaljd lakjsdlkasjdklasjdlkas</p>\n                        </div>\n                    </div>\n                </div>\n                <i class='icon ion-chevron-right icon-small opacity-1-2'> </i>\n            </ion-item>\n        </ion-list>\n    </ion-scroll>\n\n\n<div class=\"tabs tabs-icon-only dark-bg\">\n  <a class=\"tab-item\" id='home-button' href='#/new-home' nav-direction=\"swap\">\n    <img class='pure-img icon' src='{{img_base}}./img/request/house-icon.svg'></i>\n  </a>\n  <a class=\"tab-item\" href='#/courses' nav-direction='swap' id='questions-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/guru_book_blue.svg'></i>\n  </a>\n  <!-- <a class=\"tab-item\" href='#/browse' nav-direction='swap' id='browse-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/search.svg'></i>\n  </a> -->\n  <a class=\"tab-item\">\n  </a>\n  <a class=\"tab-item\">\n  </a>\n  <a class=\"tab-item\" ng-click='toggleRightSideMenu()' id='settings-button'>\n    <img class='pure-img icon' src='{{img_base}}./img/request/settings.svg'/>\n  </a>\n</div>\n\n</ion-content>\n</ion-view>\n"),e.put("templates/student.in-session.modal.html","<ion-modal-view hide-nav-bar ='true' class='verb-modal'>\n  <ion-header-bar class='dark-bg-header mini-header item-button-right'>\n      <button class=\"button button-clear button-header-link submit-button\" ng-click='showAttachActionSheet()'>\n        Help\n      </button>\n  </ion-header-bar>\n  <ion-content class='white-text dark-bg' scroll='false' >\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='flex-item-c center'>\n        </div>\n        <div class='flex-item-c'>\n            <div class='pure-u-1'>\n              <img style='padding:4.5em;' class='pure-img timer-center' ng-src='{{img_base}}./img/verbs/session.svg' />\n            </div>\n\n        </div>\n\n        <div class='pure-g'>\n\n          <div class='pure-u-1' style='text-align:center;'>\n            <p class='standard' style='font-size:1.5em; margin-top:7%;'>\n            The session has started!\n            </p>\n          </div>\n\n        </div>\n\n        <div class='flex-item-c center'>\n        </div>\n\n\n        <div class='flex-item-c j-end center'>\n          <div class='pure-u-1 padding-bottom-2em'>\n            <!-- <a class='close-modal-link' id='verb-cancel-button' ng-click='verbModal.hide();'>\n              <p class='standard micro-text'>\n\n              </p>\n            </a> -->\n\n            <ion-list class='pure-u-1'>\n\n              <ion-item class='padding-1em item-avatar-left dark-bg white-text in-session-person-background'>\n                <img class='pure-img can-help-profile-img'  ng-src='{{session.request.guru.profile_url}}'/>\n                  <div class='guru-info-wrapper'>\n                    <h2>{{session.request.guru.name.split(' ')[0]}} </h2>\n                    <p class='uppercase nano-text'>\n                      <span ng-show='session.request.guru.university'>{{session.guru.university.title}}  -</span>\n                      <span ng-show='session.request.guru.majors'>{{session.guru.majors[0].name}}</span>\n                    </p>\n\n                    <div class='pure-u-11-12'>\n                      <div class='pure-u-1-12' ng-repeat='number in getNumber(session.guru.guru_avg_rating) track by $index'>\n                              <i class='icon ion-star blue'></i>\n                      </div>\n                      <div class='pure-u-1-12' ng-repeat='number in getNumber(5 - session.guru.guru_avg_rating) track by $index'>\n                        <i class='icon ion-star grey'></i>\n                      </div>\n                    </div>\n                  </div>\n                </ion-item>\n                <div class='pure-u-1 center padding-1em' ng-click='launchStudentSessionDetailsModal()'>\n                  <i class='icon ion-chevron-down' style='opacity:0.7;'></i>\n                </div>\n              </ion-list>\n\n          </div>\n        </div>\n\n      </div>\n  </ion-content>\n</ion-modal-view>"),e.put("templates/student.messages.html",'\n<ion-view class=\'messages\' hide-nav-bar = \'true\' cache-view=\'false\'>\n\n  <ion-header-bar class="message-header-bar header-bar ng-class:{\'bar-dark\': user.guru_mode}">\n    <a class="button button-clear button-back ng-class:{\'button-white\': user.guru_mode}"  ng-click=\'goBack()\'>Back</a>\n    <h5 class="title">{{message_name}}</h5>\n  </ion-header-bar>\n\n    <!-- <ion-nav-buttons side="secondary">\n\n      <button class="button button-clear button-positive" ng-click="getMessagesFromServer(0, true)">\n        <i class="icon ion-ios7-refresh-empty"></i>\n      </button>\n    </ion-nav-buttons> -->\n    <!-- <ion-header-bar id="request-location" style="height:30px; text-align:center;" class="bar-subheader bar-dark nav-bar-text bold-font" style="background-color: rgb(43,50,52)" ng-init="init()">\n\n      <div style="margin-top:5px; width:100%; white-space:no-wrap; overflow: hidden; text-overflow: ellipsis;text-transform:none; font-size:12px;">\n        Last updated: {{last_updated}}\n      </div> -->\n\n    </ion-header-bar>\n    <ion-content delegate-handle="message-scroll" ng-click=\'setUnfocus()\' class=\'white-background message-content\'>\n        <ion-refresher\n          pulling-icon="ion-arrow-down-c"\n          spinner="circles"\n          on-refresh="doRefresh()">\n        </ion-refresher>\n      <!-- <ion-scroll class="messages" ng-click="hideKeyboard()"> -->\n\n\n        <div class=\'scroll pure-g-c flex-column center full-height message-content\' ng-show=\'!messages || messages.length === 0\'>\n          <div class=\'padding-1em padding-1em flex-item-c\'> </div>\n          <div class=\'flex-item-c sleeping-guru light-opacity\'>\n            <img class=\'pure-img animated swing message-default-image\' ng-src=\'{{img_base}}./img/guru-sleeping.svg\' >\n          </div>\n          <div class=\'flex-item-c light-opacity padding-1em flex-direction-init \'>\n            <br>\n            No messages yet.<br>\n            <br>\n            Start one with {{message_name}} now!\n          </div>\n        </div>\n\n        <ul class="list message-item-list" style=\'margin-top:1em;\'>\n            <li class="item {{message.class}} message-item" ng-repeat="message in messages">\n              <img ng-src="{{message.profile_url}}" ng-show=\'message.class === "item-avatar-left"\'>\n              <div class="text">\n                <!-- <span class=\'sans-semibold\' ng-show=\'message.sender.id !== user.id && message.sender.profile_url === default_profile_url\'>{{message.sender.name.split(\' \')[0]}}:</span> -->\n                {{message.contents}}</div>\n                <div class=\'text-time\' ng-show=\'$index === messages.length - 1\'>\n                  {{message.formatted_time}} ago\n                </div>\n              <img ng-src="{{message.profile_url}}" ng-show=\'message.class === "item-avatar-right"\'>\n            </li>\n        </ul>\n      <!-- </ion-scroll> -->\n    </ion-content>\n    <ion-footer-bar class="bar-footer item-input-inset messages-footer-bar" keyboard-attach>\n      <label class="item-input-wrapper">\n          <i class="icon ion-search placeholder-icon"></i>\n          <input type="search" name="message-input" class="form-control"\n                  placeholder="Enter a message"\n                  ng-model="new_message.content"\n                  ng-focus="setFocus()"\n                  ng-blur="setFocus()"\n                  ng-keypress="checkSubmission($event)"\n          />\n      </label>\n\n      <button class="button button-clear button-positive positive button-search" ng-show="new_message.content.length > 0" ng-click="sendMessage(new_message.content)">\n      Send\n      </button>\n    </ion-footer-bar>\n</ion-view>'),e.put("templates/student.ratings.modal.html","<ion-modal-view ng-controller=\"RatingsController\" hide-nav-bar ='true' class='ratings-modal ratings-background'>\n  <ion-content class='white-text' scroll='false'>\n      <ion-scroll style='height:100%;'>\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='padding-2em flex-item-c j-end center ratings-border-bottom'>\n          <div class='pure-g-c center'>\n            <div class='pure-u-1 padding-1em center'>\n              <img src='{{pending_rating.session.guru.profile_url}}' class='pure-img profile-img ratings-profile-img'/>\n            </div>\n          </div>\n          <h3 class='light no-margin'>\n            {{pending_rating.session.guru.name.split(\" \")[0]}} completed <br> your session!\n          </h3>\n          <div class='pure-u-1' style='margin-top:25%; font-size:125%;'>\n            <div class='pure-g'>\n              <div class='pure-u-1-2'>\n                <p class='light opacity-1-2 align-right'>Total Charge</p>\n              </div>\n              <div class='pure-u-1-2'>\n                <p class='light opacity-1-2 align-right'>\n                    ${{pending_rating.session.guru.current_hourly * (pending_rating.session.hours + (pending_rating.session.minutes / 60.0))}}.00\n                </p>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n        <div class='padding-2em pure-g center ratings-border-bottom'>\n          <div class='pure-u-1 padding-1em'>\n            <div class='pure-g'>\n              <div class='pure-u-1'>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='!starsSelected'>\n                  Don't forget to leave a rating!\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"5\"'>\n                  Amazing!\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"4\"'>\n                  Great!\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"3\"'>\n                  Could've been better\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"2\"'>\n                  Not very good\n                </p>\n                <p class='light opacity-1 padding-half' style='font-size:120%;' ng-show='starsSelected && starsSelected === \"1\"'>\n                  The worst. <div ng-show='starsSelected && starsSelected === \"1\"' style='font-size:70%;'>(We'll contact you soon)</div>\n                </p>\n              </div>\n            </div>\n            <div class='pure-g'>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"1\" class=\"icon ion-star ion-star-rating\" id=\"starOne\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"2\"  class=\"icon ion-star ion-star-rating\" id=\"starTwo\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"3\"  class=\"icon ion-star ion-star-rating\" id=\"starThree\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"4\"  class=\"icon ion-star ion-star-rating\" id=\"starFour\"></span></div>\n              <div class=\"pure-u-1-5\"><span ng-click=\"starClicked($event)\" value=\"5\" class=\"icon ion-star ion-star-rating\" id=\"starFive\"></span></div>\n            </div>\n          </div>\n        </div>\n        <div class='pure-u-1 padding-1em'>\n          <button class='button button-full ratings-footer-button' style='margin:0; min-height:40px;' ng-show='!starsSelected'>\n            Submit\n          </button>\n\n          <button class='button button-full button-blue button-bold'  style='margin:0; min-height:40px; background-color:#68A7CF' ng-click='closeStudentRatingsModal()' ng-show='starsSelected'>\n              Submit\n          </button>\n        </div>\n      </div>\n    </ion-scroll>\n    </ion-content>\n\n\n</ion-modal-view>"),e.put("templates/student.request.incoming.modal.html","  <ion-modal-view hide-nav-bar ='true' class='dark-bg incoming-proposal student-incoming-proposal'>\n\n  <ion-content class='white-text dark-bg request-form-tags-offset full-height visible-overflow' style='margin-top:5%'>\n\n\n        <!-- <ion-scroll style='margin-top:5%;'> -->\n          <div class='pure-g-c flex-column flex-space-between'  ng-show='!showIncomingProposalDetails' ng-click='showIncomingProposalDetails = true;'>\n              <div class='flex-item-c pure-g'>\n                <!-- 1. create inset list, offset it by -5% margin-top -->\n                <ion-list class='list-inset proposal-card-request' style='padding-bottom:2px;'>\n\n                  <!-- 2.  padding 2em h1 format bold, SemiBold, relative-->\n                  <ion-item class='padding-2em item-avatar-left' style='padding-bottom:1em;'>\n                    <img class='pure-img profile-img sidebar-img inline can-help-profile-img'  src='{{incoming_request.guru.profile_url}}'/>\n                    <h2 class='can-help-text white-space-normal regular' style='opacity:0.65 !important;'>\n                      <span ng-show='incoming_request._type !== 1'>\n                        <strong class='bold'>{{incoming_request.guru.name.split(' ')[0]}}</strong> can help!\n                      </span>\n                      <span ng-show='incoming_request._type === 1'>\n                        <strong>{{incoming_request.guru.name.split(' ')[0]}}</strong> replied to your <strong>{{incoming_request.course.short_name}}</strong> question!\n                      </span>\n                      <br>\n                      <div class='padding-top-half ratings-wrapper'>\n                        <div class='pure-u-1-12' ng-repeat='number in getNumber(incoming_request.guru.guru_avg_rating) track by $index'>\n                          <i class='icon ion-star blue'></i>\n                        </div><div class='pure-u-1-12' ng-repeat='number in getNumber(5 - incoming_request.guru.guru_avg_rating) track by $index'><i class='icon ion-star grey'></i></div>\n\n                      </div>\n                    </h2>\n\n                  <!-- 3. Absolute positioning item, jack it from settings -->\n                  </ion-item>\n                  <ion-item ng-show='incoming_request.selected_proposal && incoming_request.selected_proposal.question_response'>\n                    <p class='pico-text white-space-normal'> {{incoming_request.selected_proposal.question_response}} </p>\n                    <!-- <div class='pure-u-1'>\n\n                      <div class='pure-u-1-3 session-details-img-wrapper padding-right-half padding-top-half' ng-repeat='file in incoming_request.selected_proposal.files'>\n                        <img class='pure-img' src='{{file.url}}'/>\n                      </div>\n                    </div> -->\n\n                    <div class='pure-u-1'>\n                      <div class='pure-u-1-5 session-details-img-wrapper padding-right-half padding-top-half' ng-repeat='file in incoming_request.selected_proposal.files'>\n                        <img class='attach-img pure-img' src='{{file.url}}'/>\n                      </div>\n                    </div>\n\n                  </ion-item>\n                  <!-- 4.  jack dfrom student, put hashtags, icon right-->\n                  <ion-item class='item-avatar session course-details ng-class:{\"item-icon-right\":incoming_request.files && incoming_request.files.length > 0}' ng-show='incoming_request._type !== 1' ng-click='showIncomingProposalDetails = true;'>\n                    <img class='pure-img verb-img' ng-src='{{img_base}}./img/verbs/{{incoming_request.verb_image}}' />\n                        <h2 class='uppercase student-session-course-name' ng-show='incoming_request.course && incoming_request.course.short_name'>{{incoming_request.course.short_name}}</h2>\n                        <h2 class='uppercase student-session-course-name white-space-normal' ng-hide='incoming_request.course && incoming_request.course.short_name'>{{incoming_request.task_title}}</h2>\n                      <p class='tags-wrapper'>\n                        <span class='blue incoming_request-tag' ng-repeat='tag in incoming_request.tags'>#{{tag.name}}\n                        </span>\n                      </p>\n                    <img ng-show='incoming_request.files && incoming_request.files.length > 0' class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon incoming_request-icon' src='{{img_base}}./img/icons/paperclip-outline-blue.svg' style='margin-right: 0.33em; margin-top:0.4em;'>\n\n                  </ion-item>\n\n                  <ion-item class='item-avatar-left card-item-left' ng-show='incoming_request._type !== 1 && incoming_request.student_calendar'>\n                    <img class='icon ion-plus-custom blue custom-icon pure-img' src='{{img_base}}./img/icons/clock.svg'>\n                      <div class='pure-u-1-4'>\n                        <p class='inline'>\n\n                          Time\n                        </p>\n                      </div>\n                       <div class='pure-u-3-4 micro-text white-space-normal' style='padding-left:1.5em; line-height:2em; opacity:0.8;'>\n\n                         <strong> {{incoming_request.student_calendar[0].calendar_events[0].formatted.day}}, {{incoming_request.student_calendar[0].calendar_events[0].formatted.month}} {{incoming_request.student_calendar[0].calendar_events[0].formatted.date}}\n                      </strong> between\n\n                      <!-- not all have calendars -->\n                      <span class='calendar-availability-contact'>\n                        <strong>{{incoming_request.student_calendar[0].calendar_events[0].formatted.start_time_formatted}}-{{incoming_request.student_calendar[0].calendar_events[0].formatted.end_time_formatted}}</strong>\n                      </span>\n\n                      </div>\n                  </ion-item>\n\n                  <!-- 5.  Same old but no orange> -->\n                  <ion-item class='item-avatar-left card-item-left' ng-show='incoming_request.address && incoming_request._type !== 1'>\n                    <img class='icon ion-plus-custom blue custom-icon pure-img' src='{{img_base}}./img/icons/marker.svg'>\n                    <p class='inline'> Meet up </p>\n                    <p class='inline black' style='padding-left:1em'> {{incoming_request.address}} </p>\n                  </ion-item>\n\n                  <ion-item class='item-avatar-left card-item-left request-form-item' ng-show='incoming_request.student_price'>\n                    <img class='icon ion-plus-custom blue pure-img' style='margin-left:-0.7em;'src='{{img_base}}./img/icons/stacks.svg'>\n                    <p class='inline'> You offered </p>\n                    <p class='inline black' style='padding-left:1em'> <span class='light-font opacity-1-2'>$</span>{{incoming_request.student_price}} </p>\n                  </ion-item>\n\n\n\n                  <!-- 5.  Formalize list button-->\n\n                  <div class='pure-u-1' ng-show='incoming_request._type !== 1'>\n                    <div id=\"map_canvas\" style=\"height:100px;width: 100%;\">\n                      <ui-gmap-google-map center=\"map.center\" control=\"map.control\" zoom=\"map.zoom\"  pan=\"true\" options=\"options\">\n                      </ui-gmap-google-map>\n                    </div>\n                  </div>\n\n\n                </ion-list>\n\n                 <div class='pure-u-1'style='padding-left:1em; padding-right:1em;'>\n                      <button ng-show='incoming_request._type !== 1' class='button button-full button-blue blue-bg button-submit white-text center' ng-click='acceptIncomingGuru()'>\n                          <span >\n                            Awesome!\n                          </span>\n                      </button>\n                      <button ng-show='incoming_request._type === 1' class='button button-full button-blue blue-bg button-submit white-text center' ng-click='acceptIncomingQuestion()'>\n                          <span>\n                            This is the answer!\n                          </span>\n                      </button>\n\n                  </div>\n                  <div class='pure-u-1' style='padding-left:1.2em; padding-right:1.2em'>\n                      <a class='close-modal-link' id='verb-cancel-button' ng-click='rejectIncomingGuru()' ng-show='incoming_request._type === 0'>\n                        <p class='standard micro-text center'>\n                          Uh oh! Cancel\n                        </p>\n                      </a>\n                      <a class='close-modal-link' id='verb-cancel-button' ng-click='rejectIncomingQuestion()' ng-show='incoming_request._type === 1'>\n                        <p class='standard micro-text center' ng-show='incoming_request._type !== 1'>\n                          This is not the answer...\n                        </p>\n                      </a>\n                      <a class='close-modal-link' id='verb-cancel-button' ng-click='rejectIncomingQuestion()' ng-show='incoming_request._type === 2'>\n                        <p class='standard micro-text center' ng-show='incoming_request._type === 2'>\n                          Not right person for job\n                        </p>\n                      </a>\n                  </div>\n\n              <!-- </div> -->\n            </div>\n          </div>\n\n\n\n              <div class='pure-g-c flex-column flex-space-between' ng-show='showIncomingProposalDetails' ng-click='showIncomingProposalDetails = false;'>\n                <div class='flex-item-c pure-g'>\n                  <ion-list class='list-inset proposal-card-request visible-overflow proposal-card-request'>\n\n                    <ion-item class='padding-2em item-avatar-left dark-bg white-text' style='padding-bottom:1em;'>\n                      <img class='pure-img can-help-profile-img'  src='{{incoming_request.student.profile_url}}'/>\n                        <div class='guru-info-wrapper'>\n                          <h2>{{incoming_request.student.name.split(' ')[0]}} </h2>\n                          <p class='uppercase nano-text'>\n                            <span ng-show='incoming_request.student.university'>{{incoming_request.student.university.title}}  -</span>\n                            <span ng-show='incoming_request.student.majors'>{{incoming_request.student.majors[0].name}}</span>\n                          </p>\n\n                          <div class='pure-u-11-12'>\n                            <div class='pure-u-1-12' ng-repeat='number in getNumber(proposal.student.student_avg_rating) track by $index'>\n                                    <i class='icon ion-star blue'></i>\n                            </div>\n                            <div class='pure-u-1-12' ng-repeat='number in getNumber(5 - incoming_request.student.student_avg_rating) track by $index'>\n                              <i class='icon ion-star grey'></i>\n                            </div>\n                          </div>\n                        </div>\n                    </ion-item>\n\n\n                    <!-- 4.  jack dfrom student, put hashtags, icon right-->\n                    <ion-item class='item-avatar-left'>\n                      <img class='pure-img verb-img' ng-src='{{img_base}}./img/verbs/{{incoming_request.verb_image}}' />\n                        <h2 class='uppercase student-session-course-name'>{{incoming_request.course.short_name}}</h2>\n                    </ion-item>\n\n                    <ion-item class='item-avatar-left card-item-left request-form-item'>\n                      <img class='icon ion-plus-custom blue custom-icon pure-img' src='{{img_base}}./img/icons/clock.svg'>\n                      <p class='inline'> Starts in </p>\n                      <p ng-show='incoming_request.status === 1 || incoming_request.status === 0' class='inline time-until' style='padding-left:1em'> {{incoming_request.schedule_time}} minutes </p>\n                      <p ng-show='incoming_request.status === 2' class='inline time-until' style='padding-left:1em; color:green;'> In progress </p>\n                    </ion-item>\n\n                    <!-- 5.  Same old but no orange> -->\n                    <ion-item class='item-avatar-left card-item-left request-form-item'>\n                      <img class='icon ion-plus-custom blue custom-icon pure-img' src='{{img_base}}./img/icons/marker.svg'>\n                      <p class='inline'> Meet up </p>\n                      <p class='inline black' style='padding-left:1em'> {{incoming_request.address}} </p>\n                    </ion-item>\n\n                    <div class='item item-divider'>\n                    </div>\n\n                    <ion-item >\n                      <p class='pico-text white-space-normal'> {{incoming_request.description}} </p>\n                      <div class='pure-u-1'>\n                        <div class='pure-u-1-3 session-details-img-wrapper padding-right-half padding-top-half' ng-repeat='file in incoming_request.files'>\n                          <img class='pure-img' src='{{file.url}}'/>\n                        </div>\n                      </div>\n                    </ion-item>\n\n                    <ion-item class='item-icon-left' ng-show='incoming_request.tags.length > 0'>\n                      <img style='margin-top:0.4em; left:24px; top:5px;'class='icon ion-plus-custom blue custom-icon pure-img list-custom-icon' src='{{img_base}}./img/icons/tags.svg'>\n                      <p>&nbsp;<span class='blue request-tag' ng-repeat='tag in incoming_request.tags'>#{{tag.name}} </span> </p>\n                    </ion-item>\n\n\n                  </ion-list>\n\n              </div>\n            </div>\n<!--  </div\n        <div class='flex-item-c pure-g j-start'>\n\n        </div> -->\n\n\n\n  <!-- </ion-scrolL> -->\n\n\n    </ion-content>\n</ion-modal-view>"),e.put("templates/student.session.html","<ion-view hide-nav-bar='true' id='student-session'>\n\n  <div ng-include=\"img_base + 'templates/student.components.session.html'\"> </div>\n\n</ion-view>\n"),e.put("templates/student.session.modal.html","<ion-modal-view>\n\n  <div ng-include=\"img_base + 'templates/student.components.session.html'\">\n  </div>\n\n</ion-view>\n"),e.put("templates/tags.modal.html","<ion-modal-view  class='tag-modal' ng-controller='TagsController'>\n\n  <ion-header-bar align-title=\"center\" class='dark-bg-header calendar-top-header' hide-nav-bar='true'>\n    <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link cancel-button\" ng-click='closeTagsModal()'>Cancel</button>\n    </div>\n    <h1 class=\"title micro-text modal-header-text\">Add Tags</h1>\n      <a class=\"button button-clear button-blue button-header-link submit-button\" ng-click='saveTag()'>\n        Add\n      </a>\n  </ion-header-bar>\n\n  <ion-content scroll='false' class='white-bg'>\n          <div class='pure-u-1'>\n            <label class=\"item item-input\">\n              <i class=\"icon ion-pricetag placeholder-icon\"></i>\n              <input type=\"text\" id='tags-input' ng-model='input_tags' placeholder='Add some tags to help your guru'>\n            </label>\n          </div>\n          <div class='autocomplete-wrapper white-bg'>\n            <div class='item item-divider course-divider'>\n              <p class='uppercase opacity-3-4 micro-text'> Related Tags </p>\n            </div>\n            <ion-item class='tag-item' ng-repeat='tag in related_tags' ng-click='addTagToRequestTags(tag)'>\n              #{{tag}}\n            </ion-item>\n          </div>\n  </ion-content>\n  <input type='file' id='file-input-web' onchange=\"angular.element(this).scope().file_changed(this)\">\n</ion-modal-view>"),e.put("templates/task_verbs.home.modal.html","<ion-modal-view hide-nav-bar ='true' class='verb-modal'>\n  <ion-content class='white-text dark-bg' scroll='false' >\n      <div class='pure-g-c flex-column flex-space-between'>\n\n        <div class='flex-item-c center'>\n\n          <div class='pure-g'>\n            <div class='wrapper icon-wrapper padding-top-2em pure-u-1'>\n\n                <!-- <div class='pure-u-1-3'>\n                </div> -->\n\n                <div class='pure-u-1-3 padding-1em'>\n\n\n\n                      <div class='pure-g'>\n                        <div class='pure-u-1'>\n                          <img class='pure-img' ng-src='{{img_base}}./img/verbs/task.svg' />\n                        </div>\n                      </div>\n\n                </div>\n            </div>\n          </div>\n\n          <div class='pure-g'>\n\n            <div class='pure-u-1'>\n              <p class='standard' style='margin-top:-0.75em;'>\n              What Kind of task?\n              </p>\n            </div>\n\n          </div>\n\n        </div>\n        <div class='flex-item-c center'>\n          <div class='pure-g'>\n            <div class='wrapper icon-wrapper padding-top-2em'>\n                <div class='pure-u-1-3 padding-1em'>\n\n                  <a ng-click='launchRequestModal(2,0)'>\n\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <img class='pure-img' ng-src='{{img_base}}./img/verbs/chores.svg' />\n                      </div>\n                    </div>\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <p class='micro-text padding-1em regular'>\n                          Chores\n                        </p>\n                      </div>\n                    </div>\n\n                  </a>\n\n\n                </div>\n\n                <div class='pure-u-1-3 padding-1em'>\n\n                  <a ng-click='launchRequestModal(2,1)'>\n\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <img class='pure-img' ng-src='{{img_base}}./img/verbs/items.svg' />\n                      </div>\n                    </div>\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <p class='micro-text padding-1em regular'>\n                          Items\n                        </p>\n                      </div>\n                    </div>\n\n                  </a>\n\n                </div>\n\n                <div class='pure-u-1-3 padding-1em'>\n\n                  <a ng-click='launchRequestModal(2,2)'>\n\n                   <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <img class='pure-img' ng-src='{{img_base}}./img/verbs/food.svg' />\n                      </div>\n                    </div>\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <p class='micro-text padding-1em regular'>\n                          Food\n                        </p>\n                      </div>\n                    </div>\n                  </a>\n                </div>\n\n                <div class='pure-u-1-3 padding-1em'>\n\n                  <a ng-click='launchRequestModal(2,3)'>\n\n                   <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <img class='pure-img' ng-src='{{img_base}}./img/verbs/skilled.svg' />\n                      </div>\n                    </div>\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <p class='micro-text padding-1em regular no-padding-horizontal'>\n                          Skilled Task\n                        </p>\n                      </div>\n                    </div>\n                  </a>\n                </div>\n\n                <div class='pure-u-1-3 padding-1em'>\n\n                  <a ng-click='launchRequestModal(2,4)'>\n\n                   <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <img class='pure-img' ng-src='{{img_base}}./img/verbs/specific.svg' />\n                      </div>\n                    </div>\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <p class='micro-text padding-1em regular'>\n                          Specific\n                        </p>\n                      </div>\n                    </div>\n                  </a>\n                </div>\n\n            </div>\n          </div>\n\n        </div>\n\n        <div class='flex-item-c j-end center'>\n          <div class='pure-u-1 padding-bottom-2em'>\n            <a class='close-modal-link' ng-click='taskVerbModal.hide();'>\n              <p class='standard micro-text'>\n                Close this thing\n              </p>\n          </div>\n        </div>\n\n      </div>\n  </ion-content>\n</ion-modal-view>"),
e.put("templates/university.container.html","<ion-view hide-nav-bar='true' class='courses'>\n   <div class=\"bar bar-header dark-bg-header mini-header uppercase relative\" style='width:auto;'>\n      <div class=\"buttons\">\n      <button class=\"button button-clear button-header-link cancel-button button-left\" ng-click='backToStudentEditProfile()'>Back</button>\n      </div>\n      <h1 class=\"title bold\">Edit University</h1>\n      <div class='buttons'>\n        <button style='padding-top:0.1em;'class=\"button button-clear button-header-link submit-button button-right \" id='done-button' ng-click='backToStudentEditProfile(true)'>Save</button>\n      </div>\n  </div>\n<ion-content class='dark-bg has-header' scroll='false'>\n    <div class='pure-g'>\n      <div class=\"list pure-u-1\">\n        <label class=\"item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2\">\n              <i class='icon ion-search onboarding-search-icon' ng-hide=\"search_text.length > 0\"></i>\n              <input id='university-input' type=\"text\" class='ng-class:{\"align-left-start\":search_text.length > 0}'\n              fast-matcher\n                      fast-matcher-source=\"universities\"\n                      fast-matcher-output=\"matchingUniversities\"\n                      fast-matcher-properties=\"title, keywords\"\n                      fast-matcher-any-word=\"true\"\n                      fast-matcher-limit=\"5\"\n                      fast-matcher-preserve-order=\"true\"\n                      fast-matcher-case-insensitive=\"true\"\n                      placeholder=\"Search Your University\"\n                      ng-model=\"search_text\"\n                      ng-blur=\"setFocus()\"/>\n          <!-- </span> -->\n        </label>\n      </div>\n    </div>\n    <ion-list>\n      <ion-scroll>\n      <ion-item class='item-button-right request-form-item'  id='location-filled-item' ng-repeat=\"university in matchingUniversities\" ng-click=\"saveUniversityFromStudentProfileSideBar(university)\">\n                  <p class='semibold'>{{university.title}}<br>\n                    <span class='nano-text'>\n\n                      {{university.city}}, {{university.state}}\n                    </span>\n                  </p>\n                <div class='button button-clear' style='margin-right: -8px; font-size:80%' ng-show='university.miles'>\n                  {{university.miles}}\n                </div>\n      </ion-item>\n      <ion-item class='item-button-right request-form-item'  id='location-filled-item' ng-repeat=\"university in static.nearest_universities.slice(0, 8)\" ng-click=\"saveUniversityFromStudentProfileSideBar(university)\">\n                  <p class='semibold'>{{university.title}}<br>\n                    <span class='nano-text'>\n\n                      {{university.city}}, {{university.state}}\n                    </span>\n                  </p>\n                <div class='button button-clear nano-text blue' style='margin-right: -8px; font-size:80%' ng-show='university.miles'>\n                  {{university.miles}}m\n                </div>\n      </ion-item>\n    </ion-list>\n\n</ion-content>\n\n\n</ion-view>\n"),e.put("templates/university.html","<ion-view hide-nav-bar='true' class='university' ng-controller='AddUniversityController'>\n  <ion-content class='white-text subdark-bg university-view-2' scroll='false' ng-show='view === 2' style='top:0px;'>\n    <div class='pure-g'>\n      <div class=\"list pure-u-1\">\n        <label class=\"item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2\">\n              <i class='icon ion-search onboarding-search-icon' ng-hide=\"search_text.length > 0\"></i>\n              <input id='university-input' type=\"text\" class='ng-class:{\"align-left-start\":search_text.length > 0}'\n              fast-matcher\n                      fast-matcher-source=\"universities\"\n                      fast-matcher-output=\"matchingUniversities\"\n                      fast-matcher-properties=\"title, keywords\"\n                      fast-matcher-any-word=\"true\"\n                      fast-matcher-limit=\"5\"\n                      fast-matcher-preserve-order=\"true\"\n                      fast-matcher-case-insensitive=\"true\"\n                      placeholder=\"Search Your University\"\n                      ng-model=\"search_text\"\n                      />\n          <!-- </span> -->\n        </label>\n      </div>\n    </div>\n    <ion-list>\n      <ion-scroll>\n      <ion-item class='item-button-right request-form-item'  id='location-filled-item' ng-repeat=\"university in matchingUniversities\" ng-click=\"universitySelected(university, $event)\">\n                  <p class='semibold'>{{university.title}}<br>\n                    <span class='nano-text'>\n\n                      {{university.city}}, {{university.state}}\n                    </span>\n                  </p>\n                <div class='button button-clear' style='margin-right: -8px; font-size:80%' ng-show='university.miles'>\n                  {{university.miles}}\n                </div>\n      </ion-item>\n      <ion-item class='item-button-right request-form-item'  id='location-filled-item' ng-repeat=\"university in static.nearest_universities.slice(0, 8)\" ng-click=\"universitySelected(university, $event)\">\n                  <p class='semibold'>{{university.title}}<br>\n                    <span class='nano-text'>\n\n                      {{university.city}}, {{university.state}}\n                    </span>\n                  </p>\n                <div class='button button-clear nano-text blue' style='margin-right: -8px; font-size:80%' ng-show='university.miles'>\n                  {{university.miles}}m\n                </div>\n      </ion-item>\n    </ion-list>\n    </ion-scroll>\n    <ion-footer-bar style='margin-bottom: 15%;' class='transparent-bg'>\n      <button class='button button-full button-clear uppercase opacity-1-2 uppercase white-text opacity-1-2 cancel-clear-button'  ng-click='toggleView(1)'>Cancel</button>\n    </ion-footer-bar>\n  </ion-content>\n  <ion-content class='white-text dark-bg' scroll='false' ng-show='view === 1' style='top:0px;'>\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='flex-item-c center'>\n        </div>\n        <div class='flex-item-c center j-start'>\n\n          <div class='pure-g'>\n\n            <div class='pure-u-1'>\n              <p class='standard university-header'>\n                I am a\n                <select ng-model=\"selectedBg\" id='role-select' class='ng-class:{\"student-width\": selectedBg.name === \"student\", \"professional-width\": selectedBg.name === \"professional\", \"hs-student-width\": selectedBg.name === \"HS student\"}' ng-change=\"unFocusSelect()\" ng-options=\"background.name for background in user_bgs\"></select><span ng-show='selectedBg.name===\"student\"'>attending</span><span ng-show='selectedBg.name===\"professional\"'>who attended</span><span ng-show='selectedBg.name===\"HS student\"'>aspiring to attend</span>\n              </p>\n            </div>\n\n\n          </div>\n        </div>\n\n        <div class='flex-item-c j-start'>\n          <div class='pure-g'>\n                  <div class=\"list pure-u-1 padding-half-horizontal\">\n                    <ion-item class='item-icon-left fake-university-input' ng-click='toggleView(2)' style='font-size:100%'>\n                        <i class='icon ion-search'></i>\n                        <p class='fake-placeholder-text'>\n                          Enter your university\n                        </p>\n                      </span>\n                    </label>\n                  </div>\n          </div>\n\n        </div>\n\n        <div class='flex-item-c j-center center' ng-show='platform.mobile'>\n          <div class='pure-u-1 padding-2em item-icon-right'>\n            <button class='button button-full light-blue-bg button-footer white-text' ng-click='getLocation()'>Search By Location <i class='icon ion-navigate font-small' style='top:3px'> </i></button>\n          </div>\n        </div>\n\n      </div>\n  </ion-content>\n</ion-view>"),e.put("templates/verb.home.html",""),e.put("templates/verb.home.modal.html","<ion-modal-view hide-nav-bar ='true' class='verb-modal'>\n  <ion-content class='white-text dark-bg' scroll='false' >\n      <div class='pure-g-c flex-column flex-space-between'>\n        <div class='flex-item-c center'>\n        </div>\n        <div class='flex-item-c center'>\n\n          <div class='pure-g'>\n\n            <div class='pure-u-1'>\n              <p class='standard'>\n              What do you need?\n              </p>\n            </div>\n\n          </div>\n\n          <div class='pure-g'>\n            <div class='wrapper icon-wrapper padding-top-2em'>\n                <div class='pure-u-1-3 padding-1em'>\n\n                  <a ng-click='launchRequestModal(0)'>\n\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <img class='pure-img' ng-src='{{img_base}}./img/verbs/session.svg' />\n                      </div>\n                    </div>\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <p class='micro-text padding-1em regular'>\n                          Session\n                        </p>\n                      </div>\n                    </div>\n\n                  </a>\n\n\n                </div>\n\n                <div class='pure-u-1-3 padding-1em'>\n\n                  <a ng-click='launchRequestModal(1)'>\n\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <img class='pure-img' ng-src='{{img_base}}./img/verbs/question.svg' />\n                      </div>\n                    </div>\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <p class='micro-text padding-1em regular'>\n                          Question\n                        </p>\n                      </div>\n                    </div>\n\n                  </a>\n\n                </div>\n\n                <div class='pure-u-1-3 padding-1em'>\n\n                  <a ng-click='launchTaskVerbModal()'>\n\n                   <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <img class='pure-img' ng-src='{{img_base}}./img/verbs/task.svg' />\n                      </div>\n                    </div>\n                    <div class='pure-g'>\n                      <div class='pure-u-1'>\n                        <p class='micro-text padding-1em regular'>\n                          Task\n                        </p>\n                      </div>\n                    </div>\n                  </a>\n                </div>\n\n            </div>\n          </div>\n\n        </div>\n\n        <div class='flex-item-c j-end center'>\n          <div class='pure-u-1 padding-bottom-2em'>\n            <a class='close-modal-link' id='verb-cancel-button' ng-click='verbModal.hide();'>\n              <p class='standard micro-text'>\n                Close this thing\n              </p>\n            </a>\n          </div>\n        </div>\n\n      </div>\n  </ion-content>\n</ion-modal-view>"),e.put("templates/generalConfirmPopup.html",'\n    <div class=\'row\'>\n      <div class="col">\n        <div class="center">\n            <img style="background:rgba(105, 179, 165, 1)" src=\'./img/uguru-04.png\' width="180px" class="uguru_glass center">\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col">\n        <p style="font-size:10vmin; color:rgba(0,0,0,0.7)"class="bold-font center font-24 line-height-120">{{confirmPopupOptions.header}}</p>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <p style="font-size:15px;"class="osreg-font center grey" ng-bind-html="confirmPopupOptions.body">\n        </p>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <button class="button button-full button-positive footer-button" id="popup-positive-btn">\n          {{confirmPopupOptions.positiveBtnText}}\n        </button>\n        <a class="button button-full button-outline" style="background-color:white; border:0px;color:rgba(105, 179, 165, 1); min-height:0px !important;height:30px;" id="popup-cancel-btn">\n          {{confirmPopupOptions.negativeBtnText}}\n        </a>\n      </div>\n    </div>'),e.put("templates/generalPopover.html",'\n<div class="popover" ng-controller="StudentHomeController" style="margin-top:-33px; width:90%; max-width:none; padding:12px; border-radius:16px;">\n  <div class="arrow"></div>\n  <!-- <h3 class="popover-title" ng-bind="templateOptions.title" ng-show="templateOptions.title"></h3> -->\n  <div class="popover-content">\n  	<div class="row">\n      <div class="col">\n        <p style="font-size:7vmin; color:rgba(0,0,0,0.7)"class="bold-font center font-24 line-height-120">{{templateOptions.title}}</p>\n      </div>\n    </div>\n    <div class=\'row\'>\n      <div class="col">\n        <p style="font-size:15px;"class="osreg-font center grey" ng-bind-html="templateOptions.body">\n        </p>\n      </div>\n    </div>\n	<button class="button button-full button-positive" ng-click="hideTooltip()"\n  	ng-show="templateOptions.buttonText">{{templateOptions.buttonText}}</button>\n  </div>\n</div>'),e.put("templates/searchbox.tpl.html",'<input id="pac-input" class="pac-controls" type="text" placeholder="Search">')}]);