<div ng-controller='SplashController' class="full-xy flex-center relative">

    <div class="splash-projector-bg bg-slate-75p absolute top-0 left-0 full-xy opacity-0 activate" ng-controller='AccountPageController' class-on-activate="fadeIn:anim"></div>
    <div class="splash-projector-school projector-slide matrix-0 activate relative" class-on-activate="u-slideInDown, null:inject#echo-loader-echo|activate, null:inject#echo-loader-main|activate, null:inject#echo-loader-number tspan|activate, null:inject#echo-loader|clear, null:inject.splash-school-loader-container|clear, null:inject#splash-school-search-guru|activate, null:inject.coach-support|activate" class-on-clear="bounceOutUp:animOut">
		<svg class="projector-line" width="2px" height="196px" viewBox="0 0 4 392">
			<path d="M2,2 L2,392" fill="none" stroke="#FFFFFF" stroke-width="4" stroke-linecap="round" opacity="0.6" stroke-linejoin="round" stroke-dasharray="16,14"></path>
		</svg>
		<div class="projector-top"></div>
        <div class="projector-content relative flex-wrap-center" id="splash-signup" ng-controller='SignupController'>
            <div class="splash-projector-guru absolute full-x top-0 left-0 flex-wrap-center" >
                <div class="splash-logo-guru" ng-include="img_base + 'templates/svg/guru-head.html'"></div>
                <svg class="coach coach-signup-welcome active" width="114px" height="98px" viewBox="0 0 228 196">
                    <path d="M48.386161,159.590945 C48.3861609,159.590943 47.5065944,177.922187 23.5796634,188.938294 C63.1658208,201.858782 77.415256,186.935364 86.5812235,178.667782 C146.539697,198.23757 207.421447,176.150125 222.564419,129.334091 C237.707391,82.518058 201.37725,28.7017162 141.418777,9.13192771 C81.4603034,-10.4378608 20.578553,11.6495847 5.43558085,58.4656181 C-6.12740226,94.2137525 12.3218247,134.043527 48.386161,159.590945 L48.386161,159.590945 L48.386161,159.590945 Z" stroke="#FFFFFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" opacity="0.9" fill="#40484B"></path>
                    <text ng-hide="page.account.forgotPassword" transform="translate(112, 93) rotate(24) translate(-112, -93)" font-family="Source Sans Pro" font-size="40" font-weight="normal" line-spacing="40" fill="#FFFFFF">
                        <tspan x="37.152466" y="91.8605398">welcome</tspan>
                        <tspan x="35.612466" y="131.86054">to uguru!</tspan>
                    </text>
                    <text ng-show="page.account.forgotPassword" transform="translate(118.193148, 88.776332) rotate(24.000000) translate(-118.193148, -88.776332) " font-family="Source Sans Pro" font-size="40" font-weight="normal" line-spacing="40" fill="#FFFFFF">
                        <tspan x="67.3531477" y="87.7763318">forgot</tspan>
                        <tspan x="28.6931477" y="127.776332">password?</tspan>
                    </text>
                </svg>
            </div>
            <!--Signup mode-->
            <div class="splash-content absolute full-xy flex-wrap-center left-0 top-0 splash-signup-content ng-class:{'active':!page.account.loginMode && !page.account.forgotPassword}">

                <button id='signup-mode-login-btn' class-on-activate="tada:anim" class="btn-splash-login btn-ghost-white" ng-click='switchToLogin()'>Login</button>
                <div class="splash-signup-inside">
                    <div>
                        <div class="school-id-card">
                            <svg viewBox="0 0 240 160">
                                <rect x="0" y="0" width="300" height="175" fill="none"></rect>
                            </svg>
                            <div class="school-id-inside">
                                <div class="school-id-top" style="background: {{selectedUniversity.school_color_dark}};">
                                    <span class="user-icon" style="background-color:transparent; border-color: {{selectedUniversity.school_color_dark}}; background-image: url({{user.profile_url || 'https://uguru.me/static/remote/img/avatar.svg'}});"></span>
                                </div>
                                <div class="school-id-bottom">
                                    <div>
                                        <h1 class='lettercase' style="color: {{selectedUniversity.school_color_dark}};">{{ user.name || 'Student Name'}}</h1>
                                        <h2 style="color: {{selectedUniversity.school_color_dark}};">{{selectedUniversity.school_tiny_name || selectedUniversity.short_name || selectedUniversity.name}} {{(user.demographic && user.demographic.name) || 'Freshman'}}</h2>
                                        <h2 style="color: {{selectedUniversity.school_color_dark}};">{{user.email || 'username@school.edu' }}</h2>
                                    </div>
                                    <h3 ng-if='user.student_courses && user.student_courses.length'><span style="color: {{selectedUniversity.school_color_dark}};">SELECTED COURSES</span></h3>
                                </div>
                            </div>
                        </div>
                    </div>
                    <form name='sForm' class="splash-signup-form">
                        <fieldset class="active large full-x">
                            <input name="name" class="input-border light" type="text" placeholder="what's your name?" ng-focus="onSignupFormFocus('name', signupForm.name, signupForm)" ng-blur="updateUserIdCard('name', signupForm.full_name, signupForm)" ng-model='signupForm.full_name' autocomplete="off" ng-keyup="($event.keyCode == 13 || $event.keyCode == 9) && updateUserIdCard('name', signupForm.full_name, signupForm)" ng-change="reset('name',signupForm)"/>
                            <label></label>
                            <span class='form-error absolute txt-crimson weight-400'  ng-if='signupForm.focusedInput === "name" && signupForm.activateErrorMsg && signupForm.activateErrorMsg.length'>{{signupForm.activateErrorMsg}}
                            </span>

                            <a ng-if='!signupForm.activateErrorName && signupForm.full_name' class="active" ng-mousedown='signupForm.full_name = "";'>
                                <svg class="clear" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="36"></circle>
                                    <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                                </svg>
                            </a>
                            <a class='active' ng-if='!signupForm.activateErrorName && signupForm.validateName'>
                                <svg class="verified" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="36"></circle>
                                    <path d="M31,52.6470588 L42.1764706,63.8235294 L69,37"></path>
                                </svg>
                            </a>
                            <a ng-if='signupForm.activateErrorName && signupForm.full_name' class='active' ng-mousedown='signupForm.full_name = "";signupForm.activateErrorName = false'>
                                <svg class="error" viewBox="0 0 100 100" >
                                    <circle cx="50" cy="50" r="36"></circle>
                                    <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                                </svg>
                            </a>
                        </fieldset>
                        <fieldset class="large full-x" ng-class="{ 'active' : signupForm.activateEmail}" ng-if='signupForm.activateEmail'>
                            <input name="email" class="input-border light" type="email" ng-focus="onSignupFormFocus('email', signupForm.email, signupForm)" ng-blur="updateUserIdCard('email', signupForm.email, signupForm,sForm.email.$valid)" placeholder="what's your email?" ng-model='signupForm.email' autocomplete="off" ng-keyup="($event.keyCode == 13 || $event.keyCode == 9) && updateUserIdCard('email', signupForm.email, signupForm,sForm.email.$valid)" ng-change="reset('email',signupForm,sForm.email.$valid)" 
                            />
                            <label></label>
                            
                            <span class='form-error absolute txt-crimson weight-400' ng-if='signupForm.focusedInput === "email" && signupForm.activateErrorMsg && signupForm.activateErrorMsg.length'>{{signupForm.activateErrorMsg}}</span>
                            <!-- <a ng-if='!signupForm.activateErrorEmail && signupForm.email ' class="active" ng-mousedown='signupForm.email = "";'> -->
                            <a ng-if='!signupForm.activateErrorEmail  && signupForm.email || !sForm.email.$valid' class="active" ng-mousedown='signupForm.email = "";'>
                                <svg class="clear" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="36"></circle>
                                    <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                                </svg>
                            </a>
                            <a ng-if='!signupForm.activateErrorEmail && signupForm.validateEmail' class='active'>
                                <svg class="verified" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="36"></circle>
                                    <path d="M31,52.6470588 L42.1764706,63.8235294 L69,37"></path>
                                </svg>
                            </a>
                            <a ng-if='signupForm.activateErrorEmail && (!sForm.email.$valid || signupForm.email )' class='active' ng-mousedown='signupForm.email = ""; signupForm.activateErrorEmail = false'>
                                <svg class="error" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="36"></circle>
                                    <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                                </svg>
                            </a>
                        </fieldset>
                        <fieldset  class="large full-x" ng-class="{'active': signupForm.activatePassword}" ng-if='signupForm.activatePassword'>
                            <input name="password" class="input-border light" type="password" ng-blur="updateUserIdCard('password', signupForm.password, signupForm)"  ng-focus="onSignupFormFocus('password', signupForm.password, signupForm)" placeholder="enter a password" autocomplete="off" ng-keyup="(($event.keyCode == 13 || $event.keyCode == 9) && signupOnEnter()) || (signupForm.password.length > 5 && updateUserIdCard('password', signupForm.password, signupForm))" ng-model='signupForm.password' ng-change="reset('password',signupForm)"/>
                            <label></label>
                            
                            <span class='form-error absolute txt-crimson weight-400' ng-if='signupForm.focusedInput === "password" && signupForm.activateErrorMsg && signupForm.activateErrorMsg.length'>{{signupForm.activateErrorMsg}}</span>
                            <a class='active' ng-if='!signupForm.activateErrorPassword && signupForm.password' ng-mousedown='signupForm.password = "";'>
                                <svg class="clear" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="36"></circle>
                                    <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                                </svg>
                            </a>
                            <a ng-if='!signupForm.activateErrorPassword && signupForm.validatePassword' class='active'>
                                <svg class="verified" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="36"></circle>
                                    <path d="M31,52.6470588 L42.1764706,63.8235294 L69,37"></path>
                                </svg>
                            </a>
                            <a ng-if='signupForm.activateErrorPassword && signupForm.password' class='active' ng-mousedown='signupForm.password = ""'>
                                <svg class="error" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="36"></circle>
                                    <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                                </svg>
                            </a>
                        </fieldset>
                    </form>
                    <ul class="splash-signup-buttons-mobile opacity-0" ng-class="{'show-opacity z-index-1000': signupForm.validatePassword && signupForm.validateEmail && signupForm.validateName}">
                        <li><button class="bg-moxie" ng-click='completeSignup()'>Continue with<br/>Email</button></li>
                        <li><button class="bg-fb" ng-click='connectWithFacebook()'>Continue with<br/>Facebook</button></li>
                    </ul>
                    <ul class="splash-signup-buttons-mobile" ng-class="{'hide-opacity z-index--1000': signupForm.validatePassword && signupForm.validateEmail && signupForm.validateName}">
                        <li><button class="bg-shamrock" ng-click="switchToLogin()">Switch<br/>to Login</button></li>
                        <li><button class="bg-fb" ng-click='connectWithFacebook()'>Login with<br/>Facebook</button></li>
                    </ul>
                    <ul class='splash-desktop-buttons flex-wrap-center full-x absolute bottom-0 flex-wrap-center p15-grid left-0 invisible' ng-class="{'visible animated bounceInUp': signupForm.validatePassword && signupForm.validateEmail && signupForm.validateName}">
                        <li>
                            <button ng-click='completeSignup()' class="btn-ghost-shamrock">Continue with Email</button>
                        </li>
                        <li>
                            <button ng-click='connectWithFacebook()' class="btn-ghost-fb">Continue with Facebook</button>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- Login Mode -->
            <div class="splash-content absolute flex-wrap-center top-0 left-0 full-xy splash-login-content ng-class:{'active':page.account.loginMode && !page.account.forgotPassword}" ng-if="page.account.loginMode && !page.account.forgotPassword">
                <button class="btn-splash-login btn-ghost-white" ng-click='switchToSignup()'>Signup</button>
                <form name='logForm' class="splash-login-inside full-x">
                    <fieldset class="large full-x">
                        <input name='email' class="input-border light" type="email" placeholder="what's your email?" ng-model='signupForm.email' autocomplete="off"/>
                        <label></label>
                        <a ng-if='signupForm.email || !logForm.email.$valid' class="active" ng-click='signupForm.email = "";'>
                            <svg class="clear" viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="36"></circle>
                                <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                            </svg>
                        </a>
                       <!--  <a ng-if='signupForm.activateErrorEmail && (!logForm.email.$valid || signupForm.email )' class='active' ng-mousedown='signupForm.email = ""; signupForm.activateErrorEmail = false'>
                            <svg class="error" viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="36"></circle>
                                <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                            </svg>
                        </a> -->
                    </fieldset>
                    <fieldset class="large full-x">
                        <input class="input-border light" type="password" ng-model="signupForm.password" ng-keyup="$event.keyCode == 13 && loginUser()" placeholder="enter secure password"/>
                        <label></label>
                        
                        <a ng-if='signupForm.password' class="active" ng-click='signupForm.password = "";'>
                            <svg class="clear" viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="36"></circle>
                                <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                            </svg>
                        </a>
                    </fieldset>

                    <ul class="splash-signup-buttons-mobile">
                        <li><button class="bg-moxie" ng-click='loginUser()'>Login</button></li>
                        <li><button class="bg-fb" ng-click='connectWithFacebook()'>Login with<br/>Facebook</button></li>
                        <li><button class="bg-shamrock" ng-click="switchToSignup()">Switch<br/>to Signup</button></li>
                        <li><button class="bg-campus" ng-click="switchToForgotPassword()">Forgot your password?</button></li>
                    </ul>
                    <div class="splash-desktop-buttons">
                        <button ng-click='connectWithFacebook()' class="btn-ghost-fb">Login with Facebook</button>
                        <button ng-click='loginUser()' class="btn-ghost-shamrock">Login</button>
                        <button ng-click="switchToForgotPassword();" class="btn-ghost-slate">Forgot your<br/>password?</button>
                    </div>
                </form>
            </div>
            <!-- Forgot password mode -->
            <div class="splash-content splash-forgot-pw-content splash-login-content ng-class:{'active':page.account.forgotPassword}" ng-if="page.account.forgotPassword" >
                <button class="btn-splash-login btn-ghost-white" style='left:15px; right:none;'ng-click='switchToSignup()'>Signup</button>
                <button class="btn-splash-login btn-ghost-white" ng-click='switchToLogin()'>Login</button>
                <div class="splash-login-inside">
                    <div class="input-field">
                        <input type="email" placeholder="what's your email?" ng-model='signupForm.email' autocomplete="off"/>
                        <a>
                            <svg class="clear" viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="36"></circle>
                                <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                            </svg>
                        </a>
                        <a>
                            <svg class="verified" viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="36"></circle>
                                <path d="M31,52.6470588 L42.1764706,63.8235294 L69,37"></path>
                            </svg>
                        </a>
                        <a>
                            <svg class="error" viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="36"></circle>
                                <path d="M50,50 L50,31.5643475 L50,50 L31.5643475,50 L50,50 Z M50,50 L50,68.4356525 L50,50 L68.4356525,50 L50,50 Z"></path>
                            </svg>
                        </a>
                    </div>
                    <div class="login-buttons">
                        <button ng-click='attemptToResetPassword()' class="btn-login-login btn-ghost-white">Submit</button>
                        <button ng-click='switchToLogin()' class="btn-forgot-pw btn-ghost-white">Cancel</button>
                    </div>
                </div>
            </div>

        </div>
        <svg class="projector-handle" width="61px" height="24px" viewBox="0 0 122 48">
            <path d="M116.813759,2 L119.407837,16.1511345 C121.400182,27.0197169 114.265024,37.7105153 103.431627,39.9081948 C103.431627,39.9081948 77.5373297,46 60.9999232,46 C44.4625167,46 18.5495835,39.9045365 18.5495835,39.9045365 C7.74411375,37.6544772 0.597741646,27.0302069 2.59200971,16.1511345 L5.18608711,2" fill="none" stroke-width="4" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
    </div>
    <div class="splash-hero-skip absolute bottom-0 right-0">
        <button ng-click='deactivateUniversitySearch()'>Back</button>
    </div>
</div>