<ion-view class='uguru-view university-view' ng-controller='AddUniversityController'>
<section id="school" class="onboarding" >
  <!-- <header class="header-back" style='background: url("{{img_base}}./img/onboarding/campus.jpg") center/cover;'> -->
    <header>
      <div class="header-nav">
        <a class="header-nav-back" ng-click='goToAccess()'>
            <svg width="12px" height="23px" viewBox="0 0 12 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <path d="M2.4,11.1 L11.7,1.7 C12.1,1.3 12.1,0.7 11.7,0.3 C11.3,-0.1 10.7,-0.1 10.3,0.3 L0.3,10.4 C0.1,10.6 -7.10542736e-15,10.8 -7.10542736e-15,11.1 C-7.10542736e-15,11.4 0.1,11.6 0.3,11.8 L10.3,21.9 C10.7,22.3 11.3,22.3 11.7,21.9 C12.1,21.5 12.1,20.9 11.7,20.5 L2.4,11.1 L2.4,11.1 Z" fill="#FFFFFF"></path>
            </svg>
            <h1>&nbsp;</h1>
          </a>
      </div>
      <div class="onboarding-prop"></div>
      <div class="onboarding-search item-icon-right">
        <input type="search" placeholder="Search universities..."
                fast-matcher
                fast-matcher-output="matchingUniversities"
                fast-matcher-source="universities"
                fast-matcher-properties="name, city, state"
                fast-matcher-any-word="true"
                fast-matcher-limit="5"
                fast-matcher-preserve-order="true"
                fast-matcher-case-insensitive="true"
                placeholder="Search Your University"
                ng-model="search_text"
        />
        <a ng-click='getGPSCoords()'>
          <i class='icon ion-navigate'></i>
        </a>
      </div>
    </header>
  <div id="school-list" class="onboarding-list">
    <ul>
      <!--Searhced Universities-->
      <li class="school-harvard" ng-repeat='university in matchingUniversities'>
        <a ng-click='universitySelected(university, $event)' style='border-color:{{university.school_color_one}}'>
          <span class="school-icon">
            <img ng-src="{{university.seal_url || university.forbes_url}}" style='border-bottom-left:2px solid {{university.school_color_one}}' alt=""/>
          </span>
          <span class="school-name ng-class:{'smaller-list-font':university.title.length >=20 }">
            <b>{{university.name}}<i>{{university.city}}, {{university.state}}</i></b>
          </span>
        </a>
      </li>

      <!-- Location based universities -->
      <li class="school-harvard" ng-repeat='university in nearestUniversities'>
        <a ng-click='universitySelected(university, $event)' style='border-color:{{university.school_color_one}}'>
          <span class="school-icon">
            <img ng-src="{{university.seal_url || university.forbes_url}}" style='border:2px solid {{university.school_color_one}}' alt=""/>
          </span>
          <span class="school-name ng-class:{'smaller-list-font':university.title.length >=20 }">
            <b>{{university.name}}<i class='university-subheader'>{{university.city}}, {{university.state}} <span ng-if="$index < 10" class='text-right'>{{university.miles}}mi</span></i></b></span>
          </span>
        </a>
      </li>

      <!-- Initial universities -->
      <li class="school-harvard" ng-repeat='university in initialUniversities'>
        <a ng-click='universitySelected(university, $event)' style='border-color:{{university.school_color_one}}'>
          <span class="school-icon">
            <img ng-src="{{university.seal_url || university.forbes_url}}" style='border:2px solid {{university.school_color_one}}' alt=""/>
          </span>
          <span class="school-name ng-class:{'smaller-list-font':university.title.length >=20 }">
            <b>{{university.name}}<i class='university-subheader'>{{university.city}}, {{university.state}} </i></b></span>
          </span>
        </a>
      </li>

    </ul>
  </div>
</section>
</ion-view>
<!--
<ion-view hide-nav-bar='true' class='university' ng-controller='AddUniversityController'>
  <ion-content class='white-text subdark-bg university-view-2' scroll='false' ng-show='view === 2' style='top:0px;'>
    <div class='pure-g'>
      <div class="list pure-u-1">
        <label class="item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2">
              <i class='icon ion-search onboarding-search-icon' ng-hide="search_text.length > 0"></i>
              <input id='university-input' type="text" class='ng-class:{"align-left-start":search_text.length > 0}'
              fast-matcher
                      fast-matcher-source="universities"
                      fast-matcher-output="matchingUniversities"
                      fast-matcher-properties="title, keywords"
                      fast-matcher-any-word="true"
                      fast-matcher-limit="5"
                      fast-matcher-preserve-order="true"
                      fast-matcher-case-insensitive="true"
                      placeholder="Search Your University"
                      ng-model="search_text"
                      />
        </label>
      </div>
    </div>
    <ion-list>
      <ion-scroll>
      <ion-item class='item-button-right request-form-item'  id='location-filled-item' ng-repeat="university in matchingUniversities" ng-click="universitySelected(university, $event)">
                  <p class='semibold'>{{university.title}}<br>
                    <span class='nano-text'>

                      {{university.city}}, {{university.state}}
                    </span>
                  </p>
                <div class='button button-clear' style='margin-right: -8px; font-size:80%' ng-show='university.miles'>
                  {{university.miles}}
                </div>
      </ion-item>
      <ion-item class='item-button-right request-form-item'  id='location-filled-item' ng-repeat="university in static.nearest_universities.slice(0, 8)" ng-click="universitySelected(university, $event)">
                  <p class='semibold'>{{university.title}}<br>
                    <span class='nano-text'>

                      {{university.city}}, {{university.state}}
                    </span>
                  </p>
                <div class='button button-clear nano-text blue' style='margin-right: -8px; font-size:80%' ng-show='university.miles'>
                  {{university.miles}}m
                </div>
      </ion-item>
    </ion-list>
    </ion-scroll>
    <ion-footer-bar style='margin-bottom: 15%;' class='transparent-bg'>
      <button class='button button-full button-clear uppercase opacity-1-2 uppercase white-text opacity-1-2 cancel-clear-button'  ng-click='toggleView(1)'>Cancel</button>
    </ion-footer-bar>
  </ion-content>
  <ion-content class='white-text dark-bg' scroll='false' ng-show='view === 1' style='top:0px;'>
      <div class='pure-g-c flex-column flex-space-between'>
        <div class='flex-item-c center'>
        </div>
        <div class='flex-item-c center j-start'>

          <div class='pure-g'>

            <div class='pure-u-1'>
              <p class='standard university-header'>
                I am a
                <select ng-model="selectedBg" id='role-select' class='ng-class:{"student-width": selectedBg.name === "student", "professional-width": selectedBg.name === "professional", "hs-student-width": selectedBg.name === "HS student"}' ng-change="unFocusSelect()" ng-options="background.name for background in user_bgs">

                </select>
                <span id="E2E-student" ng-show='selectedBg.name==="student"'>attending</span><span id="E2E-prof" ng-show='selectedBg.name==="professional"'>who attended</span><span id="E2E-hs" ng-show='selectedBg.name==="HS student"'>aspiring to attend</span>
              </p>
            </div>


          </div>
        </div>

        <div class='flex-item-c j-start'>
          <div class='pure-g'>
                  <div class="list pure-u-1 padding-half-horizontal">
                    <ion-item id='E2E-manuelUni' class='item-icon-left fake-university-input' ng-click='toggleView(2)' style='font-size:100%'>
                        <i class='icon ion-search'></i>
                        <p class='fake-placeholder-text'>
                          Enter your university
                        </p>
                      </span>
                    </label>
                  </div>
          </div>

        </div>

        <div class='flex-item-c j-center center' ng-show='platform.mobile'>
          <div class='pure-u-1 padding-2em item-icon-right'>
            <button id= 'E2E-university' class='button button-full light-blue-bg button-footer white-text' ng-click='getLocation()'>Search By Location <i class='icon ion-navigate font-small' style='top:3px'> </i></button>
          </div>
        </div>

      </div>
  </ion-content>
</ion-view> -->