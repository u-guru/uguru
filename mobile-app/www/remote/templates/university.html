<ion-view class='uguru-view university-view' ng-controller='AddUniversityController'>
<section id="school" class="onboarding" >
    <header>
      <div class="header-nav">
        <a class="header-nav-back" ng-click='goToAccess()'>
            <svg width="12px" height="23px" viewBox="0 0 12 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <path d="M2.4,11.1 L11.7,1.7 C12.1,1.3 12.1,0.7 11.7,0.3 C11.3,-0.1 10.7,-0.1 10.3,0.3 L0.3,10.4 C0.1,10.6 -7.10542736e-15,10.8 -7.10542736e-15,11.1 C-7.10542736e-15,11.4 0.1,11.6 0.3,11.8 L10.3,21.9 C10.7,22.3 11.3,22.3 11.7,21.9 C12.1,21.5 12.1,20.9 11.7,20.5 L2.4,11.1 L2.4,11.1 Z" fill="#FFFFFF"></path>
            </svg>
            <h1>&nbsp;</h1>
          </a>
      </div>
      <div class="onboarding-prop">
        <h2> Find Your Community </h2>
      </div>
      <div class="onboarding-search input-search-ghost">
        <input type="search" class=''
                placeholder="Search for my university"
                fast-matcher
                fast-matcher-output="matchingUniversities"
                fast-matcher-source="universities"
                fast-matcher-properties="name, city, state"
                fast-matcher-any-word="true"
                fast-matcher-limit="5"
                fast-matcher-preserve-order="true"
                fast-matcher-case-insensitive="true"
                placeholder="Search Your University"
                ng-model="search_text"
        />
       <!--  <a ng-click='getGPSCoords()'>
          <i class='icon ion-navigate'></i>
        </a> -->
      </div>
    </header>
  <div id="school-list" class="onboarding-list">
    <ul class='list list-item-border'>
      <!--Searhced Universities-->
      <li class="list-item school-harvard" ng-repeat='university in matchingUniversities'>
        <a ng-click='universitySelected(university, $event)' style='border-color:{{university.school_color_one}}'>
          <span class="school-icon list-icon-left">
            <img ng-src="{{university.seal_url || university.forbes_url}}" style='border-bottom-left:2px solid {{university.school_color_one}}' alt=""/>
          </span>
          <span class="school-name ng-class:{'smaller-list-font':university.title.length >=20 }">
            <b>{{university.name}}<i>{{university.city}}, {{university.state}}</i></b>
          </span>
        </a>
      </li>

      <!-- Location based universities -->
      <li class="list-item school-harvard" ng-repeat='university in nearestUniversities'>
        <a ng-click='universitySelected(university, $event)' style='border-color:{{university.school_color_one}}'>
          <span class="school-icon list-icon-left">
            <img ng-src="{{university.seal_url || university.forbes_url}}" style='border:2px solid {{university.school_color_one}}' alt=""/>
          </span>
          <span class="school-name ng-class:{'smaller-list-font':university.title.length >=20 }">
            <b>{{university.name}}<i class='university-subheader'>{{university.city}}, {{university.state}} <span ng-if="$index < 10" class='text-right'>{{university.miles}}mi</span></i></b></span>
          </span>
        </a>
      </li>

      <!-- Initial universities -->
      <li class="list-item school-harvard" ng-repeat='university in initialUniversities'>
        <a ng-click='universitySelected(university, $event)' style='border-color:{{university.school_color_one}}'>
          <span class="school-icon list-icon-left">
            <img ng-src="{{university.seal_url || university.forbes_url}}" style='border:2px solid {{university.school_color_one}}' alt=""/>
          </span>
          <span class="school-name ng-class:{'smaller-list-font':university.title.length >=20 }">
            <b>{{university.name}}<i>{{university.city}}, {{university.state}} </i></b></span>
          </span>
        </a>
      </li>

    </ul>
  </div>
</section>
</ion-view>