<ion-view class='bg-charcoal' ng-controller='BugsController'>
	<ion-content class='flex-wrap-center flex-stretch full-xy absolute left-0 top-0'>
		<ion-pane id='cta-modal-selected-bug' class='absolute full-xy hide-display cta-modal bg-charcoal' ng-include="img_base + BASE + 'templates/bug.detail.html'">
		</ion-pane>

		<header class='full-x bg-azure txt-white weight-700 text-center p10xy'>
			Bugs
		</header>
		

		<div class='ugrid-2 full-x' id="main-bug-content">
			<div class='bg-slate-50p'>
				<h1 class='p05xy bg-azure-80p full-x uppercase flex-wrap-center'>
					Sections
				</h1>
				<div class='flex-wrap-center text-left'>
					<ul>
						<li ng-repeat='section in bugReport'>
							<button ng-click="openBugList(section)">{{section.name}} Section</button>
						</li>
					</ul>
				</div>

			</div>
			<div class='bg-slate-50p' ng-int= 'reverse = false'>
				<h1 class='p05xy bg-azure-80p full-x uppercase flex-wrap-center'>
					<select ng-model="selectOption" ng-options="option.name for option in availableOptions track by option.id">
					</select>
					<a ng-if='selectOption.id > 1' ng-click="order()">Reverse ? {{reverse}}</a>
				</h1>
				<div>
					<span>Advance Search</span>
					<div class='tag-list bg-slate-50p'>
						<ul>
							<span>Platforms : </span>
							<li ng-repeat="name in advanceSearch.platforms.available_list">
								<a class="chip tag-selected" ng-if='advanceSearch.platforms.list.indexOf(name) < 0' ng-click='advanceSearch.platforms.add(name)'>
									<span>Tag {{name}}</span>
								</a>
								<a class="chip tag-selected" ng-if='advanceSearch.platforms.list.indexOf(name) > -1' ng-click='advanceSearch.platforms.remove(name)'>
									<span>UnTag {{name}}</span>
								</a>
							</li>
						</ul>
					</div>
					<div class='tag-list bg-slate-50p'>
						<ul>
							<span>Tag by : </span>
							<li ng-repeat="tag in advanceSearch.tags.list">
								<a class="chip tag-selected" ng-click='advanceSearch.tags.remove($index)'>
									<span>&times;&nbsp;&nbsp;</span>
									<span>{{tag}}</span>
								</a>
							</li>
							<li>
								<input tabindex="1" class='chip tag-add' ng-model='advanceSearch.tags.empty_tag.content' ng-blur='advanceSearch.tags.add(advanceSearch.tags.empty_tag.content)'  ng-keyup="($event.keyCode == 13 || $event.keyCode == 9) && advanceSearch.tags.add(advanceSearch.tags.empty_tag.content)" placeholder="+ add a tag" size="{{advanceSearch.tags.empty_tag.content.length || 10}}">
							</li>
						</ul>
						<span class="error hide" ng-class="{'show': advanceSearch.tags.err_msg}">{{advanceSearch.tags.err_msg}}</span> 
					</div>
				</div>
				
				<div class='flex-wrap-center text-left'>
					<ul ng-if="selectOption.id == 1" >
						<li ng-repeat='bug in bugs | selectedPlatforms: advanceSearch.platforms.list |selectedTags:advanceSearch.tags.list' ng-click='initAndLaunchBugCTA($event, bug,$index)'>	
							<a >{{bug.title}}</a>
						</li>
					</ul>
				</div>
				
				<ul ng-if="selectOption.id == 2">
					<li ng-repeat="bug in bugs | selectedTags:advanceSearch.tags.list | orderBy:'-rank':reverse">
						#{{bug.rank}}. {{bug.title}}
					</li>
				</ul>

				<ul ng-if="selectOption.id == 3">
					<li ng-repeat="bug in bugs | filter:{fixed:true}">
						{{bug.title}}
					</li>
				</ul>

			</div>
		<!-- 	<div class='bg-slate-50p'>
				<h1 class='p05xy bg-azure-80p full-x uppercase flex-wrap-center'>
					Prioritized Bugs
				</h1>
				<div class='txt-white flex-wrap-center'>
					<ul>
						<li ng-repeat="bug in bugs | orderBy : '-rank':true">
							{{bug.title}} {{bug.rank}}
						</li>
					</ul>
				</div>
			</div>
			<div class='bg-slate-50p'>
				<h1 class='p05xy bg-azure-80p full-x uppercase flex-wrap-center'>
					Recently Complete
				</h1>
				<div class='txt-white flex-wrap-center'>
					<ul>
						<li ng-if="bug.fixedDate" ng-repeat="bug in bugs | orderBy : '-fixedDate':true">
							{{bug.title}} {{bug.fixedDate}}
						</li>
					</ul>
				</div>
			</div> -->
		</div>

	</ion-content>
</ion-view>