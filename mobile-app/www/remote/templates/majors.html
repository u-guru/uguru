<ion-view class='uguru-view major-view' ng-controller='AddMajorController'>
    <section id="major" class="onboarding  charcoal-bg">
        <progress value="0" max="100">
          <div class="progress"><span data-value="2"></span></div>
        </progress>
        <!-- TODO: Nest this script into $ionicView.enter view-specific callback -->
        <script>
          setTimeout(setValue, 200);
          function setValue() {
              document.getElementsByTagName("progress")[0].setAttribute("value", "2");
          }
        </script>
        <header>
          <div class="header-nav">
            <a class="header-nav-back" ng-click='goBackToStudentHome()'>
              <svg width="12px" height="23px" viewBox="0 0 12 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <path d="M2.4,11.1 L11.7,1.7 C12.1,1.3 12.1,0.7 11.7,0.3 C11.3,-0.1 10.7,-0.1 10.3,0.3 L0.3,10.4 C0.1,10.6 -7.10542736e-15,10.8 -7.10542736e-15,11.1 C-7.10542736e-15,11.4 0.1,11.6 0.3,11.8 L10.3,21.9 C10.7,22.3 11.3,22.3 11.7,21.9 C12.1,21.5 12.1,20.9 11.7,20.5 L2.4,11.1 L2.4,11.1 Z" fill="#FFFFFF"></path>
              </svg>
              <h1>&nbsp;</h1>
            </a>
            <a class="header-nav-next" ng-click='nextSlide()'>
              <h1>&nbsp;</h1>
              <svg width="12px" height="23px" viewBox="0 0 12 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <path d="M1.33093806,22.14 C1.4636068,22.0905573 1.58944272,22.0105573 1.7,21.9 L11.7,11.8 C11.9,11.6 12,11.4 12,11.1 C12,10.8 11.9,10.6 11.7,10.4 L1.7,0.3 C1.3,-0.1 0.7,-0.1 0.3,0.3 C-0.1,0.7 -0.1,1.3 0.3,1.7 L9.6,11.1 L0.3,20.5 C-0.1,20.9 -0.1,21.5 0.3,21.9 C0.410557281,22.0105573 0.536393202,22.0905573 0.669061939,22.14 L1.33093808,22.14 L1.33093806,22.14 Z" fill="#FFFFFF"></path>
              </svg>
            </a>
          </div>
          <div class="onboarding-prop">
            <h2> Select your major</h2>
          </div>
          <div class="onboarding-search input-search-ghost">
            <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <path d="M8.41512973,15.2860269 C4.48265083,15.2860269 1.29477962,12.1537981 1.29477962,8.2838387 C1.29477962,4.41387934 4.48265083,1.27539856 8.41512973,1.27539856 C12.3476086,1.27539856 15.536105,4.41387934 15.536105,8.2838387 C15.536105,12.1537981 12.3476086,15.2860269 8.41512973,15.2860269 L8.41512973,15.2860269 Z M19.811191,18.9121601 L14.6477024,13.8293217 C15.9993748,12.3601125 16.8302595,10.4220069 16.8302595,8.2838387 C16.8302595,3.70740857 13.0628321,0 8.41512973,0 C3.76742732,0 0,3.70740857 0,8.2838387 C0,12.8540169 3.76742732,16.5614254 8.41512973,16.5614254 C10.4232573,16.5614254 12.2650828,15.8674586 13.7117849,14.7108471 L18.895905,19.8124414 C19.1491091,20.0625195 19.5586121,20.0625195 19.811191,19.8124414 C20.0643951,19.5686152 20.0643951,19.1622382 19.811191,18.9121601 L19.811191,18.9121601 Z" fill="#FFFFFF"></path>
        </svg>
            <input type="search" placeholder="My major is..."
                fast-matcher
                fast-matcher-source="majors"
                fast-matcher-output="matchingMajors"
                fast-matcher-properties="name"
                fast-matcher-any-word="true"
                fast-matcher-limit="{{majors.length}}"
                fast-matcher-preserve-order="true"
                fast-matcher-case-insensitive="true"
                placeholder="Search Available Majors"
                ng-model="search_text"

            />
          </div>
      </header>
      <div id="major-list" class="onboarding-list">
        <ul class='list list-item-border'>
          <li class="major-item major-business selected" ng-repeat='major in user.majors'>
            <a ng-click='removeCheckedMajor(major, $index)'>{{major.name}}</a>
            <i class='icon ion-checkmark-round'> </i>
          </li>
          <li class="major-item major-business" ng-repeat='major in matchingMajors'>
            <a ng-click='majorSelected(major, $event, $index)'>{{major.name}}</a>
          </li>
          <li class="major-item major-business" ng-show='!search_text.length' ng-repeat='major in preIndexedMajors'>
            <a ng-click='majorSelected(major, $event, $index)'>{{major.name}}</a>
          </li>
        </ul>
      </div>
    </section>


</ion-view>

<!--  <ion-view hide-nav-bar='true' class='subdark-bg' cache-view='false'>

    <ion-content class='white-text subdark-bg university-view-2' scroll='false' style='top:0px; bottom:10%;' ng-controller='AddMajorController' >
      <div class='pure-g'>
        <div class="list pure-u-1">
          <label class="item item-input bg-transparent university-label no-margin no-border no-box-shadow view-2">
                  <i class='icon ion-search onboarding-search-icon' ng-hide="search_text.length > 0"></i>
                      <input id='major-input' type="text" class='ng-class:{"align-left-start":search_text.length > 0}'
                        fast-matcher
                        fast-matcher-source="majors"
                        fast-matcher-output="matchingMajors"
                        fast-matcher-properties="name"
                        fast-matcher-any-word="true"
                        fast-matcher-limit="10"
                        fast-matcher-preserve-order="true"
                        fast-matcher-case-insensitive="true"
                        placeholder="Search Available Majors"
                        ng-model="search_text"
                </label>
              </div>
            </div>
            <ion-list ng-show='search_text.length > 0'>
                <ion-item class='item-button-right request-form-item major-item' ng-repeat="major in matchingMajors" ng-click="majorSelected(major, $event, $index)">
                            <p class='semibold'>{{major.name}}
                            </p>
                </ion-item>
            </ion-list>


            <div class='pure-g-c flex-column flex-space-between' ng-show='!search_text || search_text.length === 0'>

              <div class='flex-item-c center j-end' ng-show='user.majors.length > 0'>
                <div class='pure-g'>

                  <div class='pure-u-1 padding-half'>
                    <p class='uppercase opacity-1-2 micro-text bold sans-bold grey'> <strong class='white-text'> My Majors </strong> <br>
                    </p>
                    <div class='micro-text regular padding-half white' style='opacity:0.7'>(Tap & Hold to Remove)</div>
                  </div>
                </div>

                <div class='pure-g'>

                  <div class='pure-u-1'>
                    <a class='course-tag major-tag white-bg orange' on-double-tap="removeMajor(user_major)" style='font-size:80%;' ng-repeat="user_major in user.majors">{{user_major.name}} &nbsp; &nbsp; <i class='icon ion-checkmark'></i></a>
                  </div>
                </div>

              </div>

              <div class='flex-item-c center'>
              </div>

              <div class='flex-item-c j-start'>

              </div>
            </div>
        </ion-content>


</ion-view> -->