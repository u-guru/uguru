<!-- not sure how to transfer this over so leaving this empty file here for now to remove the console error -->
<div class="full-xy absolute top-0 left-0 z-index-9"  ng-controller='AdminBugsController'>
	<ion-pane id='cta-modal-selected-bug' class='absolute full-xy hide-display cta-modal bg-charcoal z-index-10 hide' ng-include="root.base_url + 'admin/templates/bugs.detail.html'"></ion-pane>

	<header class='bg-slate'>
		<div class="bg-cobalt-25p txt-center flex-center">
			<h1 ng-if="indexOfSection == null && bugReport.length" class="txt-white txt-18 p15xy">Bugs {{indexOfSection}}</h1>
			<h1 ng-if="indexOfSection >= 0" class="txt-white txt-18 p15xy">{{bugReport[indexOfSection].name}} </h1>
			<span ng-if="indexOfSection >= 0" class="block p15x-p10y bg-white txt-moxie radius-2 caps txt-16 semibold">{{isAllEnvirPassed(bugReport[indexOfSection].envir)}}</span>
		</div>
	</header>

	<div>
		<div class='bg-robin-80p full-x flex-wrap'>
			<dropdown class="height-32" ng-model="availableOptions" selected-index="0" ng-if='!addSection'> </dropdown>
			<div class="checkbox-container" ng-if='availableOptions.selectedIndex > 0 && !addSection'>

				<div>
					<input type="checkbox" id="reverse-order" ng-click="order()" />
					<span>
						<svg viewBox="0 0 100 100">
							<path d="M14,54.2352941 L35.1764706,75.4117647 L86,24.5882353"></path>
						</svg>
					</span>
				</div>
				<label for="reverse-order">Reverse</label>
			</div>
			<div ng-class="{'p15bottom': advanceSearch.tags.err_msg}" ng-if='!addSection'>
				<div class='tag-list'>
					<ul>
						<li ng-repeat="name in advanceSearch.platforms.available_list">
							<a class="chip" ng-if='advanceSearch.platforms.list.indexOf(name) < 0' ng-click='advanceSearch.platforms.add(name)'>
								<span>+&nbsp;&nbsp;</span>
								<span>{{name}}</span>
							</a>
							<a class="chip bg bg-robin" ng-if='advanceSearch.platforms.list.indexOf(name) > -1' ng-click='advanceSearch.platforms.remove(name)'>
								<span>&times;&nbsp;&nbsp;</span>
								<span>{{name}}</span>
							</a>
						</li>
					</ul>
				</div>
				<div class='tag-list'>
					<ul>
						<li ng-repeat="tag in advanceSearch.tags.list">
							<a class="chip bg-robin" ng-click='advanceSearch.tags.remove($index)'>
								<span>&times;&nbsp;&nbsp;</span>
								<span>{{tag}}</span>
							</a>
						</li>
						<li>
							<input tabindex="1" class='chip tag-add' ng-model='advanceSearch.tags.empty_tag.content' ng-blur='advanceSearch.tags.add(advanceSearch.tags.empty_tag.content)'  ng-keyup="($event.keyCode == 13 || $event.keyCode == 9) && advanceSearch.tags.add(advanceSearch.tags.empty_tag.content)" placeholder="+ add a tag" size="{{advanceSearch.tags.empty_tag.content.length || 10}}">
						</li>
					</ul>
					<div class="error bg-crimson m15x p10y-p15x radius-2 txt-white semibold txt-18 hide" ng-class="{'show': advanceSearch.tags.err_msg}">{{advanceSearch.tags.err_msg}}
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="main-bug-content" class='full-x overflow-auto' ng-class="{'lyt-1-3-sidebar':indexOfSection == null }" style="height: calc(100% - 58px)!important">
		<aside class='bg-charcoal-30p'  ng-if='indexOfSection == null && bugReport.length'>
			<div>
				<ul class="p15-grid">
					<li  ng-repeat="section in bugReport | orderBy:'-stateID':true">
						<button class="bg-shamrock radius-2" ng-click="openBugList(section)">{{section.name}}</button>
						<!-- <button class="bg-shamrock radius-2" ng-click="removeSection($index)" >Remove</button> -->
					</li>
				</ul>
			</div>
			<div class="bottom" ng-if='false'>
				<ul class="p15-grid">
					<li >
						<button class="bg-shamrock radius-2" ng-click="openBugList({name:'',bugs:[],help:{}})">New Section</button>
					</li>
				</ul>
			</div>
		</aside>


		<div class='bg-slate-70p' ng-int='reverse = false'>
			<div ng-if='!addSection'>
				<ul ng-if="availableOptions.selectedIndex == 0" class="p15-grid">
					<li>
						<ul class="flex" ng-init="isExpend = false">
							<li>
								<a class="flex-center width-36 height-36 txt-14 border-3 semibold"  ng-click='isExpend = !isExpend'>
									+ {{currentManualBugs.length }}
								</a>
							</li>

							</li>
								<span class="block bg bg-rocket p10y-p15x height-36 radius-2 txt-18 semibold" >
									Manual Bugs
								</span>
							</li>
						</ul>

						<ul >
							<li ng-repeat='bug in currentManualBugs | selectedPlatforms: advanceSearch.platforms.list | selectedTags:advanceSearch.tags.list'  ng-show='isExpend'>
								<span class="caps">[ {{stepBug.speed}} ] </span>
								<a ng-click='initAndLaunchBugCTA($event, bug ,$index, -1)'>{{bug.title}}</a>
							</li>

							<li>
								 <a ng-click='initAndLaunchBugCTA($event)'>+ File a New Bug</a>
							</li>
						</ul>

					</li>

					<li ng-repeat='state in states' ng-init='expendAll = false'>

						<ul class="flex" ng-init="isExpend = false">
							<li>
								<a class="flex-center width-36 height-36 txt-14 border-3 semibold" ng-click='isExpend = !isExpend' >
									+ {{(state.stepBugs | selectedPlatforms: advanceSearch.platforms.list | selectedTags:advanceSearch.tags.list).length}}
								</a>
							</li>

							<li>
								<span class="block bg bg-rocket p10y-p15x height-36 radius-2 txt-18 semibold">
									{{state.title}}
								</span>
							</li>
						<!-- 	<li>
								<a class="round flex-center width-36 height-36 txt-14 border-auburn border-3 semibold" ng-click="activePlatforms(state)">
									{{state.platforms.length}}
								</a>
							</li> -->
						</ul>

						<ul >
							<li ng-repeat='stepBug in state.stepBugs | selectedPlatforms: advanceSearch.platforms.list | selectedTags:advanceSearch.tags.list' ng-show='isExpend'>
							<span class="caps">[ {{stepBug.server}} ] </span>
							<span class="caps">[ {{stepBug.speed}} ] </span>
							 <a ng-click='initAndLaunchBugCTA($event, stepBug ,$index, $parent.$index)'>{{stepBug.step}}</a>
							</li>
						</ul>
					</li>
				</ul>

			</div>

		</div>

	</div>
</div>
</div>
