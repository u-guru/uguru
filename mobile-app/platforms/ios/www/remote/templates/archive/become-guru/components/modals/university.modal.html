<ion-modal-view ng-controller='AddUniversityController' class='university-modal'>
    <ion-header-bar>
        <h1 class="title">Select University</h1>
        <button ng-click="hideUniversityModal()" class="button button-clear button-positive">Cancel</button>
      </ion-header-bar>
    <ion-content>

        <div class="list">
          <li class="item" ng-repeat="university in matchingUniversities" ng-click="universitySelected(university)">
            <h2>{{university.title}}</h2>
            <p>{{university.city}}, {{university.state}}</p>
          </li>
        </div>

      <div class="list list-inset" ng-show="nearest_universities" style="margin-top:15%">
           <label class="item item-radio" ng-repeat="university in nearest_universities | limitTo:10" style="margin:0px 5px;">
              <input name="university_radio" ng-change="onSubmitUniversity(university)" ng-model="university.checked" value="{{university}}" type="radio">
              <div class="item-content">
                <h2>{{university.title}}</h2>
                <p>
                  {{university.location.city}}, {{university.location.state}}
                </p>
              </div>
              <i class="radio-icon ion-checkmark"></i>
            </label>
            <li class="item item-icon-left" ng-click="toggleNearestUniversities()" style="margin-top:0px;">
              <i class="icon ion-search"></i>
              <span class="regular-text">Search a university</span>
            </li>
      </div>


    </ion-content>


    <ion-footer-bar class="bar-footer item-input-inset" keyboard-attach>

          <label class="item-input-wrapper">
              <i class="icon ion-ios7-search placeholder-icon"></i>

              <input type="search" name="university-input" class="form-control"
                      fast-matcher
                      fast-matcher-source="universities"
                      fast-matcher-output="matchingUniversities"
                      fast-matcher-properties="title, keywords"
                      fast-matcher-any-word="true"
                      fast-matcher-limit="10"
                      fast-matcher-preserve-order="true"
                      fast-matcher-case-insensitive="true"
                      placeholder="Search {{universities.length}} Available Universities"
                      ng-model="search_text"
                      ng-blur="setFocus()"
              />
          </label>

          <button class="button button-clear button-positive" ng-show="search_text.length" ng-click="clearSearchInput()">
          Clear
          </button>

    </ion-footer-bar>
  </ion-modal-view>